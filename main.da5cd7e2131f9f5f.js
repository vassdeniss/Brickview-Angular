"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[179],{4202:(lt,me,F)=>{F.d(me,{_:()=>ae});var d=F(4946),Y=F(3076);const ae=J=>(0,d.f3M)(Y.K).isAuthenticated},8081:(lt,me,F)=>{F.d(me,{I:()=>re});var d=F(6814),Y=F(6208),ae=F(3065),J=F(7629),B=F(95),Re=F(4946);let re=(()=>{class Oe{}return Oe.\u0275fac=function(_e){return new(_e||Oe)},Oe.\u0275mod=Re.oAB({type:Oe}),Oe.\u0275inj=Re.cJS({imports:[d.ez,Y.m,ae.Bz,J.FP,B.u5]}),Oe})()},8394:(lt,me,F)=>{F.d(me,{q:()=>Y});var d=F(4946);let Y=(()=>{class ae{constructor(){this.isActive=!1}show(){this.isActive=!0}hide(){this.isActive=!1}}return ae.\u0275fac=function(B){return new(B||ae)},ae.\u0275prov=d.Yz7({token:ae,factory:ae.\u0275fac}),ae})()},8998:(lt,me,F)=>{F.d(me,{F:()=>J});var d=F(553),Y=F(4946),ae=F(9862);let J=(()=>{class B{constructor(re){this.http=re}createReview(re){return this.http.post(`${d.N.apiUrl}/reviews/create`,re)}getReview(re){return this.http.get(`${d.N.apiUrl}/reviews/get/${re}`)}deleteReview(re){return this.http.delete(`${d.N.apiUrl}/reviews/delete/${re}`)}editReview(re){return this.http.patch(`${d.N.apiUrl}/reviews/edit`,re)}}return B.\u0275fac=function(re){return new(re||B)(Y.LFG(ae.eN))},B.\u0275prov=Y.Yz7({token:B,factory:B.\u0275fac}),B})()},8495:(lt,me,F)=>{F.d(me,{z:()=>J});var d=F(553),Y=F(4946),ae=F(9862);let J=(()=>{class B{constructor(re){this.http=re}getAll(re){return this.http.get(`${d.N.apiUrl}/sets/allWithReviews${re?`?setNumber=${re}`:""}`)}getLatest(){return this.http.get(`${d.N.apiUrl}/sets/latestThreeWithReviews`)}getUserSets(re){return this.http.get(`${d.N.apiUrl}/sets/user-collection/${re}`)}addSet(re){return this.http.post(`${d.N.apiUrl}/sets/add-set`,{setId:re})}deleteSet(re){return this.http.delete(`${d.N.apiUrl}/sets/delete/${re}`)}}return B.\u0275fac=function(re){return new(re||B)(Y.LFG(ae.eN))},B.\u0275prov=Y.Yz7({token:B,factory:B.\u0275fac}),B})()},2207:(lt,me,F)=>{F.d(me,{B:()=>J});var d=F(4946),Y=F(6814);let ae=(()=>{class B{constructor(re,Oe){this.document=re,this.platformId=Oe,this.documentIsAccessible=(0,Y.NF)(this.platformId)}static getCookieRegExp(re){const Oe=re.replace(/([\[\]\{\}\(\)\|\=\;\+\?\,\.\*\^\$])/gi,"\\$1");return new RegExp("(?:^"+Oe+"|;\\s*"+Oe+")=(.*?)(?:;|$)","g")}static safeDecodeURIComponent(re){try{return decodeURIComponent(re)}catch{return re}}check(re){return!!this.documentIsAccessible&&(re=encodeURIComponent(re),B.getCookieRegExp(re).test(this.document.cookie))}get(re){if(this.documentIsAccessible&&this.check(re)){re=encodeURIComponent(re);const ye=B.getCookieRegExp(re).exec(this.document.cookie);return ye[1]?B.safeDecodeURIComponent(ye[1]):""}return""}getAll(){if(!this.documentIsAccessible)return{};const re={},Oe=this.document;return Oe.cookie&&""!==Oe.cookie&&Oe.cookie.split(";").forEach(ye=>{const[_e,fe]=ye.split("=");re[B.safeDecodeURIComponent(_e.replace(/^ /,""))]=B.safeDecodeURIComponent(fe)}),re}set(re,Oe,ye,_e,fe,we,tt){if(!this.documentIsAccessible)return;if("number"==typeof ye||ye instanceof Date||_e||fe||we||tt)return void this.set(re,Oe,{expires:ye,path:_e,domain:fe,secure:we,sameSite:tt||"Lax"});let Be=encodeURIComponent(re)+"="+encodeURIComponent(Oe)+";";const $e=ye||{};$e.expires&&(Be+="number"==typeof $e.expires?"expires="+new Date((new Date).getTime()+1e3*$e.expires*60*60*24).toUTCString()+";":"expires="+$e.expires.toUTCString()+";"),$e.path&&(Be+="path="+$e.path+";"),$e.domain&&(Be+="domain="+$e.domain+";"),!1===$e.secure&&"None"===$e.sameSite&&($e.secure=!0,console.warn(`[ngx-cookie-service] Cookie ${re} was forced with secure flag because sameSite=None.More details : https://github.com/stevermeister/ngx-cookie-service/issues/86#issuecomment-597720130`)),$e.secure&&(Be+="secure;"),$e.sameSite||($e.sameSite="Lax"),Be+="sameSite="+$e.sameSite+";",this.document.cookie=Be}delete(re,Oe,ye,_e,fe="Lax"){this.documentIsAccessible&&this.set(re,"",{expires:new Date("Thu, 01 Jan 1970 00:00:01 GMT"),path:Oe,domain:ye,secure:_e,sameSite:fe})}deleteAll(re,Oe,ye,_e="Lax"){if(!this.documentIsAccessible)return;const fe=this.getAll();for(const we in fe)fe.hasOwnProperty(we)&&this.delete(we,re,Oe,ye,_e)}}return B.\u0275fac=function(re){return new(re||B)(d.LFG(Y.K0),d.LFG(d.Lbi))},B.\u0275prov=d.Yz7({token:B,factory:B.\u0275fac,providedIn:"root"}),B})(),J=(()=>{class B{constructor(re){this.cookie=re}saveToken(re){this.cookie.set("accessToken",re,{expires:2,secure:!0,path:"/"})}getToken(){return this.cookie.get("accessToken")}saveRefreshToken(re){this.cookie.set("refreshToken",re,{expires:2,secure:!0,path:"/"})}getRefreshToken(){return this.cookie.get("refreshToken")}clearTokens(){this.cookie.delete("accessToken","/"),this.cookie.delete("refreshToken","/")}}return B.\u0275fac=function(re){return new(re||B)(d.LFG(ae))},B.\u0275prov=d.Yz7({token:B,factory:B.\u0275fac}),B})()},3076:(lt,me,F)=>{F.d(me,{K:()=>Re});var d=F(5619),Y=F(9397),ae=F(553),J=F(4946),B=F(9862);let Re=(()=>{class re{constructor(ye){this.http=ye,this.user$$=new d.X(void 0),this.user$=this.user$$.asObservable(),this.user=void 0;const _e=localStorage.getItem("user");_e&&this.user$$.next(JSON.parse(_e)),this.userSubscription=this.user$.subscribe(fe=>{this.user=fe})}register(ye){return this.http.post(`${ae.N.apiUrl}/users/register`,ye)}login(ye){return this.http.post(`${ae.N.apiUrl}/users/login`,ye)}logout(){return this.http.get(`${ae.N.apiUrl}/users/logout`).pipe((0,Y.b)(()=>{localStorage.removeItem("user"),localStorage.removeItem("image"),this.user$$.next(void 0)}))}editUser(ye){return this.http.patch(`${ae.N.apiUrl}/users/edit`,ye)}get isAuthenticated(){return!!this.user}updateUser(ye){this.user$$.next(ye),localStorage.setItem("user",JSON.stringify(ye))}ngOnDestroy(){this.userSubscription.unsubscribe()}}return re.\u0275fac=function(ye){return new(ye||re)(J.LFG(B.eN))},re.\u0275prov=J.Yz7({token:re,factory:re.\u0275fac}),re})()},6208:(lt,me,F)=>{F.d(me,{m:()=>ae});var d=F(6814),Y=F(4946);let ae=(()=>{class J{}return J.\u0275fac=function(Re){return new(Re||J)},J.\u0275mod=Y.oAB({type:J}),J.\u0275inj=Y.cJS({imports:[d.ez]}),J})()},553:(lt,me,F)=>{F.d(me,{N:()=>d});const d={production:!0,apiUrl:"https://legoview.api.vasspass.net"}},2521:(lt,me,F)=>{var d=F(6593),Y=F(9862),ae=F(95),J=F(3065),B=F(4946);let Re=(()=>{class de{}return de.\u0275fac=function(De){return new(De||de)},de.\u0275cmp=B.Xpm({type:de,selectors:[["app-pagenotfound"]],decls:4,vars:0,consts:[[1,"notfound"],["src","../../../assets/images/404.jpg"]],template:function(De,Rt){1&De&&(B.TgZ(0,"div",0),B._UZ(1,"img",1),B.TgZ(2,"h1"),B._uU(3,"Oops! Page not found!"),B.qZA()())},styles:[".notfound[_ngcontent-%COMP%]{margin:1rem;display:flex;flex-direction:column;align-items:center}img[_ngcontent-%COMP%]{width:100%;max-width:650px;height:auto}h1[_ngcontent-%COMP%]{color:#fff}"]}),de})();var re=F(7629),Oe=F(7398),ye=F(6814);function _e(de,it){if(1&de&&B._UZ(0,"img",4),2&de){const De=B.oxw().$implicit;B.s9C("src",De.userImage,B.LSH)}}const fe=function(de){return["/sets",de]},we=function(de){return["/reviews",de]};function tt(de,it){if(1&de&&(B.TgZ(0,"div",3),B._UZ(1,"img",4),B.TgZ(2,"div",5)(3,"div",6),B._uU(4),B.qZA(),B.TgZ(5,"div",7),B.YNc(6,_e,1,1,"img",8),B.TgZ(7,"div",9)(8,"span"),B._uU(9,"Review by: "),B.TgZ(10,"strong",10),B._uU(11),B.qZA()(),B.TgZ(12,"span"),B._uU(13),B.qZA()()(),B.TgZ(14,"div",11)(15,"button",12),B._uU(16," View Review "),B.qZA()()()()),2&de){const De=it.$implicit;B.xp6(1),B.s9C("src",De.image,B.LSH),B.xp6(3),B.hij(" ",De.name," "),B.xp6(2),B.Q6J("ngIf",De.userImage),B.xp6(4),B.Q6J("routerLink",B.VKq(7,fe,De.username)),B.xp6(1),B.Oqu(De.username),B.xp6(2),B.Oqu(De.reviewDate),B.xp6(2),B.Q6J("routerLink",B.VKq(9,we,De._id))}}let Be=(()=>{class de{constructor(De){this.activatedRoute=De,this.content="mow"}ngOnInit(){this.editor=new re.ML,this.sets$=this.activatedRoute.data.pipe((0,Oe.U)(De=>De.sets))}ngOnDestroy(){this.editor.destroy()}}return de.\u0275fac=function(De){return new(De||de)(B.Y36(J.gz))},de.\u0275cmp=B.Xpm({type:de,selectors:[["app-home"]],decls:15,vars:3,consts:[[1,"flex-wrapper"],[1,"wrapper"],["class","card",4,"ngFor","ngForOf"],[1,"card"],[3,"src"],[1,"card-content"],[1,"card-title"],[1,"card-details"],[3,"src",4,"ngIf"],[1,"card-details__info"],[1,"user-link",3,"routerLink"],[1,"card-actions"],[1,"card-button",3,"routerLink"]],template:function(De,Rt){1&De&&(B.TgZ(0,"div",0)(1,"div",1)(2,"h1"),B._uU(3,"Welcome to LegoView!"),B.qZA(),B.TgZ(4,"p"),B._uU(5," This is the site where you are the creator, the writer, the reviewer, the reader, the producer... and most important of all - the Lego fan! "),B.qZA(),B.TgZ(6,"p"),B._uU(7," Here you can take a step back, relax and enjoy sharing your love for Lego with others. "),B.qZA(),B.TgZ(8,"p"),B._uU(9," Enjoy the reviews of fans or share your own unabridged thoughts for others to read. "),B.qZA(),B.TgZ(10,"p"),B._uU(11," Find all the wonders that Lego bricks can create. And don't forget to share with friends! We, the team behind LegoView, would love to meet you! "),B.qZA()(),B.TgZ(12,"ul"),B.YNc(13,tt,17,11,"div",2),B.ALo(14,"async"),B.qZA()()),2&De&&(B.xp6(13),B.Q6J("ngForOf",B.lcZ(14,1,Rt.sets$)))},dependencies:[ye.sg,ye.O5,J.rH,ye.Ov],styles:[".wrapper[_ngcontent-%COMP%]{padding:24px;background-color:#fff;max-width:700px;margin:0 auto;border:1px solid #ccc;border-radius:4px}h1[_ngcontent-%COMP%]{text-align:center}p[_ngcontent-%COMP%]{font-size:18px}ul[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:20px;padding:0;width:100%}.card[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;box-shadow:0 2px 4px #0000001a;display:flex;flex-direction:column;overflow:hidden;max-width:300px;height:340px;flex:1}.card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:auto;height:200px;object-fit:contain}.card-content[_ngcontent-%COMP%]{padding:10px;display:flex;flex-direction:column}.card-title[_ngcontent-%COMP%]{font-weight:700;align-self:center;margin-bottom:5px}.card-details[_ngcontent-%COMP%]{display:flex;gap:10px;margin-top:10px;align-items:center;justify-content:center;height:35px}.card-details[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:35px;height:35px;border-radius:50%;object-fit:cover}.card-details__info[_ngcontent-%COMP%]{display:flex;flex-direction:column;font-size:14px;color:#888;justify-content:center}.card-button[_ngcontent-%COMP%]{color:#fff;background-color:#4caf50;border:none;border-radius:5px;padding:8px 16px;font-size:14px;margin-top:10px;cursor:pointer}.card-button[_ngcontent-%COMP%]:focus{outline:none}.card-button[_ngcontent-%COMP%]:hover{background-color:#45a049}.card-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.user-link[_ngcontent-%COMP%]{color:#d18904;cursor:pointer}@media (max-width: 600px){.card[_ngcontent-%COMP%]{max-width:100%;height:auto}ul[_ngcontent-%COMP%]{flex-direction:column}}.flex-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;align-items:center}"]}),de})();var $e=F(8495);const Bt=[{path:"",pathMatch:"full",component:Be,title:"Home",resolve:{sets:de=>(0,B.f3M)($e.z).getLatest()}},{path:"users",loadChildren:()=>Promise.all([F.e(592),F.e(448)]).then(F.bind(F,448)).then(de=>de.UserModule),canMatch:[F(4202)._]},{path:"sets",loadChildren:()=>Promise.all([F.e(592),F.e(534)]).then(F.bind(F,8534)).then(de=>de.SetModule)},{path:"reviews",loadChildren:()=>Promise.all([F.e(592),F.e(58)]).then(F.bind(F,7058)).then(de=>de.ReviewModule)},{path:"auth",loadChildren:()=>Promise.all([F.e(592),F.e(702)]).then(F.bind(F,6702)).then(de=>de.AuthModule)},{path:"**",pathMatch:"full",component:Re,title:"404"}];let tn=(()=>{class de{}return de.\u0275fac=function(De){return new(De||de)},de.\u0275mod=B.oAB({type:de}),de.\u0275inj=B.cJS({imports:[J.Bz.forRoot(Bt),J.Bz]}),de})();var ve=F(2207);let be=(()=>{class de{constructor(){this.isActive=!1}show(){this.isActive=!0}hide(){this.isActive=!1}}return de.\u0275fac=function(De){return new(De||de)},de.\u0275prov=B.Yz7({token:de,factory:de.\u0275fac}),de})();var Ve=F(8394),ze=F(8998),Fe=F(3076);let He=(()=>{class de extends J.eV{constructor(De){super(),this.title=De}updateTitle(De){const Rt=this.buildTitle(De);void 0!==Rt&&this.title.setTitle(`LegoView | ${Rt}`)}}return de.\u0275fac=function(De){return new(De||de)(B.LFG(d.Dx))},de.\u0275prov=B.Yz7({token:de,factory:de.\u0275fac}),de})();function ee(de,it){1&de&&(B.TgZ(0,"div",3)(1,"button",4),B._uU(2,"Reviews"),B.qZA(),B.TgZ(3,"button",5),B._uU(4,"Login"),B.qZA(),B.TgZ(5,"button",6),B._uU(6,"Register"),B.qZA()())}function Ae(de,it){if(1&de&&B._UZ(0,"img",10),2&de){const De=B.oxw(2);B.Q6J("src",De.image,B.LSH)}}function je(de,it){1&de&&(B.TgZ(0,"button",11),B._uU(1," Profile "),B.qZA())}function fn(de,it){if(1&de&&(B.TgZ(0,"div",3),B.YNc(1,Ae,1,1,"img",7),B.YNc(2,je,2,0,"button",8),B.TgZ(3,"button",4),B._uU(4,"Reviews"),B.qZA(),B.TgZ(5,"button",9),B._uU(6,"Logout"),B.qZA()()),2&de){const De=B.oxw();B.xp6(1),B.Q6J("ngIf",De.image),B.xp6(1),B.Q6J("ngIf",!De.image)}}let $t=(()=>{class de{constructor(De,Rt,Kt){this.user=De,this.router=Rt,this.token=Kt,this.isLogged=!1,this.image=""}ngOnInit(){this.router.events.subscribe(De=>{De instanceof J.m2&&(this.isLogged=!!this.token.getToken(),this.image=localStorage.getItem("image")||"")})}}return de.\u0275fac=function(De){return new(De||de)(B.Y36(Fe.K),B.Y36(J.F0),B.Y36(ve.B))},de.\u0275cmp=B.Xpm({type:de,selectors:[["app-nav"]],decls:5,vars:2,consts:[[1,"navbar"],["routerLink","",1,"navbar-title"],["class","navbar-buttons",4,"ngIf"],[1,"navbar-buttons"],["routerLink","/reviews/",1,"navbar-button"],["routerLink","/auth/login",1,"navbar-button"],["routerLink","/auth/register",1,"navbar-button"],["routerLink","/users/my-profile",3,"src",4,"ngIf"],["routerLink","/users/my-profile","class","navbar-button",4,"ngIf"],["routerLink","/auth/logout",1,"navbar-button"],["routerLink","/users/my-profile",3,"src"],["routerLink","/users/my-profile",1,"navbar-button"]],template:function(De,Rt){1&De&&(B.TgZ(0,"nav",0)(1,"div",1),B._uU(2,"LegoView"),B.qZA(),B.YNc(3,ee,7,0,"div",2),B.YNc(4,fn,7,2,"div",2),B.qZA()),2&De&&(B.xp6(3),B.Q6J("ngIf",!Rt.isLogged),B.xp6(1),B.Q6J("ngIf",Rt.isLogged))},dependencies:[ye.O5,J.rH],styles:["body[_ngcontent-%COMP%]{margin:0;padding:0}.navbar[_ngcontent-%COMP%]{background-color:orange;display:flex;justify-content:space-between;align-items:center;padding:10px;box-shadow:0 2px 4px #0000001a}.navbar-title[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:#fff}.navbar-buttons[_ngcontent-%COMP%]{display:flex;align-items:center}.navbar-logo[_ngcontent-%COMP%]{gap:14px}.navbar-button[_ngcontent-%COMP%]{margin:0 5px;padding:8px 12px;background-color:green;color:#fff;border:none;border-radius:4px;font-size:16px;cursor:pointer;transition:background-color .3s}.navbar-button[_ngcontent-%COMP%]:hover{background-color:#015605}img[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;object-fit:cover;cursor:pointer;margin-right:10px}.navbar-title[_ngcontent-%COMP%]{cursor:pointer}@media (max-width: 768px){.navbar[_ngcontent-%COMP%]{flex-direction:column;padding:10px 20px}.navbar-buttons[_ngcontent-%COMP%]{display:flex;gap:10px;margin-top:10px}.navbar-button[_ngcontent-%COMP%]{margin:5px 0;padding:6px 10px;font-size:14px}}"]}),de})(),En=(()=>{class de{}return de.\u0275fac=function(De){return new(De||de)},de.\u0275cmp=B.Xpm({type:de,selectors:[["app-spinner"]],decls:5,vars:0,consts:[[1,"lds-ring"]],template:function(De,Rt){1&De&&(B.TgZ(0,"div",0),B._UZ(1,"div")(2,"div")(3,"div")(4,"div"),B.qZA())},styles:[".lds-ring[_ngcontent-%COMP%]{display:inline-block;position:relative;width:80px;height:80px}.lds-ring[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{box-sizing:border-box;display:block;position:absolute;width:64px;height:64px;margin:8px;border:8px solid #dfc;border-radius:50%;animation:_ngcontent-%COMP%_lds-ring 1.2s cubic-bezier(.5,0,.5,1) infinite;border-color:#dfc transparent transparent transparent}.lds-ring[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(1){animation-delay:-.45s}.lds-ring[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){animation-delay:-.3s}.lds-ring[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){animation-delay:-.15s}@keyframes _ngcontent-%COMP%_lds-ring{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]}),de})();function qe(de,it){1&de&&(B.TgZ(0,"div",1),B._UZ(1,"app-spinner"),B.qZA())}let _t=(()=>{class de{constructor(De){this.spinner=De}}return de.\u0275fac=function(De){return new(De||de)(B.Y36(be))},de.\u0275cmp=B.Xpm({type:de,selectors:[["app-page-spinner"]],decls:1,vars:1,consts:[["class","wrapper",4,"ngIf"],[1,"wrapper"]],template:function(De,Rt){1&De&&B.YNc(0,qe,2,0,"div",0),2&De&&B.Q6J("ngIf",Rt.spinner.isActive)},dependencies:[ye.O5,En],styles:[".wrapper[_ngcontent-%COMP%]{background:linear-gradient(#202020b3,rgba(32,32,32,.7));position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;z-index:9999}"]}),de})(),Xe=(()=>{class de{constructor(){this.year=(new Date).getFullYear()}}return de.\u0275fac=function(De){return new(De||de)},de.\u0275cmp=B.Xpm({type:de,selectors:[["app-footer"]],decls:3,vars:1,consts:[[1,"footer"],[1,"footer-content"]],template:function(De,Rt){1&De&&(B.TgZ(0,"nav",0)(1,"div",1),B._uU(2),B.qZA()()),2&De&&(B.xp6(2),B.hij("\xa9 LegoView - ",Rt.year,""))},styles:[".footer[_ngcontent-%COMP%]{background-color:orange;padding:10px;box-shadow:0 2px 4px #0000001a;margin-top:auto}.footer-content[_ngcontent-%COMP%]{color:#fff;margin:0 auto;text-align:center}"]}),de})(),Dt=(()=>{class de{}return de.\u0275fac=function(De){return new(De||de)},de.\u0275cmp=B.Xpm({type:de,selectors:[["app-root"]],decls:5,vars:0,consts:[[1,"container"]],template:function(De,Rt){1&De&&(B._UZ(0,"app-page-spinner")(1,"app-nav"),B.TgZ(2,"div",0),B._UZ(3,"router-outlet"),B.qZA(),B._UZ(4,"app-footer"))},dependencies:[$t,_t,Xe,J.lC],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100vh}.container[_ngcontent-%COMP%]{padding:10px;flex-grow:1}"]}),de})();var ie=F(8081),se=F(6208),he=F(9397),pe=F(6306),Me=F(6232),Ue=F(8504),ut=F(4716),Nt=F(553);let It=(()=>{class de{constructor(De,Rt,Kt,Lt){this.token=De,this.spinner=Rt,this.router=Kt,this.user=Lt}intercept(De,Rt){if(this.spinner.show(),De.url.startsWith(Nt.N.apiUrl)){const Kt=this.token.getToken(),Lt=this.token.getRefreshToken();De=De.clone({setHeaders:{"X-Authorization":Kt,"X-Refresh":Lt}})}return Rt.handle(De).pipe((0,he.b)(Kt=>{if(Kt instanceof Y.Zn&&De.url.startsWith(Nt.N.apiUrl)){const Lt=Kt.headers.get("X-Authorization");Lt&&this.token.saveToken(Lt);const zn=Kt.headers.get("X-Refresh");zn&&this.token.saveRefreshToken(zn);const Qe=Kt.body;Qe&&Qe.user&&Qe.user.email&&this.user.updateUser(Qe.user)}}),(0,pe.K)(Kt=>401===Kt.status?(this.token.clearTokens(),localStorage.removeItem("image"),localStorage.removeItem("user"),this.router.navigate(["auth/login"]),Me.E):404===Kt.status&&De.url.includes("user-collection")?(this.router.navigate(["404"]),Me.E):(0,Ue._)(()=>Kt)),(0,ut.x)(()=>{this.spinner.hide()}))}}return de.\u0275fac=function(De){return new(De||de)(B.LFG(ve.B),B.LFG(be),B.LFG(J.F0),B.LFG(Fe.K))},de.\u0275prov=B.Yz7({token:de,factory:de.\u0275fac}),de})(),ot=(()=>{class de{}return de.\u0275fac=function(De){return new(De||de)},de.\u0275mod=B.oAB({type:de,bootstrap:[Dt]}),de.\u0275inj=B.cJS({providers:[$e.z,ve.B,be,Ve.q,ze.F,Fe.K,{provide:Y.TP,useClass:It,multi:!0},{provide:J.eV,useClass:He}],imports:[d.b2,Y.JF,ie.I,se.m,tn,ae.UX]}),de})();d.q6().bootstrapModule(ot).catch(de=>console.error(de))},5619:(lt,me,F)=>{F.d(me,{X:()=>Y});var d=F(8645);class Y extends d.x{constructor(J){super(),this._value=J}get value(){return this.getValue()}_subscribe(J){const B=super._subscribe(J);return!B.closed&&J.next(this._value),B}getValue(){const{hasError:J,thrownError:B,_value:Re}=this;if(J)throw B;return this._throwIfClosed(),Re}next(J){super.next(this._value=J)}}},5592:(lt,me,F)=>{F.d(me,{y:()=>Oe});var d=F(305),Y=F(7394),ae=F(4850),J=F(8407),B=F(2653),Re=F(4674),re=F(1441);let Oe=(()=>{class we{constructor(Be){Be&&(this._subscribe=Be)}lift(Be){const $e=new we;return $e.source=this,$e.operator=Be,$e}subscribe(Be,$e,gt){const At=function fe(we){return we&&we instanceof d.Lv||function _e(we){return we&&(0,Re.m)(we.next)&&(0,Re.m)(we.error)&&(0,Re.m)(we.complete)}(we)&&(0,Y.Nn)(we)}(Be)?Be:new d.Hp(Be,$e,gt);return(0,re.x)(()=>{const{operator:Bt,source:tn}=this;At.add(Bt?Bt.call(At,tn):tn?this._subscribe(At):this._trySubscribe(At))}),At}_trySubscribe(Be){try{return this._subscribe(Be)}catch($e){Be.error($e)}}forEach(Be,$e){return new($e=ye($e))((gt,At)=>{const Bt=new d.Hp({next:tn=>{try{Be(tn)}catch(ve){At(ve),Bt.unsubscribe()}},error:At,complete:gt});this.subscribe(Bt)})}_subscribe(Be){var $e;return null===($e=this.source)||void 0===$e?void 0:$e.subscribe(Be)}[ae.L](){return this}pipe(...Be){return(0,J.U)(Be)(this)}toPromise(Be){return new(Be=ye(Be))(($e,gt)=>{let At;this.subscribe(Bt=>At=Bt,Bt=>gt(Bt),()=>$e(At))})}}return we.create=tt=>new we(tt),we})();function ye(we){var tt;return null!==(tt=we??B.config.Promise)&&void 0!==tt?tt:Promise}},8645:(lt,me,F)=>{F.d(me,{x:()=>re});var d=F(5592),Y=F(7394);const J=(0,F(2306).d)(ye=>function(){ye(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var B=F(9039),Re=F(1441);let re=(()=>{class ye extends d.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(fe){const we=new Oe(this,this);return we.operator=fe,we}_throwIfClosed(){if(this.closed)throw new J}next(fe){(0,Re.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const we of this.currentObservers)we.next(fe)}})}error(fe){(0,Re.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=fe;const{observers:we}=this;for(;we.length;)we.shift().error(fe)}})}complete(){(0,Re.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:fe}=this;for(;fe.length;)fe.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var fe;return(null===(fe=this.observers)||void 0===fe?void 0:fe.length)>0}_trySubscribe(fe){return this._throwIfClosed(),super._trySubscribe(fe)}_subscribe(fe){return this._throwIfClosed(),this._checkFinalizedStatuses(fe),this._innerSubscribe(fe)}_innerSubscribe(fe){const{hasError:we,isStopped:tt,observers:Be}=this;return we||tt?Y.Lc:(this.currentObservers=null,Be.push(fe),new Y.w0(()=>{this.currentObservers=null,(0,B.P)(Be,fe)}))}_checkFinalizedStatuses(fe){const{hasError:we,thrownError:tt,isStopped:Be}=this;we?fe.error(tt):Be&&fe.complete()}asObservable(){const fe=new d.y;return fe.source=this,fe}}return ye.create=(_e,fe)=>new Oe(_e,fe),ye})();class Oe extends re{constructor(_e,fe){super(),this.destination=_e,this.source=fe}next(_e){var fe,we;null===(we=null===(fe=this.destination)||void 0===fe?void 0:fe.next)||void 0===we||we.call(fe,_e)}error(_e){var fe,we;null===(we=null===(fe=this.destination)||void 0===fe?void 0:fe.error)||void 0===we||we.call(fe,_e)}complete(){var _e,fe;null===(fe=null===(_e=this.destination)||void 0===_e?void 0:_e.complete)||void 0===fe||fe.call(_e)}_subscribe(_e){var fe,we;return null!==(we=null===(fe=this.source)||void 0===fe?void 0:fe.subscribe(_e))&&void 0!==we?we:Y.Lc}}},305:(lt,me,F)=>{F.d(me,{Hp:()=>gt,Lv:()=>we});var d=F(4674),Y=F(7394),ae=F(2653),J=F(3894),B=F(2420);const Re=ye("C",void 0,void 0);function ye(be,Ve,ze){return{kind:be,value:Ve,error:ze}}var _e=F(7599),fe=F(1441);class we extends Y.w0{constructor(Ve){super(),this.isStopped=!1,Ve?(this.destination=Ve,(0,Y.Nn)(Ve)&&Ve.add(this)):this.destination=ve}static create(Ve,ze,Fe){return new gt(Ve,ze,Fe)}next(Ve){this.isStopped?tn(function Oe(be){return ye("N",be,void 0)}(Ve),this):this._next(Ve)}error(Ve){this.isStopped?tn(function re(be){return ye("E",void 0,be)}(Ve),this):(this.isStopped=!0,this._error(Ve))}complete(){this.isStopped?tn(Re,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ve){this.destination.next(Ve)}_error(Ve){try{this.destination.error(Ve)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const tt=Function.prototype.bind;function Be(be,Ve){return tt.call(be,Ve)}class $e{constructor(Ve){this.partialObserver=Ve}next(Ve){const{partialObserver:ze}=this;if(ze.next)try{ze.next(Ve)}catch(Fe){At(Fe)}}error(Ve){const{partialObserver:ze}=this;if(ze.error)try{ze.error(Ve)}catch(Fe){At(Fe)}else At(Ve)}complete(){const{partialObserver:Ve}=this;if(Ve.complete)try{Ve.complete()}catch(ze){At(ze)}}}class gt extends we{constructor(Ve,ze,Fe){let He;if(super(),(0,d.m)(Ve)||!Ve)He={next:Ve??void 0,error:ze??void 0,complete:Fe??void 0};else{let ee;this&&ae.config.useDeprecatedNextContext?(ee=Object.create(Ve),ee.unsubscribe=()=>this.unsubscribe(),He={next:Ve.next&&Be(Ve.next,ee),error:Ve.error&&Be(Ve.error,ee),complete:Ve.complete&&Be(Ve.complete,ee)}):He=Ve}this.destination=new $e(He)}}function At(be){ae.config.useDeprecatedSynchronousErrorHandling?(0,fe.O)(be):(0,J.h)(be)}function tn(be,Ve){const{onStoppedNotification:ze}=ae.config;ze&&_e.z.setTimeout(()=>ze(be,Ve))}const ve={closed:!0,next:B.Z,error:function Bt(be){throw be},complete:B.Z}},7394:(lt,me,F)=>{F.d(me,{Lc:()=>Re,w0:()=>B,Nn:()=>re});var d=F(4674);const ae=(0,F(2306).d)(ye=>function(fe){ye(this),this.message=fe?`${fe.length} errors occurred during unsubscription:\n${fe.map((we,tt)=>`${tt+1}) ${we.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=fe});var J=F(9039);class B{constructor(_e){this.initialTeardown=_e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let _e;if(!this.closed){this.closed=!0;const{_parentage:fe}=this;if(fe)if(this._parentage=null,Array.isArray(fe))for(const Be of fe)Be.remove(this);else fe.remove(this);const{initialTeardown:we}=this;if((0,d.m)(we))try{we()}catch(Be){_e=Be instanceof ae?Be.errors:[Be]}const{_finalizers:tt}=this;if(tt){this._finalizers=null;for(const Be of tt)try{Oe(Be)}catch($e){_e=_e??[],$e instanceof ae?_e=[..._e,...$e.errors]:_e.push($e)}}if(_e)throw new ae(_e)}}add(_e){var fe;if(_e&&_e!==this)if(this.closed)Oe(_e);else{if(_e instanceof B){if(_e.closed||_e._hasParent(this))return;_e._addParent(this)}(this._finalizers=null!==(fe=this._finalizers)&&void 0!==fe?fe:[]).push(_e)}}_hasParent(_e){const{_parentage:fe}=this;return fe===_e||Array.isArray(fe)&&fe.includes(_e)}_addParent(_e){const{_parentage:fe}=this;this._parentage=Array.isArray(fe)?(fe.push(_e),fe):fe?[fe,_e]:_e}_removeParent(_e){const{_parentage:fe}=this;fe===_e?this._parentage=null:Array.isArray(fe)&&(0,J.P)(fe,_e)}remove(_e){const{_finalizers:fe}=this;fe&&(0,J.P)(fe,_e),_e instanceof B&&_e._removeParent(this)}}B.EMPTY=(()=>{const ye=new B;return ye.closed=!0,ye})();const Re=B.EMPTY;function re(ye){return ye instanceof B||ye&&"closed"in ye&&(0,d.m)(ye.remove)&&(0,d.m)(ye.add)&&(0,d.m)(ye.unsubscribe)}function Oe(ye){(0,d.m)(ye)?ye():ye.unsubscribe()}},2653:(lt,me,F)=>{F.d(me,{config:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(lt,me,F)=>{F.d(me,{E:()=>Y});const Y=new(F(5592).y)(B=>B.complete())},7715:(lt,me,F)=>{F.d(me,{D:()=>Fe});var d=F(4829),Y=F(7103),ae=F(9360),J=F(8251);function B(He,ee=0){return(0,ae.e)((Ae,je)=>{Ae.subscribe((0,J.x)(je,fn=>(0,Y.f)(je,He,()=>je.next(fn),ee),()=>(0,Y.f)(je,He,()=>je.complete(),ee),fn=>(0,Y.f)(je,He,()=>je.error(fn),ee)))})}function Re(He,ee=0){return(0,ae.e)((Ae,je)=>{je.add(He.schedule(()=>Ae.subscribe(je),ee))})}var ye=F(5592),fe=F(4971),we=F(4674);function Be(He,ee){if(!He)throw new Error("Iterable cannot be null");return new ye.y(Ae=>{(0,Y.f)(Ae,ee,()=>{const je=He[Symbol.asyncIterator]();(0,Y.f)(Ae,ee,()=>{je.next().then(fn=>{fn.done?Ae.complete():Ae.next(fn.value)})},0,!0)})})}var $e=F(8382),gt=F(4026),At=F(4266),Bt=F(3664),tn=F(5726),ve=F(9853),be=F(541);function Fe(He,ee){return ee?function ze(He,ee){if(null!=He){if((0,$e.c)(He))return function re(He,ee){return(0,d.Xf)(He).pipe(Re(ee),B(ee))}(He,ee);if((0,At.z)(He))return function _e(He,ee){return new ye.y(Ae=>{let je=0;return ee.schedule(function(){je===He.length?Ae.complete():(Ae.next(He[je++]),Ae.closed||this.schedule())})})}(He,ee);if((0,gt.t)(He))return function Oe(He,ee){return(0,d.Xf)(He).pipe(Re(ee),B(ee))}(He,ee);if((0,tn.D)(He))return Be(He,ee);if((0,Bt.T)(He))return function tt(He,ee){return new ye.y(Ae=>{let je;return(0,Y.f)(Ae,ee,()=>{je=He[fe.h](),(0,Y.f)(Ae,ee,()=>{let fn,$t;try{({value:fn,done:$t}=je.next())}catch(En){return void Ae.error(En)}$t?Ae.complete():Ae.next(fn)},0,!0)}),()=>(0,we.m)(je?.return)&&je.return()})}(He,ee);if((0,be.L)(He))return function Ve(He,ee){return Be((0,be.Q)(He),ee)}(He,ee)}throw(0,ve.z)(He)}(He,ee):(0,d.Xf)(He)}},4829:(lt,me,F)=>{F.d(me,{Xf:()=>tt});var d=F(7582),Y=F(4266),ae=F(4026),J=F(5592),B=F(8382),Re=F(5726),re=F(9853),Oe=F(3664),ye=F(541),_e=F(4674),fe=F(3894),we=F(4850);function tt(be){if(be instanceof J.y)return be;if(null!=be){if((0,B.c)(be))return function Be(be){return new J.y(Ve=>{const ze=be[we.L]();if((0,_e.m)(ze.subscribe))return ze.subscribe(Ve);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(be);if((0,Y.z)(be))return function $e(be){return new J.y(Ve=>{for(let ze=0;ze<be.length&&!Ve.closed;ze++)Ve.next(be[ze]);Ve.complete()})}(be);if((0,ae.t)(be))return function gt(be){return new J.y(Ve=>{be.then(ze=>{Ve.closed||(Ve.next(ze),Ve.complete())},ze=>Ve.error(ze)).then(null,fe.h)})}(be);if((0,Re.D)(be))return Bt(be);if((0,Oe.T)(be))return function At(be){return new J.y(Ve=>{for(const ze of be)if(Ve.next(ze),Ve.closed)return;Ve.complete()})}(be);if((0,ye.L)(be))return function tn(be){return Bt((0,ye.Q)(be))}(be)}throw(0,re.z)(be)}function Bt(be){return new J.y(Ve=>{(function ve(be,Ve){var ze,Fe,He,ee;return(0,d.mG)(this,void 0,void 0,function*(){try{for(ze=(0,d.KL)(be);!(Fe=yield ze.next()).done;)if(Ve.next(Fe.value),Ve.closed)return}catch(Ae){He={error:Ae}}finally{try{Fe&&!Fe.done&&(ee=ze.return)&&(yield ee.call(ze))}finally{if(He)throw He.error}}Ve.complete()})})(be,Ve).catch(ze=>Ve.error(ze))})}},2096:(lt,me,F)=>{F.d(me,{of:()=>ae});var d=F(4564),Y=F(7715);function ae(...J){const B=(0,d.yG)(J);return(0,Y.D)(J,B)}},8504:(lt,me,F)=>{F.d(me,{_:()=>ae});var d=F(5592),Y=F(4674);function ae(J,B){const Re=(0,Y.m)(J)?J:()=>J,re=Oe=>Oe.error(Re());return new d.y(B?Oe=>B.schedule(re,0,Oe):re)}},8251:(lt,me,F)=>{F.d(me,{x:()=>Y});var d=F(305);function Y(J,B,Re,re,Oe){return new ae(J,B,Re,re,Oe)}class ae extends d.Lv{constructor(B,Re,re,Oe,ye,_e){super(B),this.onFinalize=ye,this.shouldUnsubscribe=_e,this._next=Re?function(fe){try{Re(fe)}catch(we){B.error(we)}}:super._next,this._error=Oe?function(fe){try{Oe(fe)}catch(we){B.error(we)}finally{this.unsubscribe()}}:super._error,this._complete=re?function(){try{re()}catch(fe){B.error(fe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var B;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Re}=this;super.unsubscribe(),!Re&&(null===(B=this.onFinalize)||void 0===B||B.call(this))}}}},6306:(lt,me,F)=>{F.d(me,{K:()=>J});var d=F(4829),Y=F(8251),ae=F(9360);function J(B){return(0,ae.e)((Re,re)=>{let _e,Oe=null,ye=!1;Oe=Re.subscribe((0,Y.x)(re,void 0,void 0,fe=>{_e=(0,d.Xf)(B(fe,J(B)(Re))),Oe?(Oe.unsubscribe(),Oe=null,_e.subscribe(re)):ye=!0})),ye&&(Oe.unsubscribe(),Oe=null,_e.subscribe(re))})}},6328:(lt,me,F)=>{F.d(me,{b:()=>ae});var d=F(1631),Y=F(4674);function ae(J,B){return(0,Y.m)(B)?(0,d.z)(J,B,1):(0,d.z)(J,1)}},2181:(lt,me,F)=>{F.d(me,{h:()=>ae});var d=F(9360),Y=F(8251);function ae(J,B){return(0,d.e)((Re,re)=>{let Oe=0;Re.subscribe((0,Y.x)(re,ye=>J.call(B,ye,Oe++)&&re.next(ye)))})}},4716:(lt,me,F)=>{F.d(me,{x:()=>Y});var d=F(9360);function Y(ae){return(0,d.e)((J,B)=>{try{J.subscribe(B)}finally{B.add(ae)}})}},7398:(lt,me,F)=>{F.d(me,{U:()=>ae});var d=F(9360),Y=F(8251);function ae(J,B){return(0,d.e)((Re,re)=>{let Oe=0;Re.subscribe((0,Y.x)(re,ye=>{re.next(J.call(B,ye,Oe++))}))})}},7537:(lt,me,F)=>{F.d(me,{J:()=>ae});var d=F(1631),Y=F(2737);function ae(J=1/0){return(0,d.z)(Y.y,J)}},1631:(lt,me,F)=>{F.d(me,{z:()=>Oe});var d=F(7398),Y=F(4829),ae=F(9360),J=F(7103),B=F(8251),re=F(4674);function Oe(ye,_e,fe=1/0){return(0,re.m)(_e)?Oe((we,tt)=>(0,d.U)((Be,$e)=>_e(we,Be,tt,$e))((0,Y.Xf)(ye(we,tt))),fe):("number"==typeof _e&&(fe=_e),(0,ae.e)((we,tt)=>function Re(ye,_e,fe,we,tt,Be,$e,gt){const At=[];let Bt=0,tn=0,ve=!1;const be=()=>{ve&&!At.length&&!Bt&&_e.complete()},Ve=Fe=>Bt<we?ze(Fe):At.push(Fe),ze=Fe=>{Be&&_e.next(Fe),Bt++;let He=!1;(0,Y.Xf)(fe(Fe,tn++)).subscribe((0,B.x)(_e,ee=>{tt?.(ee),Be?Ve(ee):_e.next(ee)},()=>{He=!0},void 0,()=>{if(He)try{for(Bt--;At.length&&Bt<we;){const ee=At.shift();$e?(0,J.f)(_e,$e,()=>ze(ee)):ze(ee)}be()}catch(ee){_e.error(ee)}}))};return ye.subscribe((0,B.x)(_e,Ve,()=>{ve=!0,be()})),()=>{gt?.()}}(we,tt,ye,fe)))}},4664:(lt,me,F)=>{F.d(me,{w:()=>J});var d=F(4829),Y=F(9360),ae=F(8251);function J(B,Re){return(0,Y.e)((re,Oe)=>{let ye=null,_e=0,fe=!1;const we=()=>fe&&!ye&&Oe.complete();re.subscribe((0,ae.x)(Oe,tt=>{ye?.unsubscribe();let Be=0;const $e=_e++;(0,d.Xf)(B(tt,$e)).subscribe(ye=(0,ae.x)(Oe,gt=>Oe.next(Re?Re(tt,gt,$e,Be++):gt),()=>{ye=null,we()}))},()=>{fe=!0,we()}))})}},9397:(lt,me,F)=>{F.d(me,{b:()=>B});var d=F(4674),Y=F(9360),ae=F(8251),J=F(2737);function B(Re,re,Oe){const ye=(0,d.m)(Re)||re||Oe?{next:Re,error:re,complete:Oe}:Re;return ye?(0,Y.e)((_e,fe)=>{var we;null===(we=ye.subscribe)||void 0===we||we.call(ye);let tt=!0;_e.subscribe((0,ae.x)(fe,Be=>{var $e;null===($e=ye.next)||void 0===$e||$e.call(ye,Be),fe.next(Be)},()=>{var Be;tt=!1,null===(Be=ye.complete)||void 0===Be||Be.call(ye),fe.complete()},Be=>{var $e;tt=!1,null===($e=ye.error)||void 0===$e||$e.call(ye,Be),fe.error(Be)},()=>{var Be,$e;tt&&(null===(Be=ye.unsubscribe)||void 0===Be||Be.call(ye)),null===($e=ye.finalize)||void 0===$e||$e.call(ye)}))}):J.y}},7599:(lt,me,F)=>{F.d(me,{z:()=>d});const d={setTimeout(Y,ae,...J){const{delegate:B}=d;return B?.setTimeout?B.setTimeout(Y,ae,...J):setTimeout(Y,ae,...J)},clearTimeout(Y){const{delegate:ae}=d;return(ae?.clearTimeout||clearTimeout)(Y)},delegate:void 0}},4971:(lt,me,F)=>{F.d(me,{h:()=>Y});const Y=function d(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(lt,me,F)=>{F.d(me,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},4564:(lt,me,F)=>{F.d(me,{_6:()=>Re,jO:()=>J,yG:()=>B});var d=F(4674);function ae(re){return re[re.length-1]}function J(re){return(0,d.m)(ae(re))?re.pop():void 0}function B(re){return function Y(re){return re&&(0,d.m)(re.schedule)}(ae(re))?re.pop():void 0}function Re(re,Oe){return"number"==typeof ae(re)?re.pop():Oe}},7453:(lt,me,F)=>{F.d(me,{D:()=>B});const{isArray:d}=Array,{getPrototypeOf:Y,prototype:ae,keys:J}=Object;function B(re){if(1===re.length){const Oe=re[0];if(d(Oe))return{args:Oe,keys:null};if(function Re(re){return re&&"object"==typeof re&&Y(re)===ae}(Oe)){const ye=J(Oe);return{args:ye.map(_e=>Oe[_e]),keys:ye}}}return{args:re,keys:null}}},9039:(lt,me,F)=>{function d(Y,ae){if(Y){const J=Y.indexOf(ae);0<=J&&Y.splice(J,1)}}F.d(me,{P:()=>d})},2306:(lt,me,F)=>{function d(Y){const J=Y(B=>{Error.call(B),B.stack=(new Error).stack});return J.prototype=Object.create(Error.prototype),J.prototype.constructor=J,J}F.d(me,{d:()=>d})},2714:(lt,me,F)=>{function d(Y,ae){return Y.reduce((J,B,Re)=>(J[B]=ae[Re],J),{})}F.d(me,{n:()=>d})},1441:(lt,me,F)=>{F.d(me,{O:()=>J,x:()=>ae});var d=F(2653);let Y=null;function ae(B){if(d.config.useDeprecatedSynchronousErrorHandling){const Re=!Y;if(Re&&(Y={errorThrown:!1,error:null}),B(),Re){const{errorThrown:re,error:Oe}=Y;if(Y=null,re)throw Oe}}else B()}function J(B){d.config.useDeprecatedSynchronousErrorHandling&&Y&&(Y.errorThrown=!0,Y.error=B)}},7103:(lt,me,F)=>{function d(Y,ae,J,B=0,Re=!1){const re=ae.schedule(function(){J(),Re?Y.add(this.schedule(null,B)):this.unsubscribe()},B);if(Y.add(re),!Re)return re}F.d(me,{f:()=>d})},2737:(lt,me,F)=>{function d(Y){return Y}F.d(me,{y:()=>d})},4266:(lt,me,F)=>{F.d(me,{z:()=>d});const d=Y=>Y&&"number"==typeof Y.length&&"function"!=typeof Y},5726:(lt,me,F)=>{F.d(me,{D:()=>Y});var d=F(4674);function Y(ae){return Symbol.asyncIterator&&(0,d.m)(ae?.[Symbol.asyncIterator])}},4674:(lt,me,F)=>{function d(Y){return"function"==typeof Y}F.d(me,{m:()=>d})},8382:(lt,me,F)=>{F.d(me,{c:()=>ae});var d=F(4850),Y=F(4674);function ae(J){return(0,Y.m)(J[d.L])}},3664:(lt,me,F)=>{F.d(me,{T:()=>ae});var d=F(4971),Y=F(4674);function ae(J){return(0,Y.m)(J?.[d.h])}},2664:(lt,me,F)=>{F.d(me,{b:()=>ae});var d=F(5592),Y=F(4674);function ae(J){return!!J&&(J instanceof d.y||(0,Y.m)(J.lift)&&(0,Y.m)(J.subscribe))}},4026:(lt,me,F)=>{F.d(me,{t:()=>Y});var d=F(4674);function Y(ae){return(0,d.m)(ae?.then)}},541:(lt,me,F)=>{F.d(me,{L:()=>J,Q:()=>ae});var d=F(7582),Y=F(4674);function ae(B){return(0,d.FC)(this,arguments,function*(){const re=B.getReader();try{for(;;){const{value:Oe,done:ye}=yield(0,d.qq)(re.read());if(ye)return yield(0,d.qq)(void 0);yield yield(0,d.qq)(Oe)}}finally{re.releaseLock()}})}function J(B){return(0,Y.m)(B?.getReader)}},9360:(lt,me,F)=>{F.d(me,{A:()=>Y,e:()=>ae});var d=F(4674);function Y(J){return(0,d.m)(J?.lift)}function ae(J){return B=>{if(Y(B))return B.lift(function(Re){try{return J(Re,this)}catch(re){this.error(re)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(lt,me,F)=>{F.d(me,{Z:()=>J});var d=F(7398);const{isArray:Y}=Array;function J(B){return(0,d.U)(Re=>function ae(B,Re){return Y(Re)?B(...Re):B(Re)}(B,Re))}},2420:(lt,me,F)=>{function d(){}F.d(me,{Z:()=>d})},8407:(lt,me,F)=>{F.d(me,{U:()=>ae,z:()=>Y});var d=F(2737);function Y(...J){return ae(J)}function ae(J){return 0===J.length?d.y:1===J.length?J[0]:function(Re){return J.reduce((re,Oe)=>Oe(re),Re)}}},3894:(lt,me,F)=>{F.d(me,{h:()=>ae});var d=F(2653),Y=F(7599);function ae(J){Y.z.setTimeout(()=>{const{onUnhandledError:B}=d.config;if(!B)throw J;B(J)})}},9853:(lt,me,F)=>{function d(Y){return new TypeError(`You provided ${null!==Y&&"object"==typeof Y?"an invalid object":`'${Y}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(me,{z:()=>d})},6814:(lt,me,F)=>{F.d(me,{Do:()=>gt,EM:()=>Xr,HT:()=>J,JF:()=>mn,K0:()=>Re,Mx:()=>qt,NF:()=>ho,Nd:()=>wo,O5:()=>Kr,Ov:()=>Fo,PC:()=>Po,PM:()=>po,S$:()=>tt,V_:()=>Oe,Ye:()=>At,b0:()=>$e,bD:()=>Ut,ez:()=>Vr,mk:()=>hn,q:()=>ae,sg:()=>Un,tP:()=>bo,w_:()=>B});var d=F(4946);let Y=null;function ae(){return Y}function J(b){Y||(Y=b)}class B{}const Re=new d.OlP("DocumentToken");let re=(()=>{class b{historyGo(M){throw new Error("Not implemented")}}return b.\u0275fac=function(M){return new(M||b)},b.\u0275prov=d.Yz7({token:b,factory:function(){return(0,d.f3M)(ye)},providedIn:"platform"}),b})();const Oe=new d.OlP("Location Initialized");let ye=(()=>{class b extends re{constructor(){super(),this._doc=(0,d.f3M)(Re),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ae().getBaseHref(this._doc)}onPopState(M){const k=ae().getGlobalEventTarget(this._doc,"window");return k.addEventListener("popstate",M,!1),()=>k.removeEventListener("popstate",M)}onHashChange(M){const k=ae().getGlobalEventTarget(this._doc,"window");return k.addEventListener("hashchange",M,!1),()=>k.removeEventListener("hashchange",M)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(M){this._location.pathname=M}pushState(M,k,$){this._history.pushState(M,k,$)}replaceState(M,k,$){this._history.replaceState(M,k,$)}forward(){this._history.forward()}back(){this._history.back()}historyGo(M=0){this._history.go(M)}getState(){return this._history.state}}return b.\u0275fac=function(M){return new(M||b)},b.\u0275prov=d.Yz7({token:b,factory:function(){return new b},providedIn:"platform"}),b})();function _e(b,N){if(0==b.length)return N;if(0==N.length)return b;let M=0;return b.endsWith("/")&&M++,N.startsWith("/")&&M++,2==M?b+N.substring(1):1==M?b+N:b+"/"+N}function fe(b){const N=b.match(/#|\?|$/),M=N&&N.index||b.length;return b.slice(0,M-("/"===b[M-1]?1:0))+b.slice(M)}function we(b){return b&&"?"!==b[0]?"?"+b:b}let tt=(()=>{class b{historyGo(M){throw new Error("Not implemented")}}return b.\u0275fac=function(M){return new(M||b)},b.\u0275prov=d.Yz7({token:b,factory:function(){return(0,d.f3M)($e)},providedIn:"root"}),b})();const Be=new d.OlP("appBaseHref");let $e=(()=>{class b extends tt{constructor(M,k){super(),this._platformLocation=M,this._removeListenerFns=[],this._baseHref=k??this._platformLocation.getBaseHrefFromDOM()??(0,d.f3M)(Re).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(M){this._removeListenerFns.push(this._platformLocation.onPopState(M),this._platformLocation.onHashChange(M))}getBaseHref(){return this._baseHref}prepareExternalUrl(M){return _e(this._baseHref,M)}path(M=!1){const k=this._platformLocation.pathname+we(this._platformLocation.search),$=this._platformLocation.hash;return $&&M?`${k}${$}`:k}pushState(M,k,$,ce){const ge=this.prepareExternalUrl($+we(ce));this._platformLocation.pushState(M,k,ge)}replaceState(M,k,$,ce){const ge=this.prepareExternalUrl($+we(ce));this._platformLocation.replaceState(M,k,ge)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(M=0){this._platformLocation.historyGo?.(M)}}return b.\u0275fac=function(M){return new(M||b)(d.LFG(re),d.LFG(Be,8))},b.\u0275prov=d.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})(),gt=(()=>{class b extends tt{constructor(M,k){super(),this._platformLocation=M,this._baseHref="",this._removeListenerFns=[],null!=k&&(this._baseHref=k)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(M){this._removeListenerFns.push(this._platformLocation.onPopState(M),this._platformLocation.onHashChange(M))}getBaseHref(){return this._baseHref}path(M=!1){let k=this._platformLocation.hash;return null==k&&(k="#"),k.length>0?k.substring(1):k}prepareExternalUrl(M){const k=_e(this._baseHref,M);return k.length>0?"#"+k:k}pushState(M,k,$,ce){let ge=this.prepareExternalUrl($+we(ce));0==ge.length&&(ge=this._platformLocation.pathname),this._platformLocation.pushState(M,k,ge)}replaceState(M,k,$,ce){let ge=this.prepareExternalUrl($+we(ce));0==ge.length&&(ge=this._platformLocation.pathname),this._platformLocation.replaceState(M,k,ge)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(M=0){this._platformLocation.historyGo?.(M)}}return b.\u0275fac=function(M){return new(M||b)(d.LFG(re),d.LFG(Be,8))},b.\u0275prov=d.Yz7({token:b,factory:b.\u0275fac}),b})(),At=(()=>{class b{constructor(M){this._subject=new d.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=M;const k=this._locationStrategy.getBaseHref();this._basePath=function be(b){if(new RegExp("^(https?:)?//").test(b)){const[,M]=b.split(/\/\/[^\/]+/);return M}return b}(fe(ve(k))),this._locationStrategy.onPopState($=>{this._subject.emit({url:this.path(!0),pop:!0,state:$.state,type:$.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(M=!1){return this.normalize(this._locationStrategy.path(M))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(M,k=""){return this.path()==this.normalize(M+we(k))}normalize(M){return b.stripTrailingSlash(function tn(b,N){if(!b||!N.startsWith(b))return N;const M=N.substring(b.length);return""===M||["/",";","?","#"].includes(M[0])?M:N}(this._basePath,ve(M)))}prepareExternalUrl(M){return M&&"/"!==M[0]&&(M="/"+M),this._locationStrategy.prepareExternalUrl(M)}go(M,k="",$=null){this._locationStrategy.pushState($,"",M,k),this._notifyUrlChangeListeners(this.prepareExternalUrl(M+we(k)),$)}replaceState(M,k="",$=null){this._locationStrategy.replaceState($,"",M,k),this._notifyUrlChangeListeners(this.prepareExternalUrl(M+we(k)),$)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(M=0){this._locationStrategy.historyGo?.(M)}onUrlChange(M){return this._urlChangeListeners.push(M),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(k=>{this._notifyUrlChangeListeners(k.url,k.state)})),()=>{const k=this._urlChangeListeners.indexOf(M);this._urlChangeListeners.splice(k,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(M="",k){this._urlChangeListeners.forEach($=>$(M,k))}subscribe(M,k,$){return this._subject.subscribe({next:M,error:k,complete:$})}}return b.normalizeQueryParams=we,b.joinWithSlash=_e,b.stripTrailingSlash=fe,b.\u0275fac=function(M){return new(M||b)(d.LFG(tt))},b.\u0275prov=d.Yz7({token:b,factory:function(){return function Bt(){return new At((0,d.LFG)(tt))}()},providedIn:"root"}),b})();function ve(b){return b.replace(/\/index.html$/,"")}function qt(b,N){N=encodeURIComponent(N);for(const M of b.split(";")){const k=M.indexOf("="),[$,ce]=-1==k?[M,""]:[M.slice(0,k),M.slice(k+1)];if($.trim()===N)return decodeURIComponent(ce)}return null}const Xt=/\s+/,on=[];let hn=(()=>{class b{constructor(M,k,$,ce){this._iterableDiffers=M,this._keyValueDiffers=k,this._ngEl=$,this._renderer=ce,this.initialClasses=on,this.stateMap=new Map}set klass(M){this.initialClasses=null!=M?M.trim().split(Xt):on}set ngClass(M){this.rawClass="string"==typeof M?M.trim().split(Xt):M}ngDoCheck(){for(const k of this.initialClasses)this._updateState(k,!0);const M=this.rawClass;if(Array.isArray(M)||M instanceof Set)for(const k of M)this._updateState(k,!0);else if(null!=M)for(const k of Object.keys(M))this._updateState(k,!!M[k]);this._applyStateDiff()}_updateState(M,k){const $=this.stateMap.get(M);void 0!==$?($.enabled!==k&&($.changed=!0,$.enabled=k),$.touched=!0):this.stateMap.set(M,{enabled:k,changed:!0,touched:!0})}_applyStateDiff(){for(const M of this.stateMap){const k=M[0],$=M[1];$.changed?(this._toggleClass(k,$.enabled),$.changed=!1):$.touched||($.enabled&&this._toggleClass(k,!1),this.stateMap.delete(k)),$.touched=!1}}_toggleClass(M,k){(M=M.trim()).length>0&&M.split(Xt).forEach($=>{k?this._renderer.addClass(this._ngEl.nativeElement,$):this._renderer.removeClass(this._ngEl.nativeElement,$)})}}return b.\u0275fac=function(M){return new(M||b)(d.Y36(d.ZZ4),d.Y36(d.aQg),d.Y36(d.SBq),d.Y36(d.Qsj))},b.\u0275dir=d.lG2({type:b,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),b})();class Hn{constructor(N,M,k,$){this.$implicit=N,this.ngForOf=M,this.index=k,this.count=$}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Un=(()=>{class b{set ngForOf(M){this._ngForOf=M,this._ngForOfDirty=!0}set ngForTrackBy(M){this._trackByFn=M}get ngForTrackBy(){return this._trackByFn}constructor(M,k,$){this._viewContainer=M,this._template=k,this._differs=$,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(M){M&&(this._template=M)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const M=this._ngForOf;!this._differ&&M&&(this._differ=this._differs.find(M).create(this.ngForTrackBy))}if(this._differ){const M=this._differ.diff(this._ngForOf);M&&this._applyChanges(M)}}_applyChanges(M){const k=this._viewContainer;M.forEachOperation(($,ce,ge)=>{if(null==$.previousIndex)k.createEmbeddedView(this._template,new Hn($.item,this._ngForOf,-1,-1),null===ge?void 0:ge);else if(null==ge)k.remove(null===ce?void 0:ce);else if(null!==ce){const nt=k.get(ce);k.move(nt,ge),Co(nt,$)}});for(let $=0,ce=k.length;$<ce;$++){const nt=k.get($).context;nt.index=$,nt.count=ce,nt.ngForOf=this._ngForOf}M.forEachIdentityChange($=>{Co(k.get($.currentIndex),$)})}static ngTemplateContextGuard(M,k){return!0}}return b.\u0275fac=function(M){return new(M||b)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(d.ZZ4))},b.\u0275dir=d.lG2({type:b,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),b})();function Co(b,N){b.context.$implicit=N.item}let Kr=(()=>{class b{constructor(M,k){this._viewContainer=M,this._context=new zi,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=k}set ngIf(M){this._context.$implicit=this._context.ngIf=M,this._updateView()}set ngIfThen(M){Si("ngIfThen",M),this._thenTemplateRef=M,this._thenViewRef=null,this._updateView()}set ngIfElse(M){Si("ngIfElse",M),this._elseTemplateRef=M,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(M,k){return!0}}return b.\u0275fac=function(M){return new(M||b)(d.Y36(d.s_b),d.Y36(d.Rgc))},b.\u0275dir=d.lG2({type:b,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),b})();class zi{constructor(){this.$implicit=null,this.ngIf=null}}function Si(b,N){if(N&&!N.createEmbeddedView)throw new Error(`${b} must be a TemplateRef, but received '${(0,d.AaK)(N)}'.`)}let Po=(()=>{class b{constructor(M,k,$){this._ngEl=M,this._differs=k,this._renderer=$,this._ngStyle=null,this._differ=null}set ngStyle(M){this._ngStyle=M,!this._differ&&M&&(this._differ=this._differs.find(M).create())}ngDoCheck(){if(this._differ){const M=this._differ.diff(this._ngStyle);M&&this._applyChanges(M)}}_setStyle(M,k){const[$,ce]=M.split("."),ge=-1===$.indexOf("-")?void 0:d.JOm.DashCase;null!=k?this._renderer.setStyle(this._ngEl.nativeElement,$,ce?`${k}${ce}`:k,ge):this._renderer.removeStyle(this._ngEl.nativeElement,$,ge)}_applyChanges(M){M.forEachRemovedItem(k=>this._setStyle(k.key,null)),M.forEachAddedItem(k=>this._setStyle(k.key,k.currentValue)),M.forEachChangedItem(k=>this._setStyle(k.key,k.currentValue))}}return b.\u0275fac=function(M){return new(M||b)(d.Y36(d.SBq),d.Y36(d.aQg),d.Y36(d.Qsj))},b.\u0275dir=d.lG2({type:b,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),b})(),bo=(()=>{class b{constructor(M){this._viewContainerRef=M,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(M){if(M.ngTemplateOutlet||M.ngTemplateOutletInjector){const k=this._viewContainerRef;if(this._viewRef&&k.remove(k.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:$,ngTemplateOutletContext:ce,ngTemplateOutletInjector:ge}=this;this._viewRef=k.createEmbeddedView($,ce,ge?{injector:ge}:void 0)}else this._viewRef=null}else this._viewRef&&M.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return b.\u0275fac=function(M){return new(M||b)(d.Y36(d.s_b))},b.\u0275dir=d.lG2({type:b,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[d.TTD]}),b})();class Hs{createSubscription(N,M){return(0,d.rg0)(()=>N.subscribe({next:M,error:k=>{throw k}}))}dispose(N){(0,d.rg0)(()=>N.unsubscribe())}}class Ii{createSubscription(N,M){return N.then(M,k=>{throw k})}dispose(N){}}const Gi=new Ii,Wi=new Hs;let Fo=(()=>{class b{constructor(M){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=M}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(M){return this._obj?M!==this._obj?(this._dispose(),this.transform(M)):this._latestValue:(M&&this._subscribe(M),this._latestValue)}_subscribe(M){this._obj=M,this._strategy=this._selectStrategy(M),this._subscription=this._strategy.createSubscription(M,k=>this._updateLatestValue(M,k))}_selectStrategy(M){if((0,d.QGY)(M))return Gi;if((0,d.F4k)(M))return Wi;throw function Pr(b,N){return new d.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(M,k){M===this._obj&&(this._latestValue=k,this._ref.markForCheck())}}return b.\u0275fac=function(M){return new(M||b)(d.Y36(d.sBO,16))},b.\u0275pipe=d.Yjl({name:"async",type:b,pure:!1,standalone:!0}),b})(),wo=(()=>{class b{constructor(M){this.differs=M,this.keyValues=[],this.compareFn=Lo}transform(M,k=Lo){if(!M||!(M instanceof Map)&&"object"!=typeof M)return null;this.differ||(this.differ=this.differs.find(M).create());const $=this.differ.diff(M),ce=k!==this.compareFn;return $&&(this.keyValues=[],$.forEachItem(ge=>{this.keyValues.push(function An(b,N){return{key:b,value:N}}(ge.key,ge.currentValue))})),($||ce)&&(this.keyValues.sort(k),this.compareFn=k),this.keyValues}}return b.\u0275fac=function(M){return new(M||b)(d.Y36(d.aQg,16))},b.\u0275pipe=d.Yjl({name:"keyvalue",type:b,pure:!1,standalone:!0}),b})();function Lo(b,N){const M=b.key,k=N.key;if(M===k)return 0;if(void 0===M)return 1;if(void 0===k)return-1;if(null===M)return 1;if(null===k)return-1;if("string"==typeof M&&"string"==typeof k)return M<k?-1:1;if("number"==typeof M&&"number"==typeof k)return M-k;if("boolean"==typeof M&&"boolean"==typeof k)return M<k?-1:1;const $=String(M),ce=String(k);return $==ce?0:$<ce?-1:1}let Vr=(()=>{class b{}return b.\u0275fac=function(M){return new(M||b)},b.\u0275mod=d.oAB({type:b}),b.\u0275inj=d.cJS({}),b})();const Ut="browser",fo="server";function ho(b){return b===Ut}function po(b){return b===fo}let Xr=(()=>{class b{}return b.\u0275prov=(0,d.Yz7)({token:b,providedIn:"root",factory:()=>new yr((0,d.LFG)(Re),window)}),b})();class yr{constructor(N,M){this.document=N,this.window=M,this.offset=()=>[0,0]}setOffset(N){this.offset=Array.isArray(N)?()=>N:N}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(N){this.supportsScrolling()&&this.window.scrollTo(N[0],N[1])}scrollToAnchor(N){if(!this.supportsScrolling())return;const M=function eo(b,N){const M=b.getElementById(N)||b.getElementsByName(N)[0];if(M)return M;if("function"==typeof b.createTreeWalker&&b.body&&"function"==typeof b.body.attachShadow){const k=b.createTreeWalker(b.body,NodeFilter.SHOW_ELEMENT);let $=k.currentNode;for(;$;){const ce=$.shadowRoot;if(ce){const ge=ce.getElementById(N)||ce.querySelector(`[name="${N}"]`);if(ge)return ge}$=k.nextNode()}}return null}(this.document,N);M&&(this.scrollToElement(M),M.focus())}setHistoryScrollRestoration(N){if(this.supportScrollRestoration()){const M=this.window.history;M&&M.scrollRestoration&&(M.scrollRestoration=N)}}scrollToElement(N){const M=N.getBoundingClientRect(),k=M.left+this.window.pageXOffset,$=M.top+this.window.pageYOffset,ce=this.offset();this.window.scrollTo(k-ce[0],$-ce[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const N=Br(this.window.history)||Br(Object.getPrototypeOf(this.window.history));return!(!N||!N.writable&&!N.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Br(b){return Object.getOwnPropertyDescriptor(b,"scrollRestoration")}class mn{}},9862:(lt,me,F)=>{F.d(me,{JF:()=>Z,TP:()=>it,Zn:()=>_t,eN:()=>ie});var d=F(4946),Y=F(2096),ae=F(7715),J=F(5592),B=F(6328),Re=F(2181),re=F(7398),Oe=F(4716),ye=F(4664),_e=F(6814);class fe{}class we{}class tt{constructor(z){this.normalizedNames=new Map,this.lazyUpdate=null,z?"string"==typeof z?this.lazyInit=()=>{this.headers=new Map,z.split("\n").forEach(q=>{const Se=q.indexOf(":");if(Se>0){const ke=q.slice(0,Se),We=ke.toLowerCase(),Pe=q.slice(Se+1).trim();this.maybeSetNormalizedName(ke,We),this.headers.has(We)?this.headers.get(We).push(Pe):this.headers.set(We,[Pe])}})}:typeof Headers<"u"&&z instanceof Headers?(this.headers=new Map,z.forEach((q,Se)=>{this.setHeaderEntries(Se,q)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(z).forEach(([q,Se])=>{this.setHeaderEntries(q,Se)})}:this.headers=new Map}has(z){return this.init(),this.headers.has(z.toLowerCase())}get(z){this.init();const q=this.headers.get(z.toLowerCase());return q&&q.length>0?q[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(z){return this.init(),this.headers.get(z.toLowerCase())||null}append(z,q){return this.clone({name:z,value:q,op:"a"})}set(z,q){return this.clone({name:z,value:q,op:"s"})}delete(z,q){return this.clone({name:z,value:q,op:"d"})}maybeSetNormalizedName(z,q){this.normalizedNames.has(q)||this.normalizedNames.set(q,z)}init(){this.lazyInit&&(this.lazyInit instanceof tt?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(z=>this.applyUpdate(z)),this.lazyUpdate=null))}copyFrom(z){z.init(),Array.from(z.headers.keys()).forEach(q=>{this.headers.set(q,z.headers.get(q)),this.normalizedNames.set(q,z.normalizedNames.get(q))})}clone(z){const q=new tt;return q.lazyInit=this.lazyInit&&this.lazyInit instanceof tt?this.lazyInit:this,q.lazyUpdate=(this.lazyUpdate||[]).concat([z]),q}applyUpdate(z){const q=z.name.toLowerCase();switch(z.op){case"a":case"s":let Se=z.value;if("string"==typeof Se&&(Se=[Se]),0===Se.length)return;this.maybeSetNormalizedName(z.name,q);const ke=("a"===z.op?this.headers.get(q):void 0)||[];ke.push(...Se),this.headers.set(q,ke);break;case"d":const We=z.value;if(We){let Pe=this.headers.get(q);if(!Pe)return;Pe=Pe.filter(mt=>-1===We.indexOf(mt)),0===Pe.length?(this.headers.delete(q),this.normalizedNames.delete(q)):this.headers.set(q,Pe)}else this.headers.delete(q),this.normalizedNames.delete(q)}}setHeaderEntries(z,q){const Se=(Array.isArray(q)?q:[q]).map(We=>We.toString()),ke=z.toLowerCase();this.headers.set(ke,Se),this.maybeSetNormalizedName(z,ke)}forEach(z){this.init(),Array.from(this.normalizedNames.keys()).forEach(q=>z(this.normalizedNames.get(q),this.headers.get(q)))}}class $e{encodeKey(z){return tn(z)}encodeValue(z){return tn(z)}decodeKey(z){return decodeURIComponent(z)}decodeValue(z){return decodeURIComponent(z)}}const At=/%(\d[a-f0-9])/gi,Bt={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function tn(oe){return encodeURIComponent(oe).replace(At,(z,q)=>Bt[q]??z)}function ve(oe){return`${oe}`}class be{constructor(z={}){if(this.updates=null,this.cloneFrom=null,this.encoder=z.encoder||new $e,z.fromString){if(z.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function gt(oe,z){const q=new Map;return oe.length>0&&oe.replace(/^\?/,"").split("&").forEach(ke=>{const We=ke.indexOf("="),[Pe,mt]=-1==We?[z.decodeKey(ke),""]:[z.decodeKey(ke.slice(0,We)),z.decodeValue(ke.slice(We+1))],Ge=q.get(Pe)||[];Ge.push(mt),q.set(Pe,Ge)}),q}(z.fromString,this.encoder)}else z.fromObject?(this.map=new Map,Object.keys(z.fromObject).forEach(q=>{const Se=z.fromObject[q],ke=Array.isArray(Se)?Se.map(ve):[ve(Se)];this.map.set(q,ke)})):this.map=null}has(z){return this.init(),this.map.has(z)}get(z){this.init();const q=this.map.get(z);return q?q[0]:null}getAll(z){return this.init(),this.map.get(z)||null}keys(){return this.init(),Array.from(this.map.keys())}append(z,q){return this.clone({param:z,value:q,op:"a"})}appendAll(z){const q=[];return Object.keys(z).forEach(Se=>{const ke=z[Se];Array.isArray(ke)?ke.forEach(We=>{q.push({param:Se,value:We,op:"a"})}):q.push({param:Se,value:ke,op:"a"})}),this.clone(q)}set(z,q){return this.clone({param:z,value:q,op:"s"})}delete(z,q){return this.clone({param:z,value:q,op:"d"})}toString(){return this.init(),this.keys().map(z=>{const q=this.encoder.encodeKey(z);return this.map.get(z).map(Se=>q+"="+this.encoder.encodeValue(Se)).join("&")}).filter(z=>""!==z).join("&")}clone(z){const q=new be({encoder:this.encoder});return q.cloneFrom=this.cloneFrom||this,q.updates=(this.updates||[]).concat(z),q}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(z=>this.map.set(z,this.cloneFrom.map.get(z))),this.updates.forEach(z=>{switch(z.op){case"a":case"s":const q=("a"===z.op?this.map.get(z.param):void 0)||[];q.push(ve(z.value)),this.map.set(z.param,q);break;case"d":if(void 0===z.value){this.map.delete(z.param);break}{let Se=this.map.get(z.param)||[];const ke=Se.indexOf(ve(z.value));-1!==ke&&Se.splice(ke,1),Se.length>0?this.map.set(z.param,Se):this.map.delete(z.param)}}}),this.cloneFrom=this.updates=null)}}class ze{constructor(){this.map=new Map}set(z,q){return this.map.set(z,q),this}get(z){return this.map.has(z)||this.map.set(z,z.defaultValue()),this.map.get(z)}delete(z){return this.map.delete(z),this}has(z){return this.map.has(z)}keys(){return this.map.keys()}}function He(oe){return typeof ArrayBuffer<"u"&&oe instanceof ArrayBuffer}function ee(oe){return typeof Blob<"u"&&oe instanceof Blob}function Ae(oe){return typeof FormData<"u"&&oe instanceof FormData}class fn{constructor(z,q,Se,ke){let We;if(this.url=q,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=z.toUpperCase(),function Fe(oe){switch(oe){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||ke?(this.body=void 0!==Se?Se:null,We=ke):We=Se,We&&(this.reportProgress=!!We.reportProgress,this.withCredentials=!!We.withCredentials,We.responseType&&(this.responseType=We.responseType),We.headers&&(this.headers=We.headers),We.context&&(this.context=We.context),We.params&&(this.params=We.params)),this.headers||(this.headers=new tt),this.context||(this.context=new ze),this.params){const Pe=this.params.toString();if(0===Pe.length)this.urlWithParams=q;else{const mt=q.indexOf("?");this.urlWithParams=q+(-1===mt?"?":mt<q.length-1?"&":"")+Pe}}else this.params=new be,this.urlWithParams=q}serializeBody(){return null===this.body?null:He(this.body)||ee(this.body)||Ae(this.body)||function je(oe){return typeof URLSearchParams<"u"&&oe instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof be?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Ae(this.body)?null:ee(this.body)?this.body.type||null:He(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof be?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(z={}){const q=z.method||this.method,Se=z.url||this.url,ke=z.responseType||this.responseType,We=void 0!==z.body?z.body:this.body,Pe=void 0!==z.withCredentials?z.withCredentials:this.withCredentials,mt=void 0!==z.reportProgress?z.reportProgress:this.reportProgress;let Ge=z.headers||this.headers,cn=z.params||this.params;const Mn=z.context??this.context;return void 0!==z.setHeaders&&(Ge=Object.keys(z.setHeaders).reduce((gn,_n)=>gn.set(_n,z.setHeaders[_n]),Ge)),z.setParams&&(cn=Object.keys(z.setParams).reduce((gn,_n)=>gn.set(_n,z.setParams[_n]),cn)),new fn(q,Se,We,{params:cn,headers:Ge,context:Mn,reportProgress:mt,responseType:ke,withCredentials:Pe})}}var $t=(()=>(($t=$t||{})[$t.Sent=0]="Sent",$t[$t.UploadProgress=1]="UploadProgress",$t[$t.ResponseHeader=2]="ResponseHeader",$t[$t.DownloadProgress=3]="DownloadProgress",$t[$t.Response=4]="Response",$t[$t.User=5]="User",$t))();class En{constructor(z,q=200,Se="OK"){this.headers=z.headers||new tt,this.status=void 0!==z.status?z.status:q,this.statusText=z.statusText||Se,this.url=z.url||null,this.ok=this.status>=200&&this.status<300}}class qe extends En{constructor(z={}){super(z),this.type=$t.ResponseHeader}clone(z={}){return new qe({headers:z.headers||this.headers,status:void 0!==z.status?z.status:this.status,statusText:z.statusText||this.statusText,url:z.url||this.url||void 0})}}class _t extends En{constructor(z={}){super(z),this.type=$t.Response,this.body=void 0!==z.body?z.body:null}clone(z={}){return new _t({body:void 0!==z.body?z.body:this.body,headers:z.headers||this.headers,status:void 0!==z.status?z.status:this.status,statusText:z.statusText||this.statusText,url:z.url||this.url||void 0})}}class Xe extends En{constructor(z){super(z,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${z.url||"(unknown url)"}`:`Http failure response for ${z.url||"(unknown url)"}: ${z.status} ${z.statusText}`,this.error=z.error||null}}function Dt(oe,z){return{body:z,headers:oe.headers,context:oe.context,observe:oe.observe,params:oe.params,reportProgress:oe.reportProgress,responseType:oe.responseType,withCredentials:oe.withCredentials}}let ie=(()=>{class oe{constructor(q){this.handler=q}request(q,Se,ke={}){let We;if(q instanceof fn)We=q;else{let Ge,cn;Ge=ke.headers instanceof tt?ke.headers:new tt(ke.headers),ke.params&&(cn=ke.params instanceof be?ke.params:new be({fromObject:ke.params})),We=new fn(q,Se,void 0!==ke.body?ke.body:null,{headers:Ge,context:ke.context,params:cn,reportProgress:ke.reportProgress,responseType:ke.responseType||"json",withCredentials:ke.withCredentials})}const Pe=(0,Y.of)(We).pipe((0,B.b)(Ge=>this.handler.handle(Ge)));if(q instanceof fn||"events"===ke.observe)return Pe;const mt=Pe.pipe((0,Re.h)(Ge=>Ge instanceof _t));switch(ke.observe||"body"){case"body":switch(We.responseType){case"arraybuffer":return mt.pipe((0,re.U)(Ge=>{if(null!==Ge.body&&!(Ge.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Ge.body}));case"blob":return mt.pipe((0,re.U)(Ge=>{if(null!==Ge.body&&!(Ge.body instanceof Blob))throw new Error("Response is not a Blob.");return Ge.body}));case"text":return mt.pipe((0,re.U)(Ge=>{if(null!==Ge.body&&"string"!=typeof Ge.body)throw new Error("Response is not a string.");return Ge.body}));default:return mt.pipe((0,re.U)(Ge=>Ge.body))}case"response":return mt;default:throw new Error(`Unreachable: unhandled observe type ${ke.observe}}`)}}delete(q,Se={}){return this.request("DELETE",q,Se)}get(q,Se={}){return this.request("GET",q,Se)}head(q,Se={}){return this.request("HEAD",q,Se)}jsonp(q,Se){return this.request("JSONP",q,{params:(new be).append(Se,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(q,Se={}){return this.request("OPTIONS",q,Se)}patch(q,Se,ke={}){return this.request("PATCH",q,Dt(ke,Se))}post(q,Se,ke={}){return this.request("POST",q,Dt(ke,Se))}put(q,Se,ke={}){return this.request("PUT",q,Dt(ke,Se))}}return oe.\u0275fac=function(q){return new(q||oe)(d.LFG(fe))},oe.\u0275prov=d.Yz7({token:oe,factory:oe.\u0275fac}),oe})();function It(oe,z){return z(oe)}function ot(oe,z){return(q,Se)=>z.intercept(q,{handle:ke=>oe(ke,Se)})}const it=new d.OlP(""),De=new d.OlP(""),Rt=new d.OlP("");function Kt(){let oe=null;return(z,q)=>{null===oe&&(oe=((0,d.f3M)(it,{optional:!0})??[]).reduceRight(ot,It));const Se=(0,d.f3M)(d.HDt),ke=Se.add();return oe(z,q).pipe((0,Oe.x)(()=>Se.remove(ke)))}}let Lt=(()=>{class oe extends fe{constructor(q,Se){super(),this.backend=q,this.injector=Se,this.chain=null,this.pendingTasks=(0,d.f3M)(d.HDt)}handle(q){if(null===this.chain){const ke=Array.from(new Set([...this.injector.get(De),...this.injector.get(Rt,[])]));this.chain=ke.reduceRight((We,Pe)=>function de(oe,z,q){return(Se,ke)=>q.runInContext(()=>z(Se,We=>oe(We,ke)))}(We,Pe,this.injector),It)}const Se=this.pendingTasks.add();return this.chain(q,ke=>this.backend.handle(ke)).pipe((0,Oe.x)(()=>this.pendingTasks.remove(Se)))}}return oe.\u0275fac=function(q){return new(q||oe)(d.LFG(we),d.LFG(d.lqb))},oe.\u0275prov=d.Yz7({token:oe,factory:oe.\u0275fac}),oe})();const hr=/^\)\]\}',?\n/;let Yn=(()=>{class oe{constructor(q){this.xhrFactory=q}handle(q){if("JSONP"===q.method)throw new d.vHH(-2800,!1);const Se=this.xhrFactory;return(Se.\u0275loadImpl?(0,ae.D)(Se.\u0275loadImpl()):(0,Y.of)(null)).pipe((0,ye.w)(()=>new J.y(We=>{const Pe=Se.build();if(Pe.open(q.method,q.urlWithParams),q.withCredentials&&(Pe.withCredentials=!0),q.headers.forEach((on,hn)=>Pe.setRequestHeader(on,hn.join(","))),q.headers.has("Accept")||Pe.setRequestHeader("Accept","application/json, text/plain, */*"),!q.headers.has("Content-Type")){const on=q.detectContentTypeHeader();null!==on&&Pe.setRequestHeader("Content-Type",on)}if(q.responseType){const on=q.responseType.toLowerCase();Pe.responseType="json"!==on?on:"text"}const mt=q.serializeBody();let Ge=null;const cn=()=>{if(null!==Ge)return Ge;const on=Pe.statusText||"OK",hn=new tt(Pe.getAllResponseHeaders()),lr=function tr(oe){return"responseURL"in oe&&oe.responseURL?oe.responseURL:/^X-Request-URL:/m.test(oe.getAllResponseHeaders())?oe.getResponseHeader("X-Request-URL"):null}(Pe)||q.url;return Ge=new qe({headers:hn,status:Pe.status,statusText:on,url:lr}),Ge},Mn=()=>{let{headers:on,status:hn,statusText:lr,url:Yr}=cn(),Hn=null;204!==hn&&(Hn=typeof Pe.response>"u"?Pe.responseText:Pe.response),0===hn&&(hn=Hn?200:0);let Un=hn>=200&&hn<300;if("json"===q.responseType&&"string"==typeof Hn){const Co=Hn;Hn=Hn.replace(hr,"");try{Hn=""!==Hn?JSON.parse(Hn):null}catch(uo){Hn=Co,Un&&(Un=!1,Hn={error:uo,text:Hn})}}Un?(We.next(new _t({body:Hn,headers:on,status:hn,statusText:lr,url:Yr||void 0})),We.complete()):We.error(new Xe({error:Hn,headers:on,status:hn,statusText:lr,url:Yr||void 0}))},gn=on=>{const{url:hn}=cn(),lr=new Xe({error:on,status:Pe.status||0,statusText:Pe.statusText||"Unknown Error",url:hn||void 0});We.error(lr)};let _n=!1;const qt=on=>{_n||(We.next(cn()),_n=!0);let hn={type:$t.DownloadProgress,loaded:on.loaded};on.lengthComputable&&(hn.total=on.total),"text"===q.responseType&&Pe.responseText&&(hn.partialText=Pe.responseText),We.next(hn)},Xt=on=>{let hn={type:$t.UploadProgress,loaded:on.loaded};on.lengthComputable&&(hn.total=on.total),We.next(hn)};return Pe.addEventListener("load",Mn),Pe.addEventListener("error",gn),Pe.addEventListener("timeout",gn),Pe.addEventListener("abort",gn),q.reportProgress&&(Pe.addEventListener("progress",qt),null!==mt&&Pe.upload&&Pe.upload.addEventListener("progress",Xt)),Pe.send(mt),We.next({type:$t.Sent}),()=>{Pe.removeEventListener("error",gn),Pe.removeEventListener("abort",gn),Pe.removeEventListener("load",Mn),Pe.removeEventListener("timeout",gn),q.reportProgress&&(Pe.removeEventListener("progress",qt),null!==mt&&Pe.upload&&Pe.upload.removeEventListener("progress",Xt)),Pe.readyState!==Pe.DONE&&Pe.abort()}})))}}return oe.\u0275fac=function(q){return new(q||oe)(d.LFG(_e.JF))},oe.\u0275prov=d.Yz7({token:oe,factory:oe.\u0275fac}),oe})();const Sn=new d.OlP("XSRF_ENABLED"),Dn=new d.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Je=new d.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Rr{}let pr=(()=>{class oe{constructor(q,Se,ke){this.doc=q,this.platform=Se,this.cookieName=ke,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const q=this.doc.cookie||"";return q!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,_e.Mx)(q,this.cookieName),this.lastCookieString=q),this.lastToken}}return oe.\u0275fac=function(q){return new(q||oe)(d.LFG(_e.K0),d.LFG(d.Lbi),d.LFG(Dn))},oe.\u0275prov=d.Yz7({token:oe,factory:oe.\u0275fac}),oe})();function wt(oe,z){const q=oe.url.toLowerCase();if(!(0,d.f3M)(Sn)||"GET"===oe.method||"HEAD"===oe.method||q.startsWith("http://")||q.startsWith("https://"))return z(oe);const Se=(0,d.f3M)(Rr).getToken(),ke=(0,d.f3M)(Je);return null!=Se&&!oe.headers.has(ke)&&(oe=oe.clone({headers:oe.headers.set(ke,Se)})),z(oe)}var Jt=(()=>((Jt=Jt||{})[Jt.Interceptors=0]="Interceptors",Jt[Jt.LegacyInterceptors=1]="LegacyInterceptors",Jt[Jt.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Jt[Jt.NoXsrfProtection=3]="NoXsrfProtection",Jt[Jt.JsonpSupport=4]="JsonpSupport",Jt[Jt.RequestsMadeViaParent=5]="RequestsMadeViaParent",Jt[Jt.Fetch=6]="Fetch",Jt))();function Ot(oe,z){return{\u0275kind:oe,\u0275providers:z}}function zo(...oe){const z=[ie,Yn,Lt,{provide:fe,useExisting:Lt},{provide:we,useExisting:Yn},{provide:De,useValue:wt,multi:!0},{provide:Sn,useValue:!0},{provide:Rr,useClass:pr}];for(const q of oe)z.push(...q.\u0275providers);return(0,d.MR2)(z)}const ar=new d.OlP("LEGACY_INTERCEPTOR_FN");let Z=(()=>{class oe{}return oe.\u0275fac=function(q){return new(q||oe)},oe.\u0275mod=d.oAB({type:oe}),oe.\u0275inj=d.cJS({providers:[zo(Ot(Jt.LegacyInterceptors,[{provide:ar,useFactory:Kt},{provide:De,useExisting:ar,multi:!0}]))]}),oe})()},4946:(lt,me,F)=>{F.d(me,{tb:()=>Pg,AFp:()=>Qd,ip1:()=>XD,hGG:()=>fM,z2F:()=>_u,Ojb:()=>vp,sBO:()=>KE,Sil:()=>AE,EJc:()=>IE,Xts:()=>Ya,SBq:()=>Da,lqb:()=>Vs,qLn:()=>O,vpe:()=>_s,XFs:()=>Je,OlP:()=>vn,zs3:()=>Ca,ZZ4:()=>Ug,aQg:()=>jg,soG:()=>Hf,YKP:()=>eD,h0i:()=>vu,PXZ:()=>jE,R0b:()=>ko,FiY:()=>Al,Lbi:()=>vc,g9A:()=>Xd,Qsj:()=>s,FYo:()=>hf,JOm:()=>ri,q3G:()=>Tn,tp0:()=>Nl,Rgc:()=>jc,dDg:()=>VE,eoX:()=>dC,GfV:()=>i,s_b:()=>Vf,ifc:()=>Pe,VuI:()=>_M,LMc:()=>wM,MMx:()=>nD,Lck:()=>gw,eFA:()=>gC,Gpc:()=>ee,f3M:()=>Mt,$WT:()=>Fr,MR2:()=>ac,_c5:()=>dM,qFp:()=>EM,rg0:()=>ro,c2e:()=>eC,zSh:()=>fc,HDt:()=>tC,wAp:()=>xt,vHH:()=>qe,lri:()=>uC,rWj:()=>cC,JZr:()=>En,EiD:()=>Hd,mCW:()=>Kl,qzn:()=>ha,JVY:()=>lm,pB0:()=>Yh,eBb:()=>qh,L6k:()=>um,LAX:()=>Jh,cg1:()=>sg,kL8:()=>Mv,dqk:()=>Ot,Z0I:()=>Jn,eJc:()=>Mg,QGY:()=>Yp,F4k:()=>Ty,RDi:()=>Hh,AaK:()=>ze,z3N:()=>Li,qOj:()=>Lp,Xq5:()=>uy,TTD:()=>Yo,_Bn:()=>Xv,jDz:()=>rD,xp6:()=>Am,uIk:()=>Bp,Tol:()=>Qy,ekj:()=>ng,Suo:()=>OD,Xpm:()=>Ii,lG2:()=>di,Yz7:()=>nn,cJS:()=>at,oAB:()=>co,Yjl:()=>Ti,Y36:()=>ou,_UZ:()=>qp,GkF:()=>Jp,BQk:()=>If,ynx:()=>xf,qZA:()=>Sf,TgZ:()=>Mf,EpF:()=>Iy,n5z:()=>Jc,LFG:()=>bt,$8M:()=>xl,$Z:()=>Lm,NdJ:()=>Kp,CRH:()=>RD,oxw:()=>ky,ALo:()=>vD,lcZ:()=>DD,Hsn:()=>Fy,F$t:()=>Py,Q6J:()=>Gp,s9C:()=>Zp,MGl:()=>Tf,DdM:()=>cD,VKq:()=>dD,WLB:()=>fD,iGM:()=>AD,MAs:()=>My,KtG:()=>es,evT:()=>lo,CHM:()=>zr,oJD:()=>jd,LSH:()=>sc,P3R:()=>zd,Udp:()=>tg,YNc:()=>by,_uU:()=>iv,Oqu:()=>og,hij:()=>Of,AsE:()=>ig,Gf:()=>ND});var d=F(8645),Y=F(7394),ae=F(5619),J=F(5592),B=F(7537),Re=F(4829),re=F(6232),Oe=F(4564),ye=F(7715),fe=F(2096),we=F(305),tt=F(9360);function Be(e={}){const{connector:n=(()=>new d.x),resetOnError:o=!0,resetOnComplete:a=!0,resetOnRefCountZero:u=!0}=e;return f=>{let p,v,_,T=0,R=!1,U=!1;const K=()=>{v?.unsubscribe(),v=void 0},te=()=>{K(),p=_=void 0,R=U=!1},Ce=()=>{const Le=p;te(),Le?.unsubscribe()};return(0,tt.e)((Le,Ze)=>{T++,!U&&!R&&K();const ct=_=_??n();Ze.add(()=>{T--,0===T&&!U&&!R&&(v=$e(Ce,u))}),ct.subscribe(Ze),!p&&T>0&&(p=new we.Hp({next:Ee=>ct.next(Ee),error:Ee=>{U=!0,K(),v=$e(te,o,Ee),ct.error(Ee)},complete:()=>{R=!0,K(),v=$e(te,a),ct.complete()}}),(0,Re.Xf)(Le).subscribe(p))})(f)}}function $e(e,n,...o){if(!0===n)return void e();if(!1===n)return;const a=new we.Hp({next:()=>{a.unsubscribe(),e()}});return(0,Re.Xf)(n(...o)).subscribe(a)}var gt=F(4664),At=F(2737),Bt=F(8251);function ve(e,n){return e===n}function be(e){for(let n in e)if(e[n]===be)return n;throw Error("Could not find renamed property on target object.")}function Ve(e,n){for(const o in n)n.hasOwnProperty(o)&&!e.hasOwnProperty(o)&&(e[o]=n[o])}function ze(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(ze).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const n=e.toString();if(null==n)return""+n;const o=n.indexOf("\n");return-1===o?n:n.substring(0,o)}function Fe(e,n){return null==e||""===e?null===n?"":n:null==n||""===n?e:e+" "+n}const He=be({__forward_ref__:be});function ee(e){return e.__forward_ref__=ee,e.toString=function(){return ze(this())},e}function Ae(e){return je(e)?e():e}function je(e){return"function"==typeof e&&e.hasOwnProperty(He)&&e.__forward_ref__===ee}function fn(e){return e&&!!e.\u0275providers}const En="https://g.co/ng/security#xss";class qe extends Error{constructor(n,o){super(function _t(e,n){return`NG0${Math.abs(e)}${n?": "+n:""}`}(n,o)),this.code=n}}function Xe(e){return"string"==typeof e?e:null==e?"":String(e)}function pe(e,n){throw new qe(-201,!1)}function Qe(e,n){null==e&&function Ht(e,n,o,a){throw new Error(`ASSERTION ERROR: ${e}`+(null==a?"":` [Expected=> ${o} ${a} ${n} <=Actual]`))}(n,e,null,"!=")}function nn(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function at(e){return{providers:e.providers||[],imports:e.imports||[]}}function yt(e){return hr(e,Sn)||hr(e,Dn)}function Jn(e){return null!==yt(e)}function hr(e,n){return e.hasOwnProperty(n)?e[n]:null}function Yn(e){return e&&(e.hasOwnProperty(Jr)||e.hasOwnProperty($o))?e[Jr]:null}const Sn=be({\u0275prov:be}),Jr=be({\u0275inj:be}),Dn=be({ngInjectableDef:be}),$o=be({ngInjectorDef:be});var Je=(()=>((Je=Je||{})[Je.Default=0]="Default",Je[Je.Host=1]="Host",Je[Je.Self=2]="Self",Je[Je.SkipSelf=4]="SkipSelf",Je[Je.Optional=8]="Optional",Je))();let Rr;function wt(e){const n=Rr;return Rr=e,n}function Kn(e,n,o){const a=yt(e);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:o&Je.Optional?null:void 0!==n?n:void pe(ze(e))}const Ot=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Ir={},nr="__NG_DI_FLAG__",rr="ngTempTokenPath",ue=/\n/gm,j="__source";let Z;function Ye(e){const n=Z;return Z=e,n}function ft(e,n=Je.Default){if(void 0===Z)throw new qe(-203,!1);return null===Z?Kn(e,void 0,n):Z.get(e,n&Je.Optional?null:void 0,n)}function bt(e,n=Je.Default){return(function pr(){return Rr}()||ft)(Ae(e),n)}function Mt(e,n=Je.Default){return bt(e,Bn(n))}function Bn(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function gr(e){const n=[];for(let o=0;o<e.length;o++){const a=Ae(e[o]);if(Array.isArray(a)){if(0===a.length)throw new qe(900,!1);let u,f=Je.Default;for(let p=0;p<a.length;p++){const v=a[p],_=z(v);"number"==typeof _?-1===_?u=v.token:f|=_:u=v}n.push(bt(u,f))}else n.push(bt(a))}return n}function oe(e,n){return e[nr]=n,e.prototype[nr]=n,e}function z(e){return e[nr]}function ke(e){return{toString:e}.toString()}var We=(()=>((We=We||{})[We.OnPush=0]="OnPush",We[We.Default=1]="Default",We))(),Pe=(()=>{return(e=Pe||(Pe={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",Pe;var e})();const mt={},Ge=[],cn=be({\u0275cmp:be}),Mn=be({\u0275dir:be}),gn=be({\u0275pipe:be}),_n=be({\u0275mod:be}),qt=be({\u0275fac:be}),Xt=be({__NG_ELEMENT_ID__:be}),on=be({__NG_ENV_ID__:be});function hn(e,n,o){let a=e.length;for(;;){const u=e.indexOf(n,o);if(-1===u)return u;if(0===u||e.charCodeAt(u-1)<=32){const f=n.length;if(u+f===a||e.charCodeAt(u+f)<=32)return u}o=u+1}}function lr(e,n,o){let a=0;for(;a<o.length;){const u=o[a];if("number"==typeof u){if(0!==u)break;a++;const f=o[a++],p=o[a++],v=o[a++];e.setAttribute(n,p,v,f)}else{const f=u,p=o[++a];Hn(f)?e.setProperty(n,f,p):e.setAttribute(n,f,p),a++}}return a}function Yr(e){return 3===e||4===e||6===e}function Hn(e){return 64===e.charCodeAt(0)}function Un(e,n){if(null!==n&&0!==n.length)if(null===e||0===e.length)e=n.slice();else{let o=-1;for(let a=0;a<n.length;a++){const u=n[a];"number"==typeof u?o=u:0===o||Co(e,o,u,null,-1===o||2===o?n[++a]:null)}}return e}function Co(e,n,o,a,u){let f=0,p=e.length;if(-1===n)p=-1;else for(;f<e.length;){const v=e[f++];if("number"==typeof v){if(v===n){p=-1;break}if(v>n){p=f-1;break}}}for(;f<e.length;){const v=e[f];if("number"==typeof v)break;if(v===o){if(null===a)return void(null!==u&&(e[f+1]=u));if(a===e[f+1])return void(e[f+2]=u)}f++,null!==a&&f++,null!==u&&f++}-1!==p&&(e.splice(p,0,n),f=p+1),e.splice(f++,0,o),null!==a&&e.splice(f++,0,a),null!==u&&e.splice(f++,0,u)}const uo="ng-template";function Kr(e,n,o){let a=0,u=!0;for(;a<e.length;){let f=e[a++];if("string"==typeof f&&u){const p=e[a++];if(o&&"class"===f&&-1!==hn(p.toLowerCase(),n,0))return!0}else{if(1===f){for(;a<e.length&&"string"==typeof(f=e[a++]);)if(f.toLowerCase()===n)return!0;return!1}"number"==typeof f&&(u=!1)}}return!1}function zi(e){return 4===e.type&&e.value!==uo}function Si(e,n,o){return n===(4!==e.type||o?e.value:uo)}function xi(e,n,o){let a=4;const u=e.attrs||[],f=function Zr(e){for(let n=0;n<e.length;n++)if(Yr(e[n]))return n;return e.length}(u);let p=!1;for(let v=0;v<n.length;v++){const _=n[v];if("number"!=typeof _){if(!p)if(4&a){if(a=2|1&a,""!==_&&!Si(e,_,o)||""===_&&1===n.length){if(Pn(a))return!1;p=!0}}else{const T=8&a?_:n[++v];if(8&a&&null!==e.attrs){if(!Kr(e.attrs,T,o)){if(Pn(a))return!1;p=!0}continue}const U=ui(8&a?"class":_,u,zi(e),o);if(-1===U){if(Pn(a))return!1;p=!0;continue}if(""!==T){let K;K=U>f?"":u[U+1].toLowerCase();const te=8&a?K:null;if(te&&-1!==hn(te,T,0)||2&a&&T!==K){if(Pn(a))return!1;p=!0}}}}else{if(!p&&!Pn(a)&&!Pn(_))return!1;if(p&&Pn(_))continue;p=!1,a=_|1&a}}return Pn(a)||p}function Pn(e){return 0==(1&e)}function ui(e,n,o,a){if(null===n)return-1;let u=0;if(a||!o){let f=!1;for(;u<n.length;){const p=n[u];if(p===e)return u;if(3===p||6===p)f=!0;else{if(1===p||2===p){let v=n[++u];for(;"string"==typeof v;)v=n[++u];continue}if(4===p)break;if(0===p){u+=4;continue}}u+=f?1:2}return-1}return function kr(e,n){let o=e.indexOf(4);if(o>-1)for(o++;o<e.length;){const a=e[o];if("number"==typeof a)return-1;if(a===n)return o;o++}return-1}(n,e)}function _o(e,n,o=!1){for(let a=0;a<n.length;a++)if(xi(e,n[a],o))return!0;return!1}function Po(e,n){e:for(let o=0;o<n.length;o++){const a=n[o];if(e.length===a.length){for(let u=0;u<e.length;u++)if(e[u]!==a[u])continue e;return!0}}return!1}function bo(e,n){return e?":not("+n.trim()+")":n}function bs(e){let n=e[0],o=1,a=2,u="",f=!1;for(;o<e.length;){let p=e[o];if("string"==typeof p)if(2&a){const v=e[++o];u+="["+p+(v.length>0?'="'+v+'"':"")+"]"}else 8&a?u+="."+p:4&a&&(u+=" "+p);else""!==u&&!Pn(p)&&(n+=bo(f,u),u=""),a=p,f=f||!Pn(a);o++}return""!==u&&(n+=bo(f,u)),n}function Ii(e){return ke(()=>{const n=Wo(e),o={...n,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===We.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Pe.Emulated,styles:e.styles||Ge,_:null,schemas:e.schemas||null,tView:null,id:""};Lr(o);const a=e.dependencies;return o.directiveDefs=An(a,!1),o.pipeDefs=An(a,!0),o.id=function Lo(e){let n=0;const o=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const u of o)n=Math.imul(31,n)+u.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(o),o})}function Wi(e){return Yt(e)||or(e)}function Fo(e){return null!==e}function co(e){return ke(()=>({type:e.type,bootstrap:e.bootstrap||Ge,declarations:e.declarations||Ge,imports:e.imports||Ge,exports:e.exports||Ge,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function ci(e,n){if(null==e)return mt;const o={};for(const a in e)if(e.hasOwnProperty(a)){let u=e[a],f=u;Array.isArray(u)&&(f=u[1],u=u[0]),o[u]=a,n&&(n[u]=f)}return o}function di(e){return ke(()=>{const n=Wo(e);return Lr(n),n})}function Ti(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function Yt(e){return e[cn]||null}function or(e){return e[Mn]||null}function Wn(e){return e[gn]||null}function Fr(e){const n=Yt(e)||or(e)||Wn(e);return null!==n&&n.standalone}function Qn(e,n){const o=e[_n]||null;if(!o&&!0===n)throw new Error(`Type ${ze(e)} does not have '\u0275mod' property.`);return o}function Wo(e){const n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:e.inputs||mt,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||Ge,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ci(e.inputs,n),outputs:ci(e.outputs)}}function Lr(e){e.features?.forEach(n=>n(e))}function An(e,n){if(!e)return null;const o=n?Wn:Wi;return()=>("function"==typeof e?e():e).map(a=>o(a)).filter(Fo)}const vt=0,Ke=1,Ct=2,sn=3,kt=4,mr=5,st=6,Vr=7,Ut=8,fo=9,Xn=10,Et=11,ho=12,po=13,Eo=14,xn=15,Qr=16,Xr=17,yr=18,Br=19,eo=20,Hr=21,mn=22,Vo=23,to=24,Tt=25,Bo=1,qi=2,bn=7,fi=9,yn=11;function wn(e){return Array.isArray(e)&&"object"==typeof e[Bo]}function Fn(e){return Array.isArray(e)&&!0===e[Bo]}function ur(e){return 0!=(4&e.flags)}function So(e){return e.componentOffset>-1}function Yi(e){return 1==(1&e.flags)}function Ln(e){return!!e.template}function hi(e){return 0!=(512&e[Ct])}function jr(e,n){return e.hasOwnProperty(qt)?e[qt]:null}let Us=Ot.WeakRef??class ws{constructor(n){this.ref=n}deref(){return this.ref}},Ki=0,$r=null,To=!1;function qn(e){const n=$r;return $r=e,n}class js{constructor(){this.id=Ki++,this.ref=function Es(e){return new Us(e)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[n,o]of this.producers){const a=o.producerNode.deref();if(void 0!==a&&o.atTrackingVersion===this.trackingVersion){if(a.producerPollStatus(o.seenValueVersion))return!0}else this.producers.delete(n),a?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const n=To;To=!0;try{for(const[o,a]of this.consumers){const u=a.consumerNode.deref();void 0!==u&&u.trackingVersion===a.atTrackingVersion?u.onConsumerDependencyMayHaveChanged():(this.consumers.delete(o),u?.producers.delete(this.id))}}finally{To=n}}producerAccessed(){if(To)throw new Error("");if(null===$r)return;let n=$r.producers.get(this.id);void 0===n?(n={consumerNode:$r.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:$r.trackingVersion},$r.producers.set(this.id,n),this.consumers.set($r.id,n)):(n.seenValueVersion=this.valueVersion,n.atTrackingVersion=$r.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==$r?.consumerAllowSignalWrites}producerPollStatus(n){return this.valueVersion!==n||(this.onProducerUpdateValueVersion(),this.valueVersion!==n)}}let Ma=null;function ro(e){const n=qn(null);try{return e()}finally{qn(n)}}const Gs=()=>{};class vi extends js{constructor(n,o,a){super(),this.watch=n,this.schedule=o,this.dirty=!1,this.cleanupFn=Gs,this.registerOnCleanup=u=>{this.cleanupFn=u},this.consumerAllowSignalWrites=a}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const n=qn(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=Gs,this.watch(this.registerOnCleanup)}finally{qn(n)}}cleanup(){this.cleanupFn()}}class Ao{constructor(n,o,a){this.previousValue=n,this.currentValue=o,this.firstChange=a}isFirstChange(){return this.firstChange}}function Yo(){return xa}function xa(e){return e.type.prototype.ngOnChanges&&(e.setInput=b),Ri}function Ri(){const e=M(this),n=e?.current;if(n){const o=e.previous;if(o===mt)e.previous=n;else for(let a in n)o[a]=n[a];e.current=null,this.ngOnChanges(n)}}function b(e,n,o,a){const u=this.declaredInputs[o],f=M(e)||function k(e,n){return e[N]=n}(e,{previous:mt,current:null}),p=f.current||(f.current={}),v=f.previous,_=v[u];p[u]=new Ao(_&&_.currentValue,n,v===mt),e[a]=n}Yo.ngInherit=!0;const N="__ngSimpleChanges__";function M(e){return e[N]||null}const ge=function(e,n,o){};function ht(e){for(;Array.isArray(e);)e=e[vt];return e}function Ft(e,n){return ht(n[e])}function Gt(e,n){return ht(n[e.index])}function On(e,n){return e.data[n]}function dr(e,n){return e[n]}function Rn(e,n){const o=n[e];return wn(o)?o:o[vt]}function er(e,n){return null==n?null:e[n]}function Zo(e){e[Xr]=0}function Ia(e){1024&e[Ct]||(e[Ct]|=1024,Ws(e,1))}function Cr(e){1024&e[Ct]&&(e[Ct]&=-1025,Ws(e,-1))}function Ws(e,n){let o=e[sn];if(null===o)return;o[mr]+=n;let a=o;for(o=o[sn];null!==o&&(1===n&&1===a[mr]||-1===n&&0===a[mr]);)o[mr]+=n,a=o,o=o[sn]}const St={lFrame:wr(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Ta(){return St.bindingsEnabled}function Qo(){return null!==St.skipHydrationRootTNode}function Ne(){return St.lFrame.lView}function Wt(){return St.lFrame.tView}function zr(e){return St.lFrame.contextLView=e,e[Ut]}function es(e){return St.lFrame.contextLView=null,e}function _r(){let e=cl();for(;null!==e&&64===e.type;)e=e.parent;return e}function cl(){return St.lFrame.currentTNode}function so(e,n){const o=St.lFrame;o.currentTNode=e,o.isParent=n}function Is(){return St.lFrame.isParent}function ts(){St.lFrame.isParent=!1}function br(){const e=St.lFrame;let n=e.bindingRootIndex;return-1===n&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}function ns(){return St.lFrame.bindingIndex++}function _i(e){const n=St.lFrame,o=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,o}function Aa(e,n){const o=St.lFrame;o.bindingIndex=o.bindingRootIndex=e,Ts(n)}function Ts(e){St.lFrame.currentDirectiveIndex=e}function Na(){return St.lFrame.currentQueryIndex}function Ks(e){St.lFrame.currentQueryIndex=e}function gl(e){const n=e[Ke];return 2===n.type?n.declTNode:1===n.type?e[st]:null}function ml(e,n,o){if(o&Je.SkipSelf){let u=n,f=e;for(;!(u=u.parent,null!==u||o&Je.Host||(u=gl(f),null===u||(f=f[Eo],10&u.type))););if(null===u)return!1;n=u,e=f}const a=St.lFrame=Ra();return a.currentTNode=n,a.lView=e,!0}function Oa(e){const n=Ra(),o=e[Ke];St.lFrame=n,n.currentTNode=o.firstChild,n.lView=e,n.tView=o,n.contextLView=e,n.bindingIndex=o.bindingStartIndex,n.inI18n=!1}function Ra(){const e=St.lFrame,n=null===e?null:e.child;return null===n?wr(e):n}function wr(e){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=n),n}function Ar(){const e=St.lFrame;return St.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Nu=Ar;function yl(){const e=Ar();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Gr(){return St.lFrame.selectedIndex}function y(e){St.lFrame.selectedIndex=e}function D(){const e=St.lFrame;return On(e.tView,e.selectedIndex)}let Q=!0;function Ie(){return Q}function rt(e){Q=e}function rn(e,n){for(let o=n.directiveStart,a=n.directiveEnd;o<a;o++){const f=e.data[o].type.prototype,{ngAfterContentInit:p,ngAfterContentChecked:v,ngAfterViewInit:_,ngAfterViewChecked:T,ngOnDestroy:R}=f;p&&(e.contentHooks??=[]).push(-o,p),v&&((e.contentHooks??=[]).push(o,v),(e.contentCheckHooks??=[]).push(o,v)),_&&(e.viewHooks??=[]).push(-o,_),T&&((e.viewHooks??=[]).push(o,T),(e.viewCheckHooks??=[]).push(o,T)),null!=R&&(e.destroyHooks??=[]).push(o,R)}}function Er(e,n,o){Pi(e,n,3,o)}function rs(e,n,o,a){(3&e[Ct])===o&&Pi(e,n,o,a)}function ei(e,n){let o=e[Ct];(3&o)===n&&(o&=8191,o+=1,e[Ct]=o)}function Pi(e,n,o,a){const f=a??-1,p=n.length-1;let v=0;for(let _=void 0!==a?65535&e[Xr]:0;_<p;_++)if("number"==typeof n[_+1]){if(v=n[_],null!=a&&v>=a)break}else n[_]<0&&(e[Xr]+=65536),(v<f||-1==f)&&(As(e,o,n,_),e[Xr]=(4294901760&e[Xr])+_+2),_++}function Zs(e,n){ge(4,e,n);const o=qn(null);try{n.call(e)}finally{qn(o),ge(5,e,n)}}function As(e,n,o,a){const u=o[a]<0,f=o[a+1],v=e[u?-o[a]:o[a]];u?e[Ct]>>13<e[Xr]>>16&&(3&e[Ct])===n&&(e[Ct]+=8192,Zs(v,f)):Zs(v,f)}const Qs=-1;class Xs{constructor(n,o,a){this.factory=n,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=a}}function Wc(e){return e!==Qs}function ka(e){return 32767&e}function na(e,n){let o=function Pa(e){return e>>16}(e),a=n;for(;o>0;)a=a[Eo],o--;return a}let bi=!0;function ra(e){const n=bi;return bi=e,n}const Ns=255,is=5;let ir=0;const kn={};function Dl(e,n){const o=qc(e,n);if(-1!==o)return o;const a=n[Ke];a.firstCreatePass&&(e.injectorIndex=n.length,Cl(a.data,e),Cl(n,null),Cl(a.blueprint,null));const u=_l(e,n),f=e.injectorIndex;if(Wc(u)){const p=ka(u),v=na(u,n),_=v[Ke].data;for(let T=0;T<8;T++)n[f+T]=v[p+T]|_[p+T]}return n[f+8]=u,f}function Cl(e,n){e.push(0,0,0,0,0,0,0,0,n)}function qc(e,n){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===n[e.injectorIndex+8]?-1:e.injectorIndex}function _l(e,n){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let o=0,a=null,u=n;for(;null!==u;){if(a=Yc(u),null===a)return Qs;if(o++,u=u[Eo],-1!==a.injectorIndex)return a.injectorIndex|o<<16}return Qs}function bl(e,n,o){!function ss(e,n,o){let a;"string"==typeof o?a=o.charCodeAt(0)||0:o.hasOwnProperty(Xt)&&(a=o[Xt]),null==a&&(a=o[Xt]=ir++);const u=a&Ns;n.data[e+(u>>is)]|=1<<u}(e,n,o)}function as(e,n,o){if(o&Je.Optional||void 0!==e)return e;pe()}function El(e,n,o,a){if(o&Je.Optional&&void 0===a&&(a=null),!(o&(Je.Self|Je.Host))){const u=e[fo],f=wt(void 0);try{return u?u.get(n,a,o&Je.Optional):Kn(n,a,o&Je.Optional)}finally{wt(f)}}return as(a,0,o)}function Ou(e,n,o,a=Je.Default,u){if(null!==e){if(2048&n[Ct]&&!(a&Je.Self)){const p=function Kf(e,n,o,a,u){let f=e,p=n;for(;null!==f&&null!==p&&2048&p[Ct]&&!(512&p[Ct]);){const v=Ml(f,p,o,a|Je.Self,kn);if(v!==kn)return v;let _=f.parent;if(!_){const T=p[eo];if(T){const R=T.get(o,kn,a);if(R!==kn)return R}_=Yc(p),p=p[Eo]}f=_}return u}(e,n,o,a,kn);if(p!==kn)return p}const f=Ml(e,n,o,a,kn);if(f!==kn)return f}return El(n,o,a,u)}function Ml(e,n,o,a,u){const f=function Jf(e){if("string"==typeof e)return e.charCodeAt(0)||0;const n=e.hasOwnProperty(Xt)?e[Xt]:void 0;return"number"==typeof n?n>=0?n&Ns:Yf:n}(o);if("function"==typeof f){if(!ml(n,e,a))return a&Je.Host?as(u,0,a):El(n,o,a,u);try{const p=f(a);if(null!=p||a&Je.Optional)return p;pe()}finally{Nu()}}else if("number"==typeof f){let p=null,v=qc(e,n),_=Qs,T=a&Je.Host?n[xn][st]:null;for((-1===v||a&Je.SkipSelf)&&(_=-1===v?_l(e,n):n[v+8],_!==Qs&&ku(a,!1)?(p=n[Ke],v=ka(_),n=na(_,n)):v=-1);-1!==v;){const R=n[Ke];if(Ru(f,v,R.data)){const U=qf(v,n,o,p,a,T);if(U!==kn)return U}_=n[v+8],_!==Qs&&ku(a,n[Ke].data[v+8]===T)&&Ru(f,v,n)?(p=R,v=ka(_),n=na(_,n)):v=-1}}return u}function qf(e,n,o,a,u,f){const p=n[Ke],v=p.data[e+8],R=Sl(v,p,o,null==a?So(v)&&bi:a!=p&&0!=(3&v.type),u&Je.Host&&f===v);return null!==R?Os(n,p,R,v):kn}function Sl(e,n,o,a,u){const f=e.providerIndexes,p=n.data,v=1048575&f,_=e.directiveStart,R=f>>20,K=u?v+R:e.directiveEnd;for(let te=a?v:v+R;te<K;te++){const Ce=p[te];if(te<_&&o===Ce||te>=_&&Ce.type===o)return te}if(u){const te=p[_];if(te&&Ln(te)&&te.type===o)return _}return null}function Os(e,n,o,a){let u=e[o];const f=n.data;if(function Gc(e){return e instanceof Xs}(u)){const p=u;p.resolving&&function ie(e,n){const o=n?`. Dependency path: ${n.join(" > ")} > ${e}`:"";throw new qe(-200,`Circular dependency in DI detected for ${e}${o}`)}(function Dt(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Xe(e)}(f[o]));const v=ra(p.canSeeViewProviders);p.resolving=!0;const _=p.injectImpl?wt(p.injectImpl):null;ml(e,a,Je.Default);try{u=e[o]=p.factory(void 0,f,e,a),n.firstCreatePass&&o>=a.directiveStart&&function dt(e,n,o){const{ngOnChanges:a,ngOnInit:u,ngDoCheck:f}=n.type.prototype;if(a){const p=xa(n);(o.preOrderHooks??=[]).push(e,p),(o.preOrderCheckHooks??=[]).push(e,p)}u&&(o.preOrderHooks??=[]).push(0-e,u),f&&((o.preOrderHooks??=[]).push(e,f),(o.preOrderCheckHooks??=[]).push(e,f))}(o,f[o],n)}finally{null!==_&&wt(_),ra(v),p.resolving=!1,Nu()}}return u}function Ru(e,n,o){return!!(o[n+(e>>is)]&1<<e)}function ku(e,n){return!(e&Je.Self||e&Je.Host&&n)}class oa{constructor(n,o){this._tNode=n,this._lView=o}get(n,o,a){return Ou(this._tNode,this._lView,n,Bn(a),o)}}function Yf(){return new oa(_r(),Ne())}function Jc(e){return ke(()=>{const n=e.prototype.constructor,o=n[qt]||Pu(n),a=Object.prototype;let u=Object.getPrototypeOf(e.prototype).constructor;for(;u&&u!==a;){const f=u[qt]||Pu(u);if(f&&f!==o)return f;u=Object.getPrototypeOf(u)}return f=>new f})}function Pu(e){return je(e)?()=>{const n=Pu(Ae(e));return n&&n()}:jr(e)}function Yc(e){const n=e[Ke],o=n.type;return 2===o?n.declTNode:1===o?e[st]:null}function xl(e){return function wl(e,n){if("class"===n)return e.classes;if("style"===n)return e.styles;const o=e.attrs;if(o){const a=o.length;let u=0;for(;u<a;){const f=o[u];if(Yr(f))break;if(0===f)u+=2;else if("number"==typeof f)for(u++;u<a&&"string"==typeof o[u];)u++;else{if(f===n)return o[u+1];u+=2}}}return null}(_r(),e)}const sa="__parameters__";function Fa(e,n,o){return ke(()=>{const a=function Zc(e){return function(...o){if(e){const a=e(...o);for(const u in a)this[u]=a[u]}}}(n);function u(...f){if(this instanceof u)return a.apply(this,f),this;const p=new u(...f);return v.annotation=p,v;function v(_,T,R){const U=_.hasOwnProperty(sa)?_[sa]:Object.defineProperty(_,sa,{value:[]})[sa];for(;U.length<=R;)U.push(null);return(U[R]=U[R]||[]).push(p),_}}return o&&(u.prototype=Object.create(o.prototype)),u.prototype.ngMetadataName=e,u.annotationCls=u,u})}function Rs(e,n){e.forEach(o=>Array.isArray(o)?Rs(o,n):n(o))}function rh(e,n,o){n>=e.length?e.push(o):e.splice(n,0,o)}function Il(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function La(e,n){const o=[];for(let a=0;a<e;a++)o.push(n);return o}function go(e,n,o){let a=Va(e,n);return a>=0?e[1|a]=o:(a=~a,function sh(e,n,o,a){let u=e.length;if(u==n)e.push(o,a);else if(1===u)e.push(a,e[0]),e[0]=o;else{for(u--,e.push(e[u-1],e[u]);u>n;)e[u]=e[u-2],u--;e[n]=o,e[n+1]=a}}(e,a,n,o)),a}function Xc(e,n){const o=Va(e,n);if(o>=0)return e[1|o]}function Va(e,n){return function ah(e,n,o){let a=0,u=e.length>>o;for(;u!==a;){const f=a+(u-a>>1),p=e[f<<o];if(n===p)return f<<o;p>n?u=f:a=f+1}return~(u<<o)}(e,n,1)}const Al=oe(Fa("Optional"),8),Nl=oe(Fa("SkipSelf"),4);function us(e){return 128==(128&e.flags)}var ri=(()=>((ri=ri||{})[ri.Important=1]="Important",ri[ri.DashCase=2]="DashCase",ri))();const Fi=/^>|^->|<!--|-->|--!>|<!-$/g,dd=/(<|>)/,im="\u200b$1\u200b";const oi=new Map;let bh=0;const zu="__ngContext__";function Wr(e,n){wn(n)?(e[zu]=n[Br],function Eh(e){oi.set(e[Br],e)}(n)):e[zu]=n}let Ju;function Bl(e,n){return Ju(e,n)}function ja(e){const n=e[sn];return Fn(n)?n[sn]:n}function Dd(e){return Mr(e[ho])}function Cd(e){return Mr(e[kt])}function Mr(e){for(;null!==e&&!Fn(e);)e=e[kt];return e}function ds(e,n,o,a,u){if(null!=a){let f,p=!1;Fn(a)?f=a:wn(a)&&(p=!0,a=a[vt]);const v=ht(a);0===e&&null!==o?null==u?Sd(n,o,v):Ps(n,o,v,u||null,!0):1===e&&null!==o?Ps(n,o,v,u||null,!0):2===e?function ql(e,n,o){const a=da(e,n);a&&function Qu(e,n,o,a){e.removeChild(n,o,a)}(e,a,n,o)}(n,v,p):3===e&&n.destroyNode(v),null!=f&&function kh(e,n,o,a,u){const f=o[bn];f!==ht(o)&&ds(n,e,a,f,u);for(let v=yn;v<o.length;v++){const _=o[v];Ga(_[Ke],_,e,n,a,f)}}(n,e,f,o,u)}}function Yu(e,n){return e.createComment(function fd(e){return e.replace(Fi,n=>n.replace(dd,im))}(n))}function jl(e,n,o){return e.createElement(n,o)}function wd(e,n){const o=e[fi],a=o.indexOf(n);Cr(n),o.splice(a,1)}function Gl(e,n){if(e.length<=yn)return;const o=yn+n,a=e[o];if(a){const u=a[Qr];null!==u&&u!==e&&wd(u,a),n>0&&(e[o-1][kt]=a[kt]);const f=Il(e,yn+n);!function Ku(e,n){Ga(e,n,n[Et],2,null,null),n[vt]=null,n[st]=null}(a[Ke],a);const p=f[yr];null!==p&&p.detachView(f[Ke]),a[sn]=null,a[kt]=null,a[Ct]&=-129}return a}function Ed(e,n){if(!(256&n[Ct])){const o=n[Et];n[Vo]?.destroy(),n[to]?.destroy(),o.destroyNode&&Ga(e,n,o,3,null,null),function zl(e){let n=e[ho];if(!n)return Oo(e[Ke],e);for(;n;){let o=null;if(wn(n))o=n[ho];else{const a=n[yn];a&&(o=a)}if(!o){for(;n&&!n[kt]&&n!==e;)wn(n)&&Oo(n[Ke],n),n=n[sn];null===n&&(n=e),wn(n)&&Oo(n[Ke],n),o=n&&n[kt]}n=o}}(n)}}function Oo(e,n){if(!(256&n[Ct])){n[Ct]&=-129,n[Ct]|=256,function wi(e,n){let o;if(null!=e&&null!=(o=e.destroyHooks))for(let a=0;a<o.length;a+=2){const u=n[o[a]];if(!(u instanceof Xs)){const f=o[a+1];if(Array.isArray(f))for(let p=0;p<f.length;p+=2){const v=u[f[p]],_=f[p+1];ge(4,v,_);try{_.call(v)}finally{ge(5,v,_)}}else{ge(4,u,f);try{f.call(u)}finally{ge(5,u,f)}}}}}(e,n),function Th(e,n){const o=e.cleanup,a=n[Vr];if(null!==o)for(let f=0;f<o.length-1;f+=2)if("string"==typeof o[f]){const p=o[f+3];p>=0?a[p]():a[-p].unsubscribe(),f+=2}else o[f].call(a[o[f+1]]);null!==a&&(n[Vr]=null);const u=n[Hr];if(null!==u){n[Hr]=null;for(let f=0;f<u.length;f++)(0,u[f])()}}(e,n),1===n[Ke].type&&n[Et].destroy();const o=n[Qr];if(null!==o&&Fn(n[sn])){o!==n[sn]&&wd(o,n);const a=n[yr];null!==a&&a.detachView(e)}!function sm(e){oi.delete(e[Br])}(n)}}function Ei(e,n,o){return function Md(e,n,o){let a=n;for(;null!==a&&40&a.type;)a=(n=a).parent;if(null===a)return o[vt];{const{componentOffset:u}=a;if(u>-1){const{encapsulation:f}=e.data[a.directiveStart+u];if(f===Pe.None||f===Pe.Emulated)return null}return Gt(a,o)}}(e,n.parent,o)}function Ps(e,n,o,a,u){e.insertBefore(n,o,a,u)}function Sd(e,n,o){e.appendChild(n,o)}function Zu(e,n,o,a,u){null!==a?Ps(e,n,o,a,u):Sd(e,n,o)}function da(e,n){return e.parentNode(n)}function $a(e,n,o){return ii(e,n,o)}let Wl,Jl,tc,Yl,ii=function Nh(e,n,o){return 40&e.type?Gt(e,o):null};function za(e,n,o,a){const u=Ei(e,a,n),f=n[Et],v=$a(a.parent||n[st],a,n);if(null!=u)if(Array.isArray(o))for(let _=0;_<o.length;_++)Zu(f,u,o[_],v,!1);else Zu(f,u,o,v,!1);void 0!==Wl&&Wl(f,a,n,o,u)}function Fs(e,n){if(null!==n){const o=n.type;if(3&o)return Gt(n,e);if(4&o)return Td(-1,e[n.index]);if(8&o){const a=n.child;if(null!==a)return Fs(e,a);{const u=e[n.index];return Fn(u)?Td(-1,u):ht(u)}}if(32&o)return Bl(n,e)()||ht(e[n.index]);{const a=Oh(e,n);return null!==a?Array.isArray(a)?a[0]:Fs(ja(e[xn]),a):Fs(e,n.next)}}return null}function Oh(e,n){return null!==n?e[xn][st].projection[n.projection]:null}function Td(e,n){const o=yn+e+1;if(o<n.length){const a=n[o],u=a[Ke].firstChild;if(null!==u)return Fs(a,u)}return n[bn]}function Xu(e,n,o,a,u,f,p){for(;null!=o;){const v=a[o.index],_=o.type;if(p&&0===n&&(v&&Wr(ht(v),a),o.flags|=2),32!=(32&o.flags))if(8&_)Xu(e,n,o.child,a,u,f,!1),ds(n,e,u,v,f);else if(32&_){const T=Bl(o,a);let R;for(;R=T();)ds(n,e,u,R,f);ds(n,e,u,v,f)}else 16&_?Nd(e,n,a,o,u,f):ds(n,e,u,v,f);o=p?o.projectionNext:o.next}}function Ga(e,n,o,a,u,f){Xu(o,a,e.firstChild,n,u,f,!1)}function Nd(e,n,o,a,u,f){const p=o[xn],_=p[st].projection[a.projection];if(Array.isArray(_))for(let T=0;T<_.length;T++)ds(n,e,u,_[T],f);else{let T=_;const R=p[sn];us(a)&&(T.flags|=128),Xu(e,n,T,R,u,f,!0)}}function Od(e,n,o){""===o?e.removeAttribute(n,"class"):e.setAttribute(n,"class",o)}function Rd(e,n,o){const{mergedAttrs:a,classes:u,styles:f}=o;null!==a&&lr(e,n,a),null!==u&&Od(e,n,u),null!==f&&function Fh(e,n,o){e.setAttribute(n,"style",o)}(e,n,f)}function fa(e){return function ec(){if(void 0===Jl&&(Jl=null,Ot.trustedTypes))try{Jl=Ot.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Jl}()?.createHTML(e)||e}function Hh(e){tc=e}function Wa(){if(void 0!==tc)return tc;if(typeof document<"u")return document;throw new qe(210,!1)}function nc(){if(void 0===Yl&&(Yl=null,Ot.trustedTypes))try{Yl=Ot.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Yl}function kd(e){return nc()?.createHTML(e)||e}function Fd(e){return nc()?.createScriptURL(e)||e}class Ls{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${En})`}}class Uh extends Ls{getTypeName(){return"HTML"}}class jh extends Ls{getTypeName(){return"Style"}}class $h extends Ls{getTypeName(){return"Script"}}class zh extends Ls{getTypeName(){return"URL"}}class Gh extends Ls{getTypeName(){return"ResourceURL"}}function Li(e){return e instanceof Ls?e.changingThisBreaksApplicationSecurity:e}function ha(e,n){const o=function Wh(e){return e instanceof Ls&&e.getTypeName()||null}(e);if(null!=o&&o!==n){if("ResourceURL"===o&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${o} (see ${En})`)}return o===n}function lm(e){return new Uh(e)}function um(e){return new jh(e)}function qh(e){return new $h(e)}function Jh(e){return new zh(e)}function Yh(e){return new Gh(e)}class Kh{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const o=(new window.DOMParser).parseFromString(fa(n),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(n):(o.removeChild(o.firstChild),o)}catch{return null}}}class Zh{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const o=this.inertDocument.createElement("template");return o.innerHTML=fa(n),o}}const Xh=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Kl(e){return(e=String(e)).match(Xh)?e:"unsafe:"+e}function Vi(e){const n={};for(const o of e.split(","))n[o]=!0;return n}function pa(...e){const n={};for(const o of e)for(const a in o)o.hasOwnProperty(a)&&(n[a]=!0);return n}const Vd=Vi("area,br,col,hr,img,wbr"),rc=Vi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Bd=Vi("rp,rt"),oc=pa(Vd,pa(rc,Vi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),pa(Bd,Vi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),pa(Bd,rc)),ic=Vi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Bi=pa(ic,Vi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Vi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ga=Vi("script,style,template");class rp{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let o=n.firstChild,a=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?a=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,a&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let u=this.checkClobberedElement(o,o.nextSibling);if(u){o=u;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(n){const o=n.nodeName.toLowerCase();if(!oc.hasOwnProperty(o))return this.sanitizedSomething=!0,!ga.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const a=n.attributes;for(let u=0;u<a.length;u++){const f=a.item(u),p=f.name,v=p.toLowerCase();if(!Bi.hasOwnProperty(v)){this.sanitizedSomething=!0;continue}let _=f.value;ic[v]&&(_=Kl(_)),this.buf.push(" ",p,'="',fs(_),'"')}return this.buf.push(">"),!0}endElement(n){const o=n.nodeName.toLowerCase();oc.hasOwnProperty(o)&&!Vd.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(n){this.buf.push(fs(n))}checkClobberedElement(n,o){if(o&&(n.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return o}}const op=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ql=/([^\#-~ |!])/g;function fs(e){return e.replace(/&/g,"&amp;").replace(op,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(Ql,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let hs;function Hd(e,n){let o=null;try{hs=hs||function Ld(e){const n=new Zh(e);return function Qh(){try{return!!(new window.DOMParser).parseFromString(fa(""),"text/html")}catch{return!1}}()?new Kh(n):n}(e);let a=n?String(n):"";o=hs.getInertBodyElement(a);let u=5,f=a;do{if(0===u)throw new Error("Failed to sanitize html because the input is unstable");u--,a=f,f=o.innerHTML,o=hs.getInertBodyElement(a)}while(a!==f);return fa((new rp).sanitizeChildren(qa(o)||o))}finally{if(o){const a=qa(o)||o;for(;a.firstChild;)a.removeChild(a.firstChild)}}}function qa(e){return"content"in e&&function Ud(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var Tn=(()=>((Tn=Tn||{})[Tn.NONE=0]="NONE",Tn[Tn.HTML=1]="HTML",Tn[Tn.STYLE=2]="STYLE",Tn[Tn.SCRIPT=3]="SCRIPT",Tn[Tn.URL=4]="URL",Tn[Tn.RESOURCE_URL=5]="RESOURCE_URL",Tn))();function jd(e){const n=Ja();return n?kd(n.sanitize(Tn.HTML,e)||""):ha(e,"HTML")?kd(Li(e)):Hd(Wa(),Xe(e))}function sc(e){const n=Ja();return n?n.sanitize(Tn.URL,e)||"":ha(e,"URL")?Li(e):Kl(Xe(e))}function $d(e){const n=Ja();if(n)return Fd(n.sanitize(Tn.RESOURCE_URL,e)||"");if(ha(e,"ResourceURL"))return Fd(Li(e));throw new qe(904,!1)}function zd(e,n,o){return function up(e,n){return"src"===n&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===n&&("base"===e||"link"===e)?$d:sc}(n,o)(e)}function Ja(){const e=Ne();return e&&e[Xn].sanitizer}class vn{constructor(n,o){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=nn({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Ya=new vn("ENVIRONMENT_INITIALIZER"),Gd=new vn("INJECTOR",-1),Wd=new vn("INJECTOR_DEF_TYPES");class qd{get(n,o=Ir){if(o===Ir){const a=new Error(`NullInjectorError: No provider for ${ze(n)}!`);throw a.name="NullInjectorError",a}return o}}function ac(e){return{\u0275providers:e}}function cp(...e){return{\u0275providers:Jd(0,e),\u0275fromNgModule:!0}}function Jd(e,...n){const o=[],a=new Set;let u;return Rs(n,f=>{const p=f;lc(p,o,[],a)&&(u||=[],u.push(p))}),void 0!==u&&Yd(u,o),o}function Yd(e,n){for(let o=0;o<e.length;o++){const{providers:u}=e[o];uc(u,f=>{n.push(f)})}}function lc(e,n,o,a){if(!(e=Ae(e)))return!1;let u=null,f=Yn(e);const p=!f&&Yt(e);if(f||p){if(p&&!p.standalone)return!1;u=e}else{const _=e.ngModule;if(f=Yn(_),!f)return!1;u=_}const v=a.has(u);if(p){if(v)return!1;if(a.add(u),p.dependencies){const _="function"==typeof p.dependencies?p.dependencies():p.dependencies;for(const T of _)lc(T,n,o,a)}}else{if(!f)return!1;{if(null!=f.imports&&!v){let T;a.add(u);try{Rs(f.imports,R=>{lc(R,n,o,a)&&(T||=[],T.push(R))})}finally{}void 0!==T&&Yd(T,n)}if(!v){const T=jr(u)||(()=>new u);n.push({provide:u,useFactory:T,deps:Ge},{provide:Wd,useValue:u,multi:!0},{provide:Ya,useValue:()=>bt(u),multi:!0})}const _=f.providers;null==_||v||uc(_,R=>{n.push(R)})}}return u!==e&&void 0!==e.providers}function uc(e,n){for(let o of e)fn(o)&&(o=o.\u0275providers),Array.isArray(o)?uc(o,n):n(o)}const dp=be({provide:String,useValue:be});function cc(e){return null!==e&&"object"==typeof e&&dp in e}function si(e){return"function"==typeof e}const fc=new vn("Set Injector scope."),Xl={},hc={};let pc;function eu(){return void 0===pc&&(pc=new qd),pc}class Vs{}class gc extends Vs{get destroyed(){return this._destroyed}constructor(n,o,a,u){super(),this.parent=o,this.source=a,this.scopes=u,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,yc(n,p=>this.processProvider(p)),this.records.set(Gd,ma(void 0,this)),u.has("environment")&&this.records.set(Vs,ma(void 0,this));const f=this.records.get(fc);null!=f&&"string"==typeof f.value&&this.scopes.add(f.value),this.injectorDefTypes=new Set(this.get(Wd.multi,Ge,Je.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of n)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const o=Ye(this),a=wt(void 0);try{return n()}finally{Ye(o),wt(a)}}get(n,o=Ir,a=Je.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(on))return n[on](this);a=Bn(a);const u=Ye(this),f=wt(void 0);try{if(!(a&Je.SkipSelf)){let v=this.records.get(n);if(void 0===v){const _=function mp(e){return"function"==typeof e||"object"==typeof e&&e instanceof vn}(n)&&yt(n);v=_&&this.injectableDefInScope(_)?ma(mc(n),Xl):null,this.records.set(n,v)}if(null!=v)return this.hydrate(n,v)}return(a&Je.Self?eu():this.parent).get(n,o=a&Je.Optional&&o===Ir?null:o)}catch(p){if("NullInjectorError"===p.name){if((p[rr]=p[rr]||[]).unshift(ze(n)),u)throw p;return function q(e,n,o,a){const u=e[rr];throw n[j]&&u.unshift(n[j]),e.message=function Se(e,n,o,a=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let u=ze(n);if(Array.isArray(n))u=n.map(ze).join(" -> ");else if("object"==typeof n){let f=[];for(let p in n)if(n.hasOwnProperty(p)){let v=n[p];f.push(p+":"+("string"==typeof v?JSON.stringify(v):ze(v)))}u=`{${f.join(", ")}}`}return`${o}${a?"("+a+")":""}[${u}]: ${e.replace(ue,"\n  ")}`}("\n"+e.message,u,o,a),e.ngTokenPath=u,e[rr]=null,e}(p,n,"R3InjectorError",this.source)}throw p}finally{wt(f),Ye(u)}}resolveInjectorInitializers(){const n=Ye(this),o=wt(void 0);try{const a=this.get(Ya.multi,Ge,Je.Self);for(const u of a)u()}finally{Ye(n),wt(o)}}toString(){const n=[],o=this.records;for(const a of o.keys())n.push(ze(a));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new qe(205,!1)}processProvider(n){let o=si(n=Ae(n))?n:Ae(n&&n.provide);const a=function hp(e){return cc(e)?ma(void 0,e.useValue):ma(Zd(e),Xl)}(n);if(si(n)||!0!==n.multi)this.records.get(o);else{let u=this.records.get(o);u||(u=ma(void 0,Xl,!0),u.factory=()=>gr(u.multi),this.records.set(o,u)),o=n,u.multi.push(n)}this.records.set(o,a)}hydrate(n,o){return o.value===Xl&&(o.value=hc,o.value=o.factory()),"object"==typeof o.value&&o.value&&function gp(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(n){if(!n.providedIn)return!1;const o=Ae(n.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}removeOnDestroy(n){const o=this._onDestroyHooks.indexOf(n);-1!==o&&this._onDestroyHooks.splice(o,1)}}function mc(e){const n=yt(e),o=null!==n?n.factory:jr(e);if(null!==o)return o;if(e instanceof vn)throw new qe(204,!1);if(e instanceof Function)return function fp(e){const n=e.length;if(n>0)throw La(n,"?"),new qe(204,!1);const o=function tr(e){return e&&(e[Sn]||e[Dn])||null}(e);return null!==o?()=>o.factory(e):()=>new e}(e);throw new qe(204,!1)}function Zd(e,n,o){let a;if(si(e)){const u=Ae(e);return jr(u)||mc(u)}if(cc(e))a=()=>Ae(e.useValue);else if(function dc(e){return!(!e||!e.useFactory)}(e))a=()=>e.useFactory(...gr(e.deps||[]));else if(function Ka(e){return!(!e||!e.useExisting)}(e))a=()=>bt(Ae(e.useExisting));else{const u=Ae(e&&(e.useClass||e.provide));if(!function pp(e){return!!e.deps}(e))return jr(u)||mc(u);a=()=>new u(...gr(e.deps))}return a}function ma(e,n,o=!1){return{factory:e,value:n,multi:o?[]:void 0}}function yc(e,n){for(const o of e)Array.isArray(o)?yc(o,n):o&&fn(o)?yc(o.\u0275providers,n):n(o)}const Qd=new vn("AppId",{providedIn:"root",factory:()=>yp}),yp="ng",Xd=new vn("Platform Initializer"),vc=new vn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),vp=new vn("CSP nonce",{providedIn:"root",factory:()=>Wa().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let nf=(e,n)=>null;function rf(e,n){return nf(e,n)}class bp{}class cf{}class Ep{resolveComponentFactory(n){throw function wp(e){const n=Error(`No component factory found for ${ze(e)}.`);return n.ngComponent=e,n}(n)}}let ru=(()=>{class e{}return e.NULL=new Ep,e})();function Mp(){return va(_r(),Ne())}function va(e,n){return new Da(Gt(e,n))}let Da=(()=>{class e{constructor(o){this.nativeElement=o}}return e.__NG_ELEMENT_ID__=Mp,e})();function ff(e){return e instanceof Da?e.nativeElement:e}class hf{}let s=(()=>{class e{constructor(){this.destroyNode=null}}return e.__NG_ELEMENT_ID__=()=>function t(){const e=Ne(),o=Rn(_r().index,e);return(wn(o)?o:e)[Et]}(),e})(),r=(()=>{class e{}return e.\u0275prov=nn({token:e,providedIn:"root",factory:()=>null}),e})();class i{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const l=new i("16.1.3"),c={};function h(e){for(;e;){e[Ct]|=64;const n=ja(e);if(hi(e)&&!n)return e;e=n}return null}function I(e){return e.ngOriginalError}class O{constructor(){this._console=console}handleError(n){const o=this._findOriginalError(n);this._console.error("ERROR",n),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(n){let o=n&&I(n);for(;o&&I(o);)o=I(o);return o||null}}const W=new vn("",{providedIn:"root",factory:()=>!1});function lo(e){return e.ownerDocument}function ai(e){return e instanceof Function?e():e}class Sm extends js{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(n){this._lView=n}onConsumerDependencyMayHaveChanged(){h(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(n,o,a){const u=qn(this);this.trackingVersion++;try{n(o,a)}finally{qn(u)}}destroy(){this.trackingVersion++}}let pf=null;function xm(){return pf??=new Sm,pf}function Im(e,n){return e[n]??xm()}function Tm(e,n){const o=xm();o.hasReadASignal&&(e[n]=pf,o.lView=e,pf=new Sm)}const jt={};function Am(e){Nm(Wt(),Ne(),Gr()+e,!1)}function Nm(e,n,o,a){if(!a)if(3==(3&n[Ct])){const f=e.preOrderCheckHooks;null!==f&&Er(n,f,o)}else{const f=e.preOrderHooks;null!==f&&rs(n,f,0,o)}y(o)}function Pm(e,n=null,o=null,a){const u=Fm(e,n,o,a);return u.resolveInjectorInitializers(),u}function Fm(e,n=null,o=null,a,u=new Set){const f=[o||Ge,cp(e)];return a=a||("object"==typeof e?void 0:ze(e)),new gc(f,n||eu(),a||null,u)}let Ca=(()=>{class e{static create(o,a){if(Array.isArray(o))return Pm({name:""},a,o,"");{const u=o.name??"";return Pm({name:u},o.parent,o.providers,u)}}}return e.THROW_IF_NOT_FOUND=Ir,e.NULL=new qd,e.\u0275prov=nn({token:e,providedIn:"any",factory:()=>bt(Gd)}),e.__NG_ELEMENT_ID__=-1,e})();function ou(e,n=Je.Default){const o=Ne();return null===o?bt(e,n):Ou(_r(),o,Ae(e),n)}function Lm(){throw new Error("invalid")}function gf(e,n,o,a,u,f,p,v,_,T,R){const U=n.blueprint.slice();return U[vt]=u,U[Ct]=140|a,(null!==T||e&&2048&e[Ct])&&(U[Ct]|=2048),Zo(U),U[sn]=U[Eo]=e,U[Ut]=o,U[Xn]=p||e&&e[Xn],U[Et]=v||e&&e[Et],U[fo]=_||e&&e[fo]||null,U[st]=f,U[Br]=function wh(){return bh++}(),U[mn]=R,U[eo]=T,U[xn]=2==n.type?e[xn]:U,U}function iu(e,n,o,a,u){let f=e.data[n];if(null===f)f=function Sp(e,n,o,a,u){const f=cl(),p=Is(),_=e.data[n]=function o_(e,n,o,a,u,f){let p=n?n.injectorIndex:-1,v=0;return Qo()&&(v|=128),{type:o,index:a,insertBeforeIndex:null,injectorIndex:p,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:v,providerIndexes:0,value:u,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,p?f:f&&f.parent,o,n,a,u);return null===e.firstChild&&(e.firstChild=_),null!==f&&(p?null==f.child&&null!==_.parent&&(f.child=_):null===f.next&&(f.next=_,_.prev=f)),_}(e,n,o,a,u),function Au(){return St.lFrame.inI18n}()&&(f.flags|=32);else if(64&f.type){f.type=o,f.value=a,f.attrs=u;const p=function xs(){const e=St.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}();f.injectorIndex=null===p?-1:p.injectorIndex}return so(f,!0),f}function Sc(e,n,o,a){if(0===o)return-1;const u=n.length;for(let f=0;f<o;f++)n.push(a),e.blueprint.push(a),e.data.push(null);return u}function Vm(e,n,o,a,u){const f=Im(n,Vo),p=Gr(),v=2&a;try{if(y(-1),v&&n.length>Tt&&Nm(e,n,Tt,!1),ge(v?2:0,u),v)f.runInContext(o,a,u);else{const T=qn(null);try{o(a,u)}finally{qn(T)}}}finally{v&&null===n[Vo]&&Tm(n,Vo),y(p),ge(v?3:1,u)}}function xp(e,n,o){if(ur(n)){const a=qn(null);try{const f=n.directiveEnd;for(let p=n.directiveStart;p<f;p++){const v=e.data[p];v.contentQueries&&v.contentQueries(1,o[p],p)}}finally{qn(a)}}}function Ip(e,n,o){Ta()&&(function d_(e,n,o,a){const u=o.directiveStart,f=o.directiveEnd;So(o)&&function v_(e,n,o){const a=Gt(n,e),u=Bm(o);let p=16;o.signals?p=4096:o.onPush&&(p=64);const v=mf(e,gf(e,u,null,p,a,n,null,e[Xn].rendererFactory.createRenderer(a,o),null,null,null));e[n.index]=v}(n,o,e.data[u+o.componentOffset]),e.firstCreatePass||Dl(o,n),Wr(a,n);const p=o.initialInputs;for(let v=u;v<f;v++){const _=e.data[v],T=Os(n,e,v,o);Wr(T,n),null!==p&&D_(0,v-u,T,_,0,p),Ln(_)&&(Rn(o.index,n)[Ut]=Os(n,e,v,o))}}(e,n,o,Gt(o,n)),64==(64&o.flags)&&zm(e,n,o))}function Tp(e,n,o=Gt){const a=n.localNames;if(null!==a){let u=n.index+1;for(let f=0;f<a.length;f+=2){const p=a[f+1],v=-1===p?o(n,e):e[p];e[u++]=v}}}function Bm(e){const n=e.tView;return null===n||n.incompleteFirstPass?e.tView=Ap(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function Ap(e,n,o,a,u,f,p,v,_,T,R){const U=Tt+a,K=U+u,te=function QC(e,n){const o=[];for(let a=0;a<n;a++)o.push(a<e?null:jt);return o}(U,K),Ce="function"==typeof T?T():T;return te[Ke]={type:e,blueprint:te,template:o,queries:null,viewQuery:v,declTNode:n,data:te.slice().fill(null,U),bindingStartIndex:U,expandoStartIndex:K,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof p?p():p,firstChild:null,schemas:_,consts:Ce,incompleteFirstPass:!1,ssrId:R}}let Hm=e=>null;function Um(e,n,o,a){for(let u in e)if(e.hasOwnProperty(u)){o=null===o?{}:o;const f=e[u];null===a?jm(o,n,u,f):a.hasOwnProperty(u)&&jm(o,n,a[u],f)}return o}function jm(e,n,o,a){e.hasOwnProperty(o)?e[o].push(n,a):e[o]=[n,a]}function li(e,n,o,a,u,f,p,v){const _=Gt(n,o);let R,T=n.inputs;!v&&null!=T&&(R=T[a])?(Pp(e,o,R,a,u),So(n)&&function a_(e,n){const o=Rn(n,e);16&o[Ct]||(o[Ct]|=64)}(o,n.index)):3&n.type&&(a=function s_(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(a),u=null!=p?p(u,n.value||"",a):u,f.setProperty(_,a,u))}function Np(e,n,o,a){if(Ta()){const u=null===a?null:{"":-1},f=function h_(e,n){const o=e.directiveRegistry;let a=null,u=null;if(o)for(let f=0;f<o.length;f++){const p=o[f];if(_o(n,p.selectors,!1))if(a||(a=[]),Ln(p))if(null!==p.findHostDirectiveDefs){const v=[];u=u||new Map,p.findHostDirectiveDefs(p,v,u),a.unshift(...v,p),Op(e,n,v.length)}else a.unshift(p),Op(e,n,0);else u=u||new Map,p.findHostDirectiveDefs?.(p,a,u),a.push(p)}return null===a?null:[a,u]}(e,o);let p,v;null===f?p=v=null:[p,v]=f,null!==p&&$m(e,n,o,p,u,v),u&&function p_(e,n,o){if(n){const a=e.localNames=[];for(let u=0;u<n.length;u+=2){const f=o[n[u+1]];if(null==f)throw new qe(-301,!1);a.push(n[u],f)}}}(o,a,u)}o.mergedAttrs=Un(o.mergedAttrs,o.attrs)}function $m(e,n,o,a,u,f){for(let T=0;T<a.length;T++)bl(Dl(o,n),e,a[T].type);!function m_(e,n,o){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+o,e.providerIndexes=n}(o,e.data.length,a.length);for(let T=0;T<a.length;T++){const R=a[T];R.providersResolver&&R.providersResolver(R)}let p=!1,v=!1,_=Sc(e,n,a.length,null);for(let T=0;T<a.length;T++){const R=a[T];o.mergedAttrs=Un(o.mergedAttrs,R.hostAttrs),y_(e,o,n,_,R),g_(_,R,u),null!==R.contentQueries&&(o.flags|=4),(null!==R.hostBindings||null!==R.hostAttrs||0!==R.hostVars)&&(o.flags|=64);const U=R.type.prototype;!p&&(U.ngOnChanges||U.ngOnInit||U.ngDoCheck)&&((e.preOrderHooks??=[]).push(o.index),p=!0),!v&&(U.ngOnChanges||U.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(o.index),v=!0),_++}!function i_(e,n,o){const u=n.directiveEnd,f=e.data,p=n.attrs,v=[];let _=null,T=null;for(let R=n.directiveStart;R<u;R++){const U=f[R],K=o?o.get(U):null,Ce=K?K.outputs:null;_=Um(U.inputs,R,_,K?K.inputs:null),T=Um(U.outputs,R,T,Ce);const Le=null===_||null===p||zi(n)?null:C_(_,R,p);v.push(Le)}null!==_&&(_.hasOwnProperty("class")&&(n.flags|=8),_.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=v,n.inputs=_,n.outputs=T}(e,o,f)}function zm(e,n,o){const a=o.directiveStart,u=o.directiveEnd,f=o.index,p=function pl(){return St.lFrame.currentDirectiveIndex}();try{y(f);for(let v=a;v<u;v++){const _=e.data[v],T=n[v];Ts(v),(null!==_.hostBindings||0!==_.hostVars||null!==_.hostAttrs)&&f_(_,T)}}finally{y(-1),Ts(p)}}function f_(e,n){null!==e.hostBindings&&e.hostBindings(1,n)}function Op(e,n,o){n.componentOffset=o,(e.components??=[]).push(n.index)}function g_(e,n,o){if(o){if(n.exportAs)for(let a=0;a<n.exportAs.length;a++)o[n.exportAs[a]]=e;Ln(n)&&(o[""]=e)}}function y_(e,n,o,a,u){e.data[a]=u;const f=u.factory||(u.factory=jr(u.type)),p=new Xs(f,Ln(u),ou);e.blueprint[a]=p,o[a]=p,function u_(e,n,o,a,u){const f=u.hostBindings;if(f){let p=e.hostBindingOpCodes;null===p&&(p=e.hostBindingOpCodes=[]);const v=~n.index;(function c_(e){let n=e.length;for(;n>0;){const o=e[--n];if("number"==typeof o&&o<0)return o}return 0})(p)!=v&&p.push(v),p.push(o,a,f)}}(e,n,a,Sc(e,o,u.hostVars,jt),u)}function ys(e,n,o,a,u,f){const p=Gt(e,n);!function Rp(e,n,o,a,u,f,p){if(null==f)e.removeAttribute(n,u,o);else{const v=null==p?Xe(f):p(f,a||"",u);e.setAttribute(n,u,v,o)}}(n[Et],p,f,e.value,o,a,u)}function D_(e,n,o,a,u,f){const p=f[n];if(null!==p)for(let v=0;v<p.length;)Gm(a,o,p[v++],p[v++],p[v++])}function Gm(e,n,o,a,u){const f=qn(null);try{const p=e.inputTransforms;null!==p&&p.hasOwnProperty(a)&&(u=p[a].call(n,u)),null!==e.setInput?e.setInput(n,u,o,a):n[a]=u}finally{qn(f)}}function C_(e,n,o){let a=null,u=0;for(;u<o.length;){const f=o[u];if(0!==f)if(5!==f){if("number"==typeof f)break;if(e.hasOwnProperty(f)){null===a&&(a=[]);const p=e[f];for(let v=0;v<p.length;v+=2)if(p[v]===n){a.push(f,p[v+1],o[u+1]);break}}u+=2}else u+=2;else u+=4}return a}function Wm(e,n,o,a){return[e,!0,!1,n,null,0,a,o,null,null,null]}function qm(e,n){const o=e.contentQueries;if(null!==o)for(let a=0;a<o.length;a+=2){const f=o[a+1];if(-1!==f){const p=e.data[f];Ks(o[a]),p.contentQueries(2,n[f],f)}}}function mf(e,n){return e[ho]?e[po][kt]=n:e[ho]=n,e[po]=n,n}function kp(e,n,o){Ks(0);const a=qn(null);try{n(e,o)}finally{qn(a)}}function Jm(e){return e[Vr]||(e[Vr]=[])}function Ym(e){return e.cleanup||(e.cleanup=[])}function Zm(e,n){const o=e[fo],a=o?o.get(O,null):null;a&&a.handleError(n)}function Pp(e,n,o,a,u){for(let f=0;f<o.length;){const p=o[f++],v=o[f++];Gm(e.data[p],n[p],a,v,u)}}function Bs(e,n,o){const a=Ft(n,e);!function _d(e,n,o){e.setValue(n,o)}(e[Et],a,o)}function __(e,n){const o=Rn(n,e),a=o[Ke];!function b_(e,n){for(let o=n.length;o<e.blueprint.length;o++)n.push(e.blueprint[o])}(a,o);const u=o[vt];null!==u&&null===o[mn]&&(o[mn]=rf(u,o[fo])),Fp(a,o,o[Ut])}function Fp(e,n,o){Oa(n);try{const a=e.viewQuery;null!==a&&kp(1,a,o);const u=e.template;null!==u&&Vm(e,n,u,1,o),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&qm(e,n),e.staticViewQueries&&kp(2,e.viewQuery,o);const f=e.components;null!==f&&function w_(e,n){for(let o=0;o<n.length;o++)__(e,n[o])}(n,f)}catch(a){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),a}finally{n[Ct]&=-5,yl()}}let Qm=(()=>{class e{constructor(){this.all=new Set,this.queue=new Map}create(o,a,u){const f=typeof Zone>"u"?null:Zone.current,p=new vi(o,T=>{this.all.has(T)&&this.queue.set(T,f)},u);let v;this.all.add(p),p.notify();const _=()=>{p.cleanup(),v?.(),this.all.delete(p),this.queue.delete(p)};return v=a?.onDestroy(_),{destroy:_}}flush(){if(0!==this.queue.size)for(const[o,a]of this.queue)this.queue.delete(o),a?a.run(()=>o.run()):o.run()}get isQueueEmpty(){return 0===this.queue.size}}return e.\u0275prov=nn({token:e,providedIn:"root",factory:()=>new e}),e})();function yf(e,n,o){let a=o?e.styles:null,u=o?e.classes:null,f=0;if(null!==n)for(let p=0;p<n.length;p++){const v=n[p];"number"==typeof v?f=v:1==f?u=Fe(u,v):2==f&&(a=Fe(a,v+": "+n[++p]+";"))}o?e.styles=a:e.stylesWithoutHost=a,o?e.classes=u:e.classesWithoutHost=u}function xc(e,n,o,a,u=!1){for(;null!==o;){const f=n[o.index];if(null!==f&&a.push(ht(f)),Fn(f)){for(let v=yn;v<f.length;v++){const _=f[v],T=_[Ke].firstChild;null!==T&&xc(_[Ke],_,T,a)}f[bn]!==f[vt]&&a.push(f[bn])}const p=o.type;if(8&p)xc(e,n,o.child,a);else if(32&p){const v=Bl(o,n);let _;for(;_=v();)a.push(_)}else if(16&p){const v=Oh(n,o);if(Array.isArray(v))a.push(...v);else{const _=ja(n[xn]);xc(_[Ke],_,v,a,!0)}}o=u?o.projectionNext:o.next}return a}function vf(e,n,o,a=!0){const u=n[Xn].rendererFactory;u.begin&&u.begin();try{Xm(e,n,e.template,o)}catch(p){throw a&&Zm(n,p),p}finally{u.end&&u.end(),n[Xn].effectManager?.flush()}}function Xm(e,n,o,a){const u=n[Ct];if(256!=(256&u)){n[Xn].effectManager?.flush(),Oa(n);try{Zo(n),function fl(e){return St.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==o&&Vm(e,n,o,2,a);const p=3==(3&u);if(p){const T=e.preOrderCheckHooks;null!==T&&Er(n,T,null)}else{const T=e.preOrderHooks;null!==T&&rs(n,T,0,null),ei(n,0)}if(function I_(e){for(let n=Dd(e);null!==n;n=Cd(n)){if(!n[qi])continue;const o=n[fi];for(let a=0;a<o.length;a++){Ia(o[a])}}}(n),ey(n,2),null!==e.contentQueries&&qm(e,n),p){const T=e.contentCheckHooks;null!==T&&Er(n,T)}else{const T=e.contentHooks;null!==T&&rs(n,T,1),ei(n,1)}!function ZC(e,n){const o=e.hostBindingOpCodes;if(null===o)return;const a=Im(n,to);try{for(let u=0;u<o.length;u++){const f=o[u];if(f<0)y(~f);else{const p=f,v=o[++u],_=o[++u];Aa(v,p),a.runInContext(_,2,n[p])}}}finally{null===n[to]&&Tm(n,to),y(-1)}}(e,n);const v=e.components;null!==v&&ny(n,v,0);const _=e.viewQuery;if(null!==_&&kp(2,_,a),p){const T=e.viewCheckHooks;null!==T&&Er(n,T)}else{const T=e.viewHooks;null!==T&&rs(n,T,2),ei(n,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),n[Ct]&=-73,Cr(n)}finally{yl()}}}function ey(e,n){for(let o=Dd(e);null!==o;o=Cd(o))for(let a=yn;a<o.length;a++)ty(o[a],n)}function T_(e,n,o){ty(Rn(n,e),o)}function ty(e,n){if(!function oo(e){return 128==(128&e[Ct])}(e))return;const o=e[Ke];if(80&e[Ct]&&0===n||1024&e[Ct]||2===n)Xm(o,e,o.template,e[Ut]);else if(e[mr]>0){ey(e,1);const u=e[Ke].components;null!==u&&ny(e,u,1)}}function ny(e,n,o){for(let a=0;a<n.length;a++)T_(e,n[a],o)}class Ic{get rootNodes(){const n=this._lView,o=n[Ke];return xc(o,n,o.firstChild,[])}constructor(n,o){this._lView=n,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ut]}set context(n){this._lView[Ut]=n}get destroyed(){return 256==(256&this._lView[Ct])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[sn];if(Fn(n)){const o=n[8],a=o?o.indexOf(this):-1;a>-1&&(Gl(n,a),Il(o,a))}this._attachedToViewContainer=!1}Ed(this._lView[Ke],this._lView)}onDestroy(n){!function Uo(e,n){if(256==(256&e[Ct]))throw new qe(911,!1);null===e[Hr]&&(e[Hr]=[]),e[Hr].push(n)}(this._lView,n)}markForCheck(){h(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ct]&=-129}reattach(){this._lView[Ct]|=128}detectChanges(){vf(this._lView[Ke],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new qe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Ih(e,n){Ga(e,n,n[Et],2,null,null)}(this._lView[Ke],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new qe(902,!1);this._appRef=n}}class A_ extends Ic{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;vf(n[Ke],n,n[Ut],!1)}checkNoChanges(){}get context(){return null}}class ry extends ru{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const o=Yt(n);return new Tc(o,this.ngModule)}}function oy(e){const n=[];for(let o in e)e.hasOwnProperty(o)&&n.push({propName:e[o],templateName:o});return n}class O_{constructor(n,o){this.injector=n,this.parentInjector=o}get(n,o,a){a=Bn(a);const u=this.injector.get(n,c,a);return u!==c||o===c?u:this.parentInjector.get(n,o,a)}}class Tc extends cf{get inputs(){const n=this.componentDef,o=n.inputTransforms,a=oy(n.inputs);if(null!==o)for(const u of a)o.hasOwnProperty(u.propName)&&(u.transform=o[u.propName]);return a}get outputs(){return oy(this.componentDef.outputs)}constructor(n,o){super(),this.componentDef=n,this.ngModule=o,this.componentType=n.type,this.selector=function Pr(e){return e.map(bs).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!o}create(n,o,a,u){let f=(u=u||this.ngModule)instanceof Vs?u:u?.injector;f&&null!==this.componentDef.getStandaloneInjector&&(f=this.componentDef.getStandaloneInjector(f)||f);const p=f?new O_(n,f):n,v=p.get(hf,null);if(null===v)throw new qe(407,!1);const R={rendererFactory:v,sanitizer:p.get(r,null),effectManager:p.get(Qm,null)},U=v.createRenderer(null,this.componentDef),K=this.componentDef.selectors[0][0]||"div",te=a?function XC(e,n,o,a){const f=a.get(W,!1)||o===Pe.ShadowDom,p=e.selectRootElement(n,f);return function e_(e){Hm(e)}(p),p}(U,a,this.componentDef.encapsulation,p):jl(U,K,function N_(e){const n=e.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(K)),Ze=this.componentDef.signals?4608:this.componentDef.onPush?576:528,ct=Ap(0,null,null,1,0,null,null,null,null,null,null),Ee=gf(null,ct,null,Ze,null,null,R,U,p,null,null);let Vt,ln;Oa(Ee);try{const dn=this.componentDef;let vo,Gf=null;dn.findHostDirectiveDefs?(vo=[],Gf=new Map,dn.findHostDirectiveDefs(dn,vo,Gf),vo.push(dn)):vo=[dn];const MM=function k_(e,n){const o=e[Ke],a=Tt;return e[a]=n,iu(o,a,2,"#host",null)}(Ee,te),SM=function P_(e,n,o,a,u,f,p){const v=u[Ke];!function F_(e,n,o,a){for(const u of e)n.mergedAttrs=Un(n.mergedAttrs,u.hostAttrs);null!==n.mergedAttrs&&(yf(n,n.mergedAttrs,!0),null!==o&&Rd(a,o,n))}(a,e,n,p);let _=null;null!==n&&(_=rf(n,u[fo]));const T=f.rendererFactory.createRenderer(n,o);let R=16;o.signals?R=4096:o.onPush&&(R=64);const U=gf(u,Bm(o),null,R,u[e.index],e,f,T,null,null,_);return v.firstCreatePass&&Op(v,e,a.length-1),mf(u,U),u[e.index]=U}(MM,te,dn,vo,Ee,R,U);ln=On(ct,Tt),te&&function V_(e,n,o,a){if(a)lr(e,o,["ng-version",l.full]);else{const{attrs:u,classes:f}=function Hs(e){const n=[],o=[];let a=1,u=2;for(;a<e.length;){let f=e[a];if("string"==typeof f)2===u?""!==f&&n.push(f,e[++a]):8===u&&o.push(f);else{if(!Pn(u))break;u=f}a++}return{attrs:n,classes:o}}(n.selectors[0]);u&&lr(e,o,u),f&&f.length>0&&Od(e,o,f.join(" "))}}(U,dn,te,a),void 0!==o&&function B_(e,n,o){const a=e.projection=[];for(let u=0;u<n.length;u++){const f=o[u];a.push(null!=f?Array.from(f):null)}}(ln,this.ngContentSelectors,o),Vt=function L_(e,n,o,a,u,f){const p=_r(),v=u[Ke],_=Gt(p,u);$m(v,u,p,o,null,a);for(let R=0;R<o.length;R++)Wr(Os(u,v,p.directiveStart+R,p),u);zm(v,u,p),_&&Wr(_,u);const T=Os(u,v,p.directiveStart+p.componentOffset,p);if(e[Ut]=u[Ut]=T,null!==f)for(const R of f)R(T,n);return xp(v,p,e),T}(SM,dn,vo,Gf,Ee,[H_]),Fp(ct,Ee,null)}finally{yl()}return new R_(this.componentType,Vt,va(ln,Ee),Ee,ln)}}class R_ extends bp{constructor(n,o,a,u,f){super(),this.location=a,this._rootLView=u,this._tNode=f,this.previousInputValues=null,this.instance=o,this.hostView=this.changeDetectorRef=new A_(u),this.componentType=n}setInput(n,o){const a=this._tNode.inputs;let u;if(null!==a&&(u=a[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),o))return;const f=this._rootLView;Pp(f[Ke],f,u,n,o),this.previousInputValues.set(n,o),h(Rn(this._tNode.index,f))}}get injector(){return new oa(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function H_(){const e=_r();rn(Ne()[Ke],e)}function Lp(e){let n=function iy(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),o=!0;const a=[e];for(;n;){let u;if(Ln(e))u=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new qe(903,!1);u=n.\u0275dir}if(u){if(o){a.push(u);const p=e;p.inputs=Df(e.inputs),p.inputTransforms=Df(e.inputTransforms),p.declaredInputs=Df(e.declaredInputs),p.outputs=Df(e.outputs);const v=u.hostBindings;v&&z_(e,v);const _=u.viewQuery,T=u.contentQueries;if(_&&j_(e,_),T&&$_(e,T),Ve(e.inputs,u.inputs),Ve(e.declaredInputs,u.declaredInputs),Ve(e.outputs,u.outputs),null!==u.inputTransforms&&(null===p.inputTransforms&&(p.inputTransforms={}),Ve(p.inputTransforms,u.inputTransforms)),Ln(u)&&u.data.animation){const R=e.data;R.animation=(R.animation||[]).concat(u.data.animation)}}const f=u.features;if(f)for(let p=0;p<f.length;p++){const v=f[p];v&&v.ngInherit&&v(e),v===Lp&&(o=!1)}}n=Object.getPrototypeOf(n)}!function U_(e){let n=0,o=null;for(let a=e.length-1;a>=0;a--){const u=e[a];u.hostVars=n+=u.hostVars,u.hostAttrs=Un(u.hostAttrs,o=Un(o,u.hostAttrs))}}(a)}function Df(e){return e===mt?{}:e===Ge?[]:e}function j_(e,n){const o=e.viewQuery;e.viewQuery=o?(a,u)=>{n(a,u),o(a,u)}:n}function $_(e,n){const o=e.contentQueries;e.contentQueries=o?(a,u,f)=>{n(a,u,f),o(a,u,f)}:n}function z_(e,n){const o=e.hostBindings;e.hostBindings=o?(a,u)=>{n(a,u),o(a,u)}:n}function uy(e){const n=e.inputConfig,o={};for(const a in n)if(n.hasOwnProperty(a)){const u=n[a];Array.isArray(u)&&u[2]&&(o[a]=u[2])}e.inputTransforms=o}function Cf(e){return!!Vp(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function Vp(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function vs(e,n,o){return e[n]=o}function yo(e,n,o){return!Object.is(e[n],o)&&(e[n]=o,!0)}function rl(e,n,o,a){const u=yo(e,n,o);return yo(e,n+1,a)||u}function Bp(e,n,o,a){const u=Ne();return yo(u,ns(),n)&&(Wt(),ys(D(),u,e,n,o,a)),Bp}function au(e,n,o,a){return yo(e,ns(),o)?n+Xe(o)+a:jt}function lu(e,n,o,a,u,f){const v=rl(e,function Xo(){return St.lFrame.bindingIndex}(),o,u);return _i(2),v?n+Xe(o)+a+Xe(u)+f:jt}function by(e,n,o,a,u,f,p,v){const _=Ne(),T=Wt(),R=e+Tt,U=T.firstCreatePass?function m0(e,n,o,a,u,f,p,v,_){const T=n.consts,R=iu(n,e,4,p||null,er(T,v));Np(n,o,R,er(T,_)),rn(n,R);const U=R.tView=Ap(2,R,a,u,f,n.directiveRegistry,n.pipeRegistry,null,n.schemas,T,null);return null!==n.queries&&(n.queries.template(n,R),U.queries=n.queries.embeddedTView(R)),R}(R,T,_,n,o,a,u,f,p):T.data[R];so(U,!1);const K=wy(T,_,U,e);Ie()&&za(T,_,K,U),Wr(K,_),mf(_,_[R]=Wm(K,_,K,U)),Yi(U)&&Ip(T,_,U),null!=p&&Tp(_,U,v)}let wy=function Ey(e,n,o,a){return rt(!0),n[Et].createComment("")};function My(e){return dr(function dl(){return St.lFrame.contextLView}(),Tt+e)}function Gp(e,n,o){const a=Ne();return yo(a,ns(),n)&&li(Wt(),D(),a,e,n,a[Et],o,!1),Gp}function Wp(e,n,o,a,u){const p=u?"class":"style";Pp(e,o,n.inputs[p],p,a)}function Mf(e,n,o,a){const u=Ne(),f=Wt(),p=Tt+e,v=u[Et],_=f.firstCreatePass?function C0(e,n,o,a,u,f){const p=n.consts,_=iu(n,e,2,a,er(p,u));return Np(n,o,_,er(p,f)),null!==_.attrs&&yf(_,_.attrs,!1),null!==_.mergedAttrs&&yf(_,_.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,_),_}(p,f,u,n,o,a):f.data[p],T=Sy(f,u,_,v,n,e);u[p]=T;const R=Yi(_);return so(_,!0),Rd(v,T,_),32!=(32&_.flags)&&Ie()&&za(f,u,T,_),0===function Eu(){return St.lFrame.elementDepthCount}()&&Wr(T,u),function Js(){St.lFrame.elementDepthCount++}(),R&&(Ip(f,u,_),xp(f,_,u)),null!==a&&Tp(u,_),Mf}function Sf(){let e=_r();Is()?ts():(e=e.parent,so(e,!1));const n=e;(function Mu(e){return St.skipHydrationRootTNode===e})(n)&&function Ci(){St.skipHydrationRootTNode=null}(),function ul(){St.lFrame.elementDepthCount--}();const o=Wt();return o.firstCreatePass&&(rn(o,e),ur(e)&&o.queries.elementEnd(e)),null!=n.classesWithoutHost&&function ta(e){return 0!=(8&e.flags)}(n)&&Wp(o,n,Ne(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function Wf(e){return 0!=(16&e.flags)}(n)&&Wp(o,n,Ne(),n.stylesWithoutHost,!1),Sf}function qp(e,n,o,a){return Mf(e,n,o,a),Sf(),qp}let Sy=(e,n,o,a,u,f)=>(rt(!0),jl(a,u,function V(){return St.lFrame.currentNamespace}()));function xf(e,n,o){const a=Ne(),u=Wt(),f=e+Tt,p=u.firstCreatePass?function w0(e,n,o,a,u){const f=n.consts,p=er(f,a),v=iu(n,e,8,"ng-container",p);return null!==p&&yf(v,p,!0),Np(n,o,v,er(f,u)),null!==n.queries&&n.queries.elementStart(n,v),v}(f,u,a,n,o):u.data[f];so(p,!0);const v=xy(u,a,p,e);return a[f]=v,Ie()&&za(u,a,v,p),Wr(v,a),Yi(p)&&(Ip(u,a,p),xp(u,p,a)),null!=o&&Tp(a,p),xf}function If(){let e=_r();const n=Wt();return Is()?ts():(e=e.parent,so(e,!1)),n.firstCreatePass&&(rn(n,e),ur(e)&&n.queries.elementEnd(e)),If}function Jp(e,n,o){return xf(e,n,o),If(),Jp}let xy=(e,n,o,a)=>(rt(!0),Yu(n[Et],""));function Iy(){return Ne()}function Yp(e){return!!e&&"function"==typeof e.then}function Ty(e){return!!e&&"function"==typeof e.subscribe}function Kp(e,n,o,a){const u=Ne(),f=Wt(),p=_r();return function Ny(e,n,o,a,u,f,p){const v=Yi(a),T=e.firstCreatePass&&Ym(e),R=n[Ut],U=Jm(n);let K=!0;if(3&a.type||p){const Le=Gt(a,n),Ze=p?p(Le):Le,ct=U.length,Ee=p?ln=>p(ht(ln[a.index])):a.index;let Vt=null;if(!p&&v&&(Vt=function S0(e,n,o,a){const u=e.cleanup;if(null!=u)for(let f=0;f<u.length-1;f+=2){const p=u[f];if(p===o&&u[f+1]===a){const v=n[Vr],_=u[f+2];return v.length>_?v[_]:null}"string"==typeof p&&(f+=2)}return null}(e,n,u,a.index)),null!==Vt)(Vt.__ngLastListenerFn__||Vt).__ngNextListenerFn__=f,Vt.__ngLastListenerFn__=f,K=!1;else{f=Ry(a,n,R,f,!1);const ln=o.listen(Ze,u,f);U.push(f,ln),T&&T.push(u,Ee,ct,ct+1)}}else f=Ry(a,n,R,f,!1);const te=a.outputs;let Ce;if(K&&null!==te&&(Ce=te[u])){const Le=Ce.length;if(Le)for(let Ze=0;Ze<Le;Ze+=2){const dn=n[Ce[Ze]][Ce[Ze+1]].subscribe(f),vo=U.length;U.push(f,dn),T&&T.push(u,a.index,vo,-(vo+1))}}}(f,u,u[Et],p,e,n,a),Kp}function Oy(e,n,o,a){try{return ge(6,n,o),!1!==o(a)}catch(u){return Zm(e,u),!1}finally{ge(7,n,o)}}function Ry(e,n,o,a,u){return function f(p){if(p===Function)return a;h(e.componentOffset>-1?Rn(e.index,n):n);let _=Oy(n,o,a,p),T=f.__ngNextListenerFn__;for(;T;)_=Oy(n,o,T,p)&&_,T=T.__ngNextListenerFn__;return u&&!1===_&&p.preventDefault(),_}}function ky(e=1){return function zc(e){return(St.lFrame.contextLView=function ki(e,n){for(;e>0;)n=n[Eo],e--;return n}(e,St.lFrame.contextLView))[Ut]}(e)}function x0(e,n){let o=null;const a=function Zn(e){const n=e.attrs;if(null!=n){const o=n.indexOf(5);if(!(1&o))return n[o+1]}return null}(e);for(let u=0;u<n.length;u++){const f=n[u];if("*"!==f){if(null===a?_o(e,f,!0):Po(a,f))return u}else o=u}return o}function Py(e){const n=Ne()[xn][st];if(!n.projection){const a=n.projection=La(e?e.length:1,null),u=a.slice();let f=n.child;for(;null!==f;){const p=e?x0(f,e):0;null!==p&&(u[p]?u[p].projectionNext=f:a[p]=f,u[p]=f),f=f.next}}}function Fy(e,n=0,o){const a=Ne(),u=Wt(),f=iu(u,Tt+e,16,null,o||null);null===f.projection&&(f.projection=n),ts(),(!a[mn]||Qo())&&32!=(32&f.flags)&&function Rh(e,n,o){Nd(n[Et],0,n,o,Ei(e,o,n),$a(o.parent||n[st],o,n))}(u,a,f)}function Zp(e,n,o){return Tf(e,"",n,"",o),Zp}function Tf(e,n,o,a,u){const f=Ne(),p=au(f,n,o,a);return p!==jt&&li(Wt(),D(),f,e,p,f[Et],u,!1),Tf}function Af(e,n){return e<<17|n<<2}function _a(e){return e>>17&32767}function Qp(e){return 2|e}function ol(e){return(131068&e)>>2}function Xp(e,n){return-131069&e|n<<2}function eg(e){return 1|e}function Gy(e,n,o,a,u){const f=e[o+1],p=null===n;let v=a?_a(f):ol(f),_=!1;for(;0!==v&&(!1===_||p);){const R=e[v+1];R0(e[v],n)&&(_=!0,e[v+1]=a?eg(R):Qp(R)),v=a?_a(R):ol(R)}_&&(e[o+1]=a?Qp(f):eg(f))}function R0(e,n){return null===e||null==n||(Array.isArray(e)?e[1]:e)===n||!(!Array.isArray(e)||"string"!=typeof n)&&Va(e,n)>=0}const Or={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Wy(e){return e.substring(Or.key,Or.keyEnd)}function qy(e,n){const o=Or.textEnd;return o===n?-1:(n=Or.keyEnd=function L0(e,n,o){for(;n<o&&e.charCodeAt(n)>32;)n++;return n}(e,Or.key=n,o),gu(e,n,o))}function gu(e,n,o){for(;n<o&&e.charCodeAt(n)<=32;)n++;return n}function tg(e,n,o){return Ui(e,n,o,!1),tg}function ng(e,n){return Ui(e,n,null,!0),ng}function Qy(e){!function ji(e,n,o,a){const u=Wt(),f=_i(2);u.firstUpdatePass&&ev(u,null,f,a);const p=Ne();if(o!==jt&&yo(p,f,o)){const v=u.data[Gr()];if(ov(v,a)&&!Xy(u,f)){let _=a?v.classesWithoutHost:v.stylesWithoutHost;null!==_&&(o=Fe(_,o||"")),Wp(u,v,p,o,a)}else!function q0(e,n,o,a,u,f,p,v){u===jt&&(u=Ge);let _=0,T=0,R=0<u.length?u[0]:null,U=0<f.length?f[0]:null;for(;null!==R||null!==U;){const K=_<u.length?u[_+1]:void 0,te=T<f.length?f[T+1]:void 0;let Le,Ce=null;R===U?(_+=2,T+=2,K!==te&&(Ce=U,Le=te)):null===U||null!==R&&R<U?(_+=2,Ce=R):(T+=2,Ce=U,Le=te),null!==Ce&&nv(e,n,o,a,Ce,Le,p,v),R=_<u.length?u[_]:null,U=T<f.length?f[T]:null}}(u,v,p,p[Et],p[f+1],p[f+1]=function G0(e,n,o){if(null==o||""===o)return Ge;const a=[],u=Li(o);if(Array.isArray(u))for(let f=0;f<u.length;f++)e(a,u[f],!0);else if("object"==typeof u)for(const f in u)u.hasOwnProperty(f)&&e(a,f,u[f]);else"string"==typeof u&&n(a,u);return a}(e,n,o),a,f)}}(W0,Cs,e,!0)}function Cs(e,n){for(let o=function P0(e){return function Yy(e){Or.key=0,Or.keyEnd=0,Or.value=0,Or.valueEnd=0,Or.textEnd=e.length}(e),qy(e,gu(e,0,Or.textEnd))}(n);o>=0;o=qy(n,o))go(e,Wy(n),!0)}function Ui(e,n,o,a){const u=Ne(),f=Wt(),p=_i(2);f.firstUpdatePass&&ev(f,e,p,a),n!==jt&&yo(u,p,n)&&nv(f,f.data[Gr()],u,u[Et],e,u[p+1]=function J0(e,n){return null==e||""===e||("string"==typeof n?e+=n:"object"==typeof e&&(e=ze(Li(e)))),e}(n,o),a,p)}function Xy(e,n){return n>=e.expandoStartIndex}function ev(e,n,o,a){const u=e.data;if(null===u[o+1]){const f=u[Gr()],p=Xy(e,o);ov(f,a)&&null===n&&!p&&(n=!1),n=function U0(e,n,o,a){const u=function Ys(e){const n=St.lFrame.currentDirectiveIndex;return-1===n?null:e[n]}(e);let f=a?n.residualClasses:n.residualStyles;if(null===u)0===(a?n.classBindings:n.styleBindings)&&(o=kc(o=rg(null,e,n,o,a),n.attrs,a),f=null);else{const p=n.directiveStylingLast;if(-1===p||e[p]!==u)if(o=rg(u,e,n,o,a),null===f){let _=function j0(e,n,o){const a=o?n.classBindings:n.styleBindings;if(0!==ol(a))return e[_a(a)]}(e,n,a);void 0!==_&&Array.isArray(_)&&(_=rg(null,e,n,_[1],a),_=kc(_,n.attrs,a),function $0(e,n,o,a){e[_a(o?n.classBindings:n.styleBindings)]=a}(e,n,a,_))}else f=function z0(e,n,o){let a;const u=n.directiveEnd;for(let f=1+n.directiveStylingLast;f<u;f++)a=kc(a,e[f].hostAttrs,o);return kc(a,n.attrs,o)}(e,n,a)}return void 0!==f&&(a?n.residualClasses=f:n.residualStyles=f),o}(u,f,n,a),function N0(e,n,o,a,u,f){let p=f?n.classBindings:n.styleBindings,v=_a(p),_=ol(p);e[a]=o;let R,T=!1;if(Array.isArray(o)?(R=o[1],(null===R||Va(o,R)>0)&&(T=!0)):R=o,u)if(0!==_){const K=_a(e[v+1]);e[a+1]=Af(K,v),0!==K&&(e[K+1]=Xp(e[K+1],a)),e[v+1]=function T0(e,n){return 131071&e|n<<17}(e[v+1],a)}else e[a+1]=Af(v,0),0!==v&&(e[v+1]=Xp(e[v+1],a)),v=a;else e[a+1]=Af(_,0),0===v?v=a:e[_+1]=Xp(e[_+1],a),_=a;T&&(e[a+1]=Qp(e[a+1])),Gy(e,R,a,!0),Gy(e,R,a,!1),function O0(e,n,o,a,u){const f=u?e.residualClasses:e.residualStyles;null!=f&&"string"==typeof n&&Va(f,n)>=0&&(o[a+1]=eg(o[a+1]))}(n,R,e,a,f),p=Af(v,_),f?n.classBindings=p:n.styleBindings=p}(u,f,n,o,p,a)}}function rg(e,n,o,a,u){let f=null;const p=o.directiveEnd;let v=o.directiveStylingLast;for(-1===v?v=o.directiveStart:v++;v<p&&(f=n[v],a=kc(a,f.hostAttrs,u),f!==e);)v++;return null!==e&&(o.directiveStylingLast=v),a}function kc(e,n,o){const a=o?1:2;let u=-1;if(null!==n)for(let f=0;f<n.length;f++){const p=n[f];"number"==typeof p?u=p:u===a&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),go(e,p,!!o||n[++f]))}return void 0===e?null:e}function W0(e,n,o){const a=String(n);""!==a&&!a.includes(" ")&&go(e,a,o)}function nv(e,n,o,a,u,f,p,v){if(!(3&n.type))return;const _=e.data,T=_[v+1],R=function A0(e){return 1==(1&e)}(T)?rv(_,n,o,u,ol(T),p):void 0;Nf(R)||(Nf(f)||function I0(e){return 2==(2&e)}(T)&&(f=rv(_,null,o,u,v,p)),function Ph(e,n,o,a,u){if(n)u?e.addClass(o,a):e.removeClass(o,a);else{let f=-1===a.indexOf("-")?void 0:ri.DashCase;null==u?e.removeStyle(o,a,f):("string"==typeof u&&u.endsWith("!important")&&(u=u.slice(0,-10),f|=ri.Important),e.setStyle(o,a,u,f))}}(a,p,Ft(Gr(),o),u,f))}function rv(e,n,o,a,u,f){const p=null===n;let v;for(;u>0;){const _=e[u],T=Array.isArray(_),R=T?_[1]:_,U=null===R;let K=o[u+1];K===jt&&(K=U?Ge:void 0);let te=U?Xc(K,a):R===a?K:void 0;if(T&&!Nf(te)&&(te=Xc(_,a)),Nf(te)&&(v=te,p))return v;const Ce=e[u+1];u=p?_a(Ce):ol(Ce)}if(null!==n){let _=f?n.residualClasses:n.residualStyles;null!=_&&(v=Xc(_,a))}return v}function Nf(e){return void 0!==e}function ov(e,n){return 0!=(e.flags&(n?8:16))}function iv(e,n=""){const o=Ne(),a=Wt(),u=e+Tt,f=a.firstCreatePass?iu(a,u,1,n,null):a.data[u],p=sv(a,o,f,n,e);o[u]=p,Ie()&&za(a,o,p,f),so(f,!1)}let sv=(e,n,o,a,u)=>(rt(!0),function Ul(e,n){return e.createText(n)}(n[Et],a));function og(e){return Of("",e,""),og}function Of(e,n,o){const a=Ne(),u=au(a,e,n,o);return u!==jt&&Bs(a,Gr(),u),Of}function ig(e,n,o,a,u){const f=Ne(),p=lu(f,e,n,o,a,u);return p!==jt&&Bs(f,Gr(),p),ig}const il=void 0;var mb=["en",[["a","p"],["AM","PM"],il],[["AM","PM"],il,il],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],il,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],il,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",il,"{1} 'at' {0}",il],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function gb(e){const o=Math.floor(Math.abs(e)),a=e.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===a?1:5}];let mu={};function sg(e){const n=function yb(e){return e.toLowerCase().replace(/_/g,"-")}(e);let o=Sv(n);if(o)return o;const a=n.split("-")[0];if(o=Sv(a),o)return o;if("en"===a)return mb;throw new qe(701,!1)}function Mv(e){return sg(e)[xt.PluralCase]}function Sv(e){return e in mu||(mu[e]=Ot.ng&&Ot.ng.common&&Ot.ng.common.locales&&Ot.ng.common.locales[e]),mu[e]}var xt=(()=>((xt=xt||{})[xt.LocaleId=0]="LocaleId",xt[xt.DayPeriodsFormat=1]="DayPeriodsFormat",xt[xt.DayPeriodsStandalone=2]="DayPeriodsStandalone",xt[xt.DaysFormat=3]="DaysFormat",xt[xt.DaysStandalone=4]="DaysStandalone",xt[xt.MonthsFormat=5]="MonthsFormat",xt[xt.MonthsStandalone=6]="MonthsStandalone",xt[xt.Eras=7]="Eras",xt[xt.FirstDayOfWeek=8]="FirstDayOfWeek",xt[xt.WeekendRange=9]="WeekendRange",xt[xt.DateFormat=10]="DateFormat",xt[xt.TimeFormat=11]="TimeFormat",xt[xt.DateTimeFormat=12]="DateTimeFormat",xt[xt.NumberSymbols=13]="NumberSymbols",xt[xt.NumberFormats=14]="NumberFormats",xt[xt.CurrencyCode=15]="CurrencyCode",xt[xt.CurrencySymbol=16]="CurrencySymbol",xt[xt.CurrencyName=17]="CurrencyName",xt[xt.Currencies=18]="Currencies",xt[xt.Directionality=19]="Directionality",xt[xt.PluralCase=20]="PluralCase",xt[xt.ExtraData=21]="ExtraData",xt))();const yu="en-US";let xv=yu;function ug(e,n,o,a,u){if(e=Ae(e),Array.isArray(e))for(let f=0;f<e.length;f++)ug(e[f],n,o,a,u);else{const f=Wt(),p=Ne();let v=si(e)?e:Ae(e.provide),_=Zd(e);const T=_r(),R=1048575&T.providerIndexes,U=T.directiveStart,K=T.providerIndexes>>20;if(si(e)||!e.multi){const te=new Xs(_,u,ou),Ce=dg(v,n,u?R:R+K,U);-1===Ce?(bl(Dl(T,p),f,v),cg(f,e,n.length),n.push(v),T.directiveStart++,T.directiveEnd++,u&&(T.providerIndexes+=1048576),o.push(te),p.push(te)):(o[Ce]=te,p[Ce]=te)}else{const te=dg(v,n,R+K,U),Ce=dg(v,n,R,R+K),Ze=Ce>=0&&o[Ce];if(u&&!Ze||!u&&!(te>=0&&o[te])){bl(Dl(T,p),f,v);const ct=function pw(e,n,o,a,u){const f=new Xs(e,o,ou);return f.multi=[],f.index=n,f.componentProviders=0,Qv(f,u,a&&!o),f}(u?hw:fw,o.length,u,a,_);!u&&Ze&&(o[Ce].providerFactory=ct),cg(f,e,n.length,0),n.push(v),T.directiveStart++,T.directiveEnd++,u&&(T.providerIndexes+=1048576),o.push(ct),p.push(ct)}else cg(f,e,te>-1?te:Ce,Qv(o[u?Ce:te],_,!u&&a));!u&&a&&Ze&&o[Ce].componentProviders++}}}function cg(e,n,o,a){const u=si(n),f=function Kd(e){return!!e.useClass}(n);if(u||f){const _=(f?Ae(n.useClass):n).prototype.ngOnDestroy;if(_){const T=e.destroyHooks||(e.destroyHooks=[]);if(!u&&n.multi){const R=T.indexOf(o);-1===R?T.push(o,[a,_]):T[R+1].push(a,_)}else T.push(o,_)}}}function Qv(e,n,o){return o&&e.componentProviders++,e.multi.push(n)-1}function dg(e,n,o,a){for(let u=o;u<a;u++)if(n[u]===e)return u;return-1}function fw(e,n,o,a){return fg(this.multi,[])}function hw(e,n,o,a){const u=this.multi;let f;if(this.providerFactory){const p=this.providerFactory.componentProviders,v=Os(o,o[Ke],this.providerFactory.index,a);f=v.slice(0,p),fg(u,f);for(let _=p;_<v.length;_++)f.push(v[_])}else f=[],fg(u,f);return f}function fg(e,n){for(let o=0;o<e.length;o++)n.push((0,e[o])());return n}function Xv(e,n=[]){return o=>{o.providersResolver=(a,u)=>function dw(e,n,o){const a=Wt();if(a.firstCreatePass){const u=Ln(e);ug(o,a.data,a.blueprint,u,!0),ug(n,a.data,a.blueprint,u,!1)}}(a,u?u(e):e,n)}}class vu{}class eD{}function gw(e,n){return new hg(e,n??null,[])}class hg extends vu{constructor(n,o,a){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ry(this);const u=Qn(n);this._bootstrapComponents=ai(u.bootstrap),this._r3Injector=Fm(n,o,[{provide:vu,useValue:this},{provide:ru,useValue:this.componentFactoryResolver},...a],ze(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class pg extends eD{constructor(n){super(),this.moduleType=n}create(n){return new hg(this.moduleType,n,[])}}class tD extends vu{constructor(n){super(),this.componentFactoryResolver=new ry(this),this.instance=null;const o=new gc([...n.providers,{provide:vu,useValue:this},{provide:ru,useValue:this.componentFactoryResolver}],n.parent||eu(),n.debugName,new Set(["environment"]));this.injector=o,n.runEnvironmentInitializers&&o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function nD(e,n,o=null){return new tD({providers:e,parent:n,debugName:o,runEnvironmentInitializers:!0}).injector}let yw=(()=>{class e{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o.id)){const a=Jd(0,o.type),u=a.length>0?nD([a],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o.id,u)}return this.cachedInjectors.get(o.id)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return e.\u0275prov=nn({token:e,providedIn:"environment",factory:()=>new e(bt(Vs))}),e})();function rD(e){e.getStandaloneInjector=n=>n.get(yw).getOrCreateStandaloneInjector(e)}function cD(e,n,o){const a=br()+e,u=Ne();return u[a]===jt?vs(u,a,o?n.call(o):n()):function Ac(e,n){return e[n]}(u,a)}function dD(e,n,o,a){return hD(Ne(),br(),e,n,o,a)}function fD(e,n,o,a,u){return function pD(e,n,o,a,u,f,p){const v=n+o;return rl(e,v,u,f)?vs(e,v+2,p?a.call(p,u,f):a(u,f)):Hc(e,v+2)}(Ne(),br(),e,n,o,a,u)}function Hc(e,n){const o=e[n];return o===jt?void 0:o}function hD(e,n,o,a,u,f){const p=n+o;return yo(e,p,u)?vs(e,p+1,f?a.call(f,u):a(u)):Hc(e,p+1)}function vD(e,n){const o=Wt();let a;const u=e+Tt;o.firstCreatePass?(a=function Rw(e,n){if(n)for(let o=n.length-1;o>=0;o--){const a=n[o];if(e===a.name)return a}}(n,o.pipeRegistry),o.data[u]=a,a.onDestroy&&(o.destroyHooks??=[]).push(u,a.onDestroy)):a=o.data[u];const f=a.factory||(a.factory=jr(a.type)),p=wt(ou);try{const v=ra(!1),_=f();return ra(v),function D0(e,n,o,a){o>=e.data.length&&(e.data[o]=null,e.blueprint[o]=null),n[o]=a}(o,Ne(),u,_),_}finally{wt(p)}}function DD(e,n,o){const a=e+Tt,u=Ne(),f=dr(u,a);return function Uc(e,n){return e[Ke].data[n].pure}(u,a)?hD(u,br(),n,f.transform,o,f):f.transform(o)}function mg(e){return n=>{setTimeout(e,void 0,n)}}const _s=class Vw extends d.x{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,o,a){let u=n,f=o||(()=>null),p=a;if(n&&"object"==typeof n){const _=n;u=_.next?.bind(_),f=_.error?.bind(_),p=_.complete?.bind(_)}this.__isAsync&&(f=mg(f),u&&(u=mg(u)),p&&(p=mg(p)));const v=super.subscribe({next:u,error:f,complete:p});return n instanceof Y.w0&&n.add(v),v}};function Bw(){return this._results[Symbol.iterator]()}class yg{get changes(){return this._changes||(this._changes=new _s)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=yg.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=Bw)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,o){return this._results.reduce(n,o)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,o){const a=this;a.dirty=!1;const u=function No(e){return e.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function Qc(e,n,o){if(e.length!==n.length)return!1;for(let a=0;a<e.length;a++){let u=e[a],f=n[a];if(o&&(u=o(u),f=o(f)),f!==u)return!1}return!0}(a._results,u,o))&&(a._results=u,a.length=u.length,a.last=u[this.length-1],a.first=u[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let jc=(()=>{class e{}return e.__NG_ELEMENT_ID__=jw,e})();const Hw=jc,Uw=class extends Hw{constructor(n,o,a){super(),this._declarationLView=n,this._declarationTContainer=o,this.elementRef=a}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,o){return this.createEmbeddedViewImpl(n,o,null)}createEmbeddedViewImpl(n,o,a){const p=this._declarationTContainer.tView,v=gf(this._declarationLView,p,n,4096&this._declarationLView[Ct]?4096:16,null,p.declTNode,null,null,null,o||null,a||null);v[Qr]=this._declarationLView[this._declarationTContainer.index];const T=this._declarationLView[yr];return null!==T&&(v[yr]=T.createEmbeddedView(p)),Fp(p,v,n),new Ic(v)}};function jw(){return Lf(_r(),Ne())}function Lf(e,n){return 4&e.type?new Uw(n,e,va(e,n)):null}let Vf=(()=>{class e{}return e.__NG_ELEMENT_ID__=Yw,e})();function Yw(){return MD(_r(),Ne())}const Kw=Vf,wD=class extends Kw{constructor(n,o,a){super(),this._lContainer=n,this._hostTNode=o,this._hostLView=a}get element(){return va(this._hostTNode,this._hostLView)}get injector(){return new oa(this._hostTNode,this._hostLView)}get parentInjector(){const n=_l(this._hostTNode,this._hostLView);if(Wc(n)){const o=na(n,this._hostLView),a=ka(n);return new oa(o[Ke].data[a+8],o)}return new oa(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const o=ED(this._lContainer);return null!==o&&o[n]||null}get length(){return this._lContainer.length-yn}createEmbeddedView(n,o,a){let u,f;"number"==typeof a?u=a:null!=a&&(u=a.index,f=a.injector);const v=n.createEmbeddedViewImpl(o||{},f,null);return this.insertImpl(v,u,false),v}createComponent(n,o,a,u,f){const p=n&&!function la(e){return"function"==typeof e}(n);let v;if(p)v=o;else{const Le=o||{};v=Le.index,a=Le.injector,u=Le.projectableNodes,f=Le.environmentInjector||Le.ngModuleRef}const _=p?n:new Tc(Yt(n)),T=a||this.parentInjector;if(!f&&null==_.ngModule){const Ze=(p?T:this.parentInjector).get(Vs,null);Ze&&(f=Ze)}Yt(_.componentType??{});const te=_.create(T,u,null,f);return this.insertImpl(te.hostView,v,false),te}insert(n,o){return this.insertImpl(n,o,!1)}insertImpl(n,o,a){const u=n._lView,f=u[Ke];if(function Ko(e){return Fn(e[sn])}(u)){const _=this.indexOf(n);if(-1!==_)this.detach(_);else{const T=u[sn],R=new wD(T,T[st],T[sn]);R.detach(R.indexOf(n))}}const p=this._adjustIndex(o),v=this._lContainer;if(function Nr(e,n,o,a){const u=yn+a,f=o.length;a>0&&(o[u-1][kt]=n),a<f-yn?(n[kt]=o[u],rh(o,yn+a,n)):(o.push(n),n[kt]=null),n[sn]=o;const p=n[Qr];null!==p&&o!==p&&function bd(e,n){const o=e[fi];n[xn]!==n[sn][sn][xn]&&(e[qi]=!0),null===o?e[fi]=[n]:o.push(n)}(p,n);const v=n[yr];null!==v&&v.insertView(e),n[Ct]|=128}(f,u,v,p),!a){const _=Td(p,v),T=u[Et],R=da(T,v[bn]);null!==R&&function $l(e,n,o,a,u,f){a[vt]=u,a[st]=n,Ga(e,a,o,1,u,f)}(f,v[st],T,u,R,_)}return n.attachToViewContainerRef(),rh(Dg(v),p,n),n}move(n,o){return this.insert(n,o)}indexOf(n){const o=ED(this._lContainer);return null!==o?o.indexOf(n):-1}remove(n){const o=this._adjustIndex(n,-1),a=Gl(this._lContainer,o);a&&(Il(Dg(this._lContainer),o),Ed(a[Ke],a))}detach(n){const o=this._adjustIndex(n,-1),a=Gl(this._lContainer,o);return a&&null!=Il(Dg(this._lContainer),o)?new Ic(a):null}_adjustIndex(n,o=0){return n??this.length+o}};function ED(e){return e[8]}function Dg(e){return e[8]||(e[8]=[])}function MD(e,n){let o;const a=n[e.index];return Fn(a)?o=a:(o=Wm(a,n,null,e),n[e.index]=o,mf(n,o)),SD(o,n,e,a),new wD(o,e,n)}let SD=function xD(e,n,o,a){if(e[bn])return;let u;u=8&o.type?ht(a):function Zw(e,n){const o=e[Et],a=o.createComment(""),u=Gt(n,e);return Ps(o,da(o,u),a,function xd(e,n){return e.nextSibling(n)}(o,u),!1),a}(n,o),e[bn]=u};class Cg{constructor(n){this.queryList=n,this.matches=null}clone(){return new Cg(this.queryList)}setDirty(){this.queryList.setDirty()}}class _g{constructor(n=[]){this.queries=n}createEmbeddedView(n){const o=n.queries;if(null!==o){const a=null!==n.contentQueries?n.contentQueries[0]:o.length,u=[];for(let f=0;f<a;f++){const p=o.getByIndex(f);u.push(this.queries[p.indexInDeclarationView].clone())}return new _g(u)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let o=0;o<this.queries.length;o++)null!==FD(n,o).matches&&this.queries[o].setDirty()}}class ID{constructor(n,o,a=null){this.predicate=n,this.flags=o,this.read=a}}class bg{constructor(n=[]){this.queries=n}elementStart(n,o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(n,o)}elementEnd(n){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(n)}embeddedTView(n){let o=null;for(let a=0;a<this.length;a++){const u=null!==o?o.length:0,f=this.getByIndex(a).embeddedTView(n,u);f&&(f.indexInDeclarationView=a,null!==o?o.push(f):o=[f])}return null!==o?new bg(o):null}template(n,o){for(let a=0;a<this.queries.length;a++)this.queries[a].template(n,o)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class wg{constructor(n,o=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(n,o){this.isApplyingToNode(o)&&this.matchTNode(n,o)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,o){this.elementStart(n,o)}embeddedTView(n,o){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,o),new wg(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let a=n.parent;for(;null!==a&&8&a.type&&a.index!==o;)a=a.parent;return o===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(n,o){const a=this.metadata.predicate;if(Array.isArray(a))for(let u=0;u<a.length;u++){const f=a[u];this.matchTNodeWithReadOption(n,o,eE(o,f)),this.matchTNodeWithReadOption(n,o,Sl(o,n,f,!1,!1))}else a===jc?4&o.type&&this.matchTNodeWithReadOption(n,o,-1):this.matchTNodeWithReadOption(n,o,Sl(o,n,a,!1,!1))}matchTNodeWithReadOption(n,o,a){if(null!==a){const u=this.metadata.read;if(null!==u)if(u===Da||u===Vf||u===jc&&4&o.type)this.addMatch(o.index,-2);else{const f=Sl(o,n,u,!1,!1);null!==f&&this.addMatch(o.index,f)}else this.addMatch(o.index,a)}}addMatch(n,o){null===this.matches?this.matches=[n,o]:this.matches.push(n,o)}}function eE(e,n){const o=e.localNames;if(null!==o)for(let a=0;a<o.length;a+=2)if(o[a]===n)return o[a+1];return null}function nE(e,n,o,a){return-1===o?function tE(e,n){return 11&e.type?va(e,n):4&e.type?Lf(e,n):null}(n,e):-2===o?function rE(e,n,o){return o===Da?va(n,e):o===jc?Lf(n,e):o===Vf?MD(n,e):void 0}(e,n,a):Os(e,e[Ke],o,n)}function TD(e,n,o,a){const u=n[yr].queries[a];if(null===u.matches){const f=e.data,p=o.matches,v=[];for(let _=0;_<p.length;_+=2){const T=p[_];v.push(T<0?null:nE(n,f[T],p[_+1],o.metadata.read))}u.matches=v}return u.matches}function Eg(e,n,o,a){const u=e.queries.getByIndex(o),f=u.matches;if(null!==f){const p=TD(e,n,u,o);for(let v=0;v<f.length;v+=2){const _=f[v];if(_>0)a.push(p[v/2]);else{const T=f[v+1],R=n[-_];for(let U=yn;U<R.length;U++){const K=R[U];K[Qr]===K[sn]&&Eg(K[Ke],K,T,a)}if(null!==R[fi]){const U=R[fi];for(let K=0;K<U.length;K++){const te=U[K];Eg(te[Ke],te,T,a)}}}}}return a}function AD(e){const n=Ne(),o=Wt(),a=Na();Ks(a+1);const u=FD(o,a);if(e.dirty&&function Di(e){return 4==(4&e[Ct])}(n)===(2==(2&u.metadata.flags))){if(null===u.matches)e.reset([]);else{const f=u.crossesNgTemplate?Eg(o,n,a,[]):TD(o,n,u,a);e.reset(f,ff),e.notifyOnChanges()}return!0}return!1}function ND(e,n,o){const a=Wt();a.firstCreatePass&&(PD(a,new ID(e,n,o),-1),2==(2&n)&&(a.staticViewQueries=!0)),kD(a,Ne(),n)}function OD(e,n,o,a){const u=Wt();if(u.firstCreatePass){const f=_r();PD(u,new ID(n,o,a),f.index),function iE(e,n){const o=e.contentQueries||(e.contentQueries=[]);n!==(o.length?o[o.length-1]:-1)&&o.push(e.queries.length-1,n)}(u,e),2==(2&o)&&(u.staticContentQueries=!0)}kD(u,Ne(),o)}function RD(){return function oE(e,n){return e[yr].queries[n].queryList}(Ne(),Na())}function kD(e,n,o){const a=new yg(4==(4&o));(function r_(e,n,o,a){const u=Jm(n);u.push(o),e.firstCreatePass&&Ym(e).push(a,u.length-1)})(e,n,a,a.destroy),null===n[yr]&&(n[yr]=new _g),n[yr].queries.push(new Cg(a))}function PD(e,n,o){null===e.queries&&(e.queries=new bg),e.queries.track(new wg(n,o))}function FD(e,n){return e.queries.getByIndex(n)}function Mg(e){return!!Qn(e)}const XD=new vn("Application Initializer");let Ag=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((o,a)=>{this.resolve=o,this.reject=a}),this.appInits=Mt(XD,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const o=[];for(const u of this.appInits){const f=u();if(Yp(f))o.push(f);else if(Ty(f)){const p=new Promise((v,_)=>{f.subscribe({complete:v,error:_})});o.push(p)}}const a=()=>{this.done=!0,this.resolve()};Promise.all(o).then(()=>{a()}).catch(u=>{this.reject(u)}),0===o.length&&a(),this.initialized=!0}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=nn({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),eC=(()=>{class e{log(o){console.log(o)}warn(o){console.warn(o)}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=nn({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const Hf=new vn("LocaleId",{providedIn:"root",factory:()=>Mt(Hf,Je.Optional|Je.SkipSelf)||function xE(){return typeof $localize<"u"&&$localize.locale||yu}()}),IE=new vn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let tC=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ae.X(!1)}add(){this.hasPendingTasks.next(!0);const o=this.taskId++;return this.pendingTasks.add(o),o}remove(o){this.pendingTasks.delete(o),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=nn({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class TE{constructor(n,o){this.ngModuleFactory=n,this.componentFactories=o}}let AE=(()=>{class e{compileModuleSync(o){return new pg(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const a=this.compileModuleSync(o),f=ai(Qn(o).declarations).reduce((p,v)=>{const _=Yt(v);return _&&p.push(new Tc(_)),p},[]);return new TE(a,f)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=nn({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function oC(...e){}class ko{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new _s(!1),this.onMicrotaskEmpty=new _s(!1),this.onStable=new _s(!1),this.onError=new _s(!1),typeof Zone>"u")throw new qe(908,!1);Zone.assertZonePatched();const u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!a&&o,u.shouldCoalesceRunChangeDetection=a,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function RE(){let e=Ot.requestAnimationFrame,n=Ot.cancelAnimationFrame;if(typeof Zone<"u"&&e&&n){const o=e[Zone.__symbol__("OriginalDelegate")];o&&(e=o);const a=n[Zone.__symbol__("OriginalDelegate")];a&&(n=a)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function FE(e){const n=()=>{!function PE(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Ot,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Og(e),e.isCheckStableRunning=!0,Ng(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Og(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,a,u,f,p,v)=>{try{return iC(e),o.invokeTask(u,f,p,v)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||e.shouldCoalesceRunChangeDetection)&&n(),sC(e)}},onInvoke:(o,a,u,f,p,v,_)=>{try{return iC(e),o.invoke(u,f,p,v,_)}finally{e.shouldCoalesceRunChangeDetection&&n(),sC(e)}},onHasTask:(o,a,u,f)=>{o.hasTask(u,f),a===u&&("microTask"==f.change?(e._hasPendingMicrotasks=f.microTask,Og(e),Ng(e)):"macroTask"==f.change&&(e.hasPendingMacrotasks=f.macroTask))},onHandleError:(o,a,u,f)=>(o.handleError(u,f),e.runOutsideAngular(()=>e.onError.emit(f)),!1)})}(u)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ko.isInAngularZone())throw new qe(909,!1)}static assertNotInAngularZone(){if(ko.isInAngularZone())throw new qe(909,!1)}run(n,o,a){return this._inner.run(n,o,a)}runTask(n,o,a,u){const f=this._inner,p=f.scheduleEventTask("NgZoneEvent: "+u,n,kE,oC,oC);try{return f.runTask(p,o,a)}finally{f.cancelTask(p)}}runGuarded(n,o,a){return this._inner.runGuarded(n,o,a)}runOutsideAngular(n){return this._outer.run(n)}}const kE={};function Ng(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Og(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function iC(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function sC(e){e._nesting--,Ng(e)}class LE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new _s,this.onMicrotaskEmpty=new _s,this.onStable=new _s,this.onError=new _s}run(n,o,a){return n.apply(o,a)}runGuarded(n,o,a){return n.apply(o,a)}runOutsideAngular(n){return n()}runTask(n,o,a,u){return n.apply(o,a)}}const aC=new vn("",{providedIn:"root",factory:lC});function lC(){const e=Mt(ko);let n=!0;return function _e(...e){const n=(0,Oe.yG)(e),o=(0,Oe._6)(e,1/0),a=e;return a.length?1===a.length?(0,Re.Xf)(a[0]):(0,B.J)(o)((0,ye.D)(a,n)):re.E}(new J.y(u=>{n=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{u.next(n),u.complete()})}),new J.y(u=>{let f;e.runOutsideAngular(()=>{f=e.onStable.subscribe(()=>{ko.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(n=!0,u.next(!0))})})});const p=e.onUnstable.subscribe(()=>{ko.assertInAngularZone(),n&&(n=!1,e.runOutsideAngular(()=>{u.next(!1)}))});return()=>{f.unsubscribe(),p.unsubscribe()}}).pipe(Be()))}const uC=new vn(""),cC=new vn("");let Rg,VE=(()=>{class e{constructor(o,a,u){this._ngZone=o,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Rg||(function BE(e){Rg=e}(u),u.addToWindow(a)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ko.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(o)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,a,u){let f=-1;a&&a>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(p=>p.timeoutId!==f),o(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:o,timeoutId:f,updateCb:u})}whenStable(o,a,u){if(u&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,a,u),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,a,u){return[]}}return e.\u0275fac=function(o){return new(o||e)(bt(ko),bt(dC),bt(cC))},e.\u0275prov=nn({token:e,factory:e.\u0275fac}),e})(),dC=(()=>{class e{constructor(){this._applications=new Map}registerApplication(o,a){this._applications.set(o,a)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,a=!0){return Rg?.findTestabilityInTree(this,o,a)??null}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=nn({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})(),ba=null;const fC=new vn("AllowMultipleToken"),kg=new vn("PlatformDestroyListeners"),Pg=new vn("appBootstrapListener");class jE{constructor(n,o){this.name=n,this.token=o}}function gC(e,n,o=[]){const a=`Platform: ${n}`,u=new vn(a);return(f=[])=>{let p=Fg();if(!p||p.injector.get(fC,!1)){const v=[...o,...f,{provide:u,useValue:!0}];e?e(v):function $E(e){if(ba&&!ba.get(fC,!1))throw new qe(400,!1);(function hC(){!function Sa(e){Ma=e}(()=>{throw new qe(600,!1)})})(),ba=e;const n=e.get(yC);(function pC(e){e.get(Xd,null)?.forEach(o=>o())})(e)}(function mC(e=[],n){return Ca.create({name:n,providers:[{provide:fc,useValue:"platform"},{provide:kg,useValue:new Set([()=>ba=null])},...e]})}(v,a))}return function GE(e){const n=Fg();if(!n)throw new qe(401,!1);return n}()}}function Fg(){return ba?.get(yC)??null}let yC=(()=>{class e{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,a){const u=function WE(e="zone.js",n){return"noop"===e?new LE:"zone.js"===e?new ko(n):e}(a?.ngZone,function vC(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:a?.ngZoneEventCoalescing,runCoalescing:a?.ngZoneRunCoalescing}));return u.run(()=>{const f=function mw(e,n,o){return new hg(e,n,o)}(o.moduleType,this.injector,function wC(e){return[{provide:ko,useFactory:e},{provide:Ya,multi:!0,useFactory:()=>{const n=Mt(JE,{optional:!0});return()=>n.initialize()}},{provide:bC,useFactory:qE},{provide:aC,useFactory:lC}]}(()=>u)),p=f.injector.get(O,null);return u.runOutsideAngular(()=>{const v=u.onError.subscribe({next:_=>{p.handleError(_)}});f.onDestroy(()=>{Uf(this._modules,f),v.unsubscribe()})}),function DC(e,n,o){try{const a=o();return Yp(a)?a.catch(u=>{throw n.runOutsideAngular(()=>e.handleError(u)),u}):a}catch(a){throw n.runOutsideAngular(()=>e.handleError(a)),a}}(p,u,()=>{const v=f.injector.get(Ag);return v.runInitializers(),v.donePromise.then(()=>(function Iv(e){Qe(e,"Expected localeId to be defined"),"string"==typeof e&&(xv=e.toLowerCase().replace(/_/g,"-"))}(f.injector.get(Hf,yu)||yu),this._moduleDoBootstrap(f),f))})})}bootstrapModule(o,a=[]){const u=CC({},a);return function HE(e,n,o){const a=new pg(o);return Promise.resolve(a)}(0,0,o).then(f=>this.bootstrapModuleFactory(f,u))}_moduleDoBootstrap(o){const a=o.injector.get(_u);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(u=>a.bootstrap(u));else{if(!o.instance.ngDoBootstrap)throw new qe(-403,!1);o.instance.ngDoBootstrap(a)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new qe(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const o=this._injector.get(kg,null);o&&(o.forEach(a=>a()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(o){return new(o||e)(bt(Ca))},e.\u0275prov=nn({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();function CC(e,n){return Array.isArray(n)?n.reduce(CC,e):{...e,...n}}let _u=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Mt(bC),this.zoneIsStable=Mt(aC),this.componentTypes=[],this.components=[],this.isStable=Mt(tC).hasPendingTasks.pipe((0,gt.w)(o=>o?(0,fe.of)(!1):this.zoneIsStable),function tn(e,n=At.y){return e=e??ve,(0,tt.e)((o,a)=>{let u,f=!0;o.subscribe((0,Bt.x)(a,p=>{const v=n(p);(f||!e(u,v))&&(f=!1,u=v,a.next(p))}))})}(),Be()),this._injector=Mt(Vs)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(o,a){const u=o instanceof cf;if(!this._injector.get(Ag).done)throw!u&&Fr(o),new qe(405,!1);let p;p=u?o:this._injector.get(ru).resolveComponentFactory(o),this.componentTypes.push(p.componentType);const v=function UE(e){return e.isBoundToModule}(p)?void 0:this._injector.get(vu),T=p.create(Ca.NULL,[],a||p.selector,v),R=T.location.nativeElement,U=T.injector.get(uC,null);return U?.registerApplication(R),T.onDestroy(()=>{this.detachView(T.hostView),Uf(this.components,T),U?.unregisterApplication(R)}),this._loadComponent(T),T}tick(){if(this._runningTick)throw new qe(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1}}attachView(o){const a=o;this._views.push(a),a.attachToAppRef(this)}detachView(o){const a=o;Uf(this._views,a),a.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const a=this._injector.get(Pg,[]);a.push(...this._bootstrapListeners),a.forEach(u=>u(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>Uf(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new qe(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=nn({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Uf(e,n){const o=e.indexOf(n);o>-1&&e.splice(o,1)}const bC=new vn("",{providedIn:"root",factory:()=>Mt(O).handleError.bind(void 0)});function qE(){const e=Mt(ko),n=Mt(O);return o=>e.runOutsideAngular(()=>n.handleError(o))}let JE=(()=>{class e{constructor(){this.zone=Mt(ko),this.applicationRef=Mt(_u)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=nn({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();let KE=(()=>{class e{}return e.__NG_ELEMENT_ID__=ZE,e})();function ZE(e){return function QE(e,n,o){if(So(e)&&!o){const a=Rn(e.index,n);return new Ic(a,a)}return 47&e.type?new Ic(n[xn],n):null}(_r(),Ne(),16==(16&e))}class xC{constructor(){}supports(n){return Cf(n)}create(n){return new oM(n)}}const rM=(e,n)=>n;class oM{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||rM}forEachItem(n){let o;for(o=this._itHead;null!==o;o=o._next)n(o)}forEachOperation(n){let o=this._itHead,a=this._removalsHead,u=0,f=null;for(;o||a;){const p=!a||o&&o.currentIndex<TC(a,u,f)?o:a,v=TC(p,u,f),_=p.currentIndex;if(p===a)u--,a=a._nextRemoved;else if(o=o._next,null==p.previousIndex)u++;else{f||(f=[]);const T=v-u,R=_-u;if(T!=R){for(let K=0;K<T;K++){const te=K<f.length?f[K]:f[K]=0,Ce=te+K;R<=Ce&&Ce<T&&(f[K]=te+1)}f[p.previousIndex]=R-T}}v!==_&&n(p,v,_)}}forEachPreviousItem(n){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)n(o)}forEachAddedItem(n){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)n(o)}forEachMovedItem(n){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)n(o)}forEachRemovedItem(n){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)n(o)}forEachIdentityChange(n){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)n(o)}diff(n){if(null==n&&(n=[]),!Cf(n))throw new qe(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let u,f,p,o=this._itHead,a=!1;if(Array.isArray(n)){this.length=n.length;for(let v=0;v<this.length;v++)f=n[v],p=this._trackByFn(v,f),null!==o&&Object.is(o.trackById,p)?(a&&(o=this._verifyReinsertion(o,f,p,v)),Object.is(o.item,f)||this._addIdentityChange(o,f)):(o=this._mismatch(o,f,p,v),a=!0),o=o._next}else u=0,function Z_(e,n){if(Array.isArray(e))for(let o=0;o<e.length;o++)n(e[o]);else{const o=e[Symbol.iterator]();let a;for(;!(a=o.next()).done;)n(a.value)}}(n,v=>{p=this._trackByFn(u,v),null!==o&&Object.is(o.trackById,p)?(a&&(o=this._verifyReinsertion(o,v,p,u)),Object.is(o.item,v)||this._addIdentityChange(o,v)):(o=this._mismatch(o,v,p,u),a=!0),o=o._next,u++}),this.length=u;return this._truncate(o),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,o,a,u){let f;return null===n?f=this._itTail:(f=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(n.item,o)||this._addIdentityChange(n,o),this._reinsertAfter(n,f,u)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(a,u))?(Object.is(n.item,o)||this._addIdentityChange(n,o),this._moveAfter(n,f,u)):n=this._addAfter(new iM(o,a),f,u),n}_verifyReinsertion(n,o,a,u){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==f?n=this._reinsertAfter(f,n._prev,u):n.currentIndex!=u&&(n.currentIndex=u,this._addToMoves(n,u)),n}_truncate(n){for(;null!==n;){const o=n._next;this._addToRemovals(this._unlink(n)),n=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,o,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const u=n._prevRemoved,f=n._nextRemoved;return null===u?this._removalsHead=f:u._nextRemoved=f,null===f?this._removalsTail=u:f._prevRemoved=u,this._insertAfter(n,o,a),this._addToMoves(n,a),n}_moveAfter(n,o,a){return this._unlink(n),this._insertAfter(n,o,a),this._addToMoves(n,a),n}_addAfter(n,o,a){return this._insertAfter(n,o,a),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,o,a){const u=null===o?this._itHead:o._next;return n._next=u,n._prev=o,null===u?this._itTail=n:u._prev=n,null===o?this._itHead=n:o._next=n,null===this._linkedRecords&&(this._linkedRecords=new IC),this._linkedRecords.put(n),n.currentIndex=a,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const o=n._prev,a=n._next;return null===o?this._itHead=a:o._next=a,null===a?this._itTail=o:a._prev=o,n}_addToMoves(n,o){return n.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new IC),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,o){return n.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class iM{constructor(n,o){this.item=n,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class sM{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,o){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===o||o<=a.currentIndex)&&Object.is(a.trackById,n))return a;return null}remove(n){const o=n._prevDup,a=n._nextDup;return null===o?this._head=a:o._nextDup=a,null===a?this._tail=o:a._prevDup=o,null===this._head}}class IC{constructor(){this.map=new Map}put(n){const o=n.trackById;let a=this.map.get(o);a||(a=new sM,this.map.set(o,a)),a.add(n)}get(n,o){const u=this.map.get(n);return u?u.get(n,o):null}remove(n){const o=n.trackById;return this.map.get(o).remove(n)&&this.map.delete(o),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function TC(e,n,o){const a=e.previousIndex;if(null===a)return a;let u=0;return o&&a<o.length&&(u=o[a]),a+n+u}class AC{constructor(){}supports(n){return n instanceof Map||Vp(n)}create(){return new aM}}class aM{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let o;for(o=this._mapHead;null!==o;o=o._next)n(o)}forEachPreviousItem(n){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)n(o)}forEachChangedItem(n){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)n(o)}forEachAddedItem(n){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)n(o)}forEachRemovedItem(n){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)n(o)}diff(n){if(n){if(!(n instanceof Map||Vp(n)))throw new qe(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(n,(a,u)=>{if(o&&o.key===u)this._maybeAddToChanges(o,a),this._appendAfter=o,o=o._next;else{const f=this._getOrCreateRecordForKey(u,a);o=this._insertBeforeOrAppend(o,f)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let a=o;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,o){if(n){const a=n._prev;return o._next=n,o._prev=a,n._prev=o,a&&(a._next=o),n===this._mapHead&&(this._mapHead=o),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(n,o){if(this._records.has(n)){const u=this._records.get(n);this._maybeAddToChanges(u,o);const f=u._prev,p=u._next;return f&&(f._next=p),p&&(p._prev=f),u._next=null,u._prev=null,u}const a=new lM(n);return this._records.set(n,a),a.currentValue=o,this._addToAdditions(a),a}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,o){Object.is(o,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=o,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,o){n instanceof Map?n.forEach(o):Object.keys(n).forEach(a=>o(n[a],a))}}class lM{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function NC(){return new Ug([new xC])}let Ug=(()=>{class e{constructor(o){this.factories=o}static create(o,a){if(null!=a){const u=a.factories.slice();o=o.concat(u)}return new e(o)}static extend(o){return{provide:e,useFactory:a=>e.create(o,a||NC()),deps:[[e,new Nl,new Al]]}}find(o){const a=this.factories.find(u=>u.supports(o));if(null!=a)return a;throw new qe(901,!1)}}return e.\u0275prov=nn({token:e,providedIn:"root",factory:NC}),e})();function OC(){return new jg([new AC])}let jg=(()=>{class e{constructor(o){this.factories=o}static create(o,a){if(a){const u=a.factories.slice();o=o.concat(u)}return new e(o)}static extend(o){return{provide:e,useFactory:a=>e.create(o,a||OC()),deps:[[e,new Nl,new Al]]}}find(o){const a=this.factories.find(u=>u.supports(o));if(a)return a;throw new qe(901,!1)}}return e.\u0275prov=nn({token:e,providedIn:"root",factory:OC}),e})();const dM=gC(null,"core",[]);let fM=(()=>{class e{constructor(o){}}return e.\u0275fac=function(o){return new(o||e)(bt(_u))},e.\u0275mod=co({type:e}),e.\u0275inj=at({}),e})();function _M(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function wM(e,n){const o=Yt(e),a=n.elementInjector||eu();return new Tc(o).create(a,n.projectableNodes,n.hostElement,n.environmentInjector)}function EM(e){const n=Yt(e);if(!n)return null;const o=new Tc(n);return{get selector(){return o.selector},get type(){return o.componentType},get inputs(){return o.inputs},get outputs(){return o.outputs},get ngContentSelectors(){return o.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},95:(lt,me,F)=>{F.d(me,{Wl:()=>At,Fj:()=>be,qu:()=>xo,NI:()=>Zr,u:()=>Ut,cw:()=>bt,sg:()=>Ke,u5:()=>In,JU:()=>$e,JJ:()=>at,JL:()=>yt,On:()=>Go,UX:()=>cr,kI:()=>Ae,_Y:()=>ci});var d=F(4946),Y=F(6814),ae=F(7715),J=F(5592),B=F(7453),Re=F(4829),re=F(4564),Oe=F(8251),ye=F(7400),_e=F(2714),we=F(7398);let tt=(()=>{class x{constructor(E,P){this._renderer=E,this._elementRef=P,this.onChange=le=>{},this.onTouched=()=>{}}setProperty(E,P){this._renderer.setProperty(this._elementRef.nativeElement,E,P)}registerOnTouched(E){this.onTouched=E}registerOnChange(E){this.onChange=E}setDisabledState(E){this.setProperty("disabled",E)}}return x.\u0275fac=function(E){return new(E||x)(d.Y36(d.Qsj),d.Y36(d.SBq))},x.\u0275dir=d.lG2({type:x}),x})(),Be=(()=>{class x extends tt{}return x.\u0275fac=function(){let S;return function(P){return(S||(S=d.n5z(x)))(P||x)}}(),x.\u0275dir=d.lG2({type:x,features:[d.qOj]}),x})();const $e=new d.OlP("NgValueAccessor"),gt={provide:$e,useExisting:(0,d.Gpc)(()=>At),multi:!0};let At=(()=>{class x extends Be{writeValue(E){this.setProperty("checked",E)}}return x.\u0275fac=function(){let S;return function(P){return(S||(S=d.n5z(x)))(P||x)}}(),x.\u0275dir=d.lG2({type:x,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(E,P){1&E&&d.NdJ("change",function(et){return P.onChange(et.target.checked)})("blur",function(){return P.onTouched()})},features:[d._Bn([gt]),d.qOj]}),x})();const Bt={provide:$e,useExisting:(0,d.Gpc)(()=>be),multi:!0},ve=new d.OlP("CompositionEventMode");let be=(()=>{class x extends tt{constructor(E,P,le){super(E,P),this._compositionMode=le,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function tn(){const x=(0,Y.q)()?(0,Y.q)().getUserAgent():"";return/android (\d+)/.test(x.toLowerCase())}())}writeValue(E){this.setProperty("value",E??"")}_handleInput(E){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(E)}_compositionStart(){this._composing=!0}_compositionEnd(E){this._composing=!1,this._compositionMode&&this.onChange(E)}}return x.\u0275fac=function(E){return new(E||x)(d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(ve,8))},x.\u0275dir=d.lG2({type:x,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(E,P){1&E&&d.NdJ("input",function(et){return P._handleInput(et.target.value)})("blur",function(){return P.onTouched()})("compositionstart",function(){return P._compositionStart()})("compositionend",function(et){return P._compositionEnd(et.target.value)})},features:[d._Bn([Bt]),d.qOj]}),x})();function Ve(x){return null==x||("string"==typeof x||Array.isArray(x))&&0===x.length}function ze(x){return null!=x&&"number"==typeof x.length}const Fe=new d.OlP("NgValidators"),He=new d.OlP("NgAsyncValidators"),ee=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ae{static min(S){return function je(x){return S=>{if(Ve(S.value)||Ve(x))return null;const E=parseFloat(S.value);return!isNaN(E)&&E<x?{min:{min:x,actual:S.value}}:null}}(S)}static max(S){return function fn(x){return S=>{if(Ve(S.value)||Ve(x))return null;const E=parseFloat(S.value);return!isNaN(E)&&E>x?{max:{max:x,actual:S.value}}:null}}(S)}static required(S){return function $t(x){return Ve(x.value)?{required:!0}:null}(S)}static requiredTrue(S){return function En(x){return!0===x.value?null:{required:!0}}(S)}static email(S){return function qe(x){return Ve(x.value)||ee.test(x.value)?null:{email:!0}}(S)}static minLength(S){return function _t(x){return S=>Ve(S.value)||!ze(S.value)?null:S.value.length<x?{minlength:{requiredLength:x,actualLength:S.value.length}}:null}(S)}static maxLength(S){return function Xe(x){return S=>ze(S.value)&&S.value.length>x?{maxlength:{requiredLength:x,actualLength:S.value.length}}:null}(S)}static pattern(S){return function Dt(x){if(!x)return ie;let S,E;return"string"==typeof x?(E="","^"!==x.charAt(0)&&(E+="^"),E+=x,"$"!==x.charAt(x.length-1)&&(E+="$"),S=new RegExp(E)):(E=x.toString(),S=x),P=>{if(Ve(P.value))return null;const le=P.value;return S.test(le)?null:{pattern:{requiredPattern:E,actualValue:le}}}}(S)}static nullValidator(S){return null}static compose(S){return Nt(S)}static composeAsync(S){return ot(S)}}function ie(x){return null}function se(x){return null!=x}function he(x){return(0,d.QGY)(x)?(0,ae.D)(x):x}function pe(x){let S={};return x.forEach(E=>{S=null!=E?{...S,...E}:S}),0===Object.keys(S).length?null:S}function Me(x,S){return S.map(E=>E(x))}function ut(x){return x.map(S=>function Ue(x){return!x.validate}(S)?S:E=>S.validate(E))}function Nt(x){if(!x)return null;const S=x.filter(se);return 0==S.length?null:function(E){return pe(Me(E,S))}}function It(x){return null!=x?Nt(ut(x)):null}function ot(x){if(!x)return null;const S=x.filter(se);return 0==S.length?null:function(E){return function fe(...x){const S=(0,re.jO)(x),{args:E,keys:P}=(0,B.D)(x),le=new J.y(et=>{const{length:pn}=E;if(!pn)return void et.complete();const Cn=new Array(pn);let Ur=pn,Io=pn;for(let Ai=0;Ai<pn;Ai++){let jr=!1;(0,Re.Xf)(E[Ai]).subscribe((0,Oe.x)(et,mi=>{jr||(jr=!0,Io--),Cn[Ai]=mi},()=>Ur--,void 0,()=>{(!Ur||!jr)&&(Io||et.next(P?(0,_e.n)(P,Cn):Cn),et.complete())}))}});return S?le.pipe((0,ye.Z)(S)):le}(Me(E,S).map(he)).pipe((0,we.U)(pe))}}function de(x){return null!=x?ot(ut(x)):null}function it(x,S){return null===x?[S]:Array.isArray(x)?[...x,S]:[x,S]}function De(x){return x._rawValidators}function Rt(x){return x._rawAsyncValidators}function Kt(x){return x?Array.isArray(x)?x:[x]:[]}function Lt(x,S){return Array.isArray(x)?x.includes(S):x===S}function zn(x,S){const E=Kt(S);return Kt(x).forEach(le=>{Lt(E,le)||E.push(le)}),E}function Qe(x,S){return Kt(S).filter(E=>!Lt(x,E))}class Ht{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(S){this._rawValidators=S||[],this._composedValidatorFn=It(this._rawValidators)}_setAsyncValidators(S){this._rawAsyncValidators=S||[],this._composedAsyncValidatorFn=de(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(S){this._onDestroyCallbacks.push(S)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(S=>S()),this._onDestroyCallbacks=[]}reset(S=void 0){this.control&&this.control.reset(S)}hasError(S,E){return!!this.control&&this.control.hasError(S,E)}getError(S,E){return this.control?this.control.getError(S,E):null}}class Vn extends Ht{get formDirective(){return null}get path(){return null}}class Gn extends Ht{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class qr{constructor(S){this._cd=S}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let at=(()=>{class x extends qr{constructor(E){super(E)}}return x.\u0275fac=function(E){return new(E||x)(d.Y36(Gn,2))},x.\u0275dir=d.lG2({type:x,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(E,P){2&E&&d.ekj("ng-untouched",P.isUntouched)("ng-touched",P.isTouched)("ng-pristine",P.isPristine)("ng-dirty",P.isDirty)("ng-valid",P.isValid)("ng-invalid",P.isInvalid)("ng-pending",P.isPending)},features:[d.qOj]}),x})(),yt=(()=>{class x extends qr{constructor(E){super(E)}}return x.\u0275fac=function(E){return new(E||x)(d.Y36(Vn,10))},x.\u0275dir=d.lG2({type:x,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(E,P){2&E&&d.ekj("ng-untouched",P.isUntouched)("ng-touched",P.isTouched)("ng-pristine",P.isPristine)("ng-dirty",P.isDirty)("ng-valid",P.isValid)("ng-invalid",P.isInvalid)("ng-pending",P.isPending)("ng-submitted",P.isSubmitted)},features:[d.qOj]}),x})();const ar="VALID",Ir="INVALID",nr="PENDING",rr="DISABLED";function Do(x){return(Z(x)?x.validators:x)||null}function X(x,S){return(Z(S)?S.asyncValidators:x)||null}function Z(x){return null!=x&&!Array.isArray(x)&&"object"==typeof x}function xe(x,S,E){const P=x.controls;if(!(S?Object.keys(P):P).length)throw new d.vHH(1e3,"");if(!P[E])throw new d.vHH(1001,"")}function Ye(x,S,E){x._forEachChild((P,le)=>{if(void 0===E[le])throw new d.vHH(1002,"")})}class ft{constructor(S,E){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(S),this._assignAsyncValidators(E)}get validator(){return this._composedValidatorFn}set validator(S){this._rawValidators=this._composedValidatorFn=S}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(S){this._rawAsyncValidators=this._composedAsyncValidatorFn=S}get parent(){return this._parent}get valid(){return this.status===ar}get invalid(){return this.status===Ir}get pending(){return this.status==nr}get disabled(){return this.status===rr}get enabled(){return this.status!==rr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(S){this._assignValidators(S)}setAsyncValidators(S){this._assignAsyncValidators(S)}addValidators(S){this.setValidators(zn(S,this._rawValidators))}addAsyncValidators(S){this.setAsyncValidators(zn(S,this._rawAsyncValidators))}removeValidators(S){this.setValidators(Qe(S,this._rawValidators))}removeAsyncValidators(S){this.setAsyncValidators(Qe(S,this._rawAsyncValidators))}hasValidator(S){return Lt(this._rawValidators,S)}hasAsyncValidator(S){return Lt(this._rawAsyncValidators,S)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(S={}){this.touched=!0,this._parent&&!S.onlySelf&&this._parent.markAsTouched(S)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(S=>S.markAllAsTouched())}markAsUntouched(S={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(E=>{E.markAsUntouched({onlySelf:!0})}),this._parent&&!S.onlySelf&&this._parent._updateTouched(S)}markAsDirty(S={}){this.pristine=!1,this._parent&&!S.onlySelf&&this._parent.markAsDirty(S)}markAsPristine(S={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(E=>{E.markAsPristine({onlySelf:!0})}),this._parent&&!S.onlySelf&&this._parent._updatePristine(S)}markAsPending(S={}){this.status=nr,!1!==S.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!S.onlySelf&&this._parent.markAsPending(S)}disable(S={}){const E=this._parentMarkedDirty(S.onlySelf);this.status=rr,this.errors=null,this._forEachChild(P=>{P.disable({...S,onlySelf:!0})}),this._updateValue(),!1!==S.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...S,skipPristineCheck:E}),this._onDisabledChange.forEach(P=>P(!0))}enable(S={}){const E=this._parentMarkedDirty(S.onlySelf);this.status=ar,this._forEachChild(P=>{P.enable({...S,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:S.emitEvent}),this._updateAncestors({...S,skipPristineCheck:E}),this._onDisabledChange.forEach(P=>P(!1))}_updateAncestors(S){this._parent&&!S.onlySelf&&(this._parent.updateValueAndValidity(S),S.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(S){this._parent=S}getRawValue(){return this.value}updateValueAndValidity(S={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ar||this.status===nr)&&this._runAsyncValidator(S.emitEvent)),!1!==S.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!S.onlySelf&&this._parent.updateValueAndValidity(S)}_updateTreeValidity(S={emitEvent:!0}){this._forEachChild(E=>E._updateTreeValidity(S)),this.updateValueAndValidity({onlySelf:!0,emitEvent:S.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?rr:ar}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(S){if(this.asyncValidator){this.status=nr,this._hasOwnPendingAsyncValidator=!0;const E=he(this.asyncValidator(this));this._asyncValidationSubscription=E.subscribe(P=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(P,{emitEvent:S})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(S,E={}){this.errors=S,this._updateControlsErrors(!1!==E.emitEvent)}get(S){let E=S;return null==E||(Array.isArray(E)||(E=E.split(".")),0===E.length)?null:E.reduce((P,le)=>P&&P._find(le),this)}getError(S,E){const P=E?this.get(E):this;return P&&P.errors?P.errors[S]:null}hasError(S,E){return!!this.getError(S,E)}get root(){let S=this;for(;S._parent;)S=S._parent;return S}_updateControlsErrors(S){this.status=this._calculateStatus(),S&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(S)}_initObservables(){this.valueChanges=new d.vpe,this.statusChanges=new d.vpe}_calculateStatus(){return this._allControlsDisabled()?rr:this.errors?Ir:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(nr)?nr:this._anyControlsHaveStatus(Ir)?Ir:ar}_anyControlsHaveStatus(S){return this._anyControls(E=>E.status===S)}_anyControlsDirty(){return this._anyControls(S=>S.dirty)}_anyControlsTouched(){return this._anyControls(S=>S.touched)}_updatePristine(S={}){this.pristine=!this._anyControlsDirty(),this._parent&&!S.onlySelf&&this._parent._updatePristine(S)}_updateTouched(S={}){this.touched=this._anyControlsTouched(),this._parent&&!S.onlySelf&&this._parent._updateTouched(S)}_registerOnCollectionChange(S){this._onCollectionChange=S}_setUpdateStrategy(S){Z(S)&&null!=S.updateOn&&(this._updateOn=S.updateOn)}_parentMarkedDirty(S){return!S&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(S){return null}_assignValidators(S){this._rawValidators=Array.isArray(S)?S.slice():S,this._composedValidatorFn=function ue(x){return Array.isArray(x)?It(x):x||null}(this._rawValidators)}_assignAsyncValidators(S){this._rawAsyncValidators=Array.isArray(S)?S.slice():S,this._composedAsyncValidatorFn=function j(x){return Array.isArray(x)?de(x):x||null}(this._rawAsyncValidators)}}class bt extends ft{constructor(S,E,P){super(Do(E),X(P,E)),this.controls=S,this._initObservables(),this._setUpdateStrategy(E),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(S,E){return this.controls[S]?this.controls[S]:(this.controls[S]=E,E.setParent(this),E._registerOnCollectionChange(this._onCollectionChange),E)}addControl(S,E,P={}){this.registerControl(S,E),this.updateValueAndValidity({emitEvent:P.emitEvent}),this._onCollectionChange()}removeControl(S,E={}){this.controls[S]&&this.controls[S]._registerOnCollectionChange(()=>{}),delete this.controls[S],this.updateValueAndValidity({emitEvent:E.emitEvent}),this._onCollectionChange()}setControl(S,E,P={}){this.controls[S]&&this.controls[S]._registerOnCollectionChange(()=>{}),delete this.controls[S],E&&this.registerControl(S,E),this.updateValueAndValidity({emitEvent:P.emitEvent}),this._onCollectionChange()}contains(S){return this.controls.hasOwnProperty(S)&&this.controls[S].enabled}setValue(S,E={}){Ye(this,0,S),Object.keys(S).forEach(P=>{xe(this,!0,P),this.controls[P].setValue(S[P],{onlySelf:!0,emitEvent:E.emitEvent})}),this.updateValueAndValidity(E)}patchValue(S,E={}){null!=S&&(Object.keys(S).forEach(P=>{const le=this.controls[P];le&&le.patchValue(S[P],{onlySelf:!0,emitEvent:E.emitEvent})}),this.updateValueAndValidity(E))}reset(S={},E={}){this._forEachChild((P,le)=>{P.reset(S[le],{onlySelf:!0,emitEvent:E.emitEvent})}),this._updatePristine(E),this._updateTouched(E),this.updateValueAndValidity(E)}getRawValue(){return this._reduceChildren({},(S,E,P)=>(S[P]=E.getRawValue(),S))}_syncPendingControls(){let S=this._reduceChildren(!1,(E,P)=>!!P._syncPendingControls()||E);return S&&this.updateValueAndValidity({onlySelf:!0}),S}_forEachChild(S){Object.keys(this.controls).forEach(E=>{const P=this.controls[E];P&&S(P,E)})}_setUpControls(){this._forEachChild(S=>{S.setParent(this),S._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(S){for(const[E,P]of Object.entries(this.controls))if(this.contains(E)&&S(P))return!0;return!1}_reduceValue(){return this._reduceChildren({},(E,P,le)=>((P.enabled||this.disabled)&&(E[le]=P.value),E))}_reduceChildren(S,E){let P=S;return this._forEachChild((le,et)=>{P=E(P,le,et)}),P}_allControlsDisabled(){for(const S of Object.keys(this.controls))if(this.controls[S].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(S){return this.controls.hasOwnProperty(S)?this.controls[S]:null}}class Bn extends bt{}const oe=new d.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>z}),z="always";function q(x,S){return[...S.path,x]}function Se(x,S,E=z){mt(x,S),S.valueAccessor.writeValue(x.value),(x.disabled||"always"===E)&&S.valueAccessor.setDisabledState?.(x.disabled),function cn(x,S){S.valueAccessor.registerOnChange(E=>{x._pendingValue=E,x._pendingChange=!0,x._pendingDirty=!0,"change"===x.updateOn&&gn(x,S)})}(x,S),function _n(x,S){const E=(P,le)=>{S.valueAccessor.writeValue(P),le&&S.viewToModelUpdate(P)};x.registerOnChange(E),S._registerOnDestroy(()=>{x._unregisterOnChange(E)})}(x,S),function Mn(x,S){S.valueAccessor.registerOnTouched(()=>{x._pendingTouched=!0,"blur"===x.updateOn&&x._pendingChange&&gn(x,S),"submit"!==x.updateOn&&x.markAsTouched()})}(x,S),function Pe(x,S){if(S.valueAccessor.setDisabledState){const E=P=>{S.valueAccessor.setDisabledState(P)};x.registerOnDisabledChange(E),S._registerOnDestroy(()=>{x._unregisterOnDisabledChange(E)})}}(x,S)}function ke(x,S,E=!0){const P=()=>{};S.valueAccessor&&(S.valueAccessor.registerOnChange(P),S.valueAccessor.registerOnTouched(P)),Ge(x,S),x&&(S._invokeOnDestroyCallbacks(),x._registerOnCollectionChange(()=>{}))}function We(x,S){x.forEach(E=>{E.registerOnValidatorChange&&E.registerOnValidatorChange(S)})}function mt(x,S){const E=De(x);null!==S.validator?x.setValidators(it(E,S.validator)):"function"==typeof E&&x.setValidators([E]);const P=Rt(x);null!==S.asyncValidator?x.setAsyncValidators(it(P,S.asyncValidator)):"function"==typeof P&&x.setAsyncValidators([P]);const le=()=>x.updateValueAndValidity();We(S._rawValidators,le),We(S._rawAsyncValidators,le)}function Ge(x,S){let E=!1;if(null!==x){if(null!==S.validator){const le=De(x);if(Array.isArray(le)&&le.length>0){const et=le.filter(pn=>pn!==S.validator);et.length!==le.length&&(E=!0,x.setValidators(et))}}if(null!==S.asyncValidator){const le=Rt(x);if(Array.isArray(le)&&le.length>0){const et=le.filter(pn=>pn!==S.asyncValidator);et.length!==le.length&&(E=!0,x.setAsyncValidators(et))}}}const P=()=>{};return We(S._rawValidators,P),We(S._rawAsyncValidators,P),E}function gn(x,S){x._pendingDirty&&x.markAsDirty(),x.setValue(x._pendingValue,{emitModelToViewChange:!1}),S.viewToModelUpdate(x._pendingValue),x._pendingChange=!1}function Un(x,S){if(!x.hasOwnProperty("model"))return!1;const E=x.model;return!!E.isFirstChange()||!Object.is(S,E.currentValue)}function Kr(x,S){if(!S)return null;let E,P,le;return Array.isArray(S),S.forEach(et=>{et.constructor===be?E=et:function Co(x){return Object.getPrototypeOf(x.constructor)===Be}(et)?P=et:le=et}),le||P||E||null}function _o(x,S){const E=x.indexOf(S);E>-1&&x.splice(E,1)}function Zn(x){return"object"==typeof x&&null!==x&&2===Object.keys(x).length&&"value"in x&&"disabled"in x}const Zr=class extends ft{constructor(S=null,E,P){super(Do(E),X(P,E)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(S),this._setUpdateStrategy(E),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Z(E)&&(E.nonNullable||E.initialValueIsDefault)&&(this.defaultValue=Zn(S)?S.value:S)}setValue(S,E={}){this.value=this._pendingValue=S,this._onChange.length&&!1!==E.emitModelToViewChange&&this._onChange.forEach(P=>P(this.value,!1!==E.emitViewToModelChange)),this.updateValueAndValidity(E)}patchValue(S,E={}){this.setValue(S,E)}reset(S=this.defaultValue,E={}){this._applyFormState(S),this.markAsPristine(E),this.markAsUntouched(E),this.setValue(this.value,E),this._pendingChange=!1}_updateValue(){}_anyControls(S){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(S){this._onChange.push(S)}_unregisterOnChange(S){_o(this._onChange,S)}registerOnDisabledChange(S){this._onDisabledChange.push(S)}_unregisterOnDisabledChange(S){_o(this._onDisabledChange,S)}_forEachChild(S){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(S){Zn(S)?(this.value=this._pendingValue=S.value,S.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=S}},Fo={provide:Gn,useExisting:(0,d.Gpc)(()=>Go)},co=(()=>Promise.resolve())();let Go=(()=>{class x extends Gn{constructor(E,P,le,et,pn,Cn){super(),this._changeDetectorRef=pn,this.callSetDisabledState=Cn,this.control=new Zr,this._registered=!1,this.name="",this.update=new d.vpe,this._parent=E,this._setValidators(P),this._setAsyncValidators(le),this.valueAccessor=Kr(0,et)}ngOnChanges(E){if(this._checkForErrors(),!this._registered||"name"in E){if(this._registered&&(this._checkName(),this.formDirective)){const P=E.name.previousValue;this.formDirective.removeControl({name:P,path:this._getPath(P)})}this._setUpControl()}"isDisabled"in E&&this._updateDisabled(E),Un(E,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(E){this.viewModel=E,this.update.emit(E)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Se(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(E){co.then(()=>{this.control.setValue(E,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(E){const P=E.isDisabled.currentValue,le=0!==P&&(0,d.VuI)(P);co.then(()=>{le&&!this.control.disabled?this.control.disable():!le&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(E){return this._parent?q(E,this._parent):[E]}}return x.\u0275fac=function(E){return new(E||x)(d.Y36(Vn,9),d.Y36(Fe,10),d.Y36(He,10),d.Y36($e,10),d.Y36(d.sBO,8),d.Y36(oe,8))},x.\u0275dir=d.lG2({type:x,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[d._Bn([Fo]),d.qOj,d.TTD]}),x})(),ci=(()=>{class x{}return x.\u0275fac=function(E){return new(E||x)},x.\u0275dir=d.lG2({type:x,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),x})(),Wn=(()=>{class x{}return x.\u0275fac=function(E){return new(E||x)},x.\u0275mod=d.oAB({type:x}),x.\u0275inj=d.cJS({}),x})();const An=new d.OlP("NgModelWithFormControlWarning"),vt={provide:Vn,useExisting:(0,d.Gpc)(()=>Ke)};let Ke=(()=>{class x extends Vn{constructor(E,P,le){super(),this.callSetDisabledState=le,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new d.vpe,this._setValidators(E),this._setAsyncValidators(P)}ngOnChanges(E){this._checkFormPresent(),E.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ge(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(E){const P=this.form.get(E.path);return Se(P,E,this.callSetDisabledState),P.updateValueAndValidity({emitEvent:!1}),this.directives.push(E),P}getControl(E){return this.form.get(E.path)}removeControl(E){ke(E.control||null,E,!1),function zi(x,S){const E=x.indexOf(S);E>-1&&x.splice(E,1)}(this.directives,E)}addFormGroup(E){this._setUpFormContainer(E)}removeFormGroup(E){this._cleanUpFormContainer(E)}getFormGroup(E){return this.form.get(E.path)}addFormArray(E){this._setUpFormContainer(E)}removeFormArray(E){this._cleanUpFormContainer(E)}getFormArray(E){return this.form.get(E.path)}updateModel(E,P){this.form.get(E.path).setValue(P)}onSubmit(E){return this.submitted=!0,function uo(x,S){x._syncPendingControls(),S.forEach(E=>{const P=E.control;"submit"===P.updateOn&&P._pendingChange&&(E.viewToModelUpdate(P._pendingValue),P._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(E),"dialog"===E?.target?.method}onReset(){this.resetForm()}resetForm(E=void 0){this.form.reset(E),this.submitted=!1}_updateDomValue(){this.directives.forEach(E=>{const P=E.control,le=this.form.get(E.path);P!==le&&(ke(P||null,E),(x=>x instanceof Zr)(le)&&(Se(le,E,this.callSetDisabledState),E.control=le))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(E){const P=this.form.get(E.path);(function qt(x,S){mt(x,S)})(P,E),P.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(E){if(this.form){const P=this.form.get(E.path);P&&function Xt(x,S){return Ge(x,S)}(P,E)&&P.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){mt(this.form,this),this._oldForm&&Ge(this._oldForm,this)}_checkFormPresent(){}}return x.\u0275fac=function(E){return new(E||x)(d.Y36(Fe,10),d.Y36(He,10),d.Y36(oe,8))},x.\u0275dir=d.lG2({type:x,selectors:[["","formGroup",""]],hostBindings:function(E,P){1&E&&d.NdJ("submit",function(et){return P.onSubmit(et)})("reset",function(){return P.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([vt]),d.qOj,d.TTD]}),x})();const Vr={provide:Gn,useExisting:(0,d.Gpc)(()=>Ut)};let Ut=(()=>{class x extends Gn{set isDisabled(E){}constructor(E,P,le,et,pn){super(),this._ngModelWarningConfig=pn,this._added=!1,this.name=null,this.update=new d.vpe,this._ngModelWarningSent=!1,this._parent=E,this._setValidators(P),this._setAsyncValidators(le),this.valueAccessor=Kr(0,et)}ngOnChanges(E){this._added||this._setUpControl(),Un(E,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(E){this.viewModel=E,this.update.emit(E)}get path(){return q(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return x._ngModelWarningSentOnce=!1,x.\u0275fac=function(E){return new(E||x)(d.Y36(Vn,13),d.Y36(Fe,10),d.Y36(He,10),d.Y36($e,10),d.Y36(An,8))},x.\u0275dir=d.lG2({type:x,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[d._Bn([Vr]),d.qOj,d.TTD]}),x})(),Dr=(()=>{class x{}return x.\u0275fac=function(E){return new(E||x)},x.\u0275mod=d.oAB({type:x}),x.\u0275inj=d.cJS({imports:[Wn]}),x})();class pi extends ft{constructor(S,E,P){super(Do(E),X(P,E)),this.controls=S,this._initObservables(),this._setUpdateStrategy(E),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(S){return this.controls[this._adjustIndex(S)]}push(S,E={}){this.controls.push(S),this._registerControl(S),this.updateValueAndValidity({emitEvent:E.emitEvent}),this._onCollectionChange()}insert(S,E,P={}){this.controls.splice(S,0,E),this._registerControl(E),this.updateValueAndValidity({emitEvent:P.emitEvent})}removeAt(S,E={}){let P=this._adjustIndex(S);P<0&&(P=0),this.controls[P]&&this.controls[P]._registerOnCollectionChange(()=>{}),this.controls.splice(P,1),this.updateValueAndValidity({emitEvent:E.emitEvent})}setControl(S,E,P={}){let le=this._adjustIndex(S);le<0&&(le=0),this.controls[le]&&this.controls[le]._registerOnCollectionChange(()=>{}),this.controls.splice(le,1),E&&(this.controls.splice(le,0,E),this._registerControl(E)),this.updateValueAndValidity({emitEvent:P.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(S,E={}){Ye(this,0,S),S.forEach((P,le)=>{xe(this,!1,le),this.at(le).setValue(P,{onlySelf:!0,emitEvent:E.emitEvent})}),this.updateValueAndValidity(E)}patchValue(S,E={}){null!=S&&(S.forEach((P,le)=>{this.at(le)&&this.at(le).patchValue(P,{onlySelf:!0,emitEvent:E.emitEvent})}),this.updateValueAndValidity(E))}reset(S=[],E={}){this._forEachChild((P,le)=>{P.reset(S[le],{onlySelf:!0,emitEvent:E.emitEvent})}),this._updatePristine(E),this._updateTouched(E),this.updateValueAndValidity(E)}getRawValue(){return this.controls.map(S=>S.getRawValue())}clear(S={}){this.controls.length<1||(this._forEachChild(E=>E._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:S.emitEvent}))}_adjustIndex(S){return S<0?S+this.length:S}_syncPendingControls(){let S=this.controls.reduce((E,P)=>!!P._syncPendingControls()||E,!1);return S&&this.updateValueAndValidity({onlySelf:!0}),S}_forEachChild(S){this.controls.forEach((E,P)=>{S(E,P)})}_updateValue(){this.value=this.controls.filter(S=>S.enabled||this.disabled).map(S=>S.value)}_anyControls(S){return this.controls.some(E=>E.enabled&&S(E))}_setUpControls(){this._forEachChild(S=>this._registerControl(S))}_allControlsDisabled(){for(const S of this.controls)if(S.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(S){S.setParent(this),S._registerOnCollectionChange(this._onCollectionChange)}_find(S){return this.at(S)??null}}function Nn(x){return!!x&&(void 0!==x.asyncValidators||void 0!==x.validators||void 0!==x.updateOn)}let xo=(()=>{class x{constructor(){this.useNonNullable=!1}get nonNullable(){const E=new x;return E.useNonNullable=!0,E}group(E,P=null){const le=this._reduceControls(E);let et={};return Nn(P)?et=P:null!==P&&(et.validators=P.validator,et.asyncValidators=P.asyncValidator),new bt(le,et)}record(E,P=null){const le=this._reduceControls(E);return new Bn(le,P)}control(E,P,le){let et={};return this.useNonNullable?(Nn(P)?et=P:(et.validators=P,et.asyncValidators=le),new Zr(E,{...et,nonNullable:!0})):new Zr(E,P,le)}array(E,P,le){const et=E.map(pn=>this._createControl(pn));return new pi(et,P,le)}_reduceControls(E){const P={};return Object.keys(E).forEach(le=>{P[le]=this._createControl(E[le])}),P}_createControl(E){return E instanceof Zr||E instanceof ft?E:Array.isArray(E)?this.control(E[0],E.length>1?E[1]:null,E.length>2?E[2]:null):this.control(E)}}return x.\u0275fac=function(E){return new(E||x)},x.\u0275prov=d.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})(),In=(()=>{class x{static withConfig(E){return{ngModule:x,providers:[{provide:oe,useValue:E.callSetDisabledState??z}]}}}return x.\u0275fac=function(E){return new(E||x)},x.\u0275mod=d.oAB({type:x}),x.\u0275inj=d.cJS({imports:[Dr]}),x})(),cr=(()=>{class x{static withConfig(E){return{ngModule:x,providers:[{provide:An,useValue:E.warnOnNgModelWithFormControl??"always"},{provide:oe,useValue:E.callSetDisabledState??z}]}}}return x.\u0275fac=function(E){return new(E||x)},x.\u0275mod=d.oAB({type:x}),x.\u0275inj=d.cJS({imports:[Dr]}),x})()},6593:(lt,me,F)=>{F.d(me,{Dx:()=>Gn,H7:()=>wt,b2:()=>Lt,q6:()=>it});var d=F(4946),Y=F(6814);class ae extends Y.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class J extends ae{static makeCurrent(){(0,Y.HT)(new J)}onAndCancel(X,j,Z){return X.addEventListener(j,Z),()=>{X.removeEventListener(j,Z)}}dispatchEvent(X,j){X.dispatchEvent(j)}remove(X){X.parentNode&&X.parentNode.removeChild(X)}createElement(X,j){return(j=j||this.getDefaultDocument()).createElement(X)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(X){return X.nodeType===Node.ELEMENT_NODE}isShadowRoot(X){return X instanceof DocumentFragment}getGlobalEventTarget(X,j){return"window"===j?window:"document"===j?X:"body"===j?X.body:null}getBaseHref(X){const j=function Re(){return B=B||document.querySelector("base"),B?B.getAttribute("href"):null}();return null==j?null:function Oe(ue){re=re||document.createElement("a"),re.setAttribute("href",ue);const X=re.pathname;return"/"===X.charAt(0)?X:`/${X}`}(j)}resetBaseElement(){B=null}getUserAgent(){return window.navigator.userAgent}getCookie(X){return(0,Y.Mx)(document.cookie,X)}}let re,B=null,_e=(()=>{class ue{build(){return new XMLHttpRequest}}return ue.\u0275fac=function(j){return new(j||ue)},ue.\u0275prov=d.Yz7({token:ue,factory:ue.\u0275fac}),ue})();const fe=new d.OlP("EventManagerPlugins");let we=(()=>{class ue{constructor(j,Z){this._zone=Z,this._eventNameToPlugin=new Map,j.forEach(xe=>{xe.manager=this}),this._plugins=j.slice().reverse()}addEventListener(j,Z,xe){return this._findPluginFor(Z).addEventListener(j,Z,xe)}getZone(){return this._zone}_findPluginFor(j){let Z=this._eventNameToPlugin.get(j);if(Z)return Z;if(Z=this._plugins.find(Ye=>Ye.supports(j)),!Z)throw new d.vHH(5101,!1);return this._eventNameToPlugin.set(j,Z),Z}}return ue.\u0275fac=function(j){return new(j||ue)(d.LFG(fe),d.LFG(d.R0b))},ue.\u0275prov=d.Yz7({token:ue,factory:ue.\u0275fac}),ue})();class tt{constructor(X){this._doc=X}}const Be="ng-app-id";let $e=(()=>{class ue{constructor(j,Z,xe,Ye={}){this.doc=j,this.appId=Z,this.nonce=xe,this.platformId=Ye,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,Y.PM)(Ye),this.resetHostNodes()}addStyles(j){for(const Z of j)1===this.changeUsageCount(Z,1)&&this.onStyleAdded(Z)}removeStyles(j){for(const Z of j)this.changeUsageCount(Z,-1)<=0&&this.onStyleRemoved(Z)}ngOnDestroy(){const j=this.styleNodesInDOM;j&&(j.forEach(Z=>Z.remove()),j.clear());for(const Z of this.getAllStyles())this.onStyleRemoved(Z);this.resetHostNodes()}addHost(j){this.hostNodes.add(j);for(const Z of this.getAllStyles())this.addStyleToHost(j,Z)}removeHost(j){this.hostNodes.delete(j)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(j){for(const Z of this.hostNodes)this.addStyleToHost(Z,j)}onStyleRemoved(j){const Z=this.styleRef;Z.get(j)?.elements?.forEach(xe=>xe.remove()),Z.delete(j)}collectServerRenderedStyles(){const j=this.doc.head?.querySelectorAll(`style[${Be}="${this.appId}"]`);if(j?.length){const Z=new Map;return j.forEach(xe=>{null!=xe.textContent&&Z.set(xe.textContent,xe)}),Z}return null}changeUsageCount(j,Z){const xe=this.styleRef;if(xe.has(j)){const Ye=xe.get(j);return Ye.usage+=Z,Ye.usage}return xe.set(j,{usage:Z,elements:[]}),Z}getStyleElement(j,Z){const xe=this.styleNodesInDOM,Ye=xe?.get(Z);if(Ye?.parentNode===j)return xe.delete(Z),Ye.removeAttribute(Be),Ye;{const ft=this.doc.createElement("style");return this.nonce&&ft.setAttribute("nonce",this.nonce),ft.textContent=Z,this.platformIsServer&&ft.setAttribute(Be,this.appId),ft}}addStyleToHost(j,Z){const xe=this.getStyleElement(j,Z);j.appendChild(xe);const Ye=this.styleRef,ft=Ye.get(Z)?.elements;ft?ft.push(xe):Ye.set(Z,{elements:[xe],usage:1})}resetHostNodes(){const j=this.hostNodes;j.clear(),j.add(this.doc.head)}}return ue.\u0275fac=function(j){return new(j||ue)(d.LFG(Y.K0),d.LFG(d.AFp),d.LFG(d.Ojb,8),d.LFG(d.Lbi))},ue.\u0275prov=d.Yz7({token:ue,factory:ue.\u0275fac}),ue})();const gt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},At=/%COMP%/g,Ve=new d.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function He(ue,X){return X.map(j=>j.replace(At,ue))}let ee=(()=>{class ue{constructor(j,Z,xe,Ye,ft,bt,Qt,Mt=null){this.eventManager=j,this.sharedStylesHost=Z,this.appId=xe,this.removeStylesOnCompDestroy=Ye,this.doc=ft,this.platformId=bt,this.ngZone=Qt,this.nonce=Mt,this.rendererByCompId=new Map,this.platformIsServer=(0,Y.PM)(bt),this.defaultRenderer=new Ae(j,ft,Qt,this.platformIsServer)}createRenderer(j,Z){if(!j||!Z)return this.defaultRenderer;this.platformIsServer&&Z.encapsulation===d.ifc.ShadowDom&&(Z={...Z,encapsulation:d.ifc.Emulated});const xe=this.getOrCreateRenderer(j,Z);return xe instanceof _t?xe.applyToHost(j):xe instanceof qe&&xe.applyStyles(),xe}getOrCreateRenderer(j,Z){const xe=this.rendererByCompId;let Ye=xe.get(Z.id);if(!Ye){const ft=this.doc,bt=this.ngZone,Qt=this.eventManager,Mt=this.sharedStylesHost,Bn=this.removeStylesOnCompDestroy,gr=this.platformIsServer;switch(Z.encapsulation){case d.ifc.Emulated:Ye=new _t(Qt,Mt,Z,this.appId,Bn,ft,bt,gr);break;case d.ifc.ShadowDom:return new En(Qt,Mt,j,Z,ft,bt,this.nonce,gr);default:Ye=new qe(Qt,Mt,Z,Bn,ft,bt,gr)}Ye.onDestroy=()=>xe.delete(Z.id),xe.set(Z.id,Ye)}return Ye}ngOnDestroy(){this.rendererByCompId.clear()}}return ue.\u0275fac=function(j){return new(j||ue)(d.LFG(we),d.LFG($e),d.LFG(d.AFp),d.LFG(Ve),d.LFG(Y.K0),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(d.Ojb))},ue.\u0275prov=d.Yz7({token:ue,factory:ue.\u0275fac}),ue})();class Ae{constructor(X,j,Z,xe){this.eventManager=X,this.doc=j,this.ngZone=Z,this.platformIsServer=xe,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(X,j){return j?this.doc.createElementNS(gt[j]||j,X):this.doc.createElement(X)}createComment(X){return this.doc.createComment(X)}createText(X){return this.doc.createTextNode(X)}appendChild(X,j){($t(X)?X.content:X).appendChild(j)}insertBefore(X,j,Z){X&&($t(X)?X.content:X).insertBefore(j,Z)}removeChild(X,j){X&&X.removeChild(j)}selectRootElement(X,j){let Z="string"==typeof X?this.doc.querySelector(X):X;if(!Z)throw new d.vHH(-5104,!1);return j||(Z.textContent=""),Z}parentNode(X){return X.parentNode}nextSibling(X){return X.nextSibling}setAttribute(X,j,Z,xe){if(xe){j=xe+":"+j;const Ye=gt[xe];Ye?X.setAttributeNS(Ye,j,Z):X.setAttribute(j,Z)}else X.setAttribute(j,Z)}removeAttribute(X,j,Z){if(Z){const xe=gt[Z];xe?X.removeAttributeNS(xe,j):X.removeAttribute(`${Z}:${j}`)}else X.removeAttribute(j)}addClass(X,j){X.classList.add(j)}removeClass(X,j){X.classList.remove(j)}setStyle(X,j,Z,xe){xe&(d.JOm.DashCase|d.JOm.Important)?X.style.setProperty(j,Z,xe&d.JOm.Important?"important":""):X.style[j]=Z}removeStyle(X,j,Z){Z&d.JOm.DashCase?X.style.removeProperty(j):X.style[j]=""}setProperty(X,j,Z){X[j]=Z}setValue(X,j){X.nodeValue=j}listen(X,j,Z){if("string"==typeof X&&!(X=(0,Y.q)().getGlobalEventTarget(this.doc,X)))throw new Error(`Unsupported event target ${X} for event ${j}`);return this.eventManager.addEventListener(X,j,this.decoratePreventDefault(Z))}decoratePreventDefault(X){return j=>{if("__ngUnwrap__"===j)return X;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>X(j)):X(j))&&j.preventDefault()}}}function $t(ue){return"TEMPLATE"===ue.tagName&&void 0!==ue.content}class En extends Ae{constructor(X,j,Z,xe,Ye,ft,bt,Qt){super(X,Ye,ft,Qt),this.sharedStylesHost=j,this.hostEl=Z,this.shadowRoot=Z.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Mt=He(xe.id,xe.styles);for(const Bn of Mt){const gr=document.createElement("style");bt&&gr.setAttribute("nonce",bt),gr.textContent=Bn,this.shadowRoot.appendChild(gr)}}nodeOrShadowRoot(X){return X===this.hostEl?this.shadowRoot:X}appendChild(X,j){return super.appendChild(this.nodeOrShadowRoot(X),j)}insertBefore(X,j,Z){return super.insertBefore(this.nodeOrShadowRoot(X),j,Z)}removeChild(X,j){return super.removeChild(this.nodeOrShadowRoot(X),j)}parentNode(X){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(X)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class qe extends Ae{constructor(X,j,Z,xe,Ye,ft,bt,Qt){super(X,Ye,ft,bt),this.sharedStylesHost=j,this.removeStylesOnCompDestroy=xe,this.rendererUsageCount=0,this.styles=Qt?He(Qt,Z.styles):Z.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestroy&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class _t extends qe{constructor(X,j,Z,xe,Ye,ft,bt,Qt){const Mt=xe+"-"+Z.id;super(X,j,Z,Ye,ft,bt,Qt,Mt),this.contentAttr=function ze(ue){return"_ngcontent-%COMP%".replace(At,ue)}(Mt),this.hostAttr=function Fe(ue){return"_nghost-%COMP%".replace(At,ue)}(Mt)}applyToHost(X){this.applyStyles(),this.setAttribute(X,this.hostAttr,"")}createElement(X,j){const Z=super.createElement(X,j);return super.setAttribute(Z,this.contentAttr,""),Z}}let Xe=(()=>{class ue extends tt{constructor(j){super(j)}supports(j){return!0}addEventListener(j,Z,xe){return j.addEventListener(Z,xe,!1),()=>this.removeEventListener(j,Z,xe)}removeEventListener(j,Z,xe){return j.removeEventListener(Z,xe)}}return ue.\u0275fac=function(j){return new(j||ue)(d.LFG(Y.K0))},ue.\u0275prov=d.Yz7({token:ue,factory:ue.\u0275fac}),ue})();const Dt=["alt","control","meta","shift"],ie={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},se={alt:ue=>ue.altKey,control:ue=>ue.ctrlKey,meta:ue=>ue.metaKey,shift:ue=>ue.shiftKey};let he=(()=>{class ue extends tt{constructor(j){super(j)}supports(j){return null!=ue.parseEventName(j)}addEventListener(j,Z,xe){const Ye=ue.parseEventName(Z),ft=ue.eventCallback(Ye.fullKey,xe,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,Y.q)().onAndCancel(j,Ye.domEventName,ft))}static parseEventName(j){const Z=j.toLowerCase().split("."),xe=Z.shift();if(0===Z.length||"keydown"!==xe&&"keyup"!==xe)return null;const Ye=ue._normalizeKey(Z.pop());let ft="",bt=Z.indexOf("code");if(bt>-1&&(Z.splice(bt,1),ft="code."),Dt.forEach(Mt=>{const Bn=Z.indexOf(Mt);Bn>-1&&(Z.splice(Bn,1),ft+=Mt+".")}),ft+=Ye,0!=Z.length||0===Ye.length)return null;const Qt={};return Qt.domEventName=xe,Qt.fullKey=ft,Qt}static matchEventFullKeyCode(j,Z){let xe=ie[j.key]||j.key,Ye="";return Z.indexOf("code.")>-1&&(xe=j.code,Ye="code."),!(null==xe||!xe)&&(xe=xe.toLowerCase()," "===xe?xe="space":"."===xe&&(xe="dot"),Dt.forEach(ft=>{ft!==xe&&(0,se[ft])(j)&&(Ye+=ft+".")}),Ye+=xe,Ye===Z)}static eventCallback(j,Z,xe){return Ye=>{ue.matchEventFullKeyCode(Ye,j)&&xe.runGuarded(()=>Z(Ye))}}static _normalizeKey(j){return"esc"===j?"escape":j}}return ue.\u0275fac=function(j){return new(j||ue)(d.LFG(Y.K0))},ue.\u0275prov=d.Yz7({token:ue,factory:ue.\u0275fac}),ue})();const it=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:Y.bD},{provide:d.g9A,useValue:function Nt(){J.makeCurrent()},multi:!0},{provide:Y.K0,useFactory:function ot(){return(0,d.RDi)(document),document},deps:[]}]),De=new d.OlP(""),Rt=[{provide:d.rWj,useClass:class ye{addToWindow(X){d.dqk.getAngularTestability=(Z,xe=!0)=>{const Ye=X.findTestabilityInTree(Z,xe);if(null==Ye)throw new d.vHH(5103,!1);return Ye},d.dqk.getAllAngularTestabilities=()=>X.getAllTestabilities(),d.dqk.getAllAngularRootElements=()=>X.getAllRootElements(),d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push(Z=>{const xe=d.dqk.getAllAngularTestabilities();let Ye=xe.length,ft=!1;const bt=function(Qt){ft=ft||Qt,Ye--,0==Ye&&Z(ft)};xe.forEach(Qt=>{Qt.whenStable(bt)})})}findTestabilityInTree(X,j,Z){return null==j?null:X.getTestability(j)??(Z?(0,Y.q)().isShadowRoot(j)?this.findTestabilityInTree(X,j.host,!0):this.findTestabilityInTree(X,j.parentElement,!0):null)}},deps:[]},{provide:d.lri,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]}],Kt=[{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function It(){return new d.qLn},deps:[]},{provide:fe,useClass:Xe,multi:!0,deps:[Y.K0,d.R0b,d.Lbi]},{provide:fe,useClass:he,multi:!0,deps:[Y.K0]},ee,$e,we,{provide:d.FYo,useExisting:ee},{provide:Y.JF,useClass:_e,deps:[]},[]];let Lt=(()=>{class ue{constructor(j){}static withServerTransition(j){return{ngModule:ue,providers:[{provide:d.AFp,useValue:j.appId}]}}}return ue.\u0275fac=function(j){return new(j||ue)(d.LFG(De,12))},ue.\u0275mod=d.oAB({type:ue}),ue.\u0275inj=d.cJS({providers:[...Kt,...Rt],imports:[Y.ez,d.hGG]}),ue})(),Gn=(()=>{class ue{constructor(j){this._doc=j}getTitle(){return this._doc.title}setTitle(j){this._doc.title=j||""}}return ue.\u0275fac=function(j){return new(j||ue)(d.LFG(Y.K0))},ue.\u0275prov=d.Yz7({token:ue,factory:function(j){let Z=null;return Z=j?new j:function Vn(){return new Gn((0,d.LFG)(Y.K0))}(),Z},providedIn:"root"}),ue})();typeof window<"u"&&window;let wt=(()=>{class ue{}return ue.\u0275fac=function(j){return new(j||ue)},ue.\u0275prov=d.Yz7({token:ue,factory:function(j){let Z=null;return Z=j?new(j||ue):d.LFG(Jt),Z},providedIn:"root"}),ue})(),Jt=(()=>{class ue extends wt{constructor(j){super(),this._doc=j}sanitize(j,Z){if(null==Z)return null;switch(j){case d.q3G.NONE:return Z;case d.q3G.HTML:return(0,d.qzn)(Z,"HTML")?(0,d.z3N)(Z):(0,d.EiD)(this._doc,String(Z)).toString();case d.q3G.STYLE:return(0,d.qzn)(Z,"Style")?(0,d.z3N)(Z):Z;case d.q3G.SCRIPT:if((0,d.qzn)(Z,"Script"))return(0,d.z3N)(Z);throw new d.vHH(5200,!1);case d.q3G.URL:return(0,d.qzn)(Z,"URL")?(0,d.z3N)(Z):(0,d.mCW)(String(Z));case d.q3G.RESOURCE_URL:if((0,d.qzn)(Z,"ResourceURL"))return(0,d.z3N)(Z);throw new d.vHH(5201,!1);default:throw new d.vHH(5202,!1)}}bypassSecurityTrustHtml(j){return(0,d.JVY)(j)}bypassSecurityTrustStyle(j){return(0,d.L6k)(j)}bypassSecurityTrustScript(j){return(0,d.eBb)(j)}bypassSecurityTrustUrl(j){return(0,d.LAX)(j)}bypassSecurityTrustResourceUrl(j){return(0,d.pB0)(j)}}return ue.\u0275fac=function(j){return new(j||ue)(d.LFG(Y.K0))},ue.\u0275prov=d.Yz7({token:ue,factory:function(j){let Z=null;return Z=j?new j:function Kn(ue){return new Jt(ue.get(Y.K0))}(d.LFG(d.zs3)),Z},providedIn:"root"}),ue})()},3065:(lt,me,F)=>{F.d(me,{gz:()=>Ct,m2:()=>kr,F0:()=>io,rH:()=>Js,Bz:()=>Ys,lC:()=>Et,eV:()=>dr});var d=F(4946),Y=F(2664),ae=F(7715),J=F(2096),B=F(5619),Re=F(5592),re=F(7453),Oe=F(2737),ye=F(7400),_e=F(4564),fe=F(2714),we=F(8251),tt=F(7103);function Be(...y){const D=(0,_e.yG)(y),m=(0,_e.jO)(y),{args:w,keys:A}=(0,re.D)(y);if(0===w.length)return(0,ae.D)([],D);const L=new Re.y(function $e(y,D,m=Oe.y){return w=>{gt(D,()=>{const{length:A}=y,L=new Array(A);let V=A,Q=A;for(let Ie=0;Ie<A;Ie++)gt(D,()=>{const rt=(0,ae.D)(y[Ie],D);let dt=!1;rt.subscribe((0,we.x)(w,rn=>{L[Ie]=rn,dt||(dt=!0,Q--),Q||w.next(m(L.slice()))},()=>{--V||w.complete()}))},w)},w)}}(w,D,A?V=>(0,fe.n)(A,V):Oe.y));return m?L.pipe((0,ye.Z)(m)):L}function gt(y,D,m){y?(0,tt.f)(m,y,D):D()}const Bt=(0,F(2306).d)(y=>function(){y(this),this.name="EmptyError",this.message="no elements in sequence"});var tn=F(7537);function be(...y){return function ve(){return(0,tn.J)(1)}()((0,ae.D)(y,(0,_e.yG)(y)))}var Ve=F(4829);function ze(y){return new Re.y(D=>{(0,Ve.Xf)(y()).subscribe(D)})}var Fe=F(8407),He=F(8504),ee=F(6232),Ae=F(7394),je=F(9360);function fn(){return(0,je.e)((y,D)=>{let m=null;y._refCount++;const w=(0,we.x)(D,void 0,void 0,void 0,()=>{if(!y||y._refCount<=0||0<--y._refCount)return void(m=null);const A=y._connection,L=m;m=null,A&&(!L||A===L)&&A.unsubscribe(),D.unsubscribe()});y.subscribe(w),w.closed||(m=y.connect())})}class $t extends Re.y{constructor(D,m){super(),this.source=D,this.subjectFactory=m,this._subject=null,this._refCount=0,this._connection=null,(0,je.A)(D)&&(this.lift=D.lift)}_subscribe(D){return this.getSubject().subscribe(D)}getSubject(){const D=this._subject;return(!D||D.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:D}=this;this._subject=this._connection=null,D?.unsubscribe()}connect(){let D=this._connection;if(!D){D=this._connection=new Ae.w0;const m=this.getSubject();D.add(this.source.subscribe((0,we.x)(m,void 0,()=>{this._teardown(),m.complete()},w=>{this._teardown(),m.error(w)},()=>this._teardown()))),D.closed&&(this._connection=null,D=Ae.w0.EMPTY)}return D}refCount(){return fn()(this)}}var En=F(8645),qe=F(6814),_t=F(7398),Xe=F(4664);function Dt(y){return y<=0?()=>ee.E:(0,je.e)((D,m)=>{let w=0;D.subscribe((0,we.x)(m,A=>{++w<=y&&(m.next(A),y<=w&&m.complete())}))})}var se=F(2181),he=F(1631);function pe(y){return(0,je.e)((D,m)=>{let w=!1;D.subscribe((0,we.x)(m,A=>{w=!0,m.next(A)},()=>{w||m.next(y),m.complete()}))})}function Me(y=Ue){return(0,je.e)((D,m)=>{let w=!1;D.subscribe((0,we.x)(m,A=>{w=!0,m.next(A)},()=>w?m.complete():m.error(y())))})}function Ue(){return new Bt}function ut(y,D){const m=arguments.length>=2;return w=>w.pipe(y?(0,se.h)((A,L)=>y(A,L,w)):Oe.y,Dt(1),m?pe(D):Me(()=>new Bt))}var Nt=F(6328),It=F(9397),ot=F(6306);function De(y){return y<=0?()=>ee.E:(0,je.e)((D,m)=>{let w=[];D.subscribe((0,we.x)(m,A=>{w.push(A),y<w.length&&w.shift()},()=>{for(const A of w)m.next(A);m.complete()},void 0,()=>{w=null}))})}var Lt=F(4716),zn=F(6593);const Qe="primary",Ht=Symbol("RouteTitle");class Vn{constructor(D){this.params=D||{}}has(D){return Object.prototype.hasOwnProperty.call(this.params,D)}get(D){if(this.has(D)){const m=this.params[D];return Array.isArray(m)?m[0]:m}return null}getAll(D){if(this.has(D)){const m=this.params[D];return Array.isArray(m)?m:[m]}return[]}get keys(){return Object.keys(this.params)}}function Gn(y){return new Vn(y)}function qr(y,D,m){const w=m.path.split("/");if(w.length>y.length||"full"===m.pathMatch&&(D.hasChildren()||w.length<y.length))return null;const A={};for(let L=0;L<w.length;L++){const V=w[L],Q=y[L];if(V.startsWith(":"))A[V.substring(1)]=Q;else if(V!==Q.path)return null}return{consumed:y.slice(0,w.length),posParams:A}}function Zt(y,D){const m=y?Object.keys(y):void 0,w=D?Object.keys(D):void 0;if(!m||!w||m.length!=w.length)return!1;let A;for(let L=0;L<m.length;L++)if(A=m[L],!at(y[A],D[A]))return!1;return!0}function at(y,D){if(Array.isArray(y)&&Array.isArray(D)){if(y.length!==D.length)return!1;const m=[...y].sort(),w=[...D].sort();return m.every((A,L)=>w[L]===A)}return y===D}function yt(y){return y.length>0?y[y.length-1]:null}function Jn(y){return(0,Y.b)(y)?y:(0,d.QGY)(y)?(0,ae.D)(Promise.resolve(y)):(0,J.of)(y)}const hr={exact:function Jr(y,D,m){if(!Ot(y.segments,D.segments)||!Rr(y.segments,D.segments,m)||y.numberOfChildren!==D.numberOfChildren)return!1;for(const w in D.children)if(!y.children[w]||!Jr(y.children[w],D.children[w],m))return!1;return!0},subset:$o},tr={exact:function Sn(y,D){return Zt(y,D)},subset:function Dn(y,D){return Object.keys(D).length<=Object.keys(y).length&&Object.keys(D).every(m=>at(y[m],D[m]))},ignored:()=>!0};function Yn(y,D,m){return hr[m.paths](y.root,D.root,m.matrixParams)&&tr[m.queryParams](y.queryParams,D.queryParams)&&!("exact"===m.fragment&&y.fragment!==D.fragment)}function $o(y,D,m){return Je(y,D,D.segments,m)}function Je(y,D,m,w){if(y.segments.length>m.length){const A=y.segments.slice(0,m.length);return!(!Ot(A,m)||D.hasChildren()||!Rr(A,m,w))}if(y.segments.length===m.length){if(!Ot(y.segments,m)||!Rr(y.segments,m,w))return!1;for(const A in D.children)if(!y.children[A]||!$o(y.children[A],D.children[A],w))return!1;return!0}{const A=m.slice(0,y.segments.length),L=m.slice(y.segments.length);return!!(Ot(y.segments,A)&&Rr(y.segments,A,w)&&y.children[Qe])&&Je(y.children[Qe],D,L,w)}}function Rr(y,D,m){return D.every((w,A)=>tr[m](y[A].parameters,w.parameters))}class pr{constructor(D=new wt([],{}),m={},w=null){this.root=D,this.queryParams=m,this.fragment=w}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Gn(this.queryParams)),this._queryParamMap}toString(){return Ir.serialize(this)}}class wt{constructor(D,m){this.segments=D,this.children=m,this.parent=null,Object.values(m).forEach(w=>w.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return nr(this)}}class Kn{constructor(D,m){this.path=D,this.parameters=m}get parameterMap(){return this._parameterMap||(this._parameterMap=Gn(this.parameters)),this._parameterMap}toString(){return Ye(this)}}function Ot(y,D){return y.length===D.length&&y.every((m,w)=>m.path===D[w].path)}let xr=(()=>{class y{}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=d.Yz7({token:y,factory:function(){return new ar},providedIn:"root"}),y})();class ar{parse(D){const m=new ke(D);return new pr(m.parseRootSegment(),m.parseQueryParams(),m.parseFragment())}serialize(D){const m=`/${rr(D.root,!0)}`,w=function bt(y){const D=Object.keys(y).map(m=>{const w=y[m];return Array.isArray(w)?w.map(A=>`${ue(m)}=${ue(A)}`).join("&"):`${ue(m)}=${ue(w)}`}).filter(m=>!!m);return D.length?`?${D.join("&")}`:""}(D.queryParams);return`${m}${w}${"string"==typeof D.fragment?`#${function X(y){return encodeURI(y)}(D.fragment)}`:""}`}}const Ir=new ar;function nr(y){return y.segments.map(D=>Ye(D)).join("/")}function rr(y,D){if(!y.hasChildren())return nr(y);if(D){const m=y.children[Qe]?rr(y.children[Qe],!1):"",w=[];return Object.entries(y.children).forEach(([A,L])=>{A!==Qe&&w.push(`${A}:${rr(L,!1)}`)}),w.length>0?`${m}(${w.join("//")})`:m}{const m=function zo(y,D){let m=[];return Object.entries(y.children).forEach(([w,A])=>{w===Qe&&(m=m.concat(D(A,w)))}),Object.entries(y.children).forEach(([w,A])=>{w!==Qe&&(m=m.concat(D(A,w)))}),m}(y,(w,A)=>A===Qe?[rr(y.children[Qe],!1)]:[`${A}:${rr(w,!1)}`]);return 1===Object.keys(y.children).length&&null!=y.children[Qe]?`${nr(y)}/${m[0]}`:`${nr(y)}/(${m.join("//")})`}}function Do(y){return encodeURIComponent(y).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ue(y){return Do(y).replace(/%3B/gi,";")}function j(y){return Do(y).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Z(y){return decodeURIComponent(y)}function xe(y){return Z(y.replace(/\+/g,"%20"))}function Ye(y){return`${j(y.path)}${function ft(y){return Object.keys(y).map(D=>`;${j(D)}=${j(y[D])}`).join("")}(y.parameters)}`}const Qt=/^[^\/()?;#]+/;function Mt(y){const D=y.match(Qt);return D?D[0]:""}const Bn=/^[^\/()?;=#]+/,oe=/^[^=?&#]+/,q=/^[^&#]+/;class ke{constructor(D){this.url=D,this.remaining=D}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new wt([],{}):new wt([],this.parseChildren())}parseQueryParams(){const D={};if(this.consumeOptional("?"))do{this.parseQueryParam(D)}while(this.consumeOptional("&"));return D}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const D=[];for(this.peekStartsWith("(")||D.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),D.push(this.parseSegment());let m={};this.peekStartsWith("/(")&&(this.capture("/"),m=this.parseParens(!0));let w={};return this.peekStartsWith("(")&&(w=this.parseParens(!1)),(D.length>0||Object.keys(m).length>0)&&(w[Qe]=new wt(D,m)),w}parseSegment(){const D=Mt(this.remaining);if(""===D&&this.peekStartsWith(";"))throw new d.vHH(4009,!1);return this.capture(D),new Kn(Z(D),this.parseMatrixParams())}parseMatrixParams(){const D={};for(;this.consumeOptional(";");)this.parseParam(D);return D}parseParam(D){const m=function gr(y){const D=y.match(Bn);return D?D[0]:""}(this.remaining);if(!m)return;this.capture(m);let w="";if(this.consumeOptional("=")){const A=Mt(this.remaining);A&&(w=A,this.capture(w))}D[Z(m)]=Z(w)}parseQueryParam(D){const m=function z(y){const D=y.match(oe);return D?D[0]:""}(this.remaining);if(!m)return;this.capture(m);let w="";if(this.consumeOptional("=")){const V=function Se(y){const D=y.match(q);return D?D[0]:""}(this.remaining);V&&(w=V,this.capture(w))}const A=xe(m),L=xe(w);if(D.hasOwnProperty(A)){let V=D[A];Array.isArray(V)||(V=[V],D[A]=V),V.push(L)}else D[A]=L}parseParens(D){const m={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const w=Mt(this.remaining),A=this.remaining[w.length];if("/"!==A&&")"!==A&&";"!==A)throw new d.vHH(4010,!1);let L;w.indexOf(":")>-1?(L=w.slice(0,w.indexOf(":")),this.capture(L),this.capture(":")):D&&(L=Qe);const V=this.parseChildren();m[L]=1===Object.keys(V).length?V[Qe]:new wt([],V),this.consumeOptional("//")}return m}peekStartsWith(D){return this.remaining.startsWith(D)}consumeOptional(D){return!!this.peekStartsWith(D)&&(this.remaining=this.remaining.substring(D.length),!0)}capture(D){if(!this.consumeOptional(D))throw new d.vHH(4011,!1)}}function We(y){return y.segments.length>0?new wt([],{[Qe]:y}):y}function Pe(y){const D={};for(const w of Object.keys(y.children)){const L=Pe(y.children[w]);if(w===Qe&&0===L.segments.length&&L.hasChildren())for(const[V,Q]of Object.entries(L.children))D[V]=Q;else(L.segments.length>0||L.hasChildren())&&(D[w]=L)}return function mt(y){if(1===y.numberOfChildren&&y.children[Qe]){const D=y.children[Qe];return new wt(y.segments.concat(D.segments),D.children)}return y}(new wt(y.segments,D))}function Ge(y){return y instanceof pr}function Mn(y){let D;const A=We(function m(L){const V={};for(const Ie of L.children){const rt=m(Ie);V[Ie.outlet]=rt}const Q=new wt(L.url,V);return L===y&&(D=Q),Q}(y.root));return D??A}function gn(y,D,m,w){let A=y;for(;A.parent;)A=A.parent;if(0===D.length)return Xt(A,A,A,m,w);const L=function lr(y){if("string"==typeof y[0]&&1===y.length&&"/"===y[0])return new hn(!0,0,y);let D=0,m=!1;const w=y.reduce((A,L,V)=>{if("object"==typeof L&&null!=L){if(L.outlets){const Q={};return Object.entries(L.outlets).forEach(([Ie,rt])=>{Q[Ie]="string"==typeof rt?rt.split("/"):rt}),[...A,{outlets:Q}]}if(L.segmentPath)return[...A,L.segmentPath]}return"string"!=typeof L?[...A,L]:0===V?(L.split("/").forEach((Q,Ie)=>{0==Ie&&"."===Q||(0==Ie&&""===Q?m=!0:".."===Q?D++:""!=Q&&A.push(Q))}),A):[...A,L]},[]);return new hn(m,D,w)}(D);if(L.toRoot())return Xt(A,A,new wt([],{}),m,w);const V=function Hn(y,D,m){if(y.isAbsolute)return new Yr(D,!0,0);if(!m)return new Yr(D,!1,NaN);if(null===m.parent)return new Yr(m,!0,0);const w=_n(y.commands[0])?0:1;return function Un(y,D,m){let w=y,A=D,L=m;for(;L>A;){if(L-=A,w=w.parent,!w)throw new d.vHH(4005,!1);A=w.segments.length}return new Yr(w,!1,A-L)}(m,m.segments.length-1+w,y.numberOfDoubleDots)}(L,A,y),Q=V.processChildren?Kr(V.segmentGroup,V.index,L.commands):uo(V.segmentGroup,V.index,L.commands);return Xt(A,V.segmentGroup,Q,m,w)}function _n(y){return"object"==typeof y&&null!=y&&!y.outlets&&!y.segmentPath}function qt(y){return"object"==typeof y&&null!=y&&y.outlets}function Xt(y,D,m,w,A){let V,L={};w&&Object.entries(w).forEach(([Ie,rt])=>{L[Ie]=Array.isArray(rt)?rt.map(dt=>`${dt}`):`${rt}`}),V=y===D?m:on(y,D,m);const Q=We(Pe(V));return new pr(Q,L,A)}function on(y,D,m){const w={};return Object.entries(y.children).forEach(([A,L])=>{w[A]=L===D?m:on(L,D,m)}),new wt(y.segments,w)}class hn{constructor(D,m,w){if(this.isAbsolute=D,this.numberOfDoubleDots=m,this.commands=w,D&&w.length>0&&_n(w[0]))throw new d.vHH(4003,!1);const A=w.find(qt);if(A&&A!==yt(w))throw new d.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Yr{constructor(D,m,w){this.segmentGroup=D,this.processChildren=m,this.index=w}}function uo(y,D,m){if(y||(y=new wt([],{})),0===y.segments.length&&y.hasChildren())return Kr(y,D,m);const w=function zi(y,D,m){let w=0,A=D;const L={match:!1,pathIndex:0,commandIndex:0};for(;A<y.segments.length;){if(w>=m.length)return L;const V=y.segments[A],Q=m[w];if(qt(Q))break;const Ie=`${Q}`,rt=w<m.length-1?m[w+1]:null;if(A>0&&void 0===Ie)break;if(Ie&&rt&&"object"==typeof rt&&void 0===rt.outlets){if(!ui(Ie,rt,V))return L;w+=2}else{if(!ui(Ie,{},V))return L;w++}A++}return{match:!0,pathIndex:A,commandIndex:w}}(y,D,m),A=m.slice(w.commandIndex);if(w.match&&w.pathIndex<y.segments.length){const L=new wt(y.segments.slice(0,w.pathIndex),{});return L.children[Qe]=new wt(y.segments.slice(w.pathIndex),y.children),Kr(L,0,A)}return w.match&&0===A.length?new wt(y.segments,{}):w.match&&!y.hasChildren()?Si(y,D,m):w.match?Kr(y,0,A):Si(y,D,m)}function Kr(y,D,m){if(0===m.length)return new wt(y.segments,{});{const w=function Co(y){return qt(y[0])?y[0].outlets:{[Qe]:y}}(m),A={};if(!w[Qe]&&y.children[Qe]&&1===y.numberOfChildren&&0===y.children[Qe].segments.length){const L=Kr(y.children[Qe],D,m);return new wt(y.segments,L.children)}return Object.entries(w).forEach(([L,V])=>{"string"==typeof V&&(V=[V]),null!==V&&(A[L]=uo(y.children[L],D,V))}),Object.entries(y.children).forEach(([L,V])=>{void 0===w[L]&&(A[L]=V)}),new wt(y.segments,A)}}function Si(y,D,m){const w=y.segments.slice(0,D);let A=0;for(;A<m.length;){const L=m[A];if(qt(L)){const Ie=xi(L.outlets);return new wt(w,Ie)}if(0===A&&_n(m[0])){w.push(new Kn(y.segments[D].path,Pn(m[0]))),A++;continue}const V=qt(L)?L.outlets[Qe]:`${L}`,Q=A<m.length-1?m[A+1]:null;V&&Q&&_n(Q)?(w.push(new Kn(V,Pn(Q))),A+=2):(w.push(new Kn(V,{})),A++)}return new wt(w,{})}function xi(y){const D={};return Object.entries(y).forEach(([m,w])=>{"string"==typeof w&&(w=[w]),null!==w&&(D[m]=Si(new wt([],{}),0,w))}),D}function Pn(y){const D={};return Object.entries(y).forEach(([m,w])=>D[m]=`${w}`),D}function ui(y,D,m){return y==m.path&&Zt(D,m.parameters)}const _o="imperative";class Zn{constructor(D,m){this.id=D,this.url=m}}class Zr extends Zn{constructor(D,m,w="imperative",A=null){super(D,m),this.type=0,this.navigationTrigger=w,this.restoredState=A}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class kr extends Zn{constructor(D,m,w){super(D,m),this.urlAfterRedirects=w,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Po extends Zn{constructor(D,m,w,A){super(D,m),this.reason=w,this.code=A,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class bo extends Zn{constructor(D,m,w,A){super(D,m),this.reason=w,this.code=A,this.type=16}}class bs extends Zn{constructor(D,m,w,A){super(D,m),this.error=w,this.target=A,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Pr extends Zn{constructor(D,m,w,A){super(D,m),this.urlAfterRedirects=w,this.state=A,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hs extends Zn{constructor(D,m,w,A){super(D,m),this.urlAfterRedirects=w,this.state=A,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ii extends Zn{constructor(D,m,w,A,L){super(D,m),this.urlAfterRedirects=w,this.state=A,this.shouldActivate=L,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Gi extends Zn{constructor(D,m,w,A){super(D,m),this.urlAfterRedirects=w,this.state=A,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wi extends Zn{constructor(D,m,w,A){super(D,m),this.urlAfterRedirects=w,this.state=A,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fo{constructor(D){this.route=D,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class co{constructor(D){this.route=D,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Go{constructor(D){this.snapshot=D,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ci{constructor(D){this.snapshot=D,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class di{constructor(D){this.snapshot=D,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ti{constructor(D){this.snapshot=D,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Yt{constructor(D,m,w){this.routerEvent=D,this.position=m,this.anchor=w,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Wn{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Fr,this.attachRef=null}}let Fr=(()=>{class y{constructor(){this.contexts=new Map}onChildOutletCreated(m,w){const A=this.getOrCreateContext(m);A.outlet=w,this.contexts.set(m,A)}onChildOutletDestroyed(m){const w=this.getContext(m);w&&(w.outlet=null,w.attachRef=null)}onOutletDeactivated(){const m=this.contexts;return this.contexts=new Map,m}onOutletReAttached(m){this.contexts=m}getOrCreateContext(m){let w=this.getContext(m);return w||(w=new Wn,this.contexts.set(m,w)),w}getContext(m){return this.contexts.get(m)||null}}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=d.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();class Qn{constructor(D){this._root=D}get root(){return this._root.value}parent(D){const m=this.pathFromRoot(D);return m.length>1?m[m.length-2]:null}children(D){const m=Wo(D,this._root);return m?m.children.map(w=>w.value):[]}firstChild(D){const m=Wo(D,this._root);return m&&m.children.length>0?m.children[0].value:null}siblings(D){const m=Lr(D,this._root);return m.length<2?[]:m[m.length-2].children.map(A=>A.value).filter(A=>A!==D)}pathFromRoot(D){return Lr(D,this._root).map(m=>m.value)}}function Wo(y,D){if(y===D.value)return D;for(const m of D.children){const w=Wo(y,m);if(w)return w}return null}function Lr(y,D){if(y===D.value)return[D];for(const m of D.children){const w=Lr(y,m);if(w.length)return w.unshift(D),w}return[]}class An{constructor(D,m){this.value=D,this.children=m}toString(){return`TreeNode(${this.value})`}}function wo(y){const D={};return y&&y.children.forEach(m=>D[m.value.outlet]=m),D}class Lo extends Qn{constructor(D,m){super(D),this.snapshot=m,Vr(this,D)}toString(){return this.snapshot.toString()}}function vt(y,D){const m=function Ke(y,D){const V=new mr([],{},{},"",{},Qe,D,null,{});return new st("",new An(V,[]))}(0,D),w=new B.X([new Kn("",{})]),A=new B.X({}),L=new B.X({}),V=new B.X({}),Q=new B.X(""),Ie=new Ct(w,A,V,Q,L,Qe,D,m.root);return Ie.snapshot=m.root,new Lo(new An(Ie,[]),m)}class Ct{constructor(D,m,w,A,L,V,Q,Ie){this.urlSubject=D,this.paramsSubject=m,this.queryParamsSubject=w,this.fragmentSubject=A,this.dataSubject=L,this.outlet=V,this.component=Q,this._futureSnapshot=Ie,this.title=this.dataSubject?.pipe((0,_t.U)(rt=>rt[Ht]))??(0,J.of)(void 0),this.url=D,this.params=m,this.queryParams=w,this.fragment=A,this.data=L}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,_t.U)(D=>Gn(D)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,_t.U)(D=>Gn(D)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function sn(y,D="emptyOnly"){const m=y.pathFromRoot;let w=0;if("always"!==D)for(w=m.length-1;w>=1;){const A=m[w],L=m[w-1];if(A.routeConfig&&""===A.routeConfig.path)w--;else{if(L.component)break;w--}}return function kt(y){return y.reduce((D,m)=>({params:{...D.params,...m.params},data:{...D.data,...m.data},resolve:{...m.data,...D.resolve,...m.routeConfig?.data,...m._resolvedData}}),{params:{},data:{},resolve:{}})}(m.slice(w))}class mr{get title(){return this.data?.[Ht]}constructor(D,m,w,A,L,V,Q,Ie,rt){this.url=D,this.params=m,this.queryParams=w,this.fragment=A,this.data=L,this.outlet=V,this.component=Q,this.routeConfig=Ie,this._resolve=rt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Gn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Gn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(w=>w.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class st extends Qn{constructor(D,m){super(m),this.url=D,Vr(this,m)}toString(){return Ut(this._root)}}function Vr(y,D){D.value._routerState=y,D.children.forEach(m=>Vr(y,m))}function Ut(y){const D=y.children.length>0?` { ${y.children.map(Ut).join(", ")} } `:"";return`${y.value}${D}`}function fo(y){if(y.snapshot){const D=y.snapshot,m=y._futureSnapshot;y.snapshot=m,Zt(D.queryParams,m.queryParams)||y.queryParamsSubject.next(m.queryParams),D.fragment!==m.fragment&&y.fragmentSubject.next(m.fragment),Zt(D.params,m.params)||y.paramsSubject.next(m.params),function nn(y,D){if(y.length!==D.length)return!1;for(let m=0;m<y.length;++m)if(!Zt(y[m],D[m]))return!1;return!0}(D.url,m.url)||y.urlSubject.next(m.url),Zt(D.data,m.data)||y.dataSubject.next(m.data)}else y.snapshot=y._futureSnapshot,y.dataSubject.next(y._futureSnapshot.data)}function Xn(y,D){const m=Zt(y.params,D.params)&&function Jt(y,D){return Ot(y,D)&&y.every((m,w)=>Zt(m.parameters,D[w].parameters))}(y.url,D.url);return m&&!(!y.parent!=!D.parent)&&(!y.parent||Xn(y.parent,D.parent))}let Et=(()=>{class y{constructor(){this.activated=null,this._activatedRoute=null,this.name=Qe,this.activateEvents=new d.vpe,this.deactivateEvents=new d.vpe,this.attachEvents=new d.vpe,this.detachEvents=new d.vpe,this.parentContexts=(0,d.f3M)(Fr),this.location=(0,d.f3M)(d.s_b),this.changeDetector=(0,d.f3M)(d.sBO),this.environmentInjector=(0,d.f3M)(d.lqb),this.inputBinder=(0,d.f3M)(po,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(m){if(m.name){const{firstChange:w,previousValue:A}=m.name;if(w)return;this.isTrackedInParentContexts(A)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(A)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(m){return this.parentContexts.getContext(m)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const m=this.parentContexts.getContext(this.name);m?.route&&(m.attachRef?this.attach(m.attachRef,m.route):this.activateWith(m.route,m.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new d.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new d.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new d.vHH(4012,!1);this.location.detach();const m=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(m.instance),m}attach(m,w){this.activated=m,this._activatedRoute=w,this.location.insert(m.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(m.instance)}deactivate(){if(this.activated){const m=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(m)}}activateWith(m,w){if(this.isActivated)throw new d.vHH(4013,!1);this._activatedRoute=m;const A=this.location,V=m.snapshot.component,Q=this.parentContexts.getOrCreateContext(this.name).children,Ie=new ho(m,Q,A.injector);this.activated=A.createComponent(V,{index:A.length,injector:Ie,environmentInjector:w??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return y.\u0275fac=function(m){return new(m||y)},y.\u0275dir=d.lG2({type:y,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[d.TTD]}),y})();class ho{constructor(D,m,w){this.route=D,this.childContexts=m,this.parent=w}get(D,m){return D===Ct?this.route:D===Fr?this.childContexts:this.parent.get(D,m)}}const po=new d.OlP("");let Eo=(()=>{class y{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(m){this.unsubscribeFromRouteData(m),this.subscribeToRouteData(m)}unsubscribeFromRouteData(m){this.outletDataSubscriptions.get(m)?.unsubscribe(),this.outletDataSubscriptions.delete(m)}subscribeToRouteData(m){const{activatedRoute:w}=m,A=Be([w.queryParams,w.params,w.data]).pipe((0,Xe.w)(([L,V,Q],Ie)=>(Q={...L,...V,...Q},0===Ie?(0,J.of)(Q):Promise.resolve(Q)))).subscribe(L=>{if(!m.isActivated||!m.activatedComponentRef||m.activatedRoute!==w||null===w.component)return void this.unsubscribeFromRouteData(m);const V=(0,d.qFp)(w.component);if(V)for(const{templateName:Q}of V.inputs)m.activatedComponentRef.setInput(Q,L[Q]);else this.unsubscribeFromRouteData(m)});this.outletDataSubscriptions.set(m,A)}}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=d.Yz7({token:y,factory:y.\u0275fac}),y})();function Qr(y,D,m){if(m&&y.shouldReuseRoute(D.value,m.value.snapshot)){const w=m.value;w._futureSnapshot=D.value;const A=function Xr(y,D,m){return D.children.map(w=>{for(const A of m.children)if(y.shouldReuseRoute(w.value,A.value.snapshot))return Qr(y,w,A);return Qr(y,w)})}(y,D,m);return new An(w,A)}{if(y.shouldAttach(D.value)){const L=y.retrieve(D.value);if(null!==L){const V=L.route;return V.value._futureSnapshot=D.value,V.children=D.children.map(Q=>Qr(y,Q)),V}}const w=function yr(y){return new Ct(new B.X(y.url),new B.X(y.params),new B.X(y.queryParams),new B.X(y.fragment),new B.X(y.data),y.outlet,y.component,y)}(D.value),A=D.children.map(L=>Qr(y,L));return new An(w,A)}}const Br="ngNavigationCancelingError";function eo(y,D){const{redirectTo:m,navigationBehaviorOptions:w}=Ge(D)?{redirectTo:D,navigationBehaviorOptions:void 0}:D,A=Hr(!1,0,D);return A.url=m,A.navigationBehaviorOptions=w,A}function Hr(y,D,m){const w=new Error("NavigationCancelingError: "+(y||""));return w[Br]=!0,w.cancellationCode=D,m&&(w.url=m),w}function mn(y){return Vo(y)&&Ge(y.url)}function Vo(y){return y&&y[Br]}let to=(()=>{class y{}return y.\u0275fac=function(m){return new(m||y)},y.\u0275cmp=d.Xpm({type:y,selectors:[["ng-component"]],standalone:!0,features:[d.jDz],decls:1,vars:0,template:function(m,w){1&m&&d._UZ(0,"router-outlet")},dependencies:[Et],encapsulation:2}),y})();function Ji(y){const D=y.children&&y.children.map(Ji),m=D?{...y,children:D}:{...y};return!m.component&&!m.loadComponent&&(D||m.loadChildren)&&m.outlet&&m.outlet!==Qe&&(m.component=to),m}function wn(y){return y.outlet||Qe}function ur(y){if(!y)return null;if(y.routeConfig?._injector)return y.routeConfig._injector;for(let D=y.parent;D;D=D.parent){const m=D.routeConfig;if(m?._loadedInjector)return m._loadedInjector;if(m?._injector)return m._injector}return null}class Ln{constructor(D,m,w,A,L){this.routeReuseStrategy=D,this.futureState=m,this.currState=w,this.forwardEvent=A,this.inputBindingEnabled=L}activate(D){const m=this.futureState._root,w=this.currState?this.currState._root:null;this.deactivateChildRoutes(m,w,D),fo(this.futureState.root),this.activateChildRoutes(m,w,D)}deactivateChildRoutes(D,m,w){const A=wo(m);D.children.forEach(L=>{const V=L.value.outlet;this.deactivateRoutes(L,A[V],w),delete A[V]}),Object.values(A).forEach(L=>{this.deactivateRouteAndItsChildren(L,w)})}deactivateRoutes(D,m,w){const A=D.value,L=m?m.value:null;if(A===L)if(A.component){const V=w.getContext(A.outlet);V&&this.deactivateChildRoutes(D,m,V.children)}else this.deactivateChildRoutes(D,m,w);else L&&this.deactivateRouteAndItsChildren(m,w)}deactivateRouteAndItsChildren(D,m){D.value.component&&this.routeReuseStrategy.shouldDetach(D.value.snapshot)?this.detachAndStoreRouteSubtree(D,m):this.deactivateRouteAndOutlet(D,m)}detachAndStoreRouteSubtree(D,m){const w=m.getContext(D.value.outlet),A=w&&D.value.component?w.children:m,L=wo(D);for(const V of Object.keys(L))this.deactivateRouteAndItsChildren(L[V],A);if(w&&w.outlet){const V=w.outlet.detach(),Q=w.children.onOutletDeactivated();this.routeReuseStrategy.store(D.value.snapshot,{componentRef:V,route:D,contexts:Q})}}deactivateRouteAndOutlet(D,m){const w=m.getContext(D.value.outlet),A=w&&D.value.component?w.children:m,L=wo(D);for(const V of Object.keys(L))this.deactivateRouteAndItsChildren(L[V],A);w&&(w.outlet&&(w.outlet.deactivate(),w.children.onOutletDeactivated()),w.attachRef=null,w.route=null)}activateChildRoutes(D,m,w){const A=wo(m);D.children.forEach(L=>{this.activateRoutes(L,A[L.value.outlet],w),this.forwardEvent(new Ti(L.value.snapshot))}),D.children.length&&this.forwardEvent(new ci(D.value.snapshot))}activateRoutes(D,m,w){const A=D.value,L=m?m.value:null;if(fo(A),A===L)if(A.component){const V=w.getOrCreateContext(A.outlet);this.activateChildRoutes(D,m,V.children)}else this.activateChildRoutes(D,m,w);else if(A.component){const V=w.getOrCreateContext(A.outlet);if(this.routeReuseStrategy.shouldAttach(A.snapshot)){const Q=this.routeReuseStrategy.retrieve(A.snapshot);this.routeReuseStrategy.store(A.snapshot,null),V.children.onOutletReAttached(Q.contexts),V.attachRef=Q.componentRef,V.route=Q.route.value,V.outlet&&V.outlet.attach(Q.componentRef,Q.route.value),fo(Q.route.value),this.activateChildRoutes(D,null,V.children)}else{const Q=ur(A.snapshot);V.attachRef=null,V.route=A,V.injector=Q,V.outlet&&V.outlet.activateWith(A,V.injector),this.activateChildRoutes(D,null,V.children)}}else this.activateChildRoutes(D,null,w)}}class hi{constructor(D){this.path=D,this.route=this.path[this.path.length-1]}}class Dr{constructor(D,m){this.component=D,this.route=m}}function pi(y,D,m){const w=y._root;return Nn(w,D?D._root:null,m,[w.value])}function Ho(y,D){const m=Symbol(),w=D.get(y,m);return w===m?"function"!=typeof y||(0,d.Z0I)(y)?D.get(y):y:w}function Nn(y,D,m,w,A={canDeactivateChecks:[],canActivateChecks:[]}){const L=wo(D);return y.children.forEach(V=>{(function xo(y,D,m,w,A={canDeactivateChecks:[],canActivateChecks:[]}){const L=y.value,V=D?D.value:null,Q=m?m.getContext(y.value.outlet):null;if(V&&L.routeConfig===V.routeConfig){const Ie=function no(y,D,m){if("function"==typeof m)return m(y,D);switch(m){case"pathParamsChange":return!Ot(y.url,D.url);case"pathParamsOrQueryParamsChange":return!Ot(y.url,D.url)||!Zt(y.queryParams,D.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Xn(y,D)||!Zt(y.queryParams,D.queryParams);default:return!Xn(y,D)}}(V,L,L.routeConfig.runGuardsAndResolvers);Ie?A.canActivateChecks.push(new hi(w)):(L.data=V.data,L._resolvedData=V._resolvedData),Nn(y,D,L.component?Q?Q.children:null:m,w,A),Ie&&Q&&Q.outlet&&Q.outlet.isActivated&&A.canDeactivateChecks.push(new Dr(Q.outlet.component,V))}else V&&gi(D,Q,A),A.canActivateChecks.push(new hi(w)),Nn(y,null,L.component?Q?Q.children:null:m,w,A)})(V,L[V.value.outlet],m,w.concat([V.value]),A),delete L[V.value.outlet]}),Object.entries(L).forEach(([V,Q])=>gi(Q,m.getContext(V),A)),A}function gi(y,D,m){const w=wo(y),A=y.value;Object.entries(w).forEach(([L,V])=>{gi(V,A.component?D?D.children.getContext(L):null:D,m)}),m.canDeactivateChecks.push(new Dr(A.component&&D&&D.outlet&&D.outlet.isActivated?D.outlet.component:null,A))}function jn(y){return"function"==typeof y}function pn(y){return y instanceof Bt||"EmptyError"===y?.name}const Cn=Symbol("INITIAL_VALUE");function Ur(){return(0,Xe.w)(y=>Be(y.map(D=>D.pipe(Dt(1),function ie(...y){const D=(0,_e.yG)(y);return(0,je.e)((m,w)=>{(D?be(y,m,D):be(y,m)).subscribe(w)})}(Cn)))).pipe((0,_t.U)(D=>{for(const m of D)if(!0!==m){if(m===Cn)return Cn;if(!1===m||m instanceof pr)return m}return!0}),(0,se.h)(D=>D!==Cn),Dt(1)))}function Es(y){return(0,Fe.z)((0,It.b)(D=>{if(Ge(D))throw eo(0,D)}),(0,_t.U)(D=>!0===D))}class Ki{constructor(D){this.segmentGroup=D||null}}class $r{constructor(D){this.urlTree=D}}function To(y){return(0,He._)(new Ki(y))}function qn(y){return(0,He._)(new $r(y))}class $s{constructor(D,m){this.urlSerializer=D,this.urlTree=m}noMatchError(D){return new d.vHH(4002,!1)}lineralizeSegments(D,m){let w=[],A=m.root;for(;;){if(w=w.concat(A.segments),0===A.numberOfChildren)return(0,J.of)(w);if(A.numberOfChildren>1||!A.children[Qe])return(0,He._)(new d.vHH(4e3,!1));A=A.children[Qe]}}applyRedirectCommands(D,m,w){return this.applyRedirectCreateUrlTree(m,this.urlSerializer.parse(m),D,w)}applyRedirectCreateUrlTree(D,m,w,A){const L=this.createSegmentGroup(D,m.root,w,A);return new pr(L,this.createQueryParams(m.queryParams,this.urlTree.queryParams),m.fragment)}createQueryParams(D,m){const w={};return Object.entries(D).forEach(([A,L])=>{if("string"==typeof L&&L.startsWith(":")){const Q=L.substring(1);w[A]=m[Q]}else w[A]=L}),w}createSegmentGroup(D,m,w,A){const L=this.createSegments(D,m.segments,w,A);let V={};return Object.entries(m.children).forEach(([Q,Ie])=>{V[Q]=this.createSegmentGroup(D,Ie,w,A)}),new wt(L,V)}createSegments(D,m,w,A){return m.map(L=>L.path.startsWith(":")?this.findPosParam(D,L,A):this.findOrReturn(L,w))}findPosParam(D,m,w){const A=w[m.path.substring(1)];if(!A)throw new d.vHH(4001,!1);return A}findOrReturn(D,m){let w=0;for(const A of m){if(A.path===D.path)return m.splice(w),A;w++}return D}}const Oi={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Jo(y,D,m,w,A){const L=Zi(y,D,m);return L.matched?(w=function Tt(y,D){return y.providers&&!y._injector&&(y._injector=(0,d.MMx)(y.providers,D,`Route: ${y.path}`)),y._injector??D}(D,w),function bu(y,D,m,w){const A=D.canMatch;if(!A||0===A.length)return(0,J.of)(!0);const L=A.map(V=>{const Q=Ho(V,y);return Jn(function P(y){return y&&jn(y.canMatch)}(Q)?Q.canMatch(D,m):y.runInContext(()=>Q(D,m)))});return(0,J.of)(L).pipe(Ur(),Es())}(w,D,m).pipe((0,_t.U)(V=>!0===V?L:{...Oi}))):(0,J.of)(L)}function Zi(y,D,m){if(""===D.path)return"full"===D.pathMatch&&(y.hasChildren()||m.length>0)?{...Oi}:{matched:!0,consumedSegments:[],remainingSegments:m,parameters:{},positionalParamSegments:{}};const A=(D.matcher||qr)(m,y,D);if(!A)return{...Oi};const L={};Object.entries(A.posParams??{}).forEach(([Q,Ie])=>{L[Q]=Ie.path});const V=A.consumed.length>0?{...L,...A.consumed[A.consumed.length-1].parameters}:L;return{matched:!0,consumedSegments:A.consumed,remainingSegments:m.slice(A.consumed.length),parameters:V,positionalParamSegments:A.posParams??{}}}function zs(y,D,m,w){return m.length>0&&function Sa(y,D,m){return m.some(w=>Xi(y,D,w)&&wn(w)!==Qe)}(y,m,w)?{segmentGroup:new wt(D,Ms(w,new wt(m,y.children))),slicedSegments:[]}:0===m.length&&function Qi(y,D,m){return m.some(w=>Xi(y,D,w))}(y,m,w)?{segmentGroup:new wt(y.segments,Ma(y,0,m,w,y.children)),slicedSegments:m}:{segmentGroup:new wt(y.segments,y.children),slicedSegments:m}}function Ma(y,D,m,w,A){const L={};for(const V of w)if(Xi(y,m,V)&&!A[wn(V)]){const Q=new wt([],{});L[wn(V)]=Q}return{...A,...L}}function Ms(y,D){const m={};m[Qe]=D;for(const w of y)if(""===w.path&&wn(w)!==Qe){const A=new wt([],{});m[wn(w)]=A}return m}function Xi(y,D,m){return(!(y.hasChildren()||D.length>0)||"full"!==m.pathMatch)&&""===m.path}class Gs{constructor(D,m,w,A,L,V,Q){this.injector=D,this.configLoader=m,this.rootComponentType=w,this.config=A,this.urlTree=L,this.paramsInheritanceStrategy=V,this.urlSerializer=Q,this.allowRedirects=!0,this.applyRedirects=new $s(this.urlSerializer,this.urlTree)}noMatchError(D){return new d.vHH(4002,!1)}recognize(){const D=zs(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,D,Qe).pipe((0,ot.K)(m=>{if(m instanceof $r)return this.allowRedirects=!1,this.urlTree=m.urlTree,this.match(m.urlTree);throw m instanceof Ki?this.noMatchError(m):m}),(0,_t.U)(m=>{const w=new mr([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Qe,this.rootComponentType,null,{}),A=new An(w,m),L=new st("",A),V=function cn(y,D,m=null,w=null){return gn(Mn(y),D,m,w)}(w,[],this.urlTree.queryParams,this.urlTree.fragment);return V.queryParams=this.urlTree.queryParams,L.url=this.urlSerializer.serialize(V),this.inheritParamsAndData(L._root),{state:L,tree:V}}))}match(D){return this.processSegmentGroup(this.injector,this.config,D.root,Qe).pipe((0,ot.K)(w=>{throw w instanceof Ki?this.noMatchError(w):w}))}inheritParamsAndData(D){const m=D.value,w=sn(m,this.paramsInheritanceStrategy);m.params=Object.freeze(w.params),m.data=Object.freeze(w.data),D.children.forEach(A=>this.inheritParamsAndData(A))}processSegmentGroup(D,m,w,A){return 0===w.segments.length&&w.hasChildren()?this.processChildren(D,m,w):this.processSegment(D,m,w,w.segments,A,!0)}processChildren(D,m,w){const A=[];for(const L of Object.keys(w.children))"primary"===L?A.unshift(L):A.push(L);return(0,ae.D)(A).pipe((0,Nt.b)(L=>{const V=w.children[L],Q=function Fn(y,D){const m=y.filter(w=>wn(w)===D);return m.push(...y.filter(w=>wn(w)!==D)),m}(m,L);return this.processSegmentGroup(D,Q,V,L)}),function it(y,D){return(0,je.e)(function de(y,D,m,w,A){return(L,V)=>{let Q=m,Ie=D,rt=0;L.subscribe((0,we.x)(V,dt=>{const rn=rt++;Ie=Q?y(Ie,dt,rn):(Q=!0,dt),w&&V.next(Ie)},A&&(()=>{Q&&V.next(Ie),V.complete()})))}}(y,D,arguments.length>=2,!0))}((L,V)=>(L.push(...V),L)),pe(null),function Rt(y,D){const m=arguments.length>=2;return w=>w.pipe(y?(0,se.h)((A,L)=>y(A,L,w)):Oe.y,De(1),m?pe(D):Me(()=>new Bt))}(),(0,he.z)(L=>{if(null===L)return To(w);const V=Yo(L);return function vi(y){y.sort((D,m)=>D.value.outlet===Qe?-1:m.value.outlet===Qe?1:D.value.outlet.localeCompare(m.value.outlet))}(V),(0,J.of)(V)}))}processSegment(D,m,w,A,L,V){return(0,ae.D)(m).pipe((0,Nt.b)(Q=>this.processSegmentAgainstRoute(Q._injector??D,m,Q,w,A,L,V).pipe((0,ot.K)(Ie=>{if(Ie instanceof Ki)return(0,J.of)(null);throw Ie}))),ut(Q=>!!Q),(0,ot.K)(Q=>{if(pn(Q))return function wu(y,D,m){return 0===D.length&&!y.children[m]}(w,A,L)?(0,J.of)([]):To(w);throw Q}))}processSegmentAgainstRoute(D,m,w,A,L,V,Q){return function al(y,D,m,w){return!!(wn(y)===w||w!==Qe&&Xi(D,m,y))&&("**"===y.path||Zi(D,y,m).matched)}(w,A,L,V)?void 0===w.redirectTo?this.matchSegmentAgainstRoute(D,A,w,L,V,Q):Q&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(D,A,m,w,L,V):To(A):To(A)}expandSegmentAgainstRouteUsingRedirect(D,m,w,A,L,V){return"**"===A.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(D,w,A,V):this.expandRegularSegmentAgainstRouteUsingRedirect(D,m,w,A,L,V)}expandWildCardWithParamsAgainstRouteUsingRedirect(D,m,w,A){const L=this.applyRedirects.applyRedirectCommands([],w.redirectTo,{});return w.redirectTo.startsWith("/")?qn(L):this.applyRedirects.lineralizeSegments(w,L).pipe((0,he.z)(V=>{const Q=new wt(V,{});return this.processSegment(D,m,Q,V,A,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(D,m,w,A,L,V){const{matched:Q,consumedSegments:Ie,remainingSegments:rt,positionalParamSegments:dt}=Zi(m,A,L);if(!Q)return To(m);const rn=this.applyRedirects.applyRedirectCommands(Ie,A.redirectTo,dt);return A.redirectTo.startsWith("/")?qn(rn):this.applyRedirects.lineralizeSegments(A,rn).pipe((0,he.z)(Er=>this.processSegment(D,w,m,Er.concat(rt),V,!1)))}matchSegmentAgainstRoute(D,m,w,A,L,V){let Q;if("**"===w.path){const Ie=A.length>0?yt(A).parameters:{},rt=new mr(A,Ie,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ri(w),wn(w),w.component??w._loadedComponent??null,w,b(w));Q=(0,J.of)({snapshot:rt,consumedSegments:[],remainingSegments:[]}),m.children={}}else Q=Jo(m,w,A,D).pipe((0,_t.U)(({matched:Ie,consumedSegments:rt,remainingSegments:dt,parameters:rn})=>Ie?{snapshot:new mr(rt,rn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ri(w),wn(w),w.component??w._loadedComponent??null,w,b(w)),consumedSegments:rt,remainingSegments:dt}:null));return Q.pipe((0,Xe.w)(Ie=>null===Ie?To(m):this.getChildConfig(D=w._injector??D,w,A).pipe((0,Xe.w)(({routes:rt})=>{const dt=w._loadedInjector??D,{snapshot:rn,consumedSegments:Er,remainingSegments:rs}=Ie,{segmentGroup:ei,slicedSegments:Pi}=zs(m,Er,rs,rt);if(0===Pi.length&&ei.hasChildren())return this.processChildren(dt,rt,ei).pipe((0,_t.U)(As=>null===As?null:[new An(rn,As)]));if(0===rt.length&&0===Pi.length)return(0,J.of)([new An(rn,[])]);const Zs=wn(w)===L;return this.processSegment(dt,rt,ei,Pi,Zs?Qe:L,!0).pipe((0,_t.U)(As=>[new An(rn,As)]))}))))}getChildConfig(D,m,w){return m.children?(0,J.of)({routes:m.children,injector:D}):m.loadChildren?void 0!==m._loadedRoutes?(0,J.of)({routes:m._loadedRoutes,injector:m._loadedInjector}):function Us(y,D,m,w){const A=D.canLoad;if(void 0===A||0===A.length)return(0,J.of)(!0);const L=A.map(V=>{const Q=Ho(V,y);return Jn(function cr(y){return y&&jn(y.canLoad)}(Q)?Q.canLoad(D,m):y.runInContext(()=>Q(D,m)))});return(0,J.of)(L).pipe(Ur(),Es())}(D,m,w).pipe((0,he.z)(A=>A?this.configLoader.loadChildren(D,m).pipe((0,It.b)(L=>{m._loadedRoutes=L.routes,m._loadedInjector=L.injector})):function yi(y){return(0,He._)(Hr(!1,3))}())):(0,J.of)({routes:[],injector:D})}}function Ao(y){const D=y.value.routeConfig;return D&&""===D.path}function Yo(y){const D=[],m=new Set;for(const w of y){if(!Ao(w)){D.push(w);continue}const A=D.find(L=>w.value.routeConfig===L.value.routeConfig);void 0!==A?(A.children.push(...w.children),m.add(A)):D.push(w)}for(const w of m){const A=Yo(w.children);D.push(new An(w.value,A))}return D.filter(w=>!m.has(w))}function Ri(y){return y.data||{}}function b(y){return y.resolve||{}}function nt(y){return"string"==typeof y.title||null===y.title}function zt(y){return(0,Xe.w)(D=>{const m=y(D);return m?(0,ae.D)(m).pipe((0,_t.U)(()=>D)):(0,J.of)(D)})}const ht=new d.OlP("ROUTES");let en=(()=>{class y{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,d.f3M)(d.Sil)}loadComponent(m){if(this.componentLoaders.get(m))return this.componentLoaders.get(m);if(m._loadedComponent)return(0,J.of)(m._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(m);const w=Jn(m.loadComponent()).pipe((0,_t.U)(Gt),(0,It.b)(L=>{this.onLoadEndListener&&this.onLoadEndListener(m),m._loadedComponent=L}),(0,Lt.x)(()=>{this.componentLoaders.delete(m)})),A=new $t(w,()=>new En.x).pipe(fn());return this.componentLoaders.set(m,A),A}loadChildren(m,w){if(this.childrenLoaders.get(w))return this.childrenLoaders.get(w);if(w._loadedRoutes)return(0,J.of)({routes:w._loadedRoutes,injector:w._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(w);const L=this.loadModuleFactoryOrRoutes(w.loadChildren).pipe((0,_t.U)(Q=>{this.onLoadEndListener&&this.onLoadEndListener(w);let Ie,rt;return Array.isArray(Q)?rt=Q:(Ie=Q.create(m).injector,rt=Ie.get(ht,[],d.XFs.Self|d.XFs.Optional).flat()),{routes:rt.map(Ji),injector:Ie}}),(0,Lt.x)(()=>{this.childrenLoaders.delete(w)})),V=new $t(L,()=>new En.x).pipe(fn());return this.childrenLoaders.set(w,V),V}loadModuleFactoryOrRoutes(m){return Jn(m()).pipe((0,_t.U)(Gt),(0,he.z)(w=>w instanceof d.YKP||Array.isArray(w)?(0,J.of)(w):(0,ae.D)(this.compiler.compileModuleAsync(w))))}}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=d.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();function Gt(y){return function Ft(y){return y&&"object"==typeof y&&"default"in y}(y)?y.default:y}let an=(()=>{class y{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new En.x,this.configLoader=(0,d.f3M)(en),this.environmentInjector=(0,d.f3M)(d.lqb),this.urlSerializer=(0,d.f3M)(xr),this.rootContexts=(0,d.f3M)(Fr),this.inputBindingEnabled=null!==(0,d.f3M)(po,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,J.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=A=>this.events.next(new co(A)),this.configLoader.onLoadStartListener=A=>this.events.next(new Fo(A))}complete(){this.transitions?.complete()}handleNavigationRequest(m){const w=++this.navigationId;this.transitions?.next({...this.transitions.value,...m,id:w})}setupNavigations(m){return this.transitions=new B.X({id:0,currentUrlTree:m.currentUrlTree,currentRawUrl:m.currentUrlTree,extractedUrl:m.urlHandlingStrategy.extract(m.currentUrlTree),urlAfterRedirects:m.urlHandlingStrategy.extract(m.currentUrlTree),rawUrl:m.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:_o,restoredState:null,currentSnapshot:m.routerState.snapshot,targetSnapshot:null,currentRouterState:m.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,se.h)(w=>0!==w.id),(0,_t.U)(w=>({...w,extractedUrl:m.urlHandlingStrategy.extract(w.rawUrl)})),(0,Xe.w)(w=>{let A=!1,L=!1;return(0,J.of)(w).pipe((0,It.b)(V=>{this.currentNavigation={id:V.id,initialUrl:V.rawUrl,extractedUrl:V.extractedUrl,trigger:V.source,extras:V.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Xe.w)(V=>{const Q=m.browserUrlTree.toString(),Ie=!m.navigated||V.extractedUrl.toString()!==Q||Q!==m.currentUrlTree.toString();if(!Ie&&"reload"!==(V.extras.onSameUrlNavigation??m.onSameUrlNavigation)){const dt="";return this.events.next(new bo(V.id,m.serializeUrl(w.rawUrl),dt,0)),m.rawUrlTree=V.rawUrl,V.resolve(null),ee.E}if(m.urlHandlingStrategy.shouldProcessUrl(V.rawUrl))return On(V.source)&&(m.browserUrlTree=V.extractedUrl),(0,J.of)(V).pipe((0,Xe.w)(dt=>{const rn=this.transitions?.getValue();return this.events.next(new Zr(dt.id,this.urlSerializer.serialize(dt.extractedUrl),dt.source,dt.restoredState)),rn!==this.transitions?.getValue()?ee.E:Promise.resolve(dt)}),function N(y,D,m,w,A,L){return(0,he.z)(V=>function ro(y,D,m,w,A,L,V="emptyOnly"){return new Gs(y,D,m,w,A,V,L).recognize()}(y,D,m,w,V.extractedUrl,A,L).pipe((0,_t.U)(({state:Q,tree:Ie})=>({...V,targetSnapshot:Q,urlAfterRedirects:Ie}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,m.config,this.urlSerializer,m.paramsInheritanceStrategy),(0,It.b)(dt=>{if(w.targetSnapshot=dt.targetSnapshot,w.urlAfterRedirects=dt.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:dt.urlAfterRedirects},"eager"===m.urlUpdateStrategy){if(!dt.extras.skipLocationChange){const Er=m.urlHandlingStrategy.merge(dt.urlAfterRedirects,dt.rawUrl);m.setBrowserUrl(Er,dt)}m.browserUrlTree=dt.urlAfterRedirects}const rn=new Pr(dt.id,this.urlSerializer.serialize(dt.extractedUrl),this.urlSerializer.serialize(dt.urlAfterRedirects),dt.targetSnapshot);this.events.next(rn)}));if(Ie&&m.urlHandlingStrategy.shouldProcessUrl(m.rawUrlTree)){const{id:dt,extractedUrl:rn,source:Er,restoredState:rs,extras:ei}=V,Pi=new Zr(dt,this.urlSerializer.serialize(rn),Er,rs);this.events.next(Pi);const Zs=vt(0,this.rootComponentType).snapshot;return w={...V,targetSnapshot:Zs,urlAfterRedirects:rn,extras:{...ei,skipLocationChange:!1,replaceUrl:!1}},(0,J.of)(w)}{const dt="";return this.events.next(new bo(V.id,m.serializeUrl(w.extractedUrl),dt,1)),m.rawUrlTree=V.rawUrl,V.resolve(null),ee.E}}),(0,It.b)(V=>{const Q=new Hs(V.id,this.urlSerializer.serialize(V.extractedUrl),this.urlSerializer.serialize(V.urlAfterRedirects),V.targetSnapshot);this.events.next(Q)}),(0,_t.U)(V=>w={...V,guards:pi(V.targetSnapshot,V.currentSnapshot,this.rootContexts)}),function Io(y,D){return(0,he.z)(m=>{const{targetSnapshot:w,currentSnapshot:A,guards:{canActivateChecks:L,canDeactivateChecks:V}}=m;return 0===V.length&&0===L.length?(0,J.of)({...m,guardsResult:!0}):function Ai(y,D,m,w){return(0,ae.D)(y).pipe((0,he.z)(A=>function ws(y,D,m,w,A){const L=D&&D.routeConfig?D.routeConfig.canDeactivate:null;if(!L||0===L.length)return(0,J.of)(!0);const V=L.map(Q=>{const Ie=ur(D)??A,rt=Ho(Q,Ie);return Jn(function E(y){return y&&jn(y.canDeactivate)}(rt)?rt.canDeactivate(y,D,m,w):Ie.runInContext(()=>rt(y,D,m,w))).pipe(ut())});return(0,J.of)(V).pipe(Ur())}(A.component,A.route,m,D,w)),ut(A=>!0!==A,!0))}(V,w,A,y).pipe((0,he.z)(Q=>Q&&function In(y){return"boolean"==typeof y}(Q)?function jr(y,D,m,w){return(0,ae.D)(D).pipe((0,Nt.b)(A=>be(function Ni(y,D){return null!==y&&D&&D(new Go(y)),(0,J.of)(!0)}(A.route.parent,w),function mi(y,D){return null!==y&&D&&D(new di(y)),(0,J.of)(!0)}(A.route,w),function Ea(y,D,m){const w=D[D.length-1],L=D.slice(0,D.length-1).reverse().map(V=>function wa(y){const D=y.routeConfig?y.routeConfig.canActivateChild:null;return D&&0!==D.length?{node:y,guards:D}:null}(V)).filter(V=>null!==V).map(V=>ze(()=>{const Q=V.guards.map(Ie=>{const rt=ur(V.node)??m,dt=Ho(Ie,rt);return Jn(function S(y){return y&&jn(y.canActivateChild)}(dt)?dt.canActivateChild(w,y):rt.runInContext(()=>dt(w,y))).pipe(ut())});return(0,J.of)(Q).pipe(Ur())}));return(0,J.of)(L).pipe(Ur())}(y,A.path,m),function qo(y,D,m){const w=D.routeConfig?D.routeConfig.canActivate:null;if(!w||0===w.length)return(0,J.of)(!0);const A=w.map(L=>ze(()=>{const V=ur(D)??m,Q=Ho(L,V);return Jn(function x(y){return y&&jn(y.canActivate)}(Q)?Q.canActivate(D,y):V.runInContext(()=>Q(D,y))).pipe(ut())}));return(0,J.of)(A).pipe(Ur())}(y,A.route,m))),ut(A=>!0!==A,!0))}(w,L,y,D):(0,J.of)(Q)),(0,_t.U)(Q=>({...m,guardsResult:Q})))})}(this.environmentInjector,V=>this.events.next(V)),(0,It.b)(V=>{if(w.guardsResult=V.guardsResult,Ge(V.guardsResult))throw eo(0,V.guardsResult);const Q=new Ii(V.id,this.urlSerializer.serialize(V.extractedUrl),this.urlSerializer.serialize(V.urlAfterRedirects),V.targetSnapshot,!!V.guardsResult);this.events.next(Q)}),(0,se.h)(V=>!!V.guardsResult||(m.restoreHistory(V),this.cancelNavigationTransition(V,"",3),!1)),zt(V=>{if(V.guards.canActivateChecks.length)return(0,J.of)(V).pipe((0,It.b)(Q=>{const Ie=new Gi(Q.id,this.urlSerializer.serialize(Q.extractedUrl),this.urlSerializer.serialize(Q.urlAfterRedirects),Q.targetSnapshot);this.events.next(Ie)}),(0,Xe.w)(Q=>{let Ie=!1;return(0,J.of)(Q).pipe(function M(y,D){return(0,he.z)(m=>{const{targetSnapshot:w,guards:{canActivateChecks:A}}=m;if(!A.length)return(0,J.of)(m);let L=0;return(0,ae.D)(A).pipe((0,Nt.b)(V=>function k(y,D,m,w){const A=y.routeConfig,L=y._resolve;return void 0!==A?.title&&!nt(A)&&(L[Ht]=A.title),function $(y,D,m,w){const A=function ce(y){return[...Object.keys(y),...Object.getOwnPropertySymbols(y)]}(y);if(0===A.length)return(0,J.of)({});const L={};return(0,ae.D)(A).pipe((0,he.z)(V=>function ge(y,D,m,w){const A=ur(D)??w,L=Ho(y,A);return Jn(L.resolve?L.resolve(D,m):A.runInContext(()=>L(D,m)))}(y[V],D,m,w).pipe(ut(),(0,It.b)(Q=>{L[V]=Q}))),De(1),function Kt(y){return(0,_t.U)(()=>y)}(L),(0,ot.K)(V=>pn(V)?ee.E:(0,He._)(V)))}(L,y,D,w).pipe((0,_t.U)(V=>(y._resolvedData=V,y.data=sn(y,m).resolve,A&&nt(A)&&(y.data[Ht]=A.title),null)))}(V.route,w,y,D)),(0,It.b)(()=>L++),De(1),(0,he.z)(V=>L===A.length?(0,J.of)(m):ee.E))})}(m.paramsInheritanceStrategy,this.environmentInjector),(0,It.b)({next:()=>Ie=!0,complete:()=>{Ie||(m.restoreHistory(Q),this.cancelNavigationTransition(Q,"",2))}}))}),(0,It.b)(Q=>{const Ie=new Wi(Q.id,this.urlSerializer.serialize(Q.extractedUrl),this.urlSerializer.serialize(Q.urlAfterRedirects),Q.targetSnapshot);this.events.next(Ie)}))}),zt(V=>{const Q=Ie=>{const rt=[];Ie.routeConfig?.loadComponent&&!Ie.routeConfig._loadedComponent&&rt.push(this.configLoader.loadComponent(Ie.routeConfig).pipe((0,It.b)(dt=>{Ie.component=dt}),(0,_t.U)(()=>{})));for(const dt of Ie.children)rt.push(...Q(dt));return rt};return Be(Q(V.targetSnapshot.root)).pipe(pe(),Dt(1))}),zt(()=>this.afterPreactivation()),(0,_t.U)(V=>{const Q=function xn(y,D,m){const w=Qr(y,D._root,m?m._root:void 0);return new Lo(w,D)}(m.routeReuseStrategy,V.targetSnapshot,V.currentRouterState);return w={...V,targetRouterState:Q}}),(0,It.b)(V=>{m.currentUrlTree=V.urlAfterRedirects,m.rawUrlTree=m.urlHandlingStrategy.merge(V.urlAfterRedirects,V.rawUrl),m.routerState=V.targetRouterState,"deferred"===m.urlUpdateStrategy&&(V.extras.skipLocationChange||m.setBrowserUrl(m.rawUrlTree,V),m.browserUrlTree=V.urlAfterRedirects)}),((y,D,m,w)=>(0,_t.U)(A=>(new Ln(D,A.targetRouterState,A.currentRouterState,m,w).activate(y),A)))(this.rootContexts,m.routeReuseStrategy,V=>this.events.next(V),this.inputBindingEnabled),Dt(1),(0,It.b)({next:V=>{A=!0,this.lastSuccessfulNavigation=this.currentNavigation,m.navigated=!0,this.events.next(new kr(V.id,this.urlSerializer.serialize(V.extractedUrl),this.urlSerializer.serialize(m.currentUrlTree))),m.titleStrategy?.updateTitle(V.targetRouterState.snapshot),V.resolve(!0)},complete:()=>{A=!0}}),(0,Lt.x)(()=>{A||L||this.cancelNavigationTransition(w,"",1),this.currentNavigation?.id===w.id&&(this.currentNavigation=null)}),(0,ot.K)(V=>{if(L=!0,Vo(V)){mn(V)||(m.navigated=!0,m.restoreHistory(w,!0));const Q=new Po(w.id,this.urlSerializer.serialize(w.extractedUrl),V.message,V.cancellationCode);if(this.events.next(Q),mn(V)){const Ie=m.urlHandlingStrategy.merge(V.url,m.rawUrlTree),rt={skipLocationChange:w.extras.skipLocationChange,replaceUrl:"eager"===m.urlUpdateStrategy||On(w.source)};m.scheduleNavigation(Ie,_o,null,rt,{resolve:w.resolve,reject:w.reject,promise:w.promise})}else w.resolve(!1)}else{m.restoreHistory(w,!0);const Q=new bs(w.id,this.urlSerializer.serialize(w.extractedUrl),V,w.targetSnapshot??void 0);this.events.next(Q);try{w.resolve(m.errorHandler(V))}catch(Ie){w.reject(Ie)}}return ee.E}))}))}cancelNavigationTransition(m,w,A){const L=new Po(m.id,this.urlSerializer.serialize(m.extractedUrl),w,A);this.events.next(L),m.resolve(!1)}}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=d.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();function On(y){return y!==_o}let dr=(()=>{class y{buildTitle(m){let w,A=m.root;for(;void 0!==A;)w=this.getResolvedTitleForRoute(A)??w,A=A.children.find(L=>L.outlet===Qe);return w}getResolvedTitleForRoute(m){return m.data[Ht]}}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=d.Yz7({token:y,factory:function(){return(0,d.f3M)(Rn)},providedIn:"root"}),y})(),Rn=(()=>{class y extends dr{constructor(m){super(),this.title=m}updateTitle(m){const w=this.buildTitle(m);void 0!==w&&this.title.setTitle(w)}}return y.\u0275fac=function(m){return new(m||y)(d.LFG(zn.Dx))},y.\u0275prov=d.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})(),Di=(()=>{class y{}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=d.Yz7({token:y,factory:function(){return(0,d.f3M)(Ko)},providedIn:"root"}),y})();class oo{shouldDetach(D){return!1}store(D,m){}shouldAttach(D){return!1}retrieve(D){return null}shouldReuseRoute(D,m){return D.routeConfig===m.routeConfig}}let Ko=(()=>{class y extends oo{}return y.\u0275fac=function(){let D;return function(w){return(D||(D=d.n5z(y)))(w||y)}}(),y.\u0275prov=d.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();const er=new d.OlP("",{providedIn:"root",factory:()=>({})});let Zo=(()=>{class y{}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=d.Yz7({token:y,factory:function(){return(0,d.f3M)(Ia)},providedIn:"root"}),y})(),Ia=(()=>{class y{shouldProcessUrl(m){return!0}extract(m){return m}merge(m,w){return m}}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=d.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();var Cr=(()=>((Cr=Cr||{})[Cr.COMPLETE=0]="COMPLETE",Cr[Cr.FAILED=1]="FAILED",Cr[Cr.REDIRECTING=2]="REDIRECTING",Cr))();function Ws(y,D){y.events.pipe((0,se.h)(m=>m instanceof kr||m instanceof Po||m instanceof bs||m instanceof bo),(0,_t.U)(m=>m instanceof kr||m instanceof bo?Cr.COMPLETE:m instanceof Po&&(0===m.code||1===m.code)?Cr.REDIRECTING:Cr.FAILED),(0,se.h)(m=>m!==Cr.REDIRECTING),Dt(1)).subscribe(()=>{D()})}function Uo(y){throw y}function ll(y,D,m){return D.parse("/")}const St={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},qs={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let io=(()=>{class y{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,d.f3M)(d.c2e),this.isNgZoneEnabled=!1,this.options=(0,d.f3M)(er,{optional:!0})||{},this.pendingTasks=(0,d.f3M)(d.HDt),this.errorHandler=this.options.errorHandler||Uo,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||ll,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,d.f3M)(Zo),this.routeReuseStrategy=(0,d.f3M)(Di),this.titleStrategy=(0,d.f3M)(dr),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,d.f3M)(ht,{optional:!0})?.flat()??[],this.navigationTransitions=(0,d.f3M)(an),this.urlSerializer=(0,d.f3M)(xr),this.location=(0,d.f3M)(qe.Ye),this.componentInputBindingEnabled=!!(0,d.f3M)(po,{optional:!0}),this.isNgZoneEnabled=(0,d.f3M)(d.R0b)instanceof d.R0b&&d.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new pr,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=vt(0,null),this.navigationTransitions.setupNavigations(this).subscribe(m=>{this.lastSuccessfulId=m.id,this.currentPageId=this.browserPageId??0},m=>{this.console.warn(`Unhandled Navigation Error: ${m}`)})}resetRootComponentType(m){this.routerState.root.component=m,this.navigationTransitions.rootComponentType=m}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const m=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),_o,m)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(m=>{const w="popstate"===m.type?"popstate":"hashchange";"popstate"===w&&setTimeout(()=>{this.navigateToSyncWithBrowser(m.url,w,m.state)},0)}))}navigateToSyncWithBrowser(m,w,A){const L={replaceUrl:!0},V=A?.navigationId?A:null;if(A){const Ie={...A};delete Ie.navigationId,delete Ie.\u0275routerPageId,0!==Object.keys(Ie).length&&(L.state=Ie)}const Q=this.parseUrl(m);this.scheduleNavigation(Q,w,V,L)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(m){this.config=m.map(Ji),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(m,w={}){const{relativeTo:A,queryParams:L,fragment:V,queryParamsHandling:Q,preserveFragment:Ie}=w,rt=Ie?this.currentUrlTree.fragment:V;let rn,dt=null;switch(Q){case"merge":dt={...this.currentUrlTree.queryParams,...L};break;case"preserve":dt=this.currentUrlTree.queryParams;break;default:dt=L||null}null!==dt&&(dt=this.removeEmptyProps(dt));try{rn=Mn(A?A.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof m[0]||!m[0].startsWith("/"))&&(m=[]),rn=this.currentUrlTree.root}return gn(rn,m,dt,rt??null)}navigateByUrl(m,w={skipLocationChange:!1}){const A=Ge(m)?m:this.parseUrl(m),L=this.urlHandlingStrategy.merge(A,this.rawUrlTree);return this.scheduleNavigation(L,_o,null,w)}navigate(m,w={skipLocationChange:!1}){return function Eu(y){for(let D=0;D<y.length;D++)if(null==y[D])throw new d.vHH(4008,!1)}(m),this.navigateByUrl(this.createUrlTree(m,w),w)}serializeUrl(m){return this.urlSerializer.serialize(m)}parseUrl(m){let w;try{w=this.urlSerializer.parse(m)}catch(A){w=this.malformedUriErrorHandler(A,this.urlSerializer,m)}return w}isActive(m,w){let A;if(A=!0===w?{...St}:!1===w?{...qs}:w,Ge(m))return Yn(this.currentUrlTree,m,A);const L=this.parseUrl(m);return Yn(this.currentUrlTree,L,A)}removeEmptyProps(m){return Object.keys(m).reduce((w,A)=>{const L=m[A];return null!=L&&(w[A]=L),w},{})}scheduleNavigation(m,w,A,L,V){if(this.disposed)return Promise.resolve(!1);let Q,Ie,rt;V?(Q=V.resolve,Ie=V.reject,rt=V.promise):rt=new Promise((rn,Er)=>{Q=rn,Ie=Er});const dt=this.pendingTasks.add();return Ws(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(dt))}),this.navigationTransitions.handleNavigationRequest({source:w,restoredState:A,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:m,extras:L,resolve:Q,reject:Ie,promise:rt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),rt.catch(rn=>Promise.reject(rn))}setBrowserUrl(m,w){const A=this.urlSerializer.serialize(m);if(this.location.isCurrentPathEqualTo(A)||w.extras.replaceUrl){const V={...w.extras.state,...this.generateNgRouterState(w.id,this.browserPageId)};this.location.replaceState(A,"",V)}else{const L={...w.extras.state,...this.generateNgRouterState(w.id,(this.browserPageId??0)+1)};this.location.go(A,"",L)}}restoreHistory(m,w=!1){if("computed"===this.canceledNavigationResolution){const L=this.currentPageId-(this.browserPageId??this.currentPageId);0!==L?this.location.historyGo(L):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===L&&(this.resetState(m),this.browserUrlTree=m.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(w&&this.resetState(m),this.resetUrlToCurrentUrlTree())}resetState(m){this.routerState=m.currentRouterState,this.currentUrlTree=m.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,m.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(m,w){return"computed"===this.canceledNavigationResolution?{navigationId:m,\u0275routerPageId:w}:{navigationId:m}}}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=d.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})(),Js=(()=>{class y{constructor(m,w,A,L,V,Q){this.router=m,this.route=w,this.tabIndexAttribute=A,this.renderer=L,this.el=V,this.locationStrategy=Q,this.href=null,this.commands=null,this.onChanges=new En.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const Ie=V.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Ie||"area"===Ie,this.isAnchorElement?this.subscription=m.events.subscribe(rt=>{rt instanceof kr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(m){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",m)}ngOnChanges(m){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(m){null!=m?(this.commands=Array.isArray(m)?m:[m],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(m,w,A,L,V){return!!(null===this.urlTree||this.isAnchorElement&&(0!==m||w||A||L||V||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const m=null===this.href?null:(0,d.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",m)}applyAttributeValue(m,w){const A=this.renderer,L=this.el.nativeElement;null!==w?A.setAttribute(L,m,w):A.removeAttribute(L,m)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return y.\u0275fac=function(m){return new(m||y)(d.Y36(io),d.Y36(Ct),d.$8M("tabindex"),d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(qe.S$))},y.\u0275dir=d.lG2({type:y,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(m,w){1&m&&d.NdJ("click",function(L){return w.onClick(L.button,L.ctrlKey,L.shiftKey,L.altKey,L.metaKey)}),2&m&&d.uIk("target",w.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",d.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",d.VuI],replaceUrl:["replaceUrl","replaceUrl",d.VuI],routerLink:"routerLink"},standalone:!0,features:[d.Xq5,d.TTD]}),y})();class Qo{}let xu=(()=>{class y{constructor(m,w,A,L,V){this.router=m,this.injector=A,this.preloadingStrategy=L,this.loader=V}setUpPreloading(){this.subscription=this.router.events.pipe((0,se.h)(m=>m instanceof kr),(0,Nt.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(m,w){const A=[];for(const L of w){L.providers&&!L._injector&&(L._injector=(0,d.MMx)(L.providers,m,`Route: ${L.path}`));const V=L._injector??m,Q=L._loadedInjector??V;(L.loadChildren&&!L._loadedRoutes&&void 0===L.canLoad||L.loadComponent&&!L._loadedComponent)&&A.push(this.preloadConfig(V,L)),(L.children||L._loadedRoutes)&&A.push(this.processRoutes(Q,L.children??L._loadedRoutes))}return(0,ae.D)(A).pipe((0,tn.J)())}preloadConfig(m,w){return this.preloadingStrategy.preload(w,()=>{let A;A=w.loadChildren&&void 0===w.canLoad?this.loader.loadChildren(m,w):(0,J.of)(null);const L=A.pipe((0,he.z)(V=>null===V?(0,J.of)(void 0):(w._loadedRoutes=V.routes,w._loadedInjector=V.injector,this.processRoutes(V.injector??m,V.routes))));if(w.loadComponent&&!w._loadedComponent){const V=this.loader.loadComponent(w);return(0,ae.D)([L,V]).pipe((0,tn.J)())}return L})}}return y.\u0275fac=function(m){return new(m||y)(d.LFG(io),d.LFG(d.Sil),d.LFG(d.lqb),d.LFG(Qo),d.LFG(en))},y.\u0275prov=d.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();const Ss=new d.OlP("");let Ci=(()=>{class y{constructor(m,w,A,L,V={}){this.urlSerializer=m,this.transitions=w,this.viewportScroller=A,this.zone=L,this.options=V,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},V.scrollPositionRestoration=V.scrollPositionRestoration||"disabled",V.anchorScrolling=V.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(m=>{m instanceof Zr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=m.navigationTrigger,this.restoredId=m.restoredState?m.restoredState.navigationId:0):m instanceof kr?(this.lastId=m.id,this.scheduleScrollEvent(m,this.urlSerializer.parse(m.urlAfterRedirects).fragment)):m instanceof bo&&0===m.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(m,this.urlSerializer.parse(m.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(m=>{m instanceof Yt&&(m.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(m.position):m.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(m.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(m,w){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Yt(m,"popstate"===this.lastSource?this.store[this.restoredId]:null,w))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return y.\u0275fac=function(m){d.$Z()},y.\u0275prov=d.Yz7({token:y,factory:y.\u0275fac}),y})();function zr(y,D){return{\u0275kind:y,\u0275providers:D}}function so(){const y=(0,d.f3M)(d.zs3);return D=>{const m=y.get(d.z2F);if(D!==m.components[0])return;const w=y.get(io),A=y.get(Is);1===y.get(ts)&&w.initialNavigation(),y.get(br,null,d.XFs.Optional)?.setUpPreloading(),y.get(Ss,null,d.XFs.Optional)?.init(),w.resetRootComponentType(m.componentTypes[0]),A.closed||(A.next(),A.complete(),A.unsubscribe())}}const Is=new d.OlP("",{factory:()=>new En.x}),ts=new d.OlP("",{providedIn:"root",factory:()=>1}),br=new d.OlP("");function Xo(y){return zr(0,[{provide:br,useExisting:xu},{provide:Qo,useExisting:y}])}const Aa=new d.OlP("ROUTER_FORROOT_GUARD"),pl=[qe.Ye,{provide:xr,useClass:ar},io,Fr,{provide:Ct,useFactory:function Wt(y){return y.routerState.root},deps:[io]},en,[]];function Ts(){return new d.PXZ("Router",io)}let Ys=(()=>{class y{constructor(m){}static forRoot(m,w){return{ngModule:y,providers:[pl,[],{provide:ht,multi:!0,useValue:m},{provide:Aa,useFactory:ml,deps:[[io,new d.FiY,new d.tp0]]},{provide:er,useValue:w||{}},w?.useHash?{provide:qe.S$,useClass:qe.Do}:{provide:qe.S$,useClass:qe.b0},{provide:Ss,useFactory:()=>{const y=(0,d.f3M)(qe.EM),D=(0,d.f3M)(d.R0b),m=(0,d.f3M)(er),w=(0,d.f3M)(an),A=(0,d.f3M)(xr);return m.scrollOffset&&y.setOffset(m.scrollOffset),new Ci(A,w,y,D,m)}},w?.preloadingStrategy?Xo(w.preloadingStrategy).\u0275providers:[],{provide:d.PXZ,multi:!0,useFactory:Ts},w?.initialNavigation?Oa(w):[],w?.bindToComponentInputs?zr(8,[Eo,{provide:po,useExisting:Eo}]).\u0275providers:[],[{provide:Ra,useFactory:so},{provide:d.tb,multi:!0,useExisting:Ra}]]}}static forChild(m){return{ngModule:y,providers:[{provide:ht,multi:!0,useValue:m}]}}}return y.\u0275fac=function(m){return new(m||y)(d.LFG(Aa,8))},y.\u0275mod=d.oAB({type:y}),y.\u0275inj=d.cJS({}),y})();function ml(y){return"guarded"}function Oa(y){return["disabled"===y.initialNavigation?zr(3,[{provide:d.ip1,multi:!0,useFactory:()=>{const D=(0,d.f3M)(io);return()=>{D.setUpLocationChangeListener()}}},{provide:ts,useValue:2}]).\u0275providers:[],"enabledBlocking"===y.initialNavigation?zr(2,[{provide:ts,useValue:0},{provide:d.ip1,multi:!0,deps:[d.zs3],useFactory:D=>{const m=D.get(qe.V_,Promise.resolve());return()=>m.then(()=>new Promise(w=>{const A=D.get(io),L=D.get(Is);Ws(A,()=>{w(!0)}),D.get(an).afterPreactivation=()=>(w(!0),L.closed?(0,J.of)(void 0):L),A.initialNavigation()}))}}]).\u0275providers:[]]}const Ra=new d.OlP("")},7629:(lt,me,F)=>{F.d(me,{ML:()=>hf,Mn:()=>nf,tP:()=>cm,FP:()=>_p});var d=F(4946),Y=F(95),ae=F(8645),J=F(2664),B=F(2096),Re=F(9360),re=F(8251),Oe=F(4829),ye=F(2420);const Be=s=>{const t=(s=>{const t={};return Object.keys(s).forEach(r=>{s[r]&&(t[r]=s[r])}),t})(s);return Object.entries(t).map(([r,i])=>`${(s=>s.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`))(r)}:${i}`).join(";")};class $e extends Error{constructor(t){super(t),this.name=this.constructor.name}}function gt(s){this.content=s}gt.prototype={constructor:gt,find:function(s){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===s)return t;return-1},get:function(s){var t=this.find(s);return-1==t?void 0:this.content[t+1]},update:function(s,t,r){var i=r&&r!=s?this.remove(r):this,l=i.find(s),c=i.content.slice();return-1==l?c.push(r||s,t):(c[l+1]=t,r&&(c[l]=r)),new gt(c)},remove:function(s){var t=this.find(s);if(-1==t)return this;var r=this.content.slice();return r.splice(t,2),new gt(r)},addToStart:function(s,t){return new gt([s,t].concat(this.remove(s).content))},addToEnd:function(s,t){var r=this.remove(s).content.slice();return r.push(s,t),new gt(r)},addBefore:function(s,t,r){var i=this.remove(t),l=i.content.slice(),c=i.find(s);return l.splice(-1==c?l.length:c,0,t,r),new gt(l)},forEach:function(s){for(var t=0;t<this.content.length;t+=2)s(this.content[t],this.content[t+1])},prepend:function(s){return(s=gt.from(s)).size?new gt(s.content.concat(this.subtract(s).content)):this},append:function(s){return(s=gt.from(s)).size?new gt(this.subtract(s).content.concat(s.content)):this},subtract:function(s){var t=this;s=gt.from(s);for(var r=0;r<s.content.length;r+=2)t=t.remove(s.content[r]);return t},toObject:function(){var s={};return this.forEach(function(t,r){s[t]=r}),s},get size(){return this.content.length>>1}},gt.from=function(s){if(s instanceof gt)return s;var t=[];if(s)for(var r in s)t.push(r,s[r]);return new gt(t)};const At=gt;function Bt(s,t,r){for(let i=0;;i++){if(i==s.childCount||i==t.childCount)return s.childCount==t.childCount?null:r;let l=s.child(i),c=t.child(i);if(l!=c){if(!l.sameMarkup(c))return r;if(l.isText&&l.text!=c.text){for(let h=0;l.text[h]==c.text[h];h++)r++;return r}if(l.content.size||c.content.size){let h=Bt(l.content,c.content,r+1);if(null!=h)return h}r+=l.nodeSize}else r+=l.nodeSize}}function tn(s,t,r,i){for(let l=s.childCount,c=t.childCount;;){if(0==l||0==c)return l==c?null:{a:r,b:i};let h=s.child(--l),g=t.child(--c),C=h.nodeSize;if(h!=g){if(!h.sameMarkup(g))return{a:r,b:i};if(h.isText&&h.text!=g.text){let I=0,O=Math.min(h.text.length,g.text.length);for(;I<O&&h.text[h.text.length-I-1]==g.text[g.text.length-I-1];)I++,r--,i--;return{a:r,b:i}}if(h.content.size||g.content.size){let I=tn(h.content,g.content,r-1,i-1);if(I)return I}r-=C,i-=C}else r-=C,i-=C}}class ve{constructor(t,r){if(this.content=t,this.size=r||0,null==r)for(let i=0;i<t.length;i++)this.size+=t[i].nodeSize}nodesBetween(t,r,i,l=0,c){for(let h=0,g=0;g<r;h++){let C=this.content[h],I=g+C.nodeSize;if(I>t&&!1!==i(C,l+g,c||null,h)&&C.content.size){let O=g+1;C.nodesBetween(Math.max(0,t-O),Math.min(C.content.size,r-O),i,l+O)}g=I}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,r,i,l){let c="",h=!0;return this.nodesBetween(t,r,(g,C)=>{g.isText?(c+=g.text.slice(Math.max(t,C)-C,r-C),h=!i):g.isLeaf?(l?c+="function"==typeof l?l(g):l:g.type.spec.leafText&&(c+=g.type.spec.leafText(g)),h=!i):!h&&g.isBlock&&(c+=i,h=!0)},0),c}append(t){if(!t.size)return this;if(!this.size)return t;let r=this.lastChild,i=t.firstChild,l=this.content.slice(),c=0;for(r.isText&&r.sameMarkup(i)&&(l[l.length-1]=r.withText(r.text+i.text),c=1);c<t.content.length;c++)l.push(t.content[c]);return new ve(l,this.size+t.size)}cut(t,r=this.size){if(0==t&&r==this.size)return this;let i=[],l=0;if(r>t)for(let c=0,h=0;h<r;c++){let g=this.content[c],C=h+g.nodeSize;C>t&&((h<t||C>r)&&(g=g.isText?g.cut(Math.max(0,t-h),Math.min(g.text.length,r-h)):g.cut(Math.max(0,t-h-1),Math.min(g.content.size,r-h-1))),i.push(g),l+=g.nodeSize),h=C}return new ve(i,l)}cutByIndex(t,r){return t==r?ve.empty:0==t&&r==this.content.length?this:new ve(this.content.slice(t,r))}replaceChild(t,r){let i=this.content[t];if(i==r)return this;let l=this.content.slice(),c=this.size+r.nodeSize-i.nodeSize;return l[t]=r,new ve(l,c)}addToStart(t){return new ve([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new ve(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let r=0;r<this.content.length;r++)if(!this.content[r].eq(t.content[r]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let r=this.content[t];if(!r)throw new RangeError("Index "+t+" out of range for "+this);return r}maybeChild(t){return this.content[t]||null}forEach(t){for(let r=0,i=0;r<this.content.length;r++){let l=this.content[r];t(l,i,r),i+=l.nodeSize}}findDiffStart(t,r=0){return Bt(this,t,r)}findDiffEnd(t,r=this.size,i=t.size){return tn(this,t,r,i)}findIndex(t,r=-1){if(0==t)return Ve(0,t);if(t==this.size)return Ve(this.content.length,t);if(t>this.size||t<0)throw new RangeError(`Position ${t} outside of fragment (${this})`);for(let i=0,l=0;;i++){let h=l+this.child(i).nodeSize;if(h>=t)return h==t||r>0?Ve(i+1,h):Ve(i,l);l=h}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(t=>t.toJSON()):null}static fromJSON(t,r){if(!r)return ve.empty;if(!Array.isArray(r))throw new RangeError("Invalid input for Fragment.fromJSON");return new ve(r.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return ve.empty;let r,i=0;for(let l=0;l<t.length;l++){let c=t[l];i+=c.nodeSize,l&&c.isText&&t[l-1].sameMarkup(c)?(r||(r=t.slice(0,l)),r[r.length-1]=c.withText(r[r.length-1].text+c.text)):r&&r.push(c)}return new ve(r||t,i)}static from(t){if(!t)return ve.empty;if(t instanceof ve)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new ve([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}ve.empty=new ve([],0);const be={index:0,offset:0};function Ve(s,t){return be.index=s,be.offset=t,be}function ze(s,t){if(s===t)return!0;if(!s||"object"!=typeof s||!t||"object"!=typeof t)return!1;let r=Array.isArray(s);if(Array.isArray(t)!=r)return!1;if(r){if(s.length!=t.length)return!1;for(let i=0;i<s.length;i++)if(!ze(s[i],t[i]))return!1}else{for(let i in s)if(!(i in t)||!ze(s[i],t[i]))return!1;for(let i in t)if(!(i in s))return!1}return!0}let Fe=(()=>{class s{constructor(r,i){this.type=r,this.attrs=i}addToSet(r){let i,l=!1;for(let c=0;c<r.length;c++){let h=r[c];if(this.eq(h))return r;if(this.type.excludes(h.type))i||(i=r.slice(0,c));else{if(h.type.excludes(this.type))return r;!l&&h.type.rank>this.type.rank&&(i||(i=r.slice(0,c)),i.push(this),l=!0),i&&i.push(h)}}return i||(i=r.slice()),l||i.push(this),i}removeFromSet(r){for(let i=0;i<r.length;i++)if(this.eq(r[i]))return r.slice(0,i).concat(r.slice(i+1));return r}isInSet(r){for(let i=0;i<r.length;i++)if(this.eq(r[i]))return!0;return!1}eq(r){return this==r||this.type==r.type&&ze(this.attrs,r.attrs)}toJSON(){let r={type:this.type.name};for(let i in this.attrs){r.attrs=this.attrs;break}return r}static fromJSON(r,i){if(!i)throw new RangeError("Invalid input for Mark.fromJSON");let l=r.marks[i.type];if(!l)throw new RangeError(`There is no mark type ${i.type} in this schema`);return l.create(i.attrs)}static sameSet(r,i){if(r==i)return!0;if(r.length!=i.length)return!1;for(let l=0;l<r.length;l++)if(!r[l].eq(i[l]))return!1;return!0}static setFrom(r){if(!r||Array.isArray(r)&&0==r.length)return s.none;if(r instanceof s)return[r];let i=r.slice();return i.sort((l,c)=>l.type.rank-c.type.rank),i}}return s.none=[],s})();class He extends Error{}class ee{constructor(t,r,i){this.content=t,this.openStart=r,this.openEnd=i}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,r){let i=je(this.content,t+this.openStart,r);return i&&new ee(i,this.openStart,this.openEnd)}removeBetween(t,r){return new ee(Ae(this.content,t+this.openStart,r+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,r){if(!r)return ee.empty;let i=r.openStart||0,l=r.openEnd||0;if("number"!=typeof i||"number"!=typeof l)throw new RangeError("Invalid input for Slice.fromJSON");return new ee(ve.fromJSON(t,r.content),i,l)}static maxOpen(t,r=!0){let i=0,l=0;for(let c=t.firstChild;c&&!c.isLeaf&&(r||!c.type.spec.isolating);c=c.firstChild)i++;for(let c=t.lastChild;c&&!c.isLeaf&&(r||!c.type.spec.isolating);c=c.lastChild)l++;return new ee(t,i,l)}}function Ae(s,t,r){let{index:i,offset:l}=s.findIndex(t),c=s.maybeChild(i),{index:h,offset:g}=s.findIndex(r);if(l==t||c.isText){if(g!=r&&!s.child(h).isText)throw new RangeError("Removing non-flat range");return s.cut(0,t).append(s.cut(r))}if(i!=h)throw new RangeError("Removing non-flat range");return s.replaceChild(i,c.copy(Ae(c.content,t-l-1,r-l-1)))}function je(s,t,r,i){let{index:l,offset:c}=s.findIndex(t),h=s.maybeChild(l);if(c==t||h.isText)return i&&!i.canReplace(l,l,r)?null:s.cut(0,t).append(r).append(s.cut(t));let g=je(h.content,t-c-1,r);return g&&s.replaceChild(l,h.copy(g))}function fn(s,t,r){if(r.openStart>s.depth)throw new He("Inserted content deeper than insertion position");if(s.depth-r.openStart!=t.depth-r.openEnd)throw new He("Inconsistent open depths");return $t(s,t,r,0)}function $t(s,t,r,i){let l=s.index(i),c=s.node(i);if(l==t.index(i)&&i<s.depth-r.openStart){let h=$t(s,t,r,i+1);return c.copy(c.content.replaceChild(l,h))}if(r.content.size){if(r.openStart||r.openEnd||s.depth!=i||t.depth!=i){let{start:h,end:g}=function he(s,t){let r=t.depth-s.openStart,l=t.node(r).copy(s.content);for(let c=r-1;c>=0;c--)l=t.node(c).copy(ve.from(l));return{start:l.resolveNoCache(s.openStart+r),end:l.resolveNoCache(l.content.size-s.openEnd-r)}}(r,s);return Dt(c,ie(s,h,g,t,i))}{let h=s.parent,g=h.content;return Dt(h,g.cut(0,s.parentOffset).append(r.content).append(g.cut(t.parentOffset)))}}return Dt(c,se(s,t,i))}function En(s,t){if(!t.type.compatibleContent(s.type))throw new He("Cannot join "+t.type.name+" onto "+s.type.name)}function qe(s,t,r){let i=s.node(r);return En(i,t.node(r)),i}function _t(s,t){let r=t.length-1;r>=0&&s.isText&&s.sameMarkup(t[r])?t[r]=s.withText(t[r].text+s.text):t.push(s)}function Xe(s,t,r,i){let l=(t||s).node(r),c=0,h=t?t.index(r):l.childCount;s&&(c=s.index(r),s.depth>r?c++:s.textOffset&&(_t(s.nodeAfter,i),c++));for(let g=c;g<h;g++)_t(l.child(g),i);t&&t.depth==r&&t.textOffset&&_t(t.nodeBefore,i)}function Dt(s,t){return s.type.checkContent(t),s.copy(t)}function ie(s,t,r,i,l){let c=s.depth>l&&qe(s,t,l+1),h=i.depth>l&&qe(r,i,l+1),g=[];return Xe(null,s,l,g),c&&h&&t.index(l)==r.index(l)?(En(c,h),_t(Dt(c,ie(s,t,r,i,l+1)),g)):(c&&_t(Dt(c,se(s,t,l+1)),g),Xe(t,r,l,g),h&&_t(Dt(h,se(r,i,l+1)),g)),Xe(i,null,l,g),new ve(g)}function se(s,t,r){let i=[];return Xe(null,s,r,i),s.depth>r&&_t(Dt(qe(s,t,r+1),se(s,t,r+1)),i),Xe(t,null,r,i),new ve(i)}ee.empty=new ee(ve.empty,0,0);class pe{constructor(t,r,i){this.pos=t,this.path=r,this.parentOffset=i,this.depth=r.length/3-1}resolveDepth(t){return null==t?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[3*this.resolveDepth(t)]}index(t){return this.path[3*this.resolveDepth(t)+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t!=this.depth||this.textOffset?1:0)}start(t){return 0==(t=this.resolveDepth(t))?0:this.path[3*t-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(!(t=this.resolveDepth(t)))throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]}after(t){if(!(t=this.resolveDepth(t)))throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]+this.path[3*t].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,r=this.index(this.depth);if(r==t.childCount)return null;let i=this.pos-this.path[this.path.length-1],l=t.child(r);return i?t.child(r).cut(i):l}get nodeBefore(){let t=this.index(this.depth),r=this.pos-this.path[this.path.length-1];return r?this.parent.child(t).cut(0,r):0==t?null:this.parent.child(t-1)}posAtIndex(t,r){r=this.resolveDepth(r);let i=this.path[3*r],l=0==r?0:this.path[3*r-1]+1;for(let c=0;c<t;c++)l+=i.child(c).nodeSize;return l}marks(){let t=this.parent,r=this.index();if(0==t.content.size)return Fe.none;if(this.textOffset)return t.child(r).marks;let i=t.maybeChild(r-1),l=t.maybeChild(r);if(!i){let g=i;i=l,l=g}let c=i.marks;for(var h=0;h<c.length;h++)!1===c[h].type.spec.inclusive&&(!l||!c[h].isInSet(l.marks))&&(c=c[h--].removeFromSet(c));return c}marksAcross(t){let r=this.parent.maybeChild(this.index());if(!r||!r.isInline)return null;let i=r.marks,l=t.parent.maybeChild(t.index());for(var c=0;c<i.length;c++)!1===i[c].type.spec.inclusive&&(!l||!i[c].isInSet(l.marks))&&(i=i[c--].removeFromSet(i));return i}sharedDepth(t){for(let r=this.depth;r>0;r--)if(this.start(r)<=t&&this.end(r)>=t)return r;return 0}blockRange(t=this,r){if(t.pos<this.pos)return t.blockRange(this);for(let i=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);i>=0;i--)if(t.pos<=this.end(i)&&(!r||r(this.node(i))))return new Nt(this,t,i);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let r=1;r<=this.depth;r++)t+=(t?"/":"")+this.node(r).type.name+"_"+this.index(r-1);return t+":"+this.parentOffset}static resolve(t,r){if(!(r>=0&&r<=t.content.size))throw new RangeError("Position "+r+" out of range");let i=[],l=0,c=r;for(let h=t;;){let{index:g,offset:C}=h.content.findIndex(c),I=c-C;if(i.push(h,g,l+C),!I||(h=h.child(g),h.isText))break;c=I-1,l+=C+1}return new pe(r,i,c)}static resolveCached(t,r){for(let l=0;l<Me.length;l++){let c=Me[l];if(c.pos==r&&c.doc==t)return c}let i=Me[Ue]=pe.resolve(t,r);return Ue=(Ue+1)%ut,i}}let Me=[],Ue=0,ut=12;class Nt{constructor(t,r,i){this.$from=t,this.$to=r,this.depth=i}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const It=Object.create(null);class ot{constructor(t,r,i,l=Fe.none){this.type=t,this.attrs=r,this.marks=l,this.content=i||ve.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,r,i,l=0){this.content.nodesBetween(t,r,i,l,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(t,r,i,l){return this.content.textBetween(t,r,i,l)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,r,i){return this.type==t&&ze(this.attrs,r||t.defaultAttrs||It)&&Fe.sameSet(this.marks,i||Fe.none)}copy(t=null){return t==this.content?this:new ot(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new ot(this.type,this.attrs,this.content,t)}cut(t,r=this.content.size){return 0==t&&r==this.content.size?this:this.copy(this.content.cut(t,r))}slice(t,r=this.content.size,i=!1){if(t==r)return ee.empty;let l=this.resolve(t),c=this.resolve(r),h=i?0:l.sharedDepth(r),g=l.start(h),I=l.node(h).content.cut(l.pos-g,c.pos-g);return new ee(I,l.depth-h,c.depth-h)}replace(t,r,i){return fn(this.resolve(t),this.resolve(r),i)}nodeAt(t){for(let r=this;;){let{index:i,offset:l}=r.content.findIndex(t);if(r=r.maybeChild(i),!r)return null;if(l==t||r.isText)return r;t-=l+1}}childAfter(t){let{index:r,offset:i}=this.content.findIndex(t);return{node:this.content.maybeChild(r),index:r,offset:i}}childBefore(t){if(0==t)return{node:null,index:0,offset:0};let{index:r,offset:i}=this.content.findIndex(t);if(i<t)return{node:this.content.child(r),index:r,offset:i};let l=this.content.child(r-1);return{node:l,index:r-1,offset:i-l.nodeSize}}resolve(t){return pe.resolveCached(this,t)}resolveNoCache(t){return pe.resolve(this,t)}rangeHasMark(t,r,i){let l=!1;return r>t&&this.nodesBetween(t,r,c=>(i.isInSet(c.marks)&&(l=!0),!l)),l}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),it(this.marks,t)}contentMatchAt(t){let r=this.type.contentMatch.matchFragment(this.content,0,t);if(!r)throw new Error("Called contentMatchAt on a node with invalid content");return r}canReplace(t,r,i=ve.empty,l=0,c=i.childCount){let h=this.contentMatchAt(t).matchFragment(i,l,c),g=h&&h.matchFragment(this.content,r);if(!g||!g.validEnd)return!1;for(let C=l;C<c;C++)if(!this.type.allowsMarks(i.child(C).marks))return!1;return!0}canReplaceWith(t,r,i,l){if(l&&!this.type.allowsMarks(l))return!1;let c=this.contentMatchAt(t).matchType(i),h=c&&c.matchFragment(this.content,r);return!!h&&h.validEnd}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){this.type.checkContent(this.content);let t=Fe.none;for(let r=0;r<this.marks.length;r++)t=this.marks[r].addToSet(t);if(!Fe.sameSet(t,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(r=>r.type.name)}`);this.content.forEach(r=>r.check())}toJSON(){let t={type:this.type.name};for(let r in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(r=>r.toJSON())),t}static fromJSON(t,r){if(!r)throw new RangeError("Invalid input for Node.fromJSON");let i=null;if(r.marks){if(!Array.isArray(r.marks))throw new RangeError("Invalid mark data for Node.fromJSON");i=r.marks.map(t.markFromJSON)}if("text"==r.type){if("string"!=typeof r.text)throw new RangeError("Invalid text node in JSON");return t.text(r.text,i)}let l=ve.fromJSON(t,r.content);return t.nodeType(r.type).create(r.attrs,l,i)}}ot.prototype.text=void 0;class de extends ot{constructor(t,r,i,l){if(super(t,r,null,l),!i)throw new RangeError("Empty text nodes are not allowed");this.text=i}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):it(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(t,r){return this.text.slice(t,r)}get nodeSize(){return this.text.length}mark(t){return t==this.marks?this:new de(this.type,this.attrs,this.text,t)}withText(t){return t==this.text?this:new de(this.type,this.attrs,t,this.marks)}cut(t=0,r=this.text.length){return 0==t&&r==this.text.length?this:this.withText(this.text.slice(t,r))}eq(t){return this.sameMarkup(t)&&this.text==t.text}toJSON(){let t=super.toJSON();return t.text=this.text,t}}function it(s,t){for(let r=s.length-1;r>=0;r--)t=s[r].type.name+"("+t+")";return t}class De{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,r){let i=new Rt(t,r);if(null==i.next)return De.empty;let l=Kt(i);i.next&&i.err("Unexpected trailing text");let c=function at(s){let t=Object.create(null);return function r(i){let l=[];i.forEach(h=>{s[h].forEach(({term:g,to:C})=>{if(!g)return;let I;for(let O=0;O<l.length;O++)l[O][0]==g&&(I=l[O][1]);Zt(s,C).forEach(O=>{I||l.push([g,I=[]]),-1==I.indexOf(O)&&I.push(O)})})});let c=t[i.join(",")]=new De(i.indexOf(s.length-1)>-1);for(let h=0;h<l.length;h++){let g=l[h][1].sort(nn);c.next.push({type:l[h][0],next:t[g.join(",")]||r(g)})}return c}(Zt(s,0))}(function qr(s){let t=[[]];return l(function c(h,g){if("choice"==h.type)return h.exprs.reduce((C,I)=>C.concat(c(I,g)),[]);if("seq"!=h.type){if("star"==h.type){let C=r();return i(g,C),l(c(h.expr,C),C),[i(C)]}if("plus"==h.type){let C=r();return l(c(h.expr,g),C),l(c(h.expr,C),C),[i(C)]}if("opt"==h.type)return[i(g)].concat(c(h.expr,g));if("range"==h.type){let C=g;for(let I=0;I<h.min;I++){let O=r();l(c(h.expr,C),O),C=O}if(-1==h.max)l(c(h.expr,C),C);else for(let I=h.min;I<h.max;I++){let O=r();i(C,O),l(c(h.expr,C),O),C=O}return[i(C)]}if("name"==h.type)return[i(g,void 0,h.value)];throw new Error("Unknown expr type")}for(let C=0;;C++){let I=c(h.exprs[C],g);if(C==h.exprs.length-1)return I;l(I,g=r())}}(s,0),r()),t;function r(){return t.push([])-1}function i(h,g,C){let I={term:C,to:g};return t[h].push(I),I}function l(h,g){h.forEach(C=>C.to=g)}}(l));return function yt(s,t){for(let r=0,i=[s];r<i.length;r++){let l=i[r],c=!l.validEnd,h=[];for(let g=0;g<l.next.length;g++){let{type:C,next:I}=l.next[g];h.push(C.name),c&&!(C.isText||C.hasRequiredAttrs())&&(c=!1),-1==i.indexOf(I)&&i.push(I)}c&&t.err("Only non-generatable nodes ("+h.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}(c,i),c}matchType(t){for(let r=0;r<this.next.length;r++)if(this.next[r].type==t)return this.next[r].next;return null}matchFragment(t,r=0,i=t.childCount){let l=this;for(let c=r;l&&c<i;c++)l=l.matchType(t.child(c).type);return l}get inlineContent(){return 0!=this.next.length&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:r}=this.next[t];if(!r.isText&&!r.hasRequiredAttrs())return r}return null}compatible(t){for(let r=0;r<this.next.length;r++)for(let i=0;i<t.next.length;i++)if(this.next[r].type==t.next[i].type)return!0;return!1}fillBefore(t,r=!1,i=0){let l=[this];return function c(h,g){let C=h.matchFragment(t,i);if(C&&(!r||C.validEnd))return ve.from(g.map(I=>I.createAndFill()));for(let I=0;I<h.next.length;I++){let{type:O,next:H}=h.next[I];if(!O.isText&&!O.hasRequiredAttrs()&&-1==l.indexOf(H)){l.push(H);let G=c(H,g.concat(O));if(G)return G}}return null}(this,[])}findWrapping(t){for(let i=0;i<this.wrapCache.length;i+=2)if(this.wrapCache[i]==t)return this.wrapCache[i+1];let r=this.computeWrapping(t);return this.wrapCache.push(t,r),r}computeWrapping(t){let r=Object.create(null),i=[{match:this,type:null,via:null}];for(;i.length;){let l=i.shift(),c=l.match;if(c.matchType(t)){let h=[];for(let g=l;g.type;g=g.via)h.push(g.type);return h.reverse()}for(let h=0;h<c.next.length;h++){let{type:g,next:C}=c.next[h];!g.isLeaf&&!g.hasRequiredAttrs()&&!(g.name in r)&&(!l.type||C.validEnd)&&(i.push({match:g.contentMatch,type:g,via:l}),r[g.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw new RangeError(`There's no ${t}th edge in this content match`);return this.next[t]}toString(){let t=[];return function r(i){t.push(i);for(let l=0;l<i.next.length;l++)-1==t.indexOf(i.next[l].next)&&r(i.next[l].next)}(this),t.map((i,l)=>{let c=l+(i.validEnd?"*":" ")+" ";for(let h=0;h<i.next.length;h++)c+=(h?", ":"")+i.next[h].type.name+"->"+t.indexOf(i.next[h].next);return c}).join("\n")}}De.empty=new De(!0);class Rt{constructor(t,r){this.string=t,this.nodeTypes=r,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(t){return this.next==t&&(this.pos++||!0)}err(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")}}function Kt(s){let t=[];do{t.push(Lt(s))}while(s.eat("|"));return 1==t.length?t[0]:{type:"choice",exprs:t}}function Lt(s){let t=[];do{t.push(zn(s))}while(s.next&&")"!=s.next&&"|"!=s.next);return 1==t.length?t[0]:{type:"seq",exprs:t}}function zn(s){let t=function Gn(s){if(s.eat("(")){let t=Kt(s);return s.eat(")")||s.err("Missing closing paren"),t}if(!/\W/.test(s.next)){let t=function Vn(s,t){let r=s.nodeTypes,i=r[t];if(i)return[i];let l=[];for(let c in r){let h=r[c];h.groups.indexOf(t)>-1&&l.push(h)}return 0==l.length&&s.err("No node type or group '"+t+"' found"),l}(s,s.next).map(r=>(null==s.inline?s.inline=r.isInline:s.inline!=r.isInline&&s.err("Mixing inline and block content"),{type:"name",value:r}));return s.pos++,1==t.length?t[0]:{type:"choice",exprs:t}}s.err("Unexpected token '"+s.next+"'")}(s);for(;;)if(s.eat("+"))t={type:"plus",expr:t};else if(s.eat("*"))t={type:"star",expr:t};else if(s.eat("?"))t={type:"opt",expr:t};else{if(!s.eat("{"))break;t=Ht(s,t)}return t}function Qe(s){/\D/.test(s.next)&&s.err("Expected number, got '"+s.next+"'");let t=Number(s.next);return s.pos++,t}function Ht(s,t){let r=Qe(s),i=r;return s.eat(",")&&(i="}"!=s.next?Qe(s):-1),s.eat("}")||s.err("Unclosed braced range"),{type:"range",min:r,max:i,expr:t}}function nn(s,t){return t-s}function Zt(s,t){let r=[];return function i(l){let c=s[l];if(1==c.length&&!c[0].term)return i(c[0].to);r.push(l);for(let h=0;h<c.length;h++){let{term:g,to:C}=c[h];!g&&-1==r.indexOf(C)&&i(C)}}(t),r.sort(nn)}function Jn(s){let t=Object.create(null);for(let r in s){let i=s[r];if(!i.hasDefault)return null;t[r]=i.default}return t}function hr(s,t){let r=Object.create(null);for(let i in s){let l=t&&t[i];if(void 0===l){let c=s[i];if(!c.hasDefault)throw new RangeError("No value supplied for attribute "+i);l=c.default}r[i]=l}return r}function tr(s){let t=Object.create(null);if(s)for(let r in s)t[r]=new Sn(s[r]);return t}class Yn{constructor(t,r,i){this.name=t,this.schema=r,this.spec=i,this.markSet=null,this.groups=i.group?i.group.split(" "):[],this.attrs=tr(i.attrs),this.defaultAttrs=Jn(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(i.inline||"text"==t),this.isText="text"==t}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==De.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1}compatibleContent(t){return this==t||this.contentMatch.compatible(t.contentMatch)}computeAttrs(t){return!t&&this.defaultAttrs?this.defaultAttrs:hr(this.attrs,t)}create(t=null,r,i){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new ot(this,this.computeAttrs(t),ve.from(r),Fe.setFrom(i))}createChecked(t=null,r,i){return r=ve.from(r),this.checkContent(r),new ot(this,this.computeAttrs(t),r,Fe.setFrom(i))}createAndFill(t=null,r,i){if(t=this.computeAttrs(t),(r=ve.from(r)).size){let h=this.contentMatch.fillBefore(r);if(!h)return null;r=h.append(r)}let l=this.contentMatch.matchFragment(r),c=l&&l.fillBefore(ve.empty,!0);return c?new ot(this,t,r.append(c),Fe.setFrom(i)):null}validContent(t){let r=this.contentMatch.matchFragment(t);if(!r||!r.validEnd)return!1;for(let i=0;i<t.childCount;i++)if(!this.allowsMarks(t.child(i).marks))return!1;return!0}checkContent(t){if(!this.validContent(t))throw new RangeError(`Invalid content for node ${this.name}: ${t.toString().slice(0,50)}`)}allowsMarkType(t){return null==this.markSet||this.markSet.indexOf(t)>-1}allowsMarks(t){if(null==this.markSet)return!0;for(let r=0;r<t.length;r++)if(!this.allowsMarkType(t[r].type))return!1;return!0}allowedMarks(t){if(null==this.markSet)return t;let r;for(let i=0;i<t.length;i++)this.allowsMarkType(t[i].type)?r&&r.push(t[i]):r||(r=t.slice(0,i));return r?r.length?r:Fe.none:t}static compile(t,r){let i=Object.create(null);t.forEach((c,h)=>i[c]=new Yn(c,r,h));let l=r.spec.topNode||"doc";if(!i[l])throw new RangeError("Schema is missing its top node type ('"+l+"')");if(!i.text)throw new RangeError("Every schema needs a 'text' type");for(let c in i.text.attrs)throw new RangeError("The text node type should not have attributes");return i}}class Sn{constructor(t){this.hasDefault=Object.prototype.hasOwnProperty.call(t,"default"),this.default=t.default}get isRequired(){return!this.hasDefault}}class Jr{constructor(t,r,i,l){this.name=t,this.rank=r,this.schema=i,this.spec=l,this.attrs=tr(l.attrs),this.excluded=null;let c=Jn(this.attrs);this.instance=c?new Fe(this,c):null}create(t=null){return!t&&this.instance?this.instance:new Fe(this,hr(this.attrs,t))}static compile(t,r){let i=Object.create(null),l=0;return t.forEach((c,h)=>i[c]=new Jr(c,l++,r,h)),i}removeFromSet(t){for(var r=0;r<t.length;r++)t[r].type==this&&(t=t.slice(0,r).concat(t.slice(r+1)),r--);return t}isInSet(t){for(let r=0;r<t.length;r++)if(t[r].type==this)return t[r]}excludes(t){return this.excluded.indexOf(t)>-1}}function $o(s,t){let r=[];for(let i=0;i<t.length;i++){let l=t[i],c=s.marks[l],h=c;if(c)r.push(c);else for(let g in s.marks){let C=s.marks[g];("_"==l||C.spec.group&&C.spec.group.split(" ").indexOf(l)>-1)&&r.push(h=C)}if(!h)throw new SyntaxError("Unknown mark type: '"+t[i]+"'")}return r}class Je{constructor(t,r){this.schema=t,this.rules=r,this.tags=[],this.styles=[],r.forEach(i=>{i.tag?this.tags.push(i):i.style&&this.styles.push(i)}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let l=t.nodes[i.node];return l.contentMatch.matchType(l)})}parse(t,r={}){let i=new ar(this,r,!1);return i.addAll(t,r.from,r.to),i.finish()}parseSlice(t,r={}){let i=new ar(this,r,!0);return i.addAll(t,r.from,r.to),ee.maxOpen(i.finish())}matchTag(t,r,i){for(let l=i?this.tags.indexOf(i)+1:0;l<this.tags.length;l++){let c=this.tags[l];if(nr(t,c.tag)&&(void 0===c.namespace||t.namespaceURI==c.namespace)&&(!c.context||r.matchesContext(c.context))){if(c.getAttrs){let h=c.getAttrs(t);if(!1===h)continue;c.attrs=h||void 0}return c}}}matchStyle(t,r,i,l){for(let c=l?this.styles.indexOf(l)+1:0;c<this.styles.length;c++){let h=this.styles[c],g=h.style;if(!(0!=g.indexOf(t)||h.context&&!i.matchesContext(h.context)||g.length>t.length&&(61!=g.charCodeAt(t.length)||g.slice(t.length+1)!=r))){if(h.getAttrs){let C=h.getAttrs(r);if(!1===C)continue;h.attrs=C||void 0}return h}}}static schemaRules(t){let r=[];function i(l){let c=null==l.priority?50:l.priority,h=0;for(;h<r.length;h++){let g=r[h];if((null==g.priority?50:g.priority)<c)break}r.splice(h,0,l)}for(let l in t.marks){let c=t.marks[l].spec.parseDOM;c&&c.forEach(h=>{i(h=Do(h)),h.mark||h.ignore||h.clearMark||(h.mark=l)})}for(let l in t.nodes){let c=t.nodes[l].spec.parseDOM;c&&c.forEach(h=>{i(h=Do(h)),h.node||h.ignore||h.mark||(h.node=l)})}return r}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new Je(t,Je.schemaRules(t)))}}const Rr={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},pr={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},wt={ol:!0,ul:!0};function zo(s,t,r){return null!=t?(t?1:0)|("full"===t?2:0):s&&"pre"==s.whitespace?3:-5&r}class xr{constructor(t,r,i,l,c,h,g){this.type=t,this.attrs=r,this.marks=i,this.pendingMarks=l,this.solid=c,this.options=g,this.content=[],this.activeMarks=Fe.none,this.stashMarks=[],this.match=h||(4&g?null:t.contentMatch)}findWrapping(t){if(!this.match){if(!this.type)return[];let r=this.type.contentMatch.fillBefore(ve.from(t));if(!r){let l,i=this.type.contentMatch;return(l=i.findWrapping(t.type))?(this.match=i,l):null}this.match=this.type.contentMatch.matchFragment(r)}return this.match.findWrapping(t.type)}finish(t){if(!(1&this.options)){let l,i=this.content[this.content.length-1];if(i&&i.isText&&(l=/[ \t\r\n\u000c]+$/.exec(i.text))){let c=i;i.text.length==l[0].length?this.content.pop():this.content[this.content.length-1]=c.withText(c.text.slice(0,c.text.length-l[0].length))}}let r=ve.from(this.content);return!t&&this.match&&(r=r.append(this.match.fillBefore(ve.empty,!0))),this.type?this.type.create(this.attrs,r,this.marks):r}popFromStashMark(t){for(let r=this.stashMarks.length-1;r>=0;r--)if(t.eq(this.stashMarks[r]))return this.stashMarks.splice(r,1)[0]}applyPending(t){for(let r=0,i=this.pendingMarks;r<i.length;r++){let l=i[r];(this.type?this.type.allowsMarkType(l.type):ue(l.type,t))&&!l.isInSet(this.activeMarks)&&(this.activeMarks=l.addToSet(this.activeMarks),this.pendingMarks=l.removeFromSet(this.pendingMarks))}}inlineContext(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!Rr.hasOwnProperty(t.parentNode.nodeName.toLowerCase())}}class ar{constructor(t,r,i){this.parser=t,this.options=r,this.isOpen=i,this.open=0;let c,l=r.topNode,h=zo(null,r.preserveWhitespace,0)|(i?4:0);c=l?new xr(l.type,l.attrs,Fe.none,Fe.none,!0,r.topMatch||l.type.contentMatch,h):new xr(i?null:t.schema.topNodeType,null,Fe.none,Fe.none,!0,null,h),this.nodes=[c],this.find=r.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(t){3==t.nodeType?this.addTextNode(t):1==t.nodeType&&this.addElement(t)}withStyleRules(t,r){let i=t.getAttribute("style");if(!i)return r();let l=this.readStyles(function rr(s){let r,t=/\s*([\w-]+)\s*:\s*([^;]+)/g,i=[];for(;r=t.exec(s);)i.push(r[1],r[2].trim());return i}(i));if(!l)return;let[c,h]=l,g=this.top;for(let C=0;C<h.length;C++)this.removePendingMark(h[C],g);for(let C=0;C<c.length;C++)this.addPendingMark(c[C]);r();for(let C=0;C<c.length;C++)this.removePendingMark(c[C],g);for(let C=0;C<h.length;C++)this.addPendingMark(h[C])}addTextNode(t){let r=t.nodeValue,i=this.top;if(2&i.options||i.inlineContext(t)||/[^ \t\r\n\u000c]/.test(r)){if(1&i.options)r=2&i.options?r.replace(/\r\n?/g,"\n"):r.replace(/\r?\n|\r/g," ");else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let l=i.content[i.content.length-1],c=t.previousSibling;(!l||c&&"BR"==c.nodeName||l.isText&&/[ \t\r\n\u000c]$/.test(l.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r)),this.findInText(t)}else this.findInside(t)}addElement(t,r){let l,i=t.nodeName.toLowerCase();wt.hasOwnProperty(i)&&this.parser.normalizeLists&&function Ir(s){for(let t=s.firstChild,r=null;t;t=t.nextSibling){let i=1==t.nodeType?t.nodeName.toLowerCase():null;i&&wt.hasOwnProperty(i)&&r?(r.appendChild(t),t=r):"li"==i?r=t:i&&(r=null)}}(t);let c=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(l=this.parser.matchTag(t,this,r));if(c?c.ignore:pr.hasOwnProperty(i))this.findInside(t),this.ignoreFallback(t);else if(!c||c.skip||c.closeParent){c&&c.closeParent?this.open=Math.max(0,this.open-1):c&&c.skip.nodeType&&(t=c.skip);let h,g=this.top,C=this.needsBlock;if(Rr.hasOwnProperty(i))g.content.length&&g.content[0].isInline&&this.open&&(this.open--,g=this.top),h=!0,g.type||(this.needsBlock=!0);else if(!t.firstChild)return void this.leafFallback(t);c&&c.skip?this.addAll(t):this.withStyleRules(t,()=>this.addAll(t)),h&&this.sync(g),this.needsBlock=C}else this.withStyleRules(t,()=>{this.addElementByRule(t,c,!1===c.consuming?l:void 0)})}leafFallback(t){"BR"==t.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode("\n"))}ignoreFallback(t){"BR"==t.nodeName&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))}readStyles(t){let r=Fe.none,i=Fe.none;for(let l=0;l<t.length;l+=2)for(let c;;){let h=this.parser.matchStyle(t[l],t[l+1],this,c);if(!h)break;if(h.ignore)return null;if(h.clearMark?this.top.pendingMarks.concat(this.top.activeMarks).forEach(g=>{h.clearMark(g)&&(i=g.addToSet(i))}):r=this.parser.schema.marks[h.mark].create(h.attrs).addToSet(r),!1!==h.consuming)break;c=h}return[r,i]}addElementByRule(t,r,i){let l,c,h;r.node?(c=this.parser.schema.nodes[r.node],c.isLeaf?this.insertNode(c.create(r.attrs))||this.leafFallback(t):l=this.enter(c,r.attrs||null,r.preserveWhitespace)):(h=this.parser.schema.marks[r.mark].create(r.attrs),this.addPendingMark(h));let g=this.top;if(c&&c.isLeaf)this.findInside(t);else if(i)this.addElement(t,i);else if(r.getContent)this.findInside(t),r.getContent(t,this.parser.schema).forEach(C=>this.insertNode(C));else{let C=t;"string"==typeof r.contentElement?C=t.querySelector(r.contentElement):"function"==typeof r.contentElement?C=r.contentElement(t):r.contentElement&&(C=r.contentElement),this.findAround(t,C,!0),this.addAll(C)}l&&this.sync(g)&&this.open--,h&&this.removePendingMark(h,g)}addAll(t,r,i){let l=r||0;for(let c=r?t.childNodes[r]:t.firstChild,h=null==i?null:t.childNodes[i];c!=h;c=c.nextSibling,++l)this.findAtPoint(t,l),this.addDOM(c);this.findAtPoint(t,l)}findPlace(t){let r,i;for(let l=this.open;l>=0;l--){let c=this.nodes[l],h=c.findWrapping(t);if(h&&(!r||r.length>h.length)&&(r=h,i=c,!h.length)||c.solid)break}if(!r)return!1;this.sync(i);for(let l=0;l<r.length;l++)this.enterInner(r[l],null,!1);return!0}insertNode(t){if(t.isInline&&this.needsBlock&&!this.top.type){let r=this.textblockFromContext();r&&this.enterInner(r)}if(this.findPlace(t)){this.closeExtra();let r=this.top;r.applyPending(t.type),r.match&&(r.match=r.match.matchType(t.type));let i=r.activeMarks;for(let l=0;l<t.marks.length;l++)(!r.type||r.type.allowsMarkType(t.marks[l].type))&&(i=t.marks[l].addToSet(i));return r.content.push(t.mark(i)),!0}return!1}enter(t,r,i){let l=this.findPlace(t.create(r));return l&&this.enterInner(t,r,!0,i),l}enterInner(t,r=null,i=!1,l){this.closeExtra();let c=this.top;c.applyPending(t),c.match=c.match&&c.match.matchType(t);let h=zo(t,l,c.options);4&c.options&&0==c.content.length&&(h|=4),this.nodes.push(new xr(t,r,c.activeMarks,c.pendingMarks,i,null,h)),this.open++}closeExtra(t=!1){let r=this.nodes.length-1;if(r>this.open){for(;r>this.open;r--)this.nodes[r-1].content.push(this.nodes[r].finish(t));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(t){for(let r=this.open;r>=0;r--)if(this.nodes[r]==t)return this.open=r,!0;return!1}get currentPos(){this.closeExtra();let t=0;for(let r=this.open;r>=0;r--){let i=this.nodes[r].content;for(let l=i.length-1;l>=0;l--)t+=i[l].nodeSize;r&&t++}return t}findAtPoint(t,r){if(this.find)for(let i=0;i<this.find.length;i++)this.find[i].node==t&&this.find[i].offset==r&&(this.find[i].pos=this.currentPos)}findInside(t){if(this.find)for(let r=0;r<this.find.length;r++)null==this.find[r].pos&&1==t.nodeType&&t.contains(this.find[r].node)&&(this.find[r].pos=this.currentPos)}findAround(t,r,i){if(t!=r&&this.find)for(let l=0;l<this.find.length;l++)null==this.find[l].pos&&1==t.nodeType&&t.contains(this.find[l].node)&&r.compareDocumentPosition(this.find[l].node)&(i?2:4)&&(this.find[l].pos=this.currentPos)}findInText(t){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==t&&(this.find[r].pos=this.currentPos-(t.nodeValue.length-this.find[r].offset))}matchesContext(t){if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);let r=t.split("/"),i=this.options.context,l=!(this.isOpen||i&&i.parent.type!=this.nodes[0].type),c=(l?0:1)-(i?i.depth+1:0),h=(g,C)=>{for(;g>=0;g--){let I=r[g];if(""==I){if(g==r.length-1||0==g)continue;for(;C>=c;C--)if(h(g-1,C))return!0;return!1}{let O=C>0||0==C&&l?this.nodes[C].type:i&&C>=c?i.node(C-c).type:null;if(!O||O.name!=I&&-1==O.groups.indexOf(I))return!1;C--}}return!0};return h(r.length-1,this.open)}textblockFromContext(){let t=this.options.context;if(t)for(let r=t.depth;r>=0;r--){let i=t.node(r).contentMatchAt(t.indexAfter(r)).defaultType;if(i&&i.isTextblock&&i.defaultAttrs)return i}for(let r in this.parser.schema.nodes){let i=this.parser.schema.nodes[r];if(i.isTextblock&&i.defaultAttrs)return i}}addPendingMark(t){let r=function X(s,t){for(let r=0;r<t.length;r++)if(s.eq(t[r]))return t[r]}(t,this.top.pendingMarks);r&&this.top.stashMarks.push(r),this.top.pendingMarks=t.addToSet(this.top.pendingMarks)}removePendingMark(t,r){for(let i=this.open;i>=0;i--){let l=this.nodes[i];if(l.pendingMarks.lastIndexOf(t)>-1)l.pendingMarks=t.removeFromSet(l.pendingMarks);else{l.activeMarks=t.removeFromSet(l.activeMarks);let h=l.popFromStashMark(t);h&&l.type&&l.type.allowsMarkType(h.type)&&(l.activeMarks=h.addToSet(l.activeMarks))}if(l==r)break}}}function nr(s,t){return(s.matches||s.msMatchesSelector||s.webkitMatchesSelector||s.mozMatchesSelector).call(s,t)}function Do(s){let t={};for(let r in s)t[r]=s[r];return t}function ue(s,t){let r=t.schema.nodes;for(let i in r){let l=r[i];if(!l.allowsMarkType(s))continue;let c=[],h=g=>{c.push(g);for(let C=0;C<g.edgeCount;C++){let{type:I,next:O}=g.edge(C);if(I==t||c.indexOf(O)<0&&h(O))return!0}};if(h(l.contentMatch))return!0}}class j{constructor(t,r){this.nodes=t,this.marks=r}serializeFragment(t,r={},i){i||(i=xe(r).createDocumentFragment());let l=i,c=[];return t.forEach(h=>{if(c.length||h.marks.length){let g=0,C=0;for(;g<c.length&&C<h.marks.length;){let I=h.marks[C];if(this.marks[I.type.name]){if(!I.eq(c[g][0])||!1===I.type.spec.spanning)break;g++,C++}else C++}for(;g<c.length;)l=c.pop()[1];for(;C<h.marks.length;){let I=h.marks[C++],O=this.serializeMark(I,h.isInline,r);O&&(c.push([I,l]),l.appendChild(O.dom),l=O.contentDOM||O.dom)}}l.appendChild(this.serializeNodeInner(h,r))}),i}serializeNodeInner(t,r){let{dom:i,contentDOM:l}=j.renderSpec(xe(r),this.nodes[t.type.name](t));if(l){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,r,l)}return i}serializeNode(t,r={}){let i=this.serializeNodeInner(t,r);for(let l=t.marks.length-1;l>=0;l--){let c=this.serializeMark(t.marks[l],t.isInline,r);c&&((c.contentDOM||c.dom).appendChild(i),i=c.dom)}return i}serializeMark(t,r,i={}){let l=this.marks[t.type.name];return l&&j.renderSpec(xe(i),l(t,r))}static renderSpec(t,r,i=null){if("string"==typeof r)return{dom:t.createTextNode(r)};if(null!=r.nodeType)return{dom:r};if(r.dom&&null!=r.dom.nodeType)return r;let l=r[0],c=l.indexOf(" ");c>0&&(i=l.slice(0,c),l=l.slice(c+1));let h,g=i?t.createElementNS(i,l):t.createElement(l),C=r[1],I=1;if(C&&"object"==typeof C&&null==C.nodeType&&!Array.isArray(C)){I=2;for(let O in C)if(null!=C[O]){let H=O.indexOf(" ");H>0?g.setAttributeNS(O.slice(0,H),O.slice(H+1),C[O]):g.setAttribute(O,C[O])}}for(let O=I;O<r.length;O++){let H=r[O];if(0===H){if(O<r.length-1||O>I)throw new RangeError("Content hole must be the only child of its parent node");return{dom:g,contentDOM:g}}{let{dom:G,contentDOM:W}=j.renderSpec(t,H,i);if(g.appendChild(G),W){if(h)throw new RangeError("Multiple content holes");h=W}}}return{dom:g,contentDOM:h}}static fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new j(this.nodesFromSchema(t),this.marksFromSchema(t)))}static nodesFromSchema(t){let r=Z(t.nodes);return r.text||(r.text=i=>i.text),r}static marksFromSchema(t){return Z(t.marks)}}function Z(s){let t={};for(let r in s){let i=s[r].spec.toDOM;i&&(t[r]=i)}return t}function xe(s){return s.document||window.document}const ft=Math.pow(2,16);function bt(s,t){return s+t*ft}function Qt(s){return 65535&s}class q{constructor(t,r,i){this.pos=t,this.delInfo=r,this.recover=i}get deleted(){return(8&this.delInfo)>0}get deletedBefore(){return(5&this.delInfo)>0}get deletedAfter(){return(6&this.delInfo)>0}get deletedAcross(){return(4&this.delInfo)>0}}class Se{constructor(t,r=!1){if(this.ranges=t,this.inverted=r,!t.length&&Se.empty)return Se.empty}recover(t){let r=0,i=Qt(t);if(!this.inverted)for(let l=0;l<i;l++)r+=this.ranges[3*l+2]-this.ranges[3*l+1];return this.ranges[3*i]+r+function Mt(s){return(s-(65535&s))/ft}(t)}mapResult(t,r=1){return this._map(t,r,!1)}map(t,r=1){return this._map(t,r,!0)}_map(t,r,i){let l=0,c=this.inverted?2:1,h=this.inverted?1:2;for(let g=0;g<this.ranges.length;g+=3){let C=this.ranges[g]-(this.inverted?l:0);if(C>t)break;let I=this.ranges[g+c],O=this.ranges[g+h],H=C+I;if(t<=H){let W=C+l+((I?t==C?-1:t==H?1:r:r)<0?0:O);if(i)return W;let ne=t==(r<0?C:H)?null:bt(g/3,t-C),Te=t==C?2:t==H?1:4;return(r<0?t!=C:t!=H)&&(Te|=8),new q(W,Te,ne)}l+=O-I}return i?t+l:new q(t+l,0,null)}touches(t,r){let i=0,l=Qt(r),c=this.inverted?2:1,h=this.inverted?1:2;for(let g=0;g<this.ranges.length;g+=3){let C=this.ranges[g]-(this.inverted?i:0);if(C>t)break;let I=this.ranges[g+c];if(t<=C+I&&g==3*l)return!0;i+=this.ranges[g+h]-I}return!1}forEach(t){let r=this.inverted?2:1,i=this.inverted?1:2;for(let l=0,c=0;l<this.ranges.length;l+=3){let h=this.ranges[l],g=h-(this.inverted?c:0),C=h+(this.inverted?0:c),I=this.ranges[l+r],O=this.ranges[l+i];t(g,g+I,C,C+O),c+=O-I}}invert(){return new Se(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return 0==t?Se.empty:new Se(t<0?[0,-t,0]:[0,0,t])}}Se.empty=new Se([]);class ke{constructor(t=[],r,i=0,l=t.length){this.maps=t,this.mirror=r,this.from=i,this.to=l}slice(t=0,r=this.maps.length){return new ke(this.maps,this.mirror,t,r)}copy(){return new ke(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(t,r){this.to=this.maps.push(t),null!=r&&this.setMirror(this.maps.length-1,r)}appendMapping(t){for(let r=0,i=this.maps.length;r<t.maps.length;r++){let l=t.getMirror(r);this.appendMap(t.maps[r],null!=l&&l<r?i+l:void 0)}}getMirror(t){if(this.mirror)for(let r=0;r<this.mirror.length;r++)if(this.mirror[r]==t)return this.mirror[r+(r%2?-1:1)]}setMirror(t,r){this.mirror||(this.mirror=[]),this.mirror.push(t,r)}appendMappingInverted(t){for(let r=t.maps.length-1,i=this.maps.length+t.maps.length;r>=0;r--){let l=t.getMirror(r);this.appendMap(t.maps[r].invert(),null!=l&&l>r?i-l-1:void 0)}}invert(){let t=new ke;return t.appendMappingInverted(this),t}map(t,r=1){if(this.mirror)return this._map(t,r,!0);for(let i=this.from;i<this.to;i++)t=this.maps[i].map(t,r);return t}mapResult(t,r=1){return this._map(t,r,!1)}_map(t,r,i){let l=0;for(let c=this.from;c<this.to;c++){let g=this.maps[c].mapResult(t,r);if(null!=g.recover){let C=this.getMirror(c);if(null!=C&&C>c&&C<this.to){c=C,t=this.maps[C].recover(g.recover);continue}}l|=g.delInfo,t=g.pos}return i?t:new q(t,l,null)}}const We=Object.create(null);class Pe{getMap(){return Se.empty}merge(t){return null}static fromJSON(t,r){if(!r||!r.stepType)throw new RangeError("Invalid input for Step.fromJSON");let i=We[r.stepType];if(!i)throw new RangeError(`No step type ${r.stepType} defined`);return i.fromJSON(t,r)}static jsonID(t,r){if(t in We)throw new RangeError("Duplicate use of step JSON ID "+t);return We[t]=r,r.prototype.jsonID=t,r}}class mt{constructor(t,r){this.doc=t,this.failed=r}static ok(t){return new mt(t,null)}static fail(t){return new mt(null,t)}static fromReplace(t,r,i,l){try{return mt.ok(t.replace(r,i,l))}catch(c){if(c instanceof He)return mt.fail(c.message);throw c}}}function Ge(s,t,r){let i=[];for(let l=0;l<s.childCount;l++){let c=s.child(l);c.content.size&&(c=c.copy(Ge(c.content,t,c))),c.isInline&&(c=t(c,r,l)),i.push(c)}return ve.fromArray(i)}class cn extends Pe{constructor(t,r,i){super(),this.from=t,this.to=r,this.mark=i}apply(t){let r=t.slice(this.from,this.to),i=t.resolve(this.from),l=i.node(i.sharedDepth(this.to)),c=new ee(Ge(r.content,(h,g)=>h.isAtom&&g.type.allowsMarkType(this.mark.type)?h.mark(this.mark.addToSet(h.marks)):h,l),r.openStart,r.openEnd);return mt.fromReplace(t,this.from,this.to,c)}invert(){return new Mn(this.from,this.to,this.mark)}map(t){let r=t.mapResult(this.from,1),i=t.mapResult(this.to,-1);return r.deleted&&i.deleted||r.pos>=i.pos?null:new cn(r.pos,i.pos,this.mark)}merge(t){return t instanceof cn&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new cn(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,r){if("number"!=typeof r.from||"number"!=typeof r.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new cn(r.from,r.to,t.markFromJSON(r.mark))}}Pe.jsonID("addMark",cn);class Mn extends Pe{constructor(t,r,i){super(),this.from=t,this.to=r,this.mark=i}apply(t){let r=t.slice(this.from,this.to),i=new ee(Ge(r.content,l=>l.mark(this.mark.removeFromSet(l.marks)),t),r.openStart,r.openEnd);return mt.fromReplace(t,this.from,this.to,i)}invert(){return new cn(this.from,this.to,this.mark)}map(t){let r=t.mapResult(this.from,1),i=t.mapResult(this.to,-1);return r.deleted&&i.deleted||r.pos>=i.pos?null:new Mn(r.pos,i.pos,this.mark)}merge(t){return t instanceof Mn&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new Mn(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,r){if("number"!=typeof r.from||"number"!=typeof r.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Mn(r.from,r.to,t.markFromJSON(r.mark))}}Pe.jsonID("removeMark",Mn);class gn extends Pe{constructor(t,r){super(),this.pos=t,this.mark=r}apply(t){let r=t.nodeAt(this.pos);if(!r)return mt.fail("No node at mark step's position");let i=r.type.create(r.attrs,null,this.mark.addToSet(r.marks));return mt.fromReplace(t,this.pos,this.pos+1,new ee(ve.from(i),0,r.isLeaf?0:1))}invert(t){let r=t.nodeAt(this.pos);if(r){let i=this.mark.addToSet(r.marks);if(i.length==r.marks.length){for(let l=0;l<r.marks.length;l++)if(!r.marks[l].isInSet(i))return new gn(this.pos,r.marks[l]);return new gn(this.pos,this.mark)}}return new _n(this.pos,this.mark)}map(t){let r=t.mapResult(this.pos,1);return r.deletedAfter?null:new gn(r.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,r){if("number"!=typeof r.pos)throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new gn(r.pos,t.markFromJSON(r.mark))}}Pe.jsonID("addNodeMark",gn);class _n extends Pe{constructor(t,r){super(),this.pos=t,this.mark=r}apply(t){let r=t.nodeAt(this.pos);if(!r)return mt.fail("No node at mark step's position");let i=r.type.create(r.attrs,null,this.mark.removeFromSet(r.marks));return mt.fromReplace(t,this.pos,this.pos+1,new ee(ve.from(i),0,r.isLeaf?0:1))}invert(t){let r=t.nodeAt(this.pos);return r&&this.mark.isInSet(r.marks)?new gn(this.pos,this.mark):this}map(t){let r=t.mapResult(this.pos,1);return r.deletedAfter?null:new _n(r.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,r){if("number"!=typeof r.pos)throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new _n(r.pos,t.markFromJSON(r.mark))}}Pe.jsonID("removeNodeMark",_n);class qt extends Pe{constructor(t,r,i,l=!1){super(),this.from=t,this.to=r,this.slice=i,this.structure=l}apply(t){return this.structure&&on(t,this.from,this.to)?mt.fail("Structure replace would overwrite content"):mt.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new Se([this.from,this.to-this.from,this.slice.size])}invert(t){return new qt(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let r=t.mapResult(this.from,1),i=t.mapResult(this.to,-1);return r.deletedAcross&&i.deletedAcross?null:new qt(r.pos,Math.max(r.pos,i.pos),this.slice)}merge(t){if(!(t instanceof qt)||t.structure||this.structure)return null;if(this.from+this.slice.size!=t.from||this.slice.openEnd||t.slice.openStart){if(t.to!=this.from||this.slice.openStart||t.slice.openEnd)return null;{let r=this.slice.size+t.slice.size==0?ee.empty:new ee(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new qt(t.from,this.to,r,this.structure)}}{let r=this.slice.size+t.slice.size==0?ee.empty:new ee(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new qt(this.from,this.to+(t.to-t.from),r,this.structure)}}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,r){if("number"!=typeof r.from||"number"!=typeof r.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new qt(r.from,r.to,ee.fromJSON(t,r.slice),!!r.structure)}}Pe.jsonID("replace",qt);class Xt extends Pe{constructor(t,r,i,l,c,h,g=!1){super(),this.from=t,this.to=r,this.gapFrom=i,this.gapTo=l,this.slice=c,this.insert=h,this.structure=g}apply(t){if(this.structure&&(on(t,this.from,this.gapFrom)||on(t,this.gapTo,this.to)))return mt.fail("Structure gap-replace would overwrite content");let r=t.slice(this.gapFrom,this.gapTo);if(r.openStart||r.openEnd)return mt.fail("Gap is not a flat range");let i=this.slice.insertAt(this.insert,r.content);return i?mt.fromReplace(t,this.from,this.to,i):mt.fail("Content does not fit in gap")}getMap(){return new Se([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let r=this.gapTo-this.gapFrom;return new Xt(this.from,this.from+this.slice.size+r,this.from+this.insert,this.from+this.insert+r,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let r=t.mapResult(this.from,1),i=t.mapResult(this.to,-1),l=t.map(this.gapFrom,-1),c=t.map(this.gapTo,1);return r.deletedAcross&&i.deletedAcross||l<r.pos||c>i.pos?null:new Xt(r.pos,i.pos,l,c,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,r){if("number"!=typeof r.from||"number"!=typeof r.to||"number"!=typeof r.gapFrom||"number"!=typeof r.gapTo||"number"!=typeof r.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Xt(r.from,r.to,r.gapFrom,r.gapTo,ee.fromJSON(t,r.slice),r.insert,!!r.structure)}}function on(s,t,r){let i=s.resolve(t),l=r-t,c=i.depth;for(;l>0&&c>0&&i.indexAfter(c)==i.node(c).childCount;)c--,l--;if(l>0){let h=i.node(c).maybeChild(i.indexAfter(c));for(;l>0;){if(!h||h.isLeaf)return!0;h=h.firstChild,l--}}return!1}function Hn(s,t,r){return(0==t||s.canReplace(t,s.childCount))&&(r==s.childCount||s.canReplace(0,r))}function Un(s){let r=s.parent.content.cutByIndex(s.startIndex,s.endIndex);for(let i=s.depth;;--i){let l=s.$from.node(i),c=s.$from.index(i),h=s.$to.indexAfter(i);if(i<s.depth&&l.canReplace(c,h,r))return i;if(0==i||l.type.spec.isolating||!Hn(l,c,h))break}return null}function uo(s,t,r=null,i=s){let l=function zi(s,t){let{parent:r,startIndex:i,endIndex:l}=s,c=r.contentMatchAt(i).findWrapping(t);return c&&r.canReplaceWith(i,l,c.length?c[0]:t)?c:null}(s,t),c=l&&function Si(s,t){let{parent:r,startIndex:i,endIndex:l}=s,c=r.child(i),h=t.contentMatch.findWrapping(c.type);if(!h)return null;let C=(h.length?h[h.length-1]:t).contentMatch;for(let I=i;C&&I<l;I++)C=C.matchType(r.child(I).type);return C&&C.validEnd?h:null}(i,t);return c?l.map(Kr).concat({type:t,attrs:r}).concat(c.map(Kr)):null}function Kr(s){return{type:s,attrs:null}}function Zn(s,t,r=1,i){let l=s.resolve(t),c=l.depth-r,h=i&&i[i.length-1]||l.parent;if(c<0||l.parent.type.spec.isolating||!l.parent.canReplace(l.index(),l.parent.childCount)||!h.type.validContent(l.parent.content.cutByIndex(l.index(),l.parent.childCount)))return!1;for(let I=l.depth-1,O=r-2;I>c;I--,O--){let H=l.node(I),G=l.index(I);if(H.type.spec.isolating)return!1;let W=H.content.cutByIndex(G,H.childCount),ne=i&&i[O+1];ne&&(W=W.replaceChild(0,ne.type.create(ne.attrs)));let Te=i&&i[O]||H;if(!H.canReplace(G+1,H.childCount)||!Te.type.validContent(W))return!1}let g=l.indexAfter(c),C=i&&i[0];return l.node(c).canReplaceWith(g,g,C?C.type:l.node(c+1).type)}function kr(s,t){let r=s.resolve(t),i=r.index();return function Po(s,t){return!(!s||!t||s.isLeaf||!s.canAppend(t))}(r.nodeBefore,r.nodeAfter)&&r.parent.canReplace(i,i+1)}function Ii(s,t,r=t,i=ee.empty){if(t==r&&!i.size)return null;let l=s.resolve(t),c=s.resolve(r);return Gi(l,c,i)?new qt(t,r,i):new Wi(l,c,i).fit()}function Gi(s,t,r){return!r.openStart&&!r.openEnd&&s.start()==t.start()&&s.parent.canReplace(s.index(),t.index(),r.content)}Pe.jsonID("replaceAround",Xt);class Wi{constructor(t,r,i){this.$from=t,this.$to=r,this.unplaced=i,this.frontier=[],this.placed=ve.empty;for(let l=0;l<=t.depth;l++){let c=t.node(l);this.frontier.push({type:c.type,match:c.contentMatchAt(t.indexAfter(l))})}for(let l=t.depth;l>0;l--)this.placed=ve.from(t.node(l).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let I=this.findFittable();I?this.placeNodes(I):this.openMore()||this.dropNode()}let t=this.mustMoveInline(),r=this.placed.size-this.depth-this.$from.depth,i=this.$from,l=this.close(t<0?this.$to:i.doc.resolve(t));if(!l)return null;let c=this.placed,h=i.depth,g=l.depth;for(;h&&g&&1==c.childCount;)c=c.firstChild.content,h--,g--;let C=new ee(c,h,g);return t>-1?new Xt(i.pos,t,this.$to.pos,this.$to.end(),C,r):C.size||i.pos!=this.$to.pos?new qt(i.pos,l.pos,C):null}findFittable(){let t=this.unplaced.openStart;for(let r=this.unplaced.content,i=0,l=this.unplaced.openEnd;i<t;i++){let c=r.firstChild;if(r.childCount>1&&(l=0),c.type.spec.isolating&&l<=i){t=i;break}r=c.content}for(let r=1;r<=2;r++)for(let i=1==r?t:this.unplaced.openStart;i>=0;i--){let l,c=null;i?(c=Go(this.unplaced.content,i-1).firstChild,l=c.content):l=this.unplaced.content;let h=l.firstChild;for(let g=this.depth;g>=0;g--){let O,{type:C,match:I}=this.frontier[g],H=null;if(1==r&&(h?I.matchType(h.type)||(H=I.fillBefore(ve.from(h),!1)):c&&C.compatibleContent(c.type)))return{sliceDepth:i,frontierDepth:g,parent:c,inject:H};if(2==r&&h&&(O=I.findWrapping(h.type)))return{sliceDepth:i,frontierDepth:g,parent:c,wrap:O};if(c&&I.matchType(c.type))break}}}openMore(){let{content:t,openStart:r,openEnd:i}=this.unplaced,l=Go(t,r);return!(!l.childCount||l.firstChild.isLeaf||(this.unplaced=new ee(t,r+1,Math.max(i,l.size+r>=t.size-i?r+1:0)),0))}dropNode(){let{content:t,openStart:r,openEnd:i}=this.unplaced,l=Go(t,r);if(l.childCount<=1&&r>0){let c=t.size-r<=r+l.size;this.unplaced=new ee(Fo(t,r-1,1),r-1,c?r-1:i)}else this.unplaced=new ee(Fo(t,r,1),r,i)}placeNodes({sliceDepth:t,frontierDepth:r,parent:i,inject:l,wrap:c}){for(;this.depth>r;)this.closeFrontierNode();if(c)for(let Te=0;Te<c.length;Te++)this.openFrontierNode(c[Te]);let h=this.unplaced,g=i?i.content:h.content,C=h.openStart-t,I=0,O=[],{match:H,type:G}=this.frontier[r];if(l){for(let Te=0;Te<l.childCount;Te++)O.push(l.child(Te));H=H.matchFragment(l)}let W=g.size+t-(h.content.size-h.openEnd);for(;I<g.childCount;){let Te=g.child(I),pt=H.matchType(Te.type);if(!pt)break;I++,(I>1||0==C||Te.content.size)&&(H=pt,O.push(ci(Te.mark(G.allowedMarks(Te.marks)),1==I?C:0,I==g.childCount?W:-1)))}let ne=I==g.childCount;ne||(W=-1),this.placed=co(this.placed,r,ve.from(O)),this.frontier[r].match=H,ne&&W<0&&i&&i.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let Te=0,pt=g;Te<W;Te++){let Pt=pt.lastChild;this.frontier.push({type:Pt.type,match:Pt.contentMatchAt(Pt.childCount)}),pt=Pt.content}this.unplaced=ne?0==t?ee.empty:new ee(Fo(h.content,t-1,1),t-1,W<0?h.openEnd:t-1):new ee(Fo(h.content,t,I),h.openStart,h.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let r,t=this.frontier[this.depth];if(!t.type.isTextblock||!di(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(r=this.findCloseLevel(this.$to))&&r.depth==this.depth)return-1;let{depth:i}=this.$to,l=this.$to.after(i);for(;i>1&&l==this.$to.end(--i);)++l;return l}findCloseLevel(t){e:for(let r=Math.min(this.depth,t.depth);r>=0;r--){let{match:i,type:l}=this.frontier[r],c=r<t.depth&&t.end(r+1)==t.pos+(t.depth-(r+1)),h=di(t,r,l,i,c);if(h){for(let g=r-1;g>=0;g--){let{match:C,type:I}=this.frontier[g],O=di(t,g,I,C,!0);if(!O||O.childCount)continue e}return{depth:r,fit:h,move:c?t.doc.resolve(t.after(r+1)):t}}}}close(t){let r=this.findCloseLevel(t);if(!r)return null;for(;this.depth>r.depth;)this.closeFrontierNode();r.fit.childCount&&(this.placed=co(this.placed,r.depth,r.fit)),t=r.move;for(let i=r.depth+1;i<=t.depth;i++){let l=t.node(i),c=l.type.contentMatch.fillBefore(l.content,!0,t.index(i));this.openFrontierNode(l.type,l.attrs,c)}return t}openFrontierNode(t,r=null,i){let l=this.frontier[this.depth];l.match=l.match.matchType(t),this.placed=co(this.placed,this.depth,ve.from(t.create(r,i))),this.frontier.push({type:t,match:t.contentMatch})}closeFrontierNode(){let r=this.frontier.pop().match.fillBefore(ve.empty,!0);r.childCount&&(this.placed=co(this.placed,this.frontier.length,r))}}function Fo(s,t,r){return 0==t?s.cutByIndex(r,s.childCount):s.replaceChild(0,s.firstChild.copy(Fo(s.firstChild.content,t-1,r)))}function co(s,t,r){return 0==t?s.append(r):s.replaceChild(s.childCount-1,s.lastChild.copy(co(s.lastChild.content,t-1,r)))}function Go(s,t){for(let r=0;r<t;r++)s=s.firstChild.content;return s}function ci(s,t,r){if(t<=0)return s;let i=s.content;return t>1&&(i=i.replaceChild(0,ci(i.firstChild,t-1,1==i.childCount?r-1:0))),t>0&&(i=s.type.contentMatch.fillBefore(i).append(i),r<=0&&(i=i.append(s.type.contentMatch.matchFragment(i).fillBefore(ve.empty,!0)))),s.copy(i)}function di(s,t,r,i,l){let c=s.node(t),h=l?s.indexAfter(t):s.index(t);if(h==c.childCount&&!r.compatibleContent(c.type))return null;let g=i.fillBefore(c.content,!0,h);return g&&!function Ti(s,t,r){for(let i=r;i<t.childCount;i++)if(!s.allowsMarks(t.child(i).marks))return!0;return!1}(r,c.content,h)?g:null}function Yt(s){return s.spec.defining||s.spec.definingForContent}function Wn(s,t,r,i,l){if(t<r){let c=s.firstChild;s=s.replaceChild(0,c.copy(Wn(c.content,t+1,r,i,c)))}if(t>i){let c=l.contentMatchAt(0),h=c.fillBefore(s).append(s);s=h.append(c.matchFragment(h).fillBefore(ve.empty,!0))}return s}function Wo(s,t){let r=[];for(let l=Math.min(s.depth,t.depth);l>=0;l--){let c=s.start(l);if(c<s.pos-(s.depth-l)||t.end(l)>t.pos+(t.depth-l)||s.node(l).type.spec.isolating||t.node(l).type.spec.isolating)break;(c==t.start(l)||l==s.depth&&l==t.depth&&s.parent.inlineContent&&t.parent.inlineContent&&l&&t.start(l-1)==c-1)&&r.push(l)}return r}class Lr extends Pe{constructor(t,r,i){super(),this.pos=t,this.attr=r,this.value=i}apply(t){let r=t.nodeAt(this.pos);if(!r)return mt.fail("No node at attribute step's position");let i=Object.create(null);for(let c in r.attrs)i[c]=r.attrs[c];i[this.attr]=this.value;let l=r.type.create(i,null,r.marks);return mt.fromReplace(t,this.pos,this.pos+1,new ee(ve.from(l),0,r.isLeaf?0:1))}getMap(){return Se.empty}invert(t){return new Lr(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let r=t.mapResult(this.pos,1);return r.deletedAfter?null:new Lr(r.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,r){if("number"!=typeof r.pos||"string"!=typeof r.attr)throw new RangeError("Invalid input for AttrStep.fromJSON");return new Lr(r.pos,r.attr,r.value)}}Pe.jsonID("attr",Lr);let An=class extends Error{};An=function s(t){let r=Error.call(this,t);return r.__proto__=s.prototype,r},(An.prototype=Object.create(Error.prototype)).constructor=An,An.prototype.name="TransformError";class wo{constructor(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new ke}get before(){return this.docs.length?this.docs[0]:this.doc}step(t){let r=this.maybeStep(t);if(r.failed)throw new An(r.failed);return this}maybeStep(t){let r=t.apply(this.doc);return r.failed||this.addStep(t,r.doc),r}get docChanged(){return this.steps.length>0}addStep(t,r){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=r}replace(t,r=t,i=ee.empty){let l=Ii(this.doc,t,r,i);return l&&this.step(l),this}replaceWith(t,r,i){return this.replace(t,r,new ee(ve.from(i),0,0))}delete(t,r){return this.replace(t,r,ee.empty)}insert(t,r){return this.replaceWith(t,t,r)}replaceRange(t,r,i){return function or(s,t,r,i){if(!i.size)return s.deleteRange(t,r);let l=s.doc.resolve(t),c=s.doc.resolve(r);if(Gi(l,c,i))return s.step(new qt(t,r,i));let h=Wo(l,s.doc.resolve(r));0==h[h.length-1]&&h.pop();let g=-(l.depth+1);h.unshift(g);for(let G=l.depth,W=l.pos-1;G>0;G--,W--){let ne=l.node(G).type.spec;if(ne.defining||ne.definingAsContext||ne.isolating)break;h.indexOf(G)>-1?g=G:l.before(G)==W&&h.splice(1,0,-G)}let C=h.indexOf(g),I=[],O=i.openStart;for(let G=i.content,W=0;;W++){let ne=G.firstChild;if(I.push(ne),W==i.openStart)break;G=ne.content}for(let G=O-1;G>=0;G--){let W=I[G].type,ne=Yt(W);if(ne&&l.node(C).type!=W)O=G;else if(ne||!W.isTextblock)break}for(let G=i.openStart;G>=0;G--){let W=(G+O+1)%(i.openStart+1),ne=I[W];if(ne)for(let Te=0;Te<h.length;Te++){let pt=h[(Te+C)%h.length],Pt=!0;pt<0&&(Pt=!1,pt=-pt);let ao=l.node(pt-1),lo=l.index(pt-1);if(ao.canReplaceWith(lo,lo,ne.type,ne.marks))return s.replace(l.before(pt),Pt?c.after(pt):r,new ee(Wn(i.content,0,i.openStart,W),W,i.openEnd))}}let H=s.steps.length;for(let G=h.length-1;G>=0&&(s.replace(t,r,i),!(s.steps.length>H));G--){let W=h[G];W<0||(t=l.before(W),r=c.after(W))}}(this,t,r,i),this}replaceRangeWith(t,r,i){return function Fr(s,t,r,i){if(!i.isInline&&t==r&&s.doc.resolve(t).parent.content.size){let l=function Pr(s,t,r){let i=s.resolve(t);if(i.parent.canReplaceWith(i.index(),i.index(),r))return t;if(0==i.parentOffset)for(let l=i.depth-1;l>=0;l--){let c=i.index(l);if(i.node(l).canReplaceWith(c,c,r))return i.before(l+1);if(c>0)return null}if(i.parentOffset==i.parent.content.size)for(let l=i.depth-1;l>=0;l--){let c=i.indexAfter(l);if(i.node(l).canReplaceWith(c,c,r))return i.after(l+1);if(c<i.node(l).childCount)return null}return null}(s.doc,t,i.type);null!=l&&(t=r=l)}s.replaceRange(t,r,new ee(ve.from(i),0,0))}(this,t,r,i),this}deleteRange(t,r){return function Qn(s,t,r){let i=s.doc.resolve(t),l=s.doc.resolve(r),c=Wo(i,l);for(let h=0;h<c.length;h++){let g=c[h],C=h==c.length-1;if(C&&0==g||i.node(g).type.contentMatch.validEnd)return s.delete(i.start(g),l.end(g));if(g>0&&(C||i.node(g-1).canReplace(i.index(g-1),l.indexAfter(g-1))))return s.delete(i.before(g),l.after(g))}for(let h=1;h<=i.depth&&h<=l.depth;h++)if(t-i.start(h)==i.depth-h&&r>i.end(h)&&l.end(h)-r!=l.depth-h)return s.delete(i.before(h),r);s.delete(t,r)}(this,t,r),this}lift(t,r){return function Co(s,t,r){let{$from:i,$to:l,depth:c}=t,h=i.before(c+1),g=l.after(c+1),C=h,I=g,O=ve.empty,H=0;for(let ne=c,Te=!1;ne>r;ne--)Te||i.index(ne)>0?(Te=!0,O=ve.from(i.node(ne).copy(O)),H++):C--;let G=ve.empty,W=0;for(let ne=c,Te=!1;ne>r;ne--)Te||l.after(ne+1)<l.end(ne)?(Te=!0,G=ve.from(l.node(ne).copy(G)),W++):I++;s.step(new Xt(C,I,h,g,new ee(O.append(G),H,W),O.size-H,!0))}(this,t,r),this}join(t,r=1){return function bs(s,t,r){let i=new qt(t-r,t+r,ee.empty,!0);s.step(i)}(this,t,r),this}wrap(t,r){return function xi(s,t,r){let i=ve.empty;for(let h=r.length-1;h>=0;h--){if(i.size){let g=r[h].type.contentMatch.matchFragment(i);if(!g||!g.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}i=ve.from(r[h].type.create(r[h].attrs,i))}let l=t.start,c=t.end;s.step(new Xt(l,c,l,c,new ee(i,0,0),r.length,!0))}(this,t,r),this}setBlockType(t,r=t,i,l=null){return function Pn(s,t,r,i,l){if(!i.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let c=s.steps.length;s.doc.nodesBetween(t,r,(h,g)=>{if(h.isTextblock&&!h.hasMarkup(i,l)&&function ui(s,t,r){let i=s.resolve(t),l=i.index();return i.parent.canReplaceWith(l,l+1,r)}(s.doc,s.mapping.slice(c).map(g),i)){s.clearIncompatible(s.mapping.slice(c).map(g,1),i);let C=s.mapping.slice(c),I=C.map(g,1),O=C.map(g+h.nodeSize,1);return s.step(new Xt(I,O,I+1,O-1,new ee(ve.from(i.create(l,null,h.marks)),0,0),1,!0)),!1}})}(this,t,r,i,l),this}setNodeMarkup(t,r,i=null,l){return function _o(s,t,r,i,l){let c=s.doc.nodeAt(t);if(!c)throw new RangeError("No node at given position");r||(r=c.type);let h=r.create(i,null,l||c.marks);if(c.isLeaf)return s.replaceWith(t,t+c.nodeSize,h);if(!r.validContent(c.content))throw new RangeError("Invalid content for node type "+r.name);s.step(new Xt(t,t+c.nodeSize,t+1,t+c.nodeSize-1,new ee(ve.from(h),0,0),1,!0))}(this,t,r,i,l),this}setNodeAttribute(t,r,i){return this.step(new Lr(t,r,i)),this}addNodeMark(t,r){return this.step(new gn(t,r)),this}removeNodeMark(t,r){if(!(r instanceof Fe)){let i=this.doc.nodeAt(t);if(!i)throw new RangeError("No node at position "+t);if(!(r=r.isInSet(i.marks)))return this}return this.step(new _n(t,r)),this}split(t,r=1,i){return function Zr(s,t,r=1,i){let l=s.doc.resolve(t),c=ve.empty,h=ve.empty;for(let g=l.depth,C=l.depth-r,I=r-1;g>C;g--,I--){c=ve.from(l.node(g).copy(c));let O=i&&i[I];h=ve.from(O?O.type.create(O.attrs,h):l.node(g).copy(h))}s.step(new qt(t,t,new ee(c.append(h),r,r),!0))}(this,t,r,i),this}addMark(t,r,i){return function hn(s,t,r,i){let h,g,l=[],c=[];s.doc.nodesBetween(t,r,(C,I,O)=>{if(!C.isInline)return;let H=C.marks;if(!i.isInSet(H)&&O.type.allowsMarkType(i.type)){let G=Math.max(I,t),W=Math.min(I+C.nodeSize,r),ne=i.addToSet(H);for(let Te=0;Te<H.length;Te++)H[Te].isInSet(ne)||(h&&h.to==G&&h.mark.eq(H[Te])?h.to=W:l.push(h=new Mn(G,W,H[Te])));g&&g.to==G?g.to=W:c.push(g=new cn(G,W,i))}}),l.forEach(C=>s.step(C)),c.forEach(C=>s.step(C))}(this,t,r,i),this}removeMark(t,r,i){return function lr(s,t,r,i){let l=[],c=0;s.doc.nodesBetween(t,r,(h,g)=>{if(!h.isInline)return;c++;let C=null;if(i instanceof Jr){let O,I=h.marks;for(;O=i.isInSet(I);)(C||(C=[])).push(O),I=O.removeFromSet(I)}else i?i.isInSet(h.marks)&&(C=[i]):C=h.marks;if(C&&C.length){let I=Math.min(g+h.nodeSize,r);for(let O=0;O<C.length;O++){let G,H=C[O];for(let W=0;W<l.length;W++){let ne=l[W];ne.step==c-1&&H.eq(l[W].style)&&(G=ne)}G?(G.to=I,G.step=c):l.push({style:H,from:Math.max(g,t),to:I,step:c})}}}),l.forEach(h=>s.step(new Mn(h.from,h.to,h.style)))}(this,t,r,i),this}clearIncompatible(t,r,i){return function Yr(s,t,r,i=r.contentMatch){let l=s.doc.nodeAt(t),c=[],h=t+1;for(let g=0;g<l.childCount;g++){let C=l.child(g),I=h+C.nodeSize,O=i.matchType(C.type);if(O){i=O;for(let H=0;H<C.marks.length;H++)r.allowsMarkType(C.marks[H].type)||s.step(new Mn(h,I,C.marks[H]));if(C.isText&&!r.spec.code){let H,W,G=/\r?\n|\r/g;for(;H=G.exec(C.text);)W||(W=new ee(ve.from(r.schema.text(" ",r.allowedMarks(C.marks))),0,0)),c.push(new qt(h+H.index,h+H.index+H[0].length,W))}}else c.push(new qt(h,I,ee.empty));h=I}if(!i.validEnd){let g=i.fillBefore(ve.empty,!0);s.replace(h,h,new ee(g,0,0))}for(let g=c.length-1;g>=0;g--)s.step(c[g])}(this,t,r,i),this}}const Lo=Object.create(null);class vt{constructor(t,r,i){this.$anchor=t,this.$head=r,this.ranges=i||[new Ke(t.min(r),t.max(r))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let t=this.ranges;for(let r=0;r<t.length;r++)if(t[r].$from.pos!=t[r].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t,r=ee.empty){let i=r.content.lastChild,l=null;for(let g=0;g<r.openEnd;g++)l=i,i=i.lastChild;let c=t.steps.length,h=this.ranges;for(let g=0;g<h.length;g++){let{$from:C,$to:I}=h[g],O=t.mapping.slice(c);t.replaceRange(O.map(C.pos),O.map(I.pos),g?ee.empty:r),0==g&&Et(t,c,(i?i.isInline:l&&l.isTextblock)?-1:1)}}replaceWith(t,r){let i=t.steps.length,l=this.ranges;for(let c=0;c<l.length;c++){let{$from:h,$to:g}=l[c],C=t.mapping.slice(i),I=C.map(h.pos),O=C.map(g.pos);c?t.deleteRange(I,O):(t.replaceRangeWith(I,O,r),Et(t,i,r.isInline?-1:1))}}static findFrom(t,r,i=!1){let l=t.parent.inlineContent?new kt(t):Xn(t.node(0),t.parent,t.pos,t.index(),r,i);if(l)return l;for(let c=t.depth-1;c>=0;c--){let h=r<0?Xn(t.node(0),t.node(c),t.before(c+1),t.index(c),r,i):Xn(t.node(0),t.node(c),t.after(c+1),t.index(c)+1,r,i);if(h)return h}return null}static near(t,r=1){return this.findFrom(t,r)||this.findFrom(t,-r)||new Ut(t.node(0))}static atStart(t){return Xn(t,t,0,0,1)||new Ut(t)}static atEnd(t){return Xn(t,t,t.content.size,t.childCount,-1)||new Ut(t)}static fromJSON(t,r){if(!r||!r.type)throw new RangeError("Invalid input for Selection.fromJSON");let i=Lo[r.type];if(!i)throw new RangeError(`No selection type ${r.type} defined`);return i.fromJSON(t,r)}static jsonID(t,r){if(t in Lo)throw new RangeError("Duplicate use of selection JSON ID "+t);return Lo[t]=r,r.prototype.jsonID=t,r}getBookmark(){return kt.between(this.$anchor,this.$head).getBookmark()}}vt.prototype.visible=!0;class Ke{constructor(t,r){this.$from=t,this.$to=r}}let Ct=!1;function sn(s){!Ct&&!s.parent.inlineContent&&(Ct=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+s.parent.type.name+")"))}class kt extends vt{constructor(t,r=t){sn(t),sn(r),super(t,r)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,r){let i=t.resolve(r.map(this.head));if(!i.parent.inlineContent)return vt.near(i);let l=t.resolve(r.map(this.anchor));return new kt(l.parent.inlineContent?l:i,i)}replace(t,r=ee.empty){if(super.replace(t,r),r==ee.empty){let i=this.$from.marksAcross(this.$to);i&&t.ensureMarks(i)}}eq(t){return t instanceof kt&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new mr(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,r){if("number"!=typeof r.anchor||"number"!=typeof r.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new kt(t.resolve(r.anchor),t.resolve(r.head))}static create(t,r,i=r){let l=t.resolve(r);return new this(l,i==r?l:t.resolve(i))}static between(t,r,i){let l=t.pos-r.pos;if((!i||l)&&(i=l>=0?1:-1),!r.parent.inlineContent){let c=vt.findFrom(r,i,!0)||vt.findFrom(r,-i,!0);if(!c)return vt.near(r,i);r=c.$head}return t.parent.inlineContent||(0==l||(t=(vt.findFrom(t,-i,!0)||vt.findFrom(t,i,!0)).$anchor).pos<r.pos!=l<0)&&(t=r),new kt(t,r)}}vt.jsonID("text",kt);class mr{constructor(t,r){this.anchor=t,this.head=r}map(t){return new mr(t.map(this.anchor),t.map(this.head))}resolve(t){return kt.between(t.resolve(this.anchor),t.resolve(this.head))}}class st extends vt{constructor(t){let r=t.nodeAfter,i=t.node(0).resolve(t.pos+r.nodeSize);super(t,i),this.node=r}map(t,r){let{deleted:i,pos:l}=r.mapResult(this.anchor),c=t.resolve(l);return i?vt.near(c):new st(c)}content(){return new ee(ve.from(this.node),0,0)}eq(t){return t instanceof st&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Vr(this.anchor)}static fromJSON(t,r){if("number"!=typeof r.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new st(t.resolve(r.anchor))}static create(t,r){return new st(t.resolve(r))}static isSelectable(t){return!t.isText&&!1!==t.type.spec.selectable}}st.prototype.visible=!1,vt.jsonID("node",st);class Vr{constructor(t){this.anchor=t}map(t){let{deleted:r,pos:i}=t.mapResult(this.anchor);return r?new mr(i,i):new Vr(i)}resolve(t){let r=t.resolve(this.anchor),i=r.nodeAfter;return i&&st.isSelectable(i)?new st(r):vt.near(r)}}class Ut extends vt{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,r=ee.empty){if(r==ee.empty){t.delete(0,t.doc.content.size);let i=vt.atStart(t.doc);i.eq(t.selection)||t.setSelection(i)}else super.replace(t,r)}toJSON(){return{type:"all"}}static fromJSON(t){return new Ut(t)}map(t){return new Ut(t)}eq(t){return t instanceof Ut}getBookmark(){return fo}}vt.jsonID("all",Ut);const fo={map(){return this},resolve:s=>new Ut(s)};function Xn(s,t,r,i,l,c=!1){if(t.inlineContent)return kt.create(s,r);for(let h=i-(l>0?0:1);l>0?h<t.childCount:h>=0;h+=l){let g=t.child(h);if(g.isAtom){if(!c&&st.isSelectable(g))return st.create(s,r-(l<0?g.nodeSize:0))}else{let C=Xn(s,g,r+l,l<0?g.childCount:0,l,c);if(C)return C}r+=g.nodeSize*l}return null}function Et(s,t,r){let i=s.steps.length-1;if(i<t)return;let h,l=s.steps[i];(l instanceof qt||l instanceof Xt)&&(s.mapping.maps[i].forEach((g,C,I,O)=>{null==h&&(h=O)}),s.setSelection(vt.near(s.doc.resolve(h),r)))}class xn extends wo{constructor(t){super(t.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=t.selection,this.storedMarks=t.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=-3&(1|this.updated),this.storedMarks=null,this}get selectionSet(){return(1&this.updated)>0}setStoredMarks(t){return this.storedMarks=t,this.updated|=2,this}ensureMarks(t){return Fe.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this}addStoredMark(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(2&this.updated)>0}addStep(t,r){super.addStep(t,r),this.updated=-3&this.updated,this.storedMarks=null}setTime(t){return this.time=t,this}replaceSelection(t){return this.selection.replace(this,t),this}replaceSelectionWith(t,r=!0){let i=this.selection;return r&&(t=t.mark(this.storedMarks||(i.empty?i.$from.marks():i.$from.marksAcross(i.$to)||Fe.none))),i.replaceWith(this,t),this}deleteSelection(){return this.selection.replace(this),this}insertText(t,r,i){let l=this.doc.type.schema;if(null==r)return t?this.replaceSelectionWith(l.text(t),!0):this.deleteSelection();{if(null==i&&(i=r),i=i??r,!t)return this.deleteRange(r,i);let c=this.storedMarks;if(!c){let h=this.doc.resolve(r);c=i==r?h.marks():h.marksAcross(this.doc.resolve(i))}return this.replaceRangeWith(r,i,l.text(t,c)),this.selection.empty||this.setSelection(vt.near(this.selection.$to)),this}}setMeta(t,r){return this.meta["string"==typeof t?t:t.key]=r,this}getMeta(t){return this.meta["string"==typeof t?t:t.key]}get isGeneric(){for(let t in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=4,this}get scrolledIntoView(){return(4&this.updated)>0}}function Qr(s,t){return t&&s?s.bind(t):s}class Xr{constructor(t,r,i){this.name=t,this.init=Qr(r.init,i),this.apply=Qr(r.apply,i)}}const yr=[new Xr("doc",{init:s=>s.doc||s.schema.topNodeType.createAndFill(),apply:s=>s.doc}),new Xr("selection",{init:(s,t)=>s.selection||vt.atStart(t.doc),apply:s=>s.selection}),new Xr("storedMarks",{init:s=>s.storedMarks||null,apply:(s,t,r,i)=>i.selection.$cursor?s.storedMarks:null}),new Xr("scrollToSelection",{init:()=>0,apply:(s,t)=>s.scrolledIntoView?t+1:t})];class Br{constructor(t,r){this.schema=t,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=yr.slice(),r&&r.forEach(i=>{if(this.pluginsByKey[i.key])throw new RangeError("Adding different instances of a keyed plugin ("+i.key+")");this.plugins.push(i),this.pluginsByKey[i.key]=i,i.spec.state&&this.fields.push(new Xr(i.key,i.spec.state,i))})}}class eo{constructor(t){this.config=t}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(t){return this.applyTransaction(t).state}filterTransaction(t,r=-1){for(let i=0;i<this.config.plugins.length;i++)if(i!=r){let l=this.config.plugins[i];if(l.spec.filterTransaction&&!l.spec.filterTransaction.call(l,t,this))return!1}return!0}applyTransaction(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};let r=[t],i=this.applyInner(t),l=null;for(;;){let c=!1;for(let h=0;h<this.config.plugins.length;h++){let g=this.config.plugins[h];if(g.spec.appendTransaction){let C=l?l[h].n:0,I=l?l[h].state:this,O=C<r.length&&g.spec.appendTransaction.call(g,C?r.slice(C):r,I,i);if(O&&i.filterTransaction(O,h)){if(O.setMeta("appendedTransaction",t),!l){l=[];for(let H=0;H<this.config.plugins.length;H++)l.push(H<h?{state:i,n:r.length}:{state:this,n:0})}r.push(O),i=i.applyInner(O),c=!0}l&&(l[h]={state:i,n:r.length})}}if(!c)return{state:i,transactions:r}}}applyInner(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let r=new eo(this.config),i=this.config.fields;for(let l=0;l<i.length;l++){let c=i[l];r[c.name]=c.apply(t,this[c.name],this,r)}return r}get tr(){return new xn(this)}static create(t){let r=new Br(t.doc?t.doc.type.schema:t.schema,t.plugins),i=new eo(r);for(let l=0;l<r.fields.length;l++)i[r.fields[l].name]=r.fields[l].init(t,i);return i}reconfigure(t){let r=new Br(this.schema,t.plugins),i=r.fields,l=new eo(r);for(let c=0;c<i.length;c++){let h=i[c].name;l[h]=this.hasOwnProperty(h)?this[h]:i[c].init(t,l)}return l}toJSON(t){let r={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(r.storedMarks=this.storedMarks.map(i=>i.toJSON())),t&&"object"==typeof t)for(let i in t){if("doc"==i||"selection"==i)throw new RangeError("The JSON fields `doc` and `selection` are reserved");let l=t[i],c=l.spec.state;c&&c.toJSON&&(r[i]=c.toJSON.call(l,this[l.key]))}return r}static fromJSON(t,r,i){if(!r)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");let l=new Br(t.schema,t.plugins),c=new eo(l);return l.fields.forEach(h=>{if("doc"==h.name)c.doc=ot.fromJSON(t.schema,r.doc);else if("selection"==h.name)c.selection=vt.fromJSON(c.doc,r.selection);else if("storedMarks"==h.name)r.storedMarks&&(c.storedMarks=r.storedMarks.map(t.schema.markFromJSON));else{if(i)for(let g in i){let C=i[g],I=C.spec.state;if(C.key==h.name&&I&&I.fromJSON&&Object.prototype.hasOwnProperty.call(r,g))return void(c[h.name]=I.fromJSON.call(C,t,r[g],c))}c[h.name]=h.init(t,c)}}),c}}function Hr(s,t,r){for(let i in s){let l=s[i];l instanceof Function?l=l.bind(t):"handleDOMEvents"==i&&(l=Hr(l,t,{})),r[i]=l}return r}class mn{constructor(t){this.spec=t,this.props={},t.props&&Hr(t.props,this,this.props),this.key=t.key?t.key.key:to("plugin")}getState(t){return t[this.key]}}const Vo=Object.create(null);function to(s){return s in Vo?s+"$"+ ++Vo[s]:(Vo[s]=0,s+"$")}class Tt{constructor(t="key"){this.key=to(t)}get(t){return t.config.pluginsByKey[this.key]}getState(t){return t[this.key]}}const vr=function(s){for(var t=0;;t++)if(!(s=s.previousSibling))return t},Bo=function(s){let t=s.assignedSlot||s.parentNode;return t&&11==t.nodeType?t.host:t};let qi=null;const bn=function(s,t,r){let i=qi||(qi=document.createRange());return i.setEnd(s,r??s.nodeValue.length),i.setStart(s,t||0),i},Tr=function(s,t,r,i){return r&&(Mo(s,t,r,i,-1)||Mo(s,t,r,i,1))},fi=/^(img|br|input|textarea|hr)$/i;function Mo(s,t,r,i,l){for(;;){if(s==r&&t==i)return!0;if(t==(l<0?0:yn(s))){let c=s.parentNode;if(!c||1!=c.nodeType||wn(s)||fi.test(s.nodeName)||"false"==s.contentEditable)return!1;t=vr(s)+(l<0?0:1),s=c}else{if(1!=s.nodeType)return!1;if("false"==(s=s.childNodes[t+(l<0?-1:0)]).contentEditable)return!1;t=l<0?yn(s):0}}}function yn(s){return 3==s.nodeType?s.nodeValue.length:s.childNodes.length}function wn(s){let t;for(let r=s;r&&!(t=r.pmViewDesc);r=r.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==s||t.contentDOM==s)}const Fn=function(s){return s.focusNode&&Tr(s.focusNode,s.focusOffset,s.anchorNode,s.anchorOffset)};function ur(s,t){let r=document.createEvent("Event");return r.initEvent("keydown",!0,!0),r.keyCode=s,r.key=r.code=t,r}const Ln=typeof navigator<"u"?navigator:null,hi=typeof document<"u"?document:null,Dr=Ln&&Ln.userAgent||"",pi=/Edge\/(\d+)/.exec(Dr),wa=/MSIE \d/.exec(Dr),Ho=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Dr),Nn=!!(wa||Ho||pi),xo=wa?document.documentMode:Ho?+Ho[1]:pi?+pi[1]:0,no=!Nn&&/gecko\/(\d+)/i.test(Dr);no&&/Firefox\/(\d+)/.exec(Dr);const gi=!Nn&&/Chrome\/(\d+)/.exec(Dr),jn=!!gi,In=gi?+gi[1]:0,cr=!Nn&&!!Ln&&/Apple Computer/.test(Ln.vendor),x=cr&&(/Mobile\/\w+/.test(Dr)||!!Ln&&Ln.maxTouchPoints>2),S=x||!!Ln&&/Mac/.test(Ln.platform),E=!!Ln&&/Win/.test(Ln.platform),P=/Android \d/.test(Dr),le=!!hi&&"webkitFontSmoothing"in hi.documentElement.style,et=le?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function pn(s){return{left:0,right:s.documentElement.clientWidth,top:0,bottom:s.documentElement.clientHeight}}function Cn(s,t){return"number"==typeof s?s:s[t]}function Ur(s){let t=s.getBoundingClientRect();return{left:t.left,right:t.left+s.clientWidth*(t.width/s.offsetWidth||1),top:t.top,bottom:t.top+s.clientHeight*(t.height/s.offsetHeight||1)}}function Io(s,t,r){let i=s.someProp("scrollThreshold")||0,l=s.someProp("scrollMargin")||5,c=s.dom.ownerDocument;for(let h=r||s.dom;h;h=Bo(h)){if(1!=h.nodeType)continue;let g=h,C=g==c.body,I=C?pn(c):Ur(g),O=0,H=0;if(t.top<I.top+Cn(i,"top")?H=-(I.top-t.top+Cn(l,"top")):t.bottom>I.bottom-Cn(i,"bottom")&&(H=t.bottom-I.bottom+Cn(l,"bottom")),t.left<I.left+Cn(i,"left")?O=-(I.left-t.left+Cn(l,"left")):t.right>I.right-Cn(i,"right")&&(O=t.right-I.right+Cn(l,"right")),O||H)if(C)c.defaultView.scrollBy(O,H);else{let G=g.scrollLeft,W=g.scrollTop;H&&(g.scrollTop+=H),O&&(g.scrollLeft+=O);let ne=g.scrollLeft-G,Te=g.scrollTop-W;t={left:t.left-ne,top:t.top-Te,right:t.right-ne,bottom:t.bottom-Te}}if(C||/^(fixed|sticky)$/.test(getComputedStyle(h).position))break}}function jr(s){let t=[],r=s.ownerDocument;for(let i=s;i&&(t.push({dom:i,top:i.scrollTop,left:i.scrollLeft}),s!=r);i=Bo(i));return t}function Ni(s,t){for(let r=0;r<s.length;r++){let{dom:i,top:l,left:c}=s[r];i.scrollTop!=l+t&&(i.scrollTop=l+t),i.scrollLeft!=c&&(i.scrollLeft=c)}}let qo=null;function ws(s,t){let r,l,C,I,i=2e8,c=0,h=t.top,g=t.top;for(let O=s.firstChild,H=0;O;O=O.nextSibling,H++){let G;if(1==O.nodeType)G=O.getClientRects();else{if(3!=O.nodeType)continue;G=bn(O).getClientRects()}for(let W=0;W<G.length;W++){let ne=G[W];if(ne.top<=h&&ne.bottom>=g){h=Math.max(ne.bottom,h),g=Math.min(ne.top,g);let Te=ne.left>t.left?ne.left-t.left:ne.right<t.left?t.left-ne.right:0;if(Te<i){r=O,i=Te,l=Te&&3==r.nodeType?{left:ne.right<t.left?ne.right:ne.left,top:t.top}:t,1==O.nodeType&&Te&&(c=H+(t.left>=(ne.left+ne.right)/2?1:0));continue}}else ne.top>t.top&&!C&&ne.left<=t.left&&ne.right>=t.left&&(C=O,I={left:Math.max(ne.left,Math.min(ne.right,t.left)),top:ne.top});!r&&(t.left>=ne.right&&t.top>=ne.top||t.left>=ne.left&&t.top>=ne.bottom)&&(c=H+1)}}return!r&&C&&(r=C,l=I,i=0),r&&3==r.nodeType?function Us(s,t){let r=s.nodeValue.length,i=document.createRange();for(let l=0;l<r;l++){i.setEnd(s,l+1),i.setStart(s,l);let c=yi(i,1);if(c.top!=c.bottom&&Es(t,c))return{node:s,offset:l+(t.left>=(c.left+c.right)/2?1:0)}}return{node:s,offset:0}}(r,l):!r||i&&1==r.nodeType?{node:s,offset:c}:ws(r,l)}function Es(s,t){return s.left>=t.left-1&&s.left<=t.right+1&&s.top>=t.top-1&&s.top<=t.bottom+1}function To(s,t,r){let i=s.childNodes.length;if(i&&r.top<r.bottom)for(let l=Math.max(0,Math.min(i-1,Math.floor(i*(t.top-r.top)/(r.bottom-r.top))-2)),c=l;;){let h=s.childNodes[c];if(1==h.nodeType){let g=h.getClientRects();for(let C=0;C<g.length;C++){let I=g[C];if(Es(t,I))return To(h,t,I)}}if((c=(c+1)%i)==l)break}return s}function qn(s,t){let i,r=s.dom.ownerDocument,l=0,c=function Yi(s,t,r){if(s.caretPositionFromPoint)try{let i=s.caretPositionFromPoint(t,r);if(i)return{node:i.offsetNode,offset:i.offset}}catch{}if(s.caretRangeFromPoint){let i=s.caretRangeFromPoint(t,r);if(i)return{node:i.startContainer,offset:i.startOffset}}}(r,t.left,t.top);c&&({node:i,offset:l}=c);let g,h=(s.root.elementFromPoint?s.root:r).elementFromPoint(t.left,t.top);if(!h||!s.dom.contains(1!=h.nodeType?h.parentNode:h)){let I=s.dom.getBoundingClientRect();if(!Es(t,I)||(h=To(s.dom,t,I),!h))return null}if(cr)for(let I=h;i&&I;I=Bo(I))I.draggable&&(i=void 0);if(h=function bu(s,t){let r=s.parentNode;return r&&/^li$/i.test(r.nodeName)&&t.left<s.getBoundingClientRect().left?r:s}(h,t),i){if(no&&1==i.nodeType&&(l=Math.min(l,i.childNodes.length),l<i.childNodes.length)){let O,I=i.childNodes[l];"IMG"==I.nodeName&&(O=I.getBoundingClientRect()).right<=t.left&&O.bottom>t.top&&l++}i==s.dom&&l==i.childNodes.length-1&&1==i.lastChild.nodeType&&t.top>i.lastChild.getBoundingClientRect().bottom?g=s.state.doc.content.size:(0==l||1!=i.nodeType||"BR"!=i.childNodes[l-1].nodeName)&&(g=function $r(s,t,r,i){let l=-1;for(let c=t,h=!1;c!=s.dom;){let g=s.docView.nearestDesc(c,!0);if(!g)return null;if(1==g.dom.nodeType&&(g.node.isBlock&&g.parent&&!h||!g.contentDOM)){let C=g.dom.getBoundingClientRect();if(g.node.isBlock&&g.parent&&!h&&(h=!0,C.left>i.left||C.top>i.top?l=g.posBefore:(C.right<i.left||C.bottom<i.top)&&(l=g.posAfter)),!g.contentDOM&&l<0&&!g.node.isText)return(g.node.isBlock?i.top<(C.top+C.bottom)/2:i.left<(C.left+C.right)/2)?g.posBefore:g.posAfter}c=g.dom.parentNode}return l>-1?l:s.docView.posFromDOM(t,r,-1)}(s,i,l,t))}null==g&&(g=function Ki(s,t,r){let{node:i,offset:l}=ws(t,r),c=-1;if(1==i.nodeType&&!i.firstChild){let h=i.getBoundingClientRect();c=h.left!=h.right&&r.left>(h.left+h.right)/2?1:-1}return s.docView.posFromDOM(i,l,c)}(s,h,t));let C=s.docView.nearestDesc(h,!0);return{pos:g,inside:C?C.posAtStart-C.border:-1}}function js(s){return s.top<s.bottom||s.left<s.right}function yi(s,t){let r=s.getClientRects();if(r.length){let i=r[t<0?0:r.length-1];if(js(i))return i}return Array.prototype.find.call(r,js)||s.getBoundingClientRect()}const $s=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function Oi(s,t,r){let{node:i,offset:l,atom:c}=s.docView.domFromPos(t,r<0?-1:1),h=le||no;if(3==i.nodeType){if(!h||!$s.test(i.nodeValue)&&(r<0?l:l!=i.nodeValue.length)){let C=l,I=l,O=r<0?1:-1;return r<0&&!l?(I++,O=-1):r>=0&&l==i.nodeValue.length?(C--,O=1):r<0?C--:I++,Jo(yi(bn(i,C,I),O),O<0)}{let C=yi(bn(i,l,l),r);if(no&&l&&/\s/.test(i.nodeValue[l-1])&&l<i.nodeValue.length){let I=yi(bn(i,l-1,l-1),-1);if(I.top==C.top){let O=yi(bn(i,l,l+1),-1);if(O.top!=C.top)return Jo(O,O.left<I.left)}}return C}}if(!s.state.doc.resolve(t-(c||0)).parent.inlineContent){if(null==c&&l&&(r<0||l==yn(i))){let C=i.childNodes[l-1];if(1==C.nodeType)return Zi(C.getBoundingClientRect(),!1)}if(null==c&&l<yn(i)){let C=i.childNodes[l];if(1==C.nodeType)return Zi(C.getBoundingClientRect(),!0)}return Zi(i.getBoundingClientRect(),r>=0)}if(null==c&&l&&(r<0||l==yn(i))){let C=i.childNodes[l-1],I=3==C.nodeType?bn(C,yn(C)-(h?0:1)):1!=C.nodeType||"BR"==C.nodeName&&C.nextSibling?null:C;if(I)return Jo(yi(I,1),!1)}if(null==c&&l<yn(i)){let C=i.childNodes[l];for(;C.pmViewDesc&&C.pmViewDesc.ignoreForCoords;)C=C.nextSibling;let I=C?3==C.nodeType?bn(C,0,h?0:1):1==C.nodeType?C:null:null;if(I)return Jo(yi(I,-1),!0)}return Jo(yi(3==i.nodeType?bn(i):i,-r),r>=0)}function Jo(s,t){if(0==s.width)return s;let r=t?s.left:s.right;return{top:s.top,bottom:s.bottom,left:r,right:r}}function Zi(s,t){if(0==s.height)return s;let r=t?s.top:s.bottom;return{top:r,bottom:r,left:s.left,right:s.right}}function zs(s,t,r){let i=s.state,l=s.root.activeElement;i!=t&&s.updateState(t),l!=s.dom&&s.focus();try{return r()}finally{i!=t&&s.updateState(i),l!=s.dom&&l&&l.focus()}}const Ms=/[\u0590-\u08ac]/;let Qi=null,Xi=null,al=!1;class Yo{constructor(t,r,i,l){this.parent=t,this.children=r,this.dom=i,this.contentDOM=l,this.dirty=0,i.pmViewDesc=this}matchesWidget(t){return!1}matchesMark(t){return!1}matchesNode(t,r,i){return!1}matchesHack(t){return!1}parseRule(){return null}stopEvent(t){return!1}get size(){let t=0;for(let r=0;r<this.children.length;r++)t+=this.children[r].size;return t}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let t=0;t<this.children.length;t++)this.children[t].destroy()}posBeforeChild(t){for(let r=0,i=this.posAtStart;;r++){let l=this.children[r];if(l==t)return i;i+=l.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(t,r,i){if(this.contentDOM&&this.contentDOM.contains(1==t.nodeType?t:t.parentNode)){if(i<0){let c,h;if(t==this.contentDOM)c=t.childNodes[r-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;c=t.previousSibling}for(;c&&(!(h=c.pmViewDesc)||h.parent!=this);)c=c.previousSibling;return c?this.posBeforeChild(h)+h.size:this.posAtStart}{let c,h;if(t==this.contentDOM)c=t.childNodes[r];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;c=t.nextSibling}for(;c&&(!(h=c.pmViewDesc)||h.parent!=this);)c=c.nextSibling;return c?this.posBeforeChild(h):this.posAtEnd}}let l;if(t==this.dom&&this.contentDOM)l=r>vr(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))l=2&t.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==r)for(let c=t;;c=c.parentNode){if(c==this.dom){l=!1;break}if(c.previousSibling)break}if(null==l&&r==t.childNodes.length)for(let c=t;;c=c.parentNode){if(c==this.dom){l=!0;break}if(c.nextSibling)break}}return l??i>0?this.posAtEnd:this.posAtStart}nearestDesc(t,r=!1){for(let i=!0,l=t;l;l=l.parentNode){let h,c=this.getDesc(l);if(c&&(!r||c.node)){if(!i||!(h=c.nodeDOM)||(1==h.nodeType?h.contains(1==t.nodeType?t:t.parentNode):h==t))return c;i=!1}}}getDesc(t){let r=t.pmViewDesc;for(let i=r;i;i=i.parent)if(i==this)return r}posFromDOM(t,r,i){for(let l=t;l;l=l.parentNode){let c=this.getDesc(l);if(c)return c.localPosFromDOM(t,r,i)}return-1}descAt(t){for(let r=0,i=0;r<this.children.length;r++){let l=this.children[r],c=i+l.size;if(i==t&&c!=i){for(;!l.border&&l.children.length;)l=l.children[0];return l}if(t<c)return l.descAt(t-i-l.border);i=c}}domFromPos(t,r){if(!this.contentDOM)return{node:this.dom,offset:0,atom:t+1};let i=0,l=0;for(let c=0;i<this.children.length;i++){let h=this.children[i],g=c+h.size;if(g>t||h instanceof $){l=t-c;break}c=g}if(l)return this.children[i].domFromPos(l-this.children[i].border,r);for(let c;i&&!(c=this.children[i-1]).size&&c instanceof xa&&c.side>=0;i--);if(r<=0){let c,h=!0;for(;c=i?this.children[i-1]:null,c&&c.dom.parentNode!=this.contentDOM;i--,h=!1);return c&&r&&h&&!c.border&&!c.domAtom?c.domFromPos(c.size,r):{node:this.contentDOM,offset:c?vr(c.dom)+1:0}}{let c,h=!0;for(;c=i<this.children.length?this.children[i]:null,c&&c.dom.parentNode!=this.contentDOM;i++,h=!1);return c&&h&&!c.border&&!c.domAtom?c.domFromPos(0,r):{node:this.contentDOM,offset:c?vr(c.dom):this.contentDOM.childNodes.length}}}parseRange(t,r,i=0){if(0==this.children.length)return{node:this.contentDOM,from:t,to:r,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let l=-1,c=-1;for(let h=i,g=0;;g++){let C=this.children[g],I=h+C.size;if(-1==l&&t<=I){let O=h+C.border;if(t>=O&&r<=I-C.border&&C.node&&C.contentDOM&&this.contentDOM.contains(C.contentDOM))return C.parseRange(t,r,O);t=h;for(let H=g;H>0;H--){let G=this.children[H-1];if(G.size&&G.dom.parentNode==this.contentDOM&&!G.emptyChildAt(1)){l=vr(G.dom)+1;break}t-=G.size}-1==l&&(l=0)}if(l>-1&&(I>r||g==this.children.length-1)){r=I;for(let O=g+1;O<this.children.length;O++){let H=this.children[O];if(H.size&&H.dom.parentNode==this.contentDOM&&!H.emptyChildAt(-1)){c=vr(H.dom);break}r+=H.size}-1==c&&(c=this.contentDOM.childNodes.length);break}h=I}return{node:this.contentDOM,from:t,to:r,fromOffset:l,toOffset:c}}emptyChildAt(t){if(this.border||!this.contentDOM||!this.children.length)return!1;let r=this.children[t<0?0:this.children.length-1];return 0==r.size||r.emptyChildAt(t)}domAfterPos(t){let{node:r,offset:i}=this.domFromPos(t,0);if(1!=r.nodeType||i==r.childNodes.length)throw new RangeError("No node after pos "+t);return r.childNodes[i]}setSelection(t,r,i,l=!1){let c=Math.min(t,r),h=Math.max(t,r);for(let G=0,W=0;G<this.children.length;G++){let ne=this.children[G],Te=W+ne.size;if(c>W&&h<Te)return ne.setSelection(t-W-ne.border,r-W-ne.border,i,l);W=Te}let g=this.domFromPos(t,t?-1:1),C=r==t?g:this.domFromPos(r,r?-1:1),I=i.getSelection(),O=!1;if((no||cr)&&t==r){let{node:G,offset:W}=g;if(3==G.nodeType){if(O=!(!W||"\n"!=G.nodeValue[W-1]),O&&W==G.nodeValue.length)for(let Te,ne=G;ne;ne=ne.parentNode){if(Te=ne.nextSibling){"BR"==Te.nodeName&&(g=C={node:Te.parentNode,offset:vr(Te)+1});break}let pt=ne.pmViewDesc;if(pt&&pt.node&&pt.node.isBlock)break}}else{let ne=G.childNodes[W-1];O=ne&&("BR"==ne.nodeName||"false"==ne.contentEditable)}}if(no&&I.focusNode&&I.focusNode!=C.node&&1==I.focusNode.nodeType){let G=I.focusNode.childNodes[I.focusOffset];G&&"false"==G.contentEditable&&(l=!0)}if(!(l||O&&cr)&&Tr(g.node,g.offset,I.anchorNode,I.anchorOffset)&&Tr(C.node,C.offset,I.focusNode,I.focusOffset))return;let H=!1;if((I.extend||t==r)&&!O){I.collapse(g.node,g.offset);try{t!=r&&I.extend(C.node,C.offset),H=!0}catch{}}if(!H){if(t>r){let W=g;g=C,C=W}let G=document.createRange();G.setEnd(C.node,C.offset),G.setStart(g.node,g.offset),I.removeAllRanges(),I.addRange(G)}}ignoreMutation(t){return!this.contentDOM&&"selection"!=t.type}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(t,r){for(let i=0,l=0;l<this.children.length;l++){let c=this.children[l],h=i+c.size;if(i==h?t<=h&&r>=i:t<h&&r>i){let g=i+c.border,C=h-c.border;if(t>=g&&r<=C)return this.dirty=t==i||r==h?2:1,void(t!=g||r!=C||!c.contentLost&&c.dom.parentNode==this.contentDOM?c.markDirty(t-g,r-g):c.dirty=3);c.dirty=c.dom!=c.contentDOM||c.dom.parentNode!=this.contentDOM||c.children.length?3:2}i=h}this.dirty=2}markParentsDirty(){let t=1;for(let r=this.parent;r;r=r.parent,t++){let i=1==t?2:1;r.dirty<i&&(r.dirty=i)}}get domAtom(){return!1}get ignoreForCoords(){return!1}}class xa extends Yo{constructor(t,r,i,l){let c,h=r.type.toDOM;if("function"==typeof h&&(h=h(i,()=>c?c.parent?c.parent.posBeforeChild(c):void 0:l)),!r.type.spec.raw){if(1!=h.nodeType){let g=document.createElement("span");g.appendChild(h),h=g}h.contentEditable="false",h.classList.add("ProseMirror-widget")}super(t,[],h,null),this.widget=r,this.widget=r,c=this}matchesWidget(t){return 0==this.dirty&&t.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(t){let r=this.widget.spec.stopEvent;return!!r&&r(t)}ignoreMutation(t){return"selection"!=t.type||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class Ri extends Yo{constructor(t,r,i,l){super(t,[],r,null),this.textDOM=i,this.text=l}get size(){return this.text.length}localPosFromDOM(t,r){return t!=this.textDOM?this.posAtStart+(r?this.size:0):this.posAtStart+r}domFromPos(t){return{node:this.textDOM,offset:t}}ignoreMutation(t){return"characterData"===t.type&&t.target.nodeValue==t.oldValue}}class b extends Yo{constructor(t,r,i,l){super(t,[],i,l),this.mark=r}static create(t,r,i,l){let c=l.nodeViews[r.type.name],h=c&&c(r,l,i);return(!h||!h.dom)&&(h=j.renderSpec(document,r.type.spec.toDOM(r,i))),new b(t,r,h.dom,h.contentDOM||h.dom)}parseRule(){return 3&this.dirty||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(t){return 3!=this.dirty&&this.mark.eq(t)}markDirty(t,r){if(super.markDirty(t,r),0!=this.dirty){let i=this.parent;for(;!i.node;)i=i.parent;i.dirty<this.dirty&&(i.dirty=this.dirty),this.dirty=0}}slice(t,r,i){let l=b.create(this.parent,this.mark,!0,i),c=this.children,h=this.size;r<h&&(c=Ia(c,r,h,i)),t>0&&(c=Ia(c,0,t,i));for(let g=0;g<c.length;g++)c[g].parent=l;return l.children=c,l}}class N extends Yo{constructor(t,r,i,l,c,h,g,C,I){super(t,[],c,h),this.node=r,this.outerDeco=i,this.innerDeco=l,this.nodeDOM=g}static create(t,r,i,l,c,h){let C,g=c.nodeViews[r.type.name],I=g&&g(r,c,()=>C?C.parent?C.parent.posBeforeChild(C):void 0:h,i,l),O=I&&I.dom,H=I&&I.contentDOM;if(r.isText)if(O){if(3!=O.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else O=document.createTextNode(r.text);else O||({dom:O,contentDOM:H}=j.renderSpec(document,r.type.spec.toDOM(r)));!H&&!r.isText&&"BR"!=O.nodeName&&(O.hasAttribute("contenteditable")||(O.contentEditable="false"),r.type.spec.draggable&&(O.draggable=!0));let G=O;return O=Gt(O,i,r),I?C=new ce(t,r,i,l,O,H||null,G,I,c,h+1):r.isText?new k(t,r,i,l,O,G,c):new N(t,r,i,l,O,H||null,G,c,h+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let t={node:this.node.type.name,attrs:this.node.attrs};if("pre"==this.node.type.whitespace&&(t.preserveWhitespace="full"),this.contentDOM)if(this.contentLost){for(let r=this.children.length-1;r>=0;r--){let i=this.children[r];if(this.dom.contains(i.dom.parentNode)){t.contentElement=i.dom.parentNode;break}}t.contentElement||(t.getContent=()=>ve.empty)}else t.contentElement=this.contentDOM;else t.getContent=()=>this.node.content;return t}matchesNode(t,r,i){return 0==this.dirty&&t.eq(this.node)&&an(r,this.outerDeco)&&i.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(t,r){let i=this.node.inlineContent,l=r,c=t.composing?this.localCompositionInfo(t,r):null,h=c&&c.pos>-1?c:null,g=c&&c.pos<0,C=new dr(this,h&&h.node,t);(function oo(s,t,r,i){let l=t.locals(s),c=0;if(0==l.length){for(let I=0;I<s.childCount;I++){let O=s.child(I);i(O,l,t.forChild(c,O),I),c+=O.nodeSize}return}let h=0,g=[],C=null;for(let I=0;;){if(h<l.length&&l[h].to==c){let Te,ne=l[h++];for(;h<l.length&&l[h].to==c;)(Te||(Te=[ne])).push(l[h++]);if(Te){Te.sort(Di);for(let pt=0;pt<Te.length;pt++)r(Te[pt],I,!!C)}else r(ne,I,!!C)}let O,H;if(C)H=-1,O=C,C=null;else{if(!(I<s.childCount))break;H=I,O=s.child(I++)}for(let ne=0;ne<g.length;ne++)g[ne].to<=c&&g.splice(ne--,1);for(;h<l.length&&l[h].from<=c&&l[h].to>c;)g.push(l[h++]);let G=c+O.nodeSize;if(O.isText){let ne=G;h<l.length&&l[h].from<ne&&(ne=l[h].from);for(let Te=0;Te<g.length;Te++)g[Te].to<ne&&(ne=g[Te].to);ne<G&&(C=O.cut(ne-c),O=O.cut(0,ne-c),G=ne,H=-1)}i(O,O.isInline&&!O.isLeaf?g.filter(ne=>!ne.inline):g.slice(),t.forChild(c,O),H),c=G}})(this.node,this.innerDeco,(I,O,H)=>{I.spec.marks?C.syncToMarks(I.spec.marks,i,t):I.type.side>=0&&!H&&C.syncToMarks(O==this.node.childCount?Fe.none:this.node.child(O).marks,i,t),C.placeWidget(I,t,l)},(I,O,H,G)=>{let W;C.syncToMarks(I.marks,i,t),C.findNodeMatch(I,O,H,G)||g&&t.state.selection.from>l&&t.state.selection.to<l+I.nodeSize&&(W=C.findIndexWithChild(c.node))>-1&&C.updateNodeAt(I,O,H,W,t)||C.updateNextNode(I,O,H,t,G,l)||C.addNode(I,O,H,t,l),l+=I.nodeSize}),C.syncToMarks([],i,t),this.node.isTextblock&&C.addTextblockHacks(),C.destroyRest(),(C.changed||2==this.dirty)&&(h&&this.protectLocalComposition(t,h),ge(this.contentDOM,this.children,t),x&&function Ko(s){if("UL"==s.nodeName||"OL"==s.nodeName){let t=s.style.cssText;s.style.cssText=t+"; list-style: square !important",window.getComputedStyle(s),s.style.cssText=t}}(this.dom))}localCompositionInfo(t,r){let{from:i,to:l}=t.state.selection;if(!(t.state.selection instanceof kt)||i<r||l>r+this.node.content.size)return null;let c=t.domSelectionRange(),h=function er(s,t){for(;;){if(3==s.nodeType)return s;if(1==s.nodeType&&t>0){if(s.childNodes.length>t&&3==s.childNodes[t].nodeType)return s.childNodes[t];t=yn(s=s.childNodes[t-1])}else{if(!(1==s.nodeType&&t<s.childNodes.length))return null;s=s.childNodes[t],t=0}}}(c.focusNode,c.focusOffset);if(!h||!this.dom.contains(h.parentNode))return null;if(this.node.inlineContent){let g=h.nodeValue,C=function Zo(s,t,r,i){for(let l=0,c=0;l<s.childCount&&c<=i;){let h=s.child(l++),g=c;if(c+=h.nodeSize,!h.isText)continue;let C=h.text;for(;l<s.childCount;){let I=s.child(l++);if(c+=I.nodeSize,!I.isText)break;C+=I.text}if(c>=r){let I=g<i?C.lastIndexOf(t,i-g-1):-1;if(I>=0&&I+t.length+g>=r)return g+I;if(r==i&&C.length>=i+t.length-g&&C.slice(i-g,i-g+t.length)==t)return i}}return-1}(this.node.content,g,i-r,l-r);return C<0?null:{node:h,pos:C,text:g}}return{node:h,pos:-1,text:""}}protectLocalComposition(t,{node:r,pos:i,text:l}){if(this.getDesc(r))return;let c=r;for(;c.parentNode!=this.contentDOM;c=c.parentNode){for(;c.previousSibling;)c.parentNode.removeChild(c.previousSibling);for(;c.nextSibling;)c.parentNode.removeChild(c.nextSibling);c.pmViewDesc&&(c.pmViewDesc=void 0)}let h=new Ri(this,c,r,l);t.input.compositionNodes.push(h),this.children=Ia(this.children,i,i+l.length,t,h)}update(t,r,i,l){return!(3==this.dirty||!t.sameMarkup(this.node)||(this.updateInner(t,r,i,l),0))}updateInner(t,r,i,l){this.updateOuterDeco(r),this.node=t,this.innerDeco=i,this.contentDOM&&this.updateChildren(l,this.posAtStart),this.dirty=0}updateOuterDeco(t){if(an(t,this.outerDeco))return;let r=1!=this.nodeDOM.nodeType,i=this.dom;this.dom=en(this.dom,this.nodeDOM,ht(this.outerDeco,this.node,r),ht(t,this.node,r)),this.dom!=i&&(i.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=t}selectNode(){1==this.nodeDOM.nodeType&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){1==this.nodeDOM.nodeType&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable")}get domAtom(){return this.node.isAtom}}function M(s,t,r,i,l){Gt(i,t,s);let c=new N(void 0,s,t,r,i,i,i,l,0);return c.contentDOM&&c.updateChildren(l,0),c}class k extends N{constructor(t,r,i,l,c,h,g){super(t,r,i,l,c,null,h,g,0)}parseRule(){let t=this.nodeDOM.parentNode;for(;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}}update(t,r,i,l){return!(3==this.dirty||0!=this.dirty&&!this.inParent()||!t.sameMarkup(this.node)||(this.updateOuterDeco(r),(0!=this.dirty||t.text!=this.node.text)&&t.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=t.text,l.trackWrites==this.nodeDOM&&(l.trackWrites=null)),this.node=t,this.dirty=0,0))}inParent(){let t=this.parent.contentDOM;for(let r=this.nodeDOM;r;r=r.parentNode)if(r==t)return!0;return!1}domFromPos(t){return{node:this.nodeDOM,offset:t}}localPosFromDOM(t,r,i){return t==this.nodeDOM?this.posAtStart+Math.min(r,this.node.text.length):super.localPosFromDOM(t,r,i)}ignoreMutation(t){return"characterData"!=t.type&&"selection"!=t.type}slice(t,r,i){let l=this.node.cut(t,r),c=document.createTextNode(l.text);return new k(this.parent,l,this.outerDeco,this.innerDeco,c,c,i)}markDirty(t,r){super.markDirty(t,r),this.dom!=this.nodeDOM&&(0==t||r==this.nodeDOM.nodeValue.length)&&(this.dirty=3)}get domAtom(){return!1}}class $ extends Yo{parseRule(){return{ignore:!0}}matchesHack(t){return 0==this.dirty&&this.dom.nodeName==t}get domAtom(){return!0}get ignoreForCoords(){return"IMG"==this.dom.nodeName}}class ce extends N{constructor(t,r,i,l,c,h,g,C,I,O){super(t,r,i,l,c,h,g,I,O),this.spec=C}update(t,r,i,l){if(3==this.dirty)return!1;if(this.spec.update){let c=this.spec.update(t,r,i);return c&&this.updateInner(t,r,i,l),c}return!(!this.contentDOM&&!t.isLeaf)&&super.update(t,r,i,l)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(t,r,i,l){this.spec.setSelection?this.spec.setSelection(t,r,i):super.setSelection(t,r,i,l)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(t){return!!this.spec.stopEvent&&this.spec.stopEvent(t)}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}}function ge(s,t,r){let i=s.firstChild,l=!1;for(let c=0;c<t.length;c++){let h=t[c],g=h.dom;if(g.parentNode==s){for(;g!=i;)i=On(i),l=!0;i=i.nextSibling}else l=!0,s.insertBefore(g,i);if(h instanceof b){let C=i?i.previousSibling:s.lastChild;ge(h.contentDOM,h.children,r),i=C?C.nextSibling:s.firstChild}}for(;i;)i=On(i),l=!0;l&&r.trackWrites==s&&(r.trackWrites=null)}const nt=function(s){s&&(this.nodeName=s)};nt.prototype=Object.create(null);const zt=[new nt];function ht(s,t,r){if(0==s.length)return zt;let i=r?zt[0]:new nt,l=[i];for(let c=0;c<s.length;c++){let h=s[c].type.attrs;if(h){h.nodeName&&l.push(i=new nt(h.nodeName));for(let g in h){let C=h[g];null!=C&&(r&&1==l.length&&l.push(i=new nt(t.isInline?"span":"div")),"class"==g?i.class=(i.class?i.class+" ":"")+C:"style"==g?i.style=(i.style?i.style+";":"")+C:"nodeName"!=g&&(i[g]=C))}}}return l}function en(s,t,r,i){if(r==zt&&i==zt)return t;let l=t;for(let c=0;c<i.length;c++){let h=i[c],g=r[c];if(c){let C;g&&g.nodeName==h.nodeName&&l!=s&&(C=l.parentNode)&&C.nodeName.toLowerCase()==h.nodeName||(C=document.createElement(h.nodeName),C.pmIsDeco=!0,C.appendChild(l),g=zt[0]),l=C}Ft(l,g||zt[0],h)}return l}function Ft(s,t,r){for(let i in t)"class"!=i&&"style"!=i&&"nodeName"!=i&&!(i in r)&&s.removeAttribute(i);for(let i in r)"class"!=i&&"style"!=i&&"nodeName"!=i&&r[i]!=t[i]&&s.setAttribute(i,r[i]);if(t.class!=r.class){let i=t.class?t.class.split(" ").filter(Boolean):[],l=r.class?r.class.split(" ").filter(Boolean):[];for(let c=0;c<i.length;c++)-1==l.indexOf(i[c])&&s.classList.remove(i[c]);for(let c=0;c<l.length;c++)-1==i.indexOf(l[c])&&s.classList.add(l[c]);0==s.classList.length&&s.removeAttribute("class")}if(t.style!=r.style){if(t.style){let l,i=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;for(;l=i.exec(t.style);)s.style.removeProperty(l[1])}r.style&&(s.style.cssText+=r.style)}}function Gt(s,t,r){return en(s,s,zt,ht(t,r,1!=s.nodeType))}function an(s,t){if(s.length!=t.length)return!1;for(let r=0;r<s.length;r++)if(!s[r].type.eq(t[r].type))return!1;return!0}function On(s){let t=s.nextSibling;return s.parentNode.removeChild(s),t}class dr{constructor(t,r,i){this.lock=r,this.view=i,this.index=0,this.stack=[],this.changed=!1,this.top=t,this.preMatch=function Rn(s,t){let r=t,i=r.children.length,l=s.childCount,c=new Map,h=[];e:for(;l>0;){let g;for(;;)if(i){let I=r.children[i-1];if(!(I instanceof b)){g=I,i--;break}r=I,i=I.children.length}else{if(r==t)break e;i=r.parent.children.indexOf(r),r=r.parent}let C=g.node;if(C){if(C!=s.child(l-1))break;--l,c.set(g,l),h.push(g)}}return{index:l,matched:c,matches:h.reverse()}}(t.node.content,t)}destroyBetween(t,r){if(t!=r){for(let i=t;i<r;i++)this.top.children[i].destroy();this.top.children.splice(t,r-t),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(t,r,i){let l=0,c=this.stack.length>>1,h=Math.min(c,t.length);for(;l<h&&(l==c-1?this.top:this.stack[l+1<<1]).matchesMark(t[l])&&!1!==t[l].type.spec.spanning;)l++;for(;l<c;)this.destroyRest(),this.top.dirty=0,this.index=this.stack.pop(),this.top=this.stack.pop(),c--;for(;c<t.length;){this.stack.push(this.top,this.index+1);let g=-1;for(let C=this.index;C<Math.min(this.index+3,this.top.children.length);C++){let I=this.top.children[C];if(I.matchesMark(t[c])&&!this.isLocked(I.dom)){g=C;break}}if(g>-1)g>this.index&&(this.changed=!0,this.destroyBetween(this.index,g)),this.top=this.top.children[this.index];else{let C=b.create(this.top,t[c],r,i);this.top.children.splice(this.index,0,C),this.top=C,this.changed=!0}this.index=0,c++}}findNodeMatch(t,r,i,l){let h,c=-1;if(l>=this.preMatch.index&&(h=this.preMatch.matches[l-this.preMatch.index]).parent==this.top&&h.matchesNode(t,r,i))c=this.top.children.indexOf(h,this.index);else for(let g=this.index,C=Math.min(this.top.children.length,g+5);g<C;g++){let I=this.top.children[g];if(I.matchesNode(t,r,i)&&!this.preMatch.matched.has(I)){c=g;break}}return!(c<0||(this.destroyBetween(this.index,c),this.index++,0))}updateNodeAt(t,r,i,l,c){let h=this.top.children[l];return 3==h.dirty&&h.dom==h.contentDOM&&(h.dirty=2),!!h.update(t,r,i,c)&&(this.destroyBetween(this.index,l),this.index++,!0)}findIndexWithChild(t){for(;;){let r=t.parentNode;if(!r)return-1;if(r==this.top.contentDOM){let i=t.pmViewDesc;if(i)for(let l=this.index;l<this.top.children.length;l++)if(this.top.children[l]==i)return l;return-1}t=r}}updateNextNode(t,r,i,l,c,h){for(let g=this.index;g<this.top.children.length;g++){let C=this.top.children[g];if(C instanceof N){let I=this.preMatch.matched.get(C);if(null!=I&&I!=c)return!1;let H,O=C.dom,G=this.isLocked(O)&&!(t.isText&&C.node&&C.node.isText&&C.nodeDOM.nodeValue==t.text&&3!=C.dirty&&an(r,C.outerDeco));if(!G&&C.update(t,r,i,l))return this.destroyBetween(this.index,g),C.dom!=O&&(this.changed=!0),this.index++,!0;if(!G&&(H=this.recreateWrapper(C,t,r,i,l,h)))return this.top.children[this.index]=H,H.dirty=2,H.updateChildren(l,h+1),H.dirty=0,this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(t,r,i,l,c,h){if(t.dirty||r.isAtom||!t.children.length||!t.node.content.eq(r.content))return null;let g=N.create(this.top,r,i,l,c,h);if(!g.contentDOM)return null;g.children=t.children,t.children=[],t.destroy();for(let C of g.children)C.parent=g;return g}addNode(t,r,i,l,c){let h=N.create(this.top,t,r,i,l,c);h.contentDOM&&h.updateChildren(l,c+1),this.top.children.splice(this.index++,0,h),this.changed=!0}placeWidget(t,r,i){let l=this.index<this.top.children.length?this.top.children[this.index]:null;if(!l||!l.matchesWidget(t)||t!=l.widget&&l.widget.type.toDOM.parentNode){let c=new xa(this.top,t,r,i);this.top.children.splice(this.index++,0,c),this.changed=!0}else this.index++}addTextblockHacks(){let t=this.top.children[this.index-1],r=this.top;for(;t instanceof b;)r=t,t=r.children[r.children.length-1];(!t||!(t instanceof k)||/\n$/.test(t.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(t.node.text))&&((cr||jn)&&t&&"false"==t.dom.contentEditable&&this.addHackNode("IMG",r),this.addHackNode("BR",this.top))}addHackNode(t,r){if(r==this.top&&this.index<r.children.length&&r.children[this.index].matchesHack(t))this.index++;else{let i=document.createElement(t);"IMG"==t&&(i.className="ProseMirror-separator",i.alt=""),"BR"==t&&(i.className="ProseMirror-trailingBreak");let l=new $(this.top,[],i,null);r!=this.top?r.children.push(l):r.children.splice(this.index++,0,l),this.changed=!0}}isLocked(t){return this.lock&&(t==this.lock||1==t.nodeType&&t.contains(this.lock.parentNode))}}function Di(s,t){return s.type.side-t.type.side}function Ia(s,t,r,i,l){let c=[];for(let h=0,g=0;h<s.length;h++){let C=s[h],I=g,O=g+=C.size;I>=r||O<=t?c.push(C):(I<t&&c.push(C.slice(0,t-I,i)),l&&(c.push(l),l=void 0),O>r&&c.push(C.slice(r-I,C.size,i)))}return c}function Cr(s,t=null){let r=s.domSelectionRange(),i=s.state.doc;if(!r.focusNode)return null;let l=s.docView.nearestDesc(r.focusNode),c=l&&0==l.size,h=s.docView.posFromDOM(r.focusNode,r.focusOffset,1);if(h<0)return null;let C,I,g=i.resolve(h);if(Fn(r)){for(C=g;l&&!l.node;)l=l.parent;let O=l.node;if(l&&O.isAtom&&st.isSelectable(O)&&l.parent&&(!O.isInline||!function Ji(s,t,r){for(let i=0==t,l=t==yn(s);i||l;){if(s==r)return!0;let c=vr(s);if(!(s=s.parentNode))return!1;i=i&&0==c,l=l&&c==yn(s)}}(r.focusNode,r.focusOffset,l.dom))){let H=l.posBefore;I=new st(h==H?g:i.resolve(H))}}else{let O=s.docView.posFromDOM(r.anchorNode,r.anchorOffset,1);if(O<0)return null;C=i.resolve(O)}return I||(I=Qo(s,C,g,"pointer"==t||s.state.selection.head<g.pos&&!c?1:-1)),I}function Ws(s){return s.editable?s.hasFocus():Su(s)&&document.activeElement&&document.activeElement.contains(s.dom)}function Uo(s,t=!1){let r=s.state.selection;if(ul(s,r),Ws(s)){if(!t&&s.input.mouseDown&&s.input.mouseDown.allowDefault&&jn){let i=s.domSelectionRange(),l=s.domObserver.currentSelection;if(i.anchorNode&&l.anchorNode&&Tr(i.anchorNode,i.anchorOffset,l.anchorNode,l.anchorOffset))return s.input.mouseDown.delayedSelectionSync=!0,void s.domObserver.setCurSelection()}if(s.domObserver.disconnectSelection(),s.cursorWrapper)!function Js(s){let t=s.domSelection(),r=document.createRange(),i=s.cursorWrapper.dom,l="IMG"==i.nodeName;l?r.setEnd(i.parentNode,vr(i)+1):r.setEnd(i,0),r.collapse(!1),t.removeAllRanges(),t.addRange(r),!l&&!s.state.selection.visible&&Nn&&xo<=11&&(i.disabled=!0,i.disabled=!1)}(s);else{let c,h,{anchor:i,head:l}=r;ll&&!(r instanceof kt)&&(r.$from.parent.inlineContent||(c=St(s,r.from)),!r.empty&&!r.$from.parent.inlineContent&&(h=St(s,r.to))),s.docView.setSelection(i,l,s.root,t),ll&&(c&&io(c),h&&io(h)),r.visible?s.dom.classList.remove("ProseMirror-hideselection"):(s.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&function Eu(s){let t=s.dom.ownerDocument;t.removeEventListener("selectionchange",s.input.hideSelectionGuard);let r=s.domSelectionRange(),i=r.anchorNode,l=r.anchorOffset;t.addEventListener("selectionchange",s.input.hideSelectionGuard=()=>{(r.anchorNode!=i||r.anchorOffset!=l)&&(t.removeEventListener("selectionchange",s.input.hideSelectionGuard),setTimeout(()=>{(!Ws(s)||s.state.selection.visible)&&s.dom.classList.remove("ProseMirror-hideselection")},20))})}(s))}s.domObserver.setCurSelection(),s.domObserver.connectSelection()}}const ll=cr||jn&&In<63;function St(s,t){let{node:r,offset:i}=s.docView.domFromPos(t,0),l=i<r.childNodes.length?r.childNodes[i]:null,c=i?r.childNodes[i-1]:null;if(cr&&l&&"false"==l.contentEditable)return qs(l);if(!(l&&"false"!=l.contentEditable||c&&"false"!=c.contentEditable)){if(l)return qs(l);if(c)return qs(c)}}function qs(s){return s.contentEditable="true",cr&&s.draggable&&(s.draggable=!1,s.wasDraggable=!0),s}function io(s){s.contentEditable="false",s.wasDraggable&&(s.draggable=!0,s.wasDraggable=null)}function ul(s,t){if(t instanceof st){let r=s.docView.descAt(t.from);r!=s.lastSelectedViewDesc&&(Ta(s),r&&r.selectNode(),s.lastSelectedViewDesc=r)}else Ta(s)}function Ta(s){s.lastSelectedViewDesc&&(s.lastSelectedViewDesc.parent&&s.lastSelectedViewDesc.deselectNode(),s.lastSelectedViewDesc=void 0)}function Qo(s,t,r,i){return s.someProp("createSelectionBetween",l=>l(s,t,r))||kt.between(t,r,i)}function Mu(s){return!(s.editable&&!s.hasFocus())&&Su(s)}function Su(s){let t=s.domSelectionRange();if(!t.anchorNode)return!1;try{return s.dom.contains(3==t.anchorNode.nodeType?t.anchorNode.parentNode:t.anchorNode)&&(s.editable||s.dom.contains(3==t.focusNode.nodeType?t.focusNode.parentNode:t.focusNode))}catch{return!1}}function Ss(s,t){let{$anchor:r,$head:i}=s.selection,l=t>0?r.max(i):r.min(i),c=l.parent.inlineContent?l.depth?s.doc.resolve(t>0?l.after():l.before()):null:l;return c&&vt.findFrom(c,t)}function Ci(s,t){return s.dispatch(s.state.tr.setSelection(t).scrollIntoView()),!0}function Ne(s,t,r){let i=s.state.selection;if(!(i instanceof kt)){if(i instanceof st&&i.node.isInline)return Ci(s,new kt(t>0?i.$to:i.$from));{let l=Ss(s.state,t);return!!l&&Ci(s,l)}}if(!i.empty||r.indexOf("s")>-1)return!1;if(s.endOfTextblock(t>0?"forward":"backward")){let l=Ss(s.state,t);return!!(l&&l instanceof st)&&Ci(s,l)}if(!(S&&r.indexOf("m")>-1)){let h,l=i.$head,c=l.textOffset?null:t<0?l.nodeBefore:l.nodeAfter;if(!c||c.isText)return!1;let g=t<0?l.pos-c.nodeSize:l.pos;return!!(c.isAtom||(h=s.docView.descAt(g))&&!h.contentDOM)&&(st.isSelectable(c)?Ci(s,new st(t<0?s.state.doc.resolve(l.pos-c.nodeSize):l)):!!le&&Ci(s,new kt(s.state.doc.resolve(t<0?g:g+c.nodeSize))))}}function Wt(s){return 3==s.nodeType?s.nodeValue.length:s.childNodes.length}function zr(s){let t=s.pmViewDesc;return t&&0==t.size&&(s.nextSibling||"BR"!=s.nodeName)}function es(s,t){return t<0?function _r(s){let t=s.domSelectionRange(),r=t.focusNode,i=t.focusOffset;if(!r)return;let l,c,h=!1;for(no&&1==r.nodeType&&i<Wt(r)&&zr(r.childNodes[i])&&(h=!0);;)if(i>0){if(1!=r.nodeType)break;{let g=r.childNodes[i-1];if(zr(g))l=r,c=--i;else{if(3!=g.nodeType)break;r=g,i=r.nodeValue.length}}}else{if(xs(r))break;{let g=r.previousSibling;for(;g&&zr(g);)l=r.parentNode,c=vr(g),g=g.previousSibling;if(g)r=g,i=Wt(r);else{if(r=r.parentNode,r==s.dom)break;i=0}}}h?so(s,r,i):l&&so(s,l,c)}(s):cl(s)}function cl(s){let t=s.domSelectionRange(),r=t.focusNode,i=t.focusOffset;if(!r)return;let c,h,l=Wt(r);for(;;)if(i<l){if(1!=r.nodeType)break;if(!zr(r.childNodes[i]))break;c=r,h=++i}else{if(xs(r))break;{let g=r.nextSibling;for(;g&&zr(g);)c=g.parentNode,h=vr(g)+1,g=g.nextSibling;if(g)r=g,i=0,l=Wt(r);else{if(r=r.parentNode,r==s.dom)break;i=l=0}}}c&&so(s,c,h)}function xs(s){let t=s.pmViewDesc;return t&&t.node&&t.node.isBlock}function so(s,t,r){let i=s.domSelection();if(Fn(i)){let c=document.createRange();c.setEnd(t,r),c.setStart(t,r),i.removeAllRanges(),i.addRange(c)}else i.extend&&i.extend(t,r);s.domObserver.setCurSelection();let{state:l}=s;setTimeout(()=>{s.state==l&&Uo(s)},50)}function Is(s,t){let r=s.state.doc.resolve(t);if(!jn&&!E&&r.parent.inlineContent){let l=s.coordsAtPos(t);if(t>r.start()){let c=s.coordsAtPos(t-1),h=(c.top+c.bottom)/2;if(h>l.top&&h<l.bottom&&Math.abs(c.left-l.left)>1)return c.left<l.left?"ltr":"rtl"}if(t<r.end()){let c=s.coordsAtPos(t+1),h=(c.top+c.bottom)/2;if(h>l.top&&h<l.bottom&&Math.abs(c.left-l.left)>1)return c.left>l.left?"ltr":"rtl"}}return"rtl"==getComputedStyle(s.dom).direction?"rtl":"ltr"}function ts(s,t,r){let i=s.state.selection;if(i instanceof kt&&!i.empty||r.indexOf("s")>-1||S&&r.indexOf("m")>-1)return!1;let{$from:l,$to:c}=i;if(!l.parent.inlineContent||s.endOfTextblock(t<0?"up":"down")){let h=Ss(s.state,t);if(h&&h instanceof st)return Ci(s,h)}if(!l.parent.inlineContent){let h=t<0?l:c,g=i instanceof Ut?vt.near(h,t):vt.findFrom(h,t);return!!g&&Ci(s,g)}return!1}function dl(s,t){if(!(s.state.selection instanceof kt))return!0;let{$head:r,$anchor:i,empty:l}=s.state.selection;if(!r.sameParent(i))return!0;if(!l)return!1;if(s.endOfTextblock(t>0?"forward":"backward"))return!0;let c=!r.textOffset&&(t<0?r.nodeBefore:r.nodeAfter);if(c&&!c.isText){let h=s.state.tr;return t<0?h.delete(r.pos-c.nodeSize,r.pos):h.delete(r.pos,r.pos+c.nodeSize),s.dispatch(h),!0}return!1}function Iu(s,t,r){s.domObserver.stop(),t.contentEditable=r,s.domObserver.start()}function fl(s,t){s.someProp("transformCopied",W=>{t=W(t,s)});let r=[],{content:i,openStart:l,openEnd:c}=t;for(;l>1&&c>1&&1==i.childCount&&1==i.firstChild.childCount;){l--,c--;let W=i.firstChild;r.push(W.type.name,W.attrs!=W.type.defaultAttrs?W.attrs:null),i=W.content}let h=s.someProp("clipboardSerializer")||j.fromSchema(s.state.schema),g=gl(),C=g.createElement("div");C.appendChild(h.serializeFragment(i,{document:g}));let O,I=C.firstChild,H=0;for(;I&&1==I.nodeType&&(O=Na[I.nodeName.toLowerCase()]);){for(let W=O.length-1;W>=0;W--){let ne=g.createElement(O[W]);for(;C.firstChild;)ne.appendChild(C.firstChild);C.appendChild(ne),H++}I=C.firstChild}return I&&1==I.nodeType&&I.setAttribute("data-pm-slice",`${l} ${c}${H?` -${H}`:""} ${JSON.stringify(r)}`),{dom:C,text:s.someProp("clipboardTextSerializer",W=>W(t,s))||t.content.textBetween(0,t.content.size,"\n\n")}}function ns(s,t,r,i,l){let h,g,c=l.parent.type.spec.code;if(!r&&!t)return null;let C=t&&(i||c||!r);if(C){if(s.someProp("transformPastedText",G=>{t=G(t,c||i,s)}),c)return t?new ee(ve.from(s.state.schema.text(t.replace(/\r\n?/g,"\n"))),0,0):ee.empty;let H=s.someProp("clipboardTextParser",G=>G(t,l,i,s));if(H)g=H;else{let G=l.marks(),{schema:W}=s.state,ne=j.fromSchema(W);h=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(Te=>{let pt=h.appendChild(document.createElement("p"));Te&&pt.appendChild(ne.serializeNode(W.text(Te,G)))})}}else s.someProp("transformPastedHTML",H=>{r=H(r,s)}),h=function ml(s){let t=/^(\s*<meta [^>]*>)*/.exec(s);t&&(s=s.slice(t[0].length));let l,r=gl().createElement("div"),i=/<([a-z][^>\s]+)/i.exec(s);if((l=i&&Na[i[1].toLowerCase()])&&(s=l.map(c=>"<"+c+">").join("")+s+l.map(c=>"</"+c+">").reverse().join("")),r.innerHTML=s,l)for(let c=0;c<l.length;c++)r=r.querySelector(l[c])||r;return r}(r),le&&function Oa(s){let t=s.querySelectorAll(jn?"span:not([class]):not([style])":"span.Apple-converted-space");for(let r=0;r<t.length;r++){let i=t[r];1==i.childNodes.length&&"\xa0"==i.textContent&&i.parentNode&&i.parentNode.replaceChild(s.ownerDocument.createTextNode(" "),i)}}(h);let I=h&&h.querySelector("[data-pm-slice]"),O=I&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(I.getAttribute("data-pm-slice")||"");if(O&&O[3])for(let H=+O[3];H>0;H--){let G=h.firstChild;for(;G&&1!=G.nodeType;)G=G.nextSibling;if(!G)break;h=G}if(g||(g=(s.someProp("clipboardParser")||s.someProp("domParser")||Je.fromSchema(s.state.schema)).parseSlice(h,{preserveWhitespace:!(!C&&!O),context:l,ruleFromNode:G=>"BR"!=G.nodeName||G.nextSibling||!G.parentNode||_i.test(G.parentNode.nodeName)?null:{ignore:!0}})),O)g=function Ra(s,t){if(!s.size)return s;let i,r=s.content.firstChild.type.schema;try{i=JSON.parse(t)}catch{return s}let{content:l,openStart:c,openEnd:h}=s;for(let g=i.length-2;g>=0;g-=2){let C=r.nodes[i[g]];if(!C||C.hasRequiredAttrs())break;l=ve.from(C.create(i[g+1],l)),c++,h++}return new ee(l,c,h)}(Ys(g,+O[1],+O[2]),O[4]);else if(g=ee.maxOpen(function Au(s,t){if(s.childCount<2)return s;for(let r=t.depth;r>=0;r--){let c,l=t.node(r).contentMatchAt(t.index(r)),h=[];if(s.forEach(g=>{if(!h)return;let I,C=l.findWrapping(g.type);if(!C)return h=null;if(I=h.length&&c.length&&Aa(C,c,g,h[h.length-1],0))h[h.length-1]=I;else{h.length&&(h[h.length-1]=pl(h[h.length-1],c.length));let O=hl(g,C);h.push(O),l=l.matchType(O.type),c=C}}),h)return ve.from(h)}return s}(g.content,l),!0),g.openStart||g.openEnd){let H=0,G=0;for(let W=g.content.firstChild;H<g.openStart&&!W.type.spec.isolating;H++,W=W.firstChild);for(let W=g.content.lastChild;G<g.openEnd&&!W.type.spec.isolating;G++,W=W.lastChild);g=Ys(g,H,G)}return s.someProp("transformPasted",H=>{g=H(g,s)}),g}const _i=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function hl(s,t,r=0){for(let i=t.length-1;i>=r;i--)s=t[i].create(null,ve.from(s));return s}function Aa(s,t,r,i,l){if(l<s.length&&l<t.length&&s[l]==t[l]){let c=Aa(s,t,r,i.lastChild,l+1);if(c)return i.copy(i.content.replaceChild(i.childCount-1,c));if(i.contentMatchAt(i.childCount).matchType(l==s.length-1?r.type:s[l+1]))return i.copy(i.content.append(ve.from(hl(r,s,l+1))))}}function pl(s,t){if(0==t)return s;let r=s.content.replaceChild(s.childCount-1,pl(s.lastChild,t-1)),i=s.contentMatchAt(s.childCount).fillBefore(ve.empty,!0);return s.copy(r.append(i))}function Ts(s,t,r,i,l,c){let h=t<0?s.firstChild:s.lastChild,g=h.content;return s.childCount>1&&(c=0),l<i-1&&(g=Ts(g,t,r,i,l+1,c)),l>=r&&(g=t<0?h.contentMatchAt(0).fillBefore(g,c<=l).append(g):g.append(h.contentMatchAt(h.childCount).fillBefore(ve.empty,!0))),s.replaceChild(t<0?0:s.childCount-1,h.copy(g))}function Ys(s,t,r){return t<s.openStart&&(s=new ee(Ts(s.content,-1,t,s.openStart,0,s.openEnd),t,s.openEnd)),r<s.openEnd&&(s=new ee(Ts(s.content,1,r,s.openEnd,0,0),s.openStart,r)),s}const Na={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let Ks=null;function gl(){return Ks||(Ks=document.implementation.createHTMLDocument("title"))}const wr={},Ar={},Nu={touchstart:!0,touchmove:!0};class yl{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function ki(s,t){s.input.lastSelectionOrigin=t,s.input.lastSelectionTime=Date.now()}function y(s){s.someProp("handleDOMEvents",t=>{for(let r in t)s.input.eventHandlers[r]||s.dom.addEventListener(r,s.input.eventHandlers[r]=i=>D(s,i))})}function D(s,t){return s.someProp("handleDOMEvents",r=>{let i=r[t.type];return!!i&&(i(s,t)||t.defaultPrevented)})}function m(s,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let r=t.target;r!=s.dom;r=r.parentNode)if(!r||11==r.nodeType||r.pmViewDesc&&r.pmViewDesc.stopEvent(t))return!1;return!0}function A(s){return{left:s.clientX,top:s.clientY}}function V(s,t,r,i,l){if(-1==i)return!1;let c=s.state.doc.resolve(i);for(let h=c.depth+1;h>0;h--)if(s.someProp(t,g=>h>c.depth?g(s,r,c.nodeAfter,c.before(h),l,!0):g(s,r,c.node(h),c.before(h),l,!1)))return!0;return!1}function Q(s,t,r){s.focused||s.focus();let i=s.state.tr.setSelection(t);"pointer"==r&&i.setMeta("pointer",!0),s.dispatch(i)}function rn(s,t,r,i){return V(s,"handleDoubleClickOn",t,r,i)||s.someProp("handleDoubleClick",l=>l(s,t,i))}function Er(s,t,r,i){return V(s,"handleTripleClickOn",t,r,i)||s.someProp("handleTripleClick",l=>l(s,t,i))||function rs(s,t,r){if(0!=r.button)return!1;let i=s.state.doc;if(-1==t)return!!i.inlineContent&&(Q(s,kt.create(i,0,i.content.size),"pointer"),!0);let l=i.resolve(t);for(let c=l.depth+1;c>0;c--){let h=c>l.depth?l.nodeAfter:l.node(c),g=l.before(c);if(h.inlineContent)Q(s,kt.create(i,g+1,g+1+h.content.size),"pointer");else{if(!st.isSelectable(h))continue;Q(s,st.create(i,g),"pointer")}return!0}}(s,r,i)}function ei(s){return ea(s)}Ar.keydown=(s,t)=>{let r=t;if(s.input.shiftKey=16==r.keyCode||r.shiftKey,!As(s,r)&&(s.input.lastKeyCode=r.keyCode,s.input.lastKeyCodeTime=Date.now(),!P||!jn||13!=r.keyCode))if(229!=r.keyCode&&s.domObserver.forceFlush(),!x||13!=r.keyCode||r.ctrlKey||r.altKey||r.metaKey)s.someProp("handleKeyDown",i=>i(s,r))||function Xo(s,t){let r=t.keyCode,i=function br(s){let t="";return s.ctrlKey&&(t+="c"),s.metaKey&&(t+="m"),s.altKey&&(t+="a"),s.shiftKey&&(t+="s"),t}(t);if(8==r||S&&72==r&&"c"==i)return dl(s,-1)||es(s,-1);if(46==r&&!t.shiftKey||S&&68==r&&"c"==i)return dl(s,1)||es(s,1);if(13==r||27==r)return!0;if(37==r||S&&66==r&&"c"==i){let l=37==r?"ltr"==Is(s,s.state.selection.from)?-1:1:-1;return Ne(s,l,i)||es(s,l)}if(39==r||S&&70==r&&"c"==i){let l=39==r?"ltr"==Is(s,s.state.selection.from)?1:-1:1;return Ne(s,l,i)||es(s,l)}return 38==r||S&&80==r&&"c"==i?ts(s,-1,i)||es(s,-1):40==r||S&&78==r&&"c"==i?function Tu(s){if(!cr||s.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:r}=s.domSelectionRange();if(t&&1==t.nodeType&&0==r&&t.firstChild&&"false"==t.firstChild.contentEditable){let i=t.firstChild;Iu(s,i,"true"),setTimeout(()=>Iu(s,i,"false"),20)}return!1}(s)||ts(s,1,i)||cl(s):i==(S?"m":"c")&&(66==r||73==r||89==r||90==r)}(s,r)?r.preventDefault():ki(s,"key");else{let i=Date.now();s.input.lastIOSEnter=i,s.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{s.input.lastIOSEnter==i&&(s.someProp("handleKeyDown",l=>l(s,ur(13,"Enter"))),s.input.lastIOSEnter=0)},200)}},Ar.keyup=(s,t)=>{16==t.keyCode&&(s.input.shiftKey=!1)},Ar.keypress=(s,t)=>{let r=t;if(As(s,r)||!r.charCode||r.ctrlKey&&!r.altKey||S&&r.metaKey)return;if(s.someProp("handleKeyPress",l=>l(s,r)))return void r.preventDefault();let i=s.state.selection;if(!(i instanceof kt&&i.$from.sameParent(i.$to))){let l=String.fromCharCode(r.charCode);!/[\r\n]/.test(l)&&!s.someProp("handleTextInput",c=>c(s,i.$from.pos,i.$to.pos,l))&&s.dispatch(s.state.tr.insertText(l).scrollIntoView()),r.preventDefault()}};const Pi=S?"metaKey":"ctrlKey";wr.mousedown=(s,t)=>{let r=t;s.input.shiftKey=r.shiftKey;let i=ei(s),l=Date.now(),c="singleClick";l-s.input.lastClick.time<500&&function L(s,t){let r=t.x-s.clientX,i=t.y-s.clientY;return r*r+i*i<100}(r,s.input.lastClick)&&!r[Pi]&&("singleClick"==s.input.lastClick.type?c="doubleClick":"doubleClick"==s.input.lastClick.type&&(c="tripleClick")),s.input.lastClick={time:l,x:r.clientX,y:r.clientY,type:c};let h=s.posAtCoords(A(r));h&&("singleClick"==c?(s.input.mouseDown&&s.input.mouseDown.done(),s.input.mouseDown=new Zs(s,h,r,!!i)):("doubleClick"==c?rn:Er)(s,h.pos,h.inside,r)?r.preventDefault():ki(s,"pointer"))};class Zs{constructor(t,r,i,l){let c,h;if(this.view=t,this.pos=r,this.event=i,this.flushed=l,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=t.state.doc,this.selectNode=!!i[Pi],this.allowDefault=i.shiftKey,r.inside>-1)c=t.state.doc.nodeAt(r.inside),h=r.inside;else{let O=t.state.doc.resolve(r.pos);c=O.parent,h=O.depth?O.before():0}const g=l?null:i.target,C=g?t.docView.nearestDesc(g,!0):null;this.target=C?C.dom:null;let{selection:I}=t.state;(0==i.button&&c.type.spec.draggable&&!1!==c.type.spec.selectable||I instanceof st&&I.from<=h&&I.to>h)&&(this.mightDrag={node:c,pos:h,addAttr:!(!this.target||this.target.draggable),setUneditable:!(!this.target||!no||this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),ki(t,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Uo(this.view)),this.view.input.mouseDown=null}up(t){if(this.done(),!this.view.dom.contains(t.target))return;let r=this.pos;this.view.state.doc!=this.startDoc&&(r=this.view.posAtCoords(A(t))),this.updateAllowDefault(t),this.allowDefault||!r?ki(this.view,"pointer"):function dt(s,t,r,i,l){return V(s,"handleClickOn",t,r,i)||s.someProp("handleClick",c=>c(s,t,i))||(l?function rt(s,t){if(-1==t)return!1;let i,l,r=s.state.selection;r instanceof st&&(i=r.node);let c=s.state.doc.resolve(t);for(let h=c.depth+1;h>0;h--){let g=h>c.depth?c.nodeAfter:c.node(h);if(st.isSelectable(g)){l=i&&r.$from.depth>0&&h>=r.$from.depth&&c.before(r.$from.depth+1)==r.$from.pos?c.before(r.$from.depth):c.before(h);break}}return null!=l&&(Q(s,st.create(s.state.doc,l),"pointer"),!0)}(s,r):function Ie(s,t){if(-1==t)return!1;let r=s.state.doc.resolve(t),i=r.nodeAfter;return!!(i&&i.isAtom&&st.isSelectable(i))&&(Q(s,new st(r),"pointer"),!0)}(s,r))}(this.view,r.pos,r.inside,t,this.selectNode)?t.preventDefault():0==t.button&&(this.flushed||cr&&this.mightDrag&&!this.mightDrag.node.isAtom||jn&&!this.view.state.selection.visible&&Math.min(Math.abs(r.pos-this.view.state.selection.from),Math.abs(r.pos-this.view.state.selection.to))<=2)?(Q(this.view,vt.near(this.view.state.doc.resolve(r.pos)),"pointer"),t.preventDefault()):ki(this.view,"pointer")}move(t){this.updateAllowDefault(t),ki(this.view,"pointer"),0==t.buttons&&this.done()}updateAllowDefault(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0)}}function As(s,t){return!!s.composing||!!(cr&&Math.abs(t.timeStamp-s.input.compositionEndedAt)<500)&&(s.input.compositionEndedAt=-2e8,!0)}wr.touchstart=s=>{s.input.lastTouch=Date.now(),ei(s),ki(s,"pointer")},wr.touchmove=s=>{s.input.lastTouch=Date.now(),ki(s,"pointer")},wr.contextmenu=s=>ei(s);const Qs=P?5e3:-1;function Xs(s,t){clearTimeout(s.input.composingTimeout),t>-1&&(s.input.composingTimeout=setTimeout(()=>ea(s),t))}function Gc(s){for(s.composing&&(s.input.composing=!1,s.input.compositionEndedAt=function Gg(){let s=document.createEvent("Event");return s.initEvent("event",!0,!0),s.timeStamp}());s.input.compositionNodes.length>0;)s.input.compositionNodes.pop().markParentsDirty()}function ea(s,t=!1){if(!(P&&s.domObserver.flushingSoon>=0)){if(s.domObserver.forceFlush(),Gc(s),t||s.docView&&s.docView.dirty){let r=Cr(s);return r&&!r.eq(s.state.selection)?s.dispatch(s.state.tr.setSelection(r)):s.updateState(s.state),!0}return!1}}Ar.compositionstart=Ar.compositionupdate=s=>{if(!s.composing){s.domObserver.flush();let{state:t}=s,r=t.selection.$from;if(t.selection.empty&&(t.storedMarks||!r.textOffset&&r.parentOffset&&r.nodeBefore.marks.some(i=>!1===i.type.spec.inclusive)))s.markCursor=s.state.storedMarks||r.marks(),ea(s,!0),s.markCursor=null;else if(ea(s),no&&t.selection.empty&&r.parentOffset&&!r.textOffset&&r.nodeBefore.marks.length){let i=s.domSelectionRange();for(let l=i.focusNode,c=i.focusOffset;l&&1==l.nodeType&&0!=c;){let h=c<0?l.lastChild:l.childNodes[c-1];if(!h)break;if(3==h.nodeType){s.domSelection().collapse(h,h.nodeValue.length);break}l=h,c=-1}}s.input.composing=!0}Xs(s,Qs)},Ar.compositionend=(s,t)=>{s.composing&&(s.input.composing=!1,s.input.compositionEndedAt=t.timeStamp,s.input.compositionID++,Xs(s,20))};const ta=Nn&&xo<15||x&&et<604;function vl(s,t,r,i,l){let c=ns(s,t,r,i,s.state.selection.$from);if(s.someProp("handlePaste",C=>C(s,l,c||ee.empty)))return!0;if(!c)return!1;let h=function Wf(s){return 0==s.openStart&&0==s.openEnd&&1==s.content.childCount?s.content.firstChild:null}(c),g=h?s.state.tr.replaceSelectionWith(h,i):s.state.tr.replaceSelection(c);return s.dispatch(g.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}wr.copy=Ar.cut=(s,t)=>{let r=t,i=s.state.selection,l="cut"==r.type;if(i.empty)return;let c=ta?null:r.clipboardData,h=i.content(),{dom:g,text:C}=fl(s,h);c?(r.preventDefault(),c.clearData(),c.setData("text/html",g.innerHTML),c.setData("text/plain",C)):function Wg(s,t){if(!s.dom.parentNode)return;let r=s.dom.parentNode.appendChild(document.createElement("div"));r.appendChild(t),r.style.cssText="position: fixed; left: -10000px; top: 10px";let i=getSelection(),l=document.createRange();l.selectNodeContents(t),s.dom.blur(),i.removeAllRanges(),i.addRange(l),setTimeout(()=>{r.parentNode&&r.parentNode.removeChild(r),s.focus()},50)}(s,g),l&&s.dispatch(s.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))},Ar.paste=(s,t)=>{let r=t;if(s.composing&&!P)return;let i=ta?null:r.clipboardData,l=s.input.shiftKey&&45!=s.input.lastKeyCode;i&&vl(s,i.getData("text/plain"),i.getData("text/html"),l,r)?r.preventDefault():function qg(s,t){if(!s.dom.parentNode)return;let r=s.input.shiftKey||s.state.selection.$from.parent.type.spec.code,i=s.dom.parentNode.appendChild(document.createElement(r?"textarea":"div"));r||(i.contentEditable="true"),i.style.cssText="position: fixed; left: -10000px; top: 10px",i.focus();let l=s.input.shiftKey&&45!=s.input.lastKeyCode;setTimeout(()=>{s.focus(),i.parentNode&&i.parentNode.removeChild(i),r?vl(s,i.value,null,l,t):vl(s,i.textContent,i.innerHTML,l,t)},50)}(s,r)};class Wc{constructor(t,r){this.slice=t,this.move=r}}const ka=S?"altKey":"ctrlKey";wr.dragstart=(s,t)=>{let r=t,i=s.input.mouseDown;if(i&&i.done(),!r.dataTransfer)return;let l=s.state.selection,c=l.empty?null:s.posAtCoords(A(r));if(!(c&&c.pos>=l.from&&c.pos<=(l instanceof st?l.to-1:l.to)))if(i&&i.mightDrag)s.dispatch(s.state.tr.setSelection(st.create(s.state.doc,i.mightDrag.pos)));else if(r.target&&1==r.target.nodeType){let I=s.docView.nearestDesc(r.target,!0);I&&I.node.type.spec.draggable&&I!=s.docView&&s.dispatch(s.state.tr.setSelection(st.create(s.state.doc,I.posBefore)))}let h=s.state.selection.content(),{dom:g,text:C}=fl(s,h);r.dataTransfer.clearData(),r.dataTransfer.setData(ta?"Text":"text/html",g.innerHTML),r.dataTransfer.effectAllowed="copyMove",ta||r.dataTransfer.setData("text/plain",C),s.dragging=new Wc(h,!r[ka])},wr.dragend=s=>{let t=s.dragging;window.setTimeout(()=>{s.dragging==t&&(s.dragging=null)},50)},Ar.dragover=Ar.dragenter=(s,t)=>t.preventDefault(),Ar.drop=(s,t)=>{let r=t,i=s.dragging;if(s.dragging=null,!r.dataTransfer)return;let l=s.posAtCoords(A(r));if(!l)return;let c=s.state.doc.resolve(l.pos),h=i&&i.slice;h?s.someProp("transformPasted",ne=>{h=ne(h,s)}):h=ns(s,r.dataTransfer.getData(ta?"Text":"text/plain"),ta?null:r.dataTransfer.getData("text/html"),!1,c);let g=!(!i||r[ka]);if(s.someProp("handleDrop",ne=>ne(s,r,h||ee.empty,g)))return void r.preventDefault();if(!h)return;r.preventDefault();let C=h?function Hs(s,t,r){let i=s.resolve(t);if(!r.content.size)return t;let l=r.content;for(let c=0;c<r.openStart;c++)l=l.firstChild.content;for(let c=1;c<=(0==r.openStart&&r.size?2:1);c++)for(let h=i.depth;h>=0;h--){let g=h==i.depth?0:i.pos<=(i.start(h+1)+i.end(h+1))/2?-1:1,C=i.index(h)+(g>0?1:0),I=i.node(h),O=!1;if(1==c)O=I.canReplace(C,C,l);else{let H=I.contentMatchAt(C).findWrapping(l.firstChild.type);O=H&&I.canReplaceWith(C,C,H[0])}if(O)return 0==g?i.pos:g<0?i.before(h+1):i.after(h+1)}return null}(s.state.doc,c.pos,h):c.pos;null==C&&(C=c.pos);let I=s.state.tr;g&&I.deleteSelection();let O=I.mapping.map(C),H=0==h.openStart&&0==h.openEnd&&1==h.content.childCount,G=I.doc;if(H?I.replaceRangeWith(O,O,h.content.firstChild):I.replaceRange(O,O,h),I.doc.eq(G))return;let W=I.doc.resolve(O);if(H&&st.isSelectable(h.content.firstChild)&&W.nodeAfter&&W.nodeAfter.sameMarkup(h.content.firstChild))I.setSelection(new st(W));else{let ne=I.mapping.map(C);I.mapping.maps[I.mapping.maps.length-1].forEach((Te,pt,Pt,ao)=>ne=ao),I.setSelection(Qo(s,W,I.doc.resolve(ne)))}s.focus(),s.dispatch(I.setMeta("uiEvent","drop"))},wr.focus=s=>{s.input.lastFocus=Date.now(),s.focused||(s.domObserver.stop(),s.dom.classList.add("ProseMirror-focused"),s.domObserver.start(),s.focused=!0,setTimeout(()=>{s.docView&&s.hasFocus()&&!s.domObserver.currentSelection.eq(s.domSelectionRange())&&Uo(s)},20))},wr.blur=(s,t)=>{let r=t;s.focused&&(s.domObserver.stop(),s.dom.classList.remove("ProseMirror-focused"),s.domObserver.start(),r.relatedTarget&&s.dom.contains(r.relatedTarget)&&s.domObserver.currentSelection.clear(),s.focused=!1)},wr.beforeinput=(s,t)=>{if(jn&&P&&"deleteContentBackward"==t.inputType){s.domObserver.flushSoon();let{domChangeCount:i}=s.input;setTimeout(()=>{if(s.input.domChangeCount!=i||(s.dom.blur(),s.focus(),s.someProp("handleKeyDown",c=>c(s,ur(8,"Backspace")))))return;let{$cursor:l}=s.state.selection;l&&l.pos>0&&s.dispatch(s.state.tr.delete(l.pos-1,l.pos).scrollIntoView())},50)}};for(let s in Ar)wr[s]=Ar[s];function Pa(s,t){if(s==t)return!0;for(let r in s)if(s[r]!==t[r])return!1;for(let r in t)if(!(r in s))return!1;return!0}class na{constructor(t,r){this.toDOM=t,this.spec=r||is,this.side=this.spec.side||0}map(t,r,i,l){let{pos:c,deleted:h}=t.mapResult(r.from+l,this.side<0?-1:1);return h?null:new ti(c-i,c-i,this)}valid(){return!0}eq(t){return this==t||t instanceof na&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&Pa(this.spec,t.spec))}destroy(t){this.spec.destroy&&this.spec.destroy(t)}}class bi{constructor(t,r){this.attrs=t,this.spec=r||is}map(t,r,i,l){let c=t.map(r.from+l,this.spec.inclusiveStart?-1:1)-i,h=t.map(r.to+l,this.spec.inclusiveEnd?1:-1)-i;return c>=h?null:new ti(c,h,this)}valid(t,r){return r.from<r.to}eq(t){return this==t||t instanceof bi&&Pa(this.attrs,t.attrs)&&Pa(this.spec,t.spec)}static is(t){return t.type instanceof bi}destroy(){}}class ra{constructor(t,r){this.attrs=t,this.spec=r||is}map(t,r,i,l){let c=t.mapResult(r.from+l,1);if(c.deleted)return null;let h=t.mapResult(r.to+l,-1);return h.deleted||h.pos<=c.pos?null:new ti(c.pos-i,h.pos-i,this)}valid(t,r){let c,{index:i,offset:l}=t.content.findIndex(r.from);return l==r.from&&!(c=t.child(i)).isText&&l+c.nodeSize==r.to}eq(t){return this==t||t instanceof ra&&Pa(this.attrs,t.attrs)&&Pa(this.spec,t.spec)}destroy(){}}class ti{constructor(t,r,i){this.from=t,this.to=r,this.type=i}copy(t,r){return new ti(t,r,this.type)}eq(t,r=0){return this.type.eq(t.type)&&this.from+r==t.from&&this.to+r==t.to}map(t,r,i){return this.type.map(t,this,r,i)}static widget(t,r,i){return new ti(t,t,new na(r,i))}static inline(t,r,i,l){return new ti(t,r,new bi(i,l))}static node(t,r,i,l){return new ti(t,r,new ra(i,l))}get spec(){return this.type.spec}get inline(){return this.type instanceof bi}}const Ns=[],is={};class ir{constructor(t,r){this.local=t.length?t:Ns,this.children=r.length?r:Ns}static create(t,r){return r.length?wl(r,t,0,is):kn}find(t,r,i){let l=[];return this.findInner(t??0,r??1e9,l,0,i),l}findInner(t,r,i,l,c){for(let h=0;h<this.local.length;h++){let g=this.local[h];g.from<=r&&g.to>=t&&(!c||c(g.spec))&&i.push(g.copy(g.from+l,g.to+l))}for(let h=0;h<this.children.length;h+=3)if(this.children[h]<r&&this.children[h+1]>t){let g=this.children[h]+1;this.children[h+2].findInner(t-g,r-g,i,l+g,c)}}map(t,r,i){return this==kn||0==t.maps.length?this:this.mapInner(t,r,0,0,i||is)}mapInner(t,r,i,l,c){let h;for(let g=0;g<this.local.length;g++){let C=this.local[g].map(t,i,l);C&&C.type.valid(r,C)?(h||(h=[])).push(C):c.onRemove&&c.onRemove(this.local[g].spec)}return this.children.length?function Dl(s,t,r,i,l,c,h){let g=s.slice();for(let I=0,O=c;I<r.maps.length;I++){let H=0;r.maps[I].forEach((G,W,ne,Te)=>{let pt=Te-ne-(W-G);for(let Pt=0;Pt<g.length;Pt+=3){let ao=g[Pt+1];if(ao<0||G>ao+O-H)continue;let lo=g[Pt]+O-H;W>=lo?g[Pt+1]=G<=lo?-2:-1:ne>=l&&pt&&(g[Pt]+=pt,g[Pt+1]+=pt)}H+=pt}),O=r.maps[I].map(O,-1)}let C=!1;for(let I=0;I<g.length;I+=3)if(g[I+1]<0){if(-2==g[I+1]){C=!0,g[I+1]=-1;continue}let O=r.map(s[I]+c),H=O-l;if(H<0||H>=i.content.size){C=!0;continue}let W=r.map(s[I+1]+c,-1)-l,{index:ne,offset:Te}=i.content.findIndex(H),pt=i.maybeChild(ne);if(pt&&Te==H&&Te+pt.nodeSize==W){let Pt=g[I+2].mapInner(r,pt,O+1,s[I]+c+1,h);Pt!=kn?(g[I]=H,g[I+1]=W,g[I+2]=Pt):(g[I+1]=-2,C=!0)}else C=!0}if(C){let I=function qc(s,t,r,i,l,c,h){function g(C,I){for(let O=0;O<C.local.length;O++){let H=C.local[O].map(i,l,I);H?r.push(H):h.onRemove&&h.onRemove(C.local[O].spec)}for(let O=0;O<C.children.length;O+=3)g(C.children[O+2],C.children[O]+I+1)}for(let C=0;C<s.length;C+=3)-1==s[C+1]&&g(s[C+2],t[C]+c+1);return r}(g,s,t,r,l,c,h),O=wl(I,i,0,h);t=O.local;for(let H=0;H<g.length;H+=3)g[H+1]<0&&(g.splice(H,3),H-=3);for(let H=0,G=0;H<O.children.length;H+=3){let W=O.children[H];for(;G<g.length&&g[G]<W;)G+=3;g.splice(G,0,O.children[H],O.children[H+1],O.children[H+2])}}return new ir(t.sort(as),g)}(this.children,h||[],t,r,i,l,c):h?new ir(h.sort(as),Ns):kn}add(t,r){return r.length?this==kn?ir.create(t,r):this.addInner(t,r,0):this}addInner(t,r,i){let l,c=0;t.forEach((g,C)=>{let O,I=C+i;if(O=_l(r,g,I)){for(l||(l=this.children.slice());c<l.length&&l[c]<C;)c+=3;l[c]==C?l[c+2]=l[c+2].addInner(g,O,I+1):l.splice(c,0,C,C+g.nodeSize,wl(O,g,I+1,is)),c+=3}});let h=Cl(c?bl(r):r,-i);for(let g=0;g<h.length;g++)h[g].type.valid(t,h[g])||h.splice(g--,1);return new ir(h.length?this.local.concat(h).sort(as):this.local,l||this.children)}remove(t){return 0==t.length||this==kn?this:this.removeInner(t,0)}removeInner(t,r){let i=this.children,l=this.local;for(let c=0;c<i.length;c+=3){let h,g=i[c]+r,C=i[c+1]+r;for(let H,O=0;O<t.length;O++)(H=t[O])&&H.from>g&&H.to<C&&(t[O]=null,(h||(h=[])).push(H));if(!h)continue;i==this.children&&(i=this.children.slice());let I=i[c+2].removeInner(h,g+1);I!=kn?i[c+2]=I:(i.splice(c,3),c-=3)}if(l.length)for(let h,c=0;c<t.length;c++)if(h=t[c])for(let g=0;g<l.length;g++)l[g].eq(h,r)&&(l==this.local&&(l=this.local.slice()),l.splice(g--,1));return i==this.children&&l==this.local?this:l.length||i.length?new ir(l,i):kn}forChild(t,r){if(this==kn)return this;if(r.isLeaf)return ir.empty;let i,l;for(let g=0;g<this.children.length;g+=3)if(this.children[g]>=t){this.children[g]==t&&(i=this.children[g+2]);break}let c=t+1,h=c+r.content.size;for(let g=0;g<this.local.length;g++){let C=this.local[g];if(C.from<h&&C.to>c&&C.type instanceof bi){let I=Math.max(c,C.from)-c,O=Math.min(h,C.to)-c;I<O&&(l||(l=[])).push(C.copy(I,O))}}if(l){let g=new ir(l.sort(as),Ns);return i?new ss([g,i]):g}return i||kn}eq(t){if(this==t)return!0;if(!(t instanceof ir)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let r=0;r<this.local.length;r++)if(!this.local[r].eq(t.local[r]))return!1;for(let r=0;r<this.children.length;r+=3)if(this.children[r]!=t.children[r]||this.children[r+1]!=t.children[r+1]||!this.children[r+2].eq(t.children[r+2]))return!1;return!0}locals(t){return El(this.localsInner(t))}localsInner(t){if(this==kn)return Ns;if(t.inlineContent||!this.local.some(bi.is))return this.local;let r=[];for(let i=0;i<this.local.length;i++)this.local[i].type instanceof bi||r.push(this.local[i]);return r}}ir.empty=new ir([],[]),ir.removeOverlap=El;const kn=ir.empty;class ss{constructor(t){this.members=t}map(t,r){const i=this.members.map(l=>l.map(t,r,is));return ss.from(i)}forChild(t,r){if(r.isLeaf)return ir.empty;let i=[];for(let l=0;l<this.members.length;l++){let c=this.members[l].forChild(t,r);c!=kn&&(c instanceof ss?i=i.concat(c.members):i.push(c))}return ss.from(i)}eq(t){if(!(t instanceof ss)||t.members.length!=this.members.length)return!1;for(let r=0;r<this.members.length;r++)if(!this.members[r].eq(t.members[r]))return!1;return!0}locals(t){let r,i=!0;for(let l=0;l<this.members.length;l++){let c=this.members[l].localsInner(t);if(c.length)if(r){i&&(r=r.slice(),i=!1);for(let h=0;h<c.length;h++)r.push(c[h])}else r=c}return r?El(i?r:r.sort(as)):Ns}static from(t){switch(t.length){case 0:return kn;case 1:return t[0];default:return new ss(t.every(r=>r instanceof ir)?t:t.reduce((r,i)=>r.concat(i instanceof ir?i:i.members),[]))}}}function Cl(s,t){if(!t||!s.length)return s;let r=[];for(let i=0;i<s.length;i++){let l=s[i];r.push(new ti(l.from+t,l.to+t,l.type))}return r}function _l(s,t,r){if(t.isLeaf)return null;let i=r+t.nodeSize,l=null;for(let h,c=0;c<s.length;c++)(h=s[c])&&h.from>r&&h.to<i&&((l||(l=[])).push(h),s[c]=null);return l}function bl(s){let t=[];for(let r=0;r<s.length;r++)null!=s[r]&&t.push(s[r]);return t}function wl(s,t,r,i){let l=[],c=!1;t.forEach((g,C)=>{let I=_l(s,g,C+r);if(I){c=!0;let O=wl(I,g,r+C+1,i);O!=kn&&l.push(C,C+g.nodeSize,O)}});let h=Cl(c?bl(s):s,-r).sort(as);for(let g=0;g<h.length;g++)h[g].type.valid(t,h[g])||(i.onRemove&&i.onRemove(h[g].spec),h.splice(g--,1));return h.length||l.length?new ir(h,l):kn}function as(s,t){return s.from-t.from||s.to-t.to}function El(s){let t=s;for(let r=0;r<t.length-1;r++){let i=t[r];if(i.from!=i.to)for(let l=r+1;l<t.length;l++){let c=t[l];if(c.from!=i.from){c.from<i.to&&(t==s&&(t=s.slice()),t[r]=i.copy(i.from,c.from),Ou(t,l,i.copy(c.from,i.to)));break}c.to!=i.to&&(t==s&&(t=s.slice()),t[l]=c.copy(c.from,i.to),Ou(t,l+1,c.copy(i.to,c.to)))}}return t}function Ou(s,t,r){for(;t<s.length&&as(r,s[t])>0;)t++;s.splice(t,0,r)}function Ml(s){let t=[];return s.someProp("decorations",r=>{let i=r(s.state);i&&i!=kn&&t.push(i)}),s.cursorWrapper&&t.push(ir.create(s.state.doc,[s.cursorWrapper.deco])),ss.from(t)}const qf={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Sl=Nn&&xo<=11;class Os{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset}}class Jf{constructor(t,r){this.view=t,this.handleDOMChange=r,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new Os,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver(i=>{for(let l=0;l<i.length;l++)this.queue.push(i[l]);Nn&&xo<=11&&i.some(l=>"childList"==l.type&&l.removedNodes.length||"characterData"==l.type&&l.oldValue.length>l.target.nodeValue.length)?this.flushSoon():this.flush()}),Sl&&(this.onCharData=i=>{this.queue.push({target:i.target,type:"characterData",oldValue:i.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,qf)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let t=this.observer.takeRecords();if(t.length){for(let r=0;r<t.length;r++)this.queue.push(t[r]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(Mu(this.view)){if(this.suppressingSelectionUpdates)return Uo(this.view);if(Nn&&xo<=11&&!this.view.state.selection.empty){let t=this.view.domSelectionRange();if(t.focusNode&&Tr(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(t){if(!t.focusNode)return!0;let i,r=new Set;for(let c=t.focusNode;c;c=Bo(c))r.add(c);for(let c=t.anchorNode;c;c=Bo(c))if(r.has(c)){i=c;break}let l=i&&this.view.docView.nearestDesc(i);return l&&l.ignoreMutation({type:"selection",target:3==i.nodeType?i.parentNode:i})?(this.setCurSelection(),!0):void 0}flush(){let{view:t}=this;if(!t.docView||this.flushingSoon>-1)return;let r=this.observer?this.observer.takeRecords():[];this.queue.length&&(r=this.queue.concat(r),this.queue.length=0);let i=t.domSelectionRange(),l=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(i)&&Mu(t)&&!this.ignoreSelectionChange(i),c=-1,h=-1,g=!1,C=[];if(t.editable)for(let O=0;O<r.length;O++){let H=this.registerMutation(r[O],C);H&&(c=c<0?H.from:Math.min(H.from,c),h=h<0?H.to:Math.max(H.to,h),H.typeOver&&(g=!0))}if(no&&C.length>1){let O=C.filter(H=>"BR"==H.nodeName);if(2==O.length){let H=O[0],G=O[1];H.parentNode&&H.parentNode.parentNode==G.parentNode?G.remove():H.remove()}}let I=null;c<0&&l&&t.input.lastFocus>Date.now()-200&&Math.max(t.input.lastTouch,t.input.lastClick.time)<Date.now()-300&&Fn(i)&&(I=Cr(t))&&I.eq(vt.near(t.state.doc.resolve(0),1))?(t.input.lastFocus=0,Uo(t),this.currentSelection.set(i),t.scrollToSelection()):(c>-1||l)&&(c>-1&&(t.docView.markDirty(c,h),function oa(s){if(!Ru.has(s)&&(Ru.set(s,null),-1!==["normal","nowrap","pre-line"].indexOf(getComputedStyle(s.dom).whiteSpace))){if(s.requiresGeckoHackNode=no,ku)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),ku=!0}}(t)),this.handleDOMChange(c,h,g,C),t.docView&&t.docView.dirty?t.updateState(t.state):this.currentSelection.eq(i)||Uo(t),this.currentSelection.set(i))}registerMutation(t,r){if(r.indexOf(t.target)>-1)return null;let i=this.view.docView.nearestDesc(t.target);if("attributes"==t.type&&(i==this.view.docView||"contenteditable"==t.attributeName||"style"==t.attributeName&&!t.oldValue&&!t.target.getAttribute("style"))||!i||i.ignoreMutation(t))return null;if("childList"==t.type){for(let O=0;O<t.addedNodes.length;O++)r.push(t.addedNodes[O]);if(i.contentDOM&&i.contentDOM!=i.dom&&!i.contentDOM.contains(t.target))return{from:i.posBefore,to:i.posAfter};let l=t.previousSibling,c=t.nextSibling;if(Nn&&xo<=11&&t.addedNodes.length)for(let O=0;O<t.addedNodes.length;O++){let{previousSibling:H,nextSibling:G}=t.addedNodes[O];(!H||Array.prototype.indexOf.call(t.addedNodes,H)<0)&&(l=H),(!G||Array.prototype.indexOf.call(t.addedNodes,G)<0)&&(c=G)}let h=l&&l.parentNode==t.target?vr(l)+1:0,g=i.localPosFromDOM(t.target,h,-1),C=c&&c.parentNode==t.target?vr(c):t.target.childNodes.length;return{from:g,to:i.localPosFromDOM(t.target,C,1)}}return"attributes"==t.type?{from:i.posAtStart-i.border,to:i.posAtEnd+i.border}:{from:i.posAtStart,to:i.posAtEnd,typeOver:t.target.nodeValue==t.oldValue}}}let Ru=new WeakMap,ku=!1;function Pu(s){let t=s.pmViewDesc;if(t)return t.parseRule();if("BR"==s.nodeName&&s.parentNode){if(cr&&/^(ul|ol)$/i.test(s.parentNode.nodeName)){let r=document.createElement("div");return r.appendChild(document.createElement("li")),{skip:r}}if(s.parentNode.lastChild==s||cr&&/^(tr|table)$/i.test(s.parentNode.nodeName))return{ignore:!0}}else if("IMG"==s.nodeName&&s.getAttribute("mark-placeholder"))return{ignore:!0};return null}const Kf=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function xl(s,t,r){return Math.max(r.anchor,r.head)>t.content.size?null:Qo(s,t.resolve(r.anchor),t.resolve(r.head))}function ls(s,t,r){let i=s.depth,l=t?s.end():s.pos;for(;i>0&&(t||s.indexAfter(i)==s.node(i).childCount);)i--,l++,t=!1;if(r){let c=s.node(i).maybeChild(s.indexAfter(i));for(;c&&!c.isLeaf;)c=c.firstChild,l++}return l}class Zf{constructor(t,r){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new yl,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=r,this.state=r.state,this.directPlugins=r.plugins||[],this.directPlugins.forEach(aa),this.dispatch=this.dispatch.bind(this),this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):"function"==typeof t?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=eh(this),Xf(this),this.nodeViews=th(this),this.docView=M(this.state.doc,Qf(this),Ml(this),this.dom,this),this.domObserver=new Jf(this,(i,l,c,h)=>function Yc(s,t,r,i,l){if(t<0){let un=s.input.lastSelectionTime>Date.now()-50?s.input.lastSelectionOrigin:null,ms=Cr(s,un);if(ms&&!s.state.selection.eq(ms)){if(jn&&P&&13===s.input.lastKeyCode&&Date.now()-100<s.input.lastKeyCodeTime&&s.someProp("handleKeyDown",wm=>wm(s,ur(13,"Enter"))))return;let Mc=s.state.tr.setSelection(ms);"pointer"==un?Mc.setMeta("pointer",!0):"key"==un&&Mc.scrollIntoView(),s.composing&&Mc.setMeta("composition",s.input.compositionID),s.dispatch(Mc)}return}let c=s.state.doc.resolve(t),h=c.sharedDepth(r);t=c.before(h+1),r=s.state.doc.resolve(r).after(h+1);let H,G,g=s.state.selection,C=function Jc(s,t,r){let I,{node:i,fromOffset:l,toOffset:c,from:h,to:g}=s.docView.parseRange(t,r),C=s.domSelectionRange(),O=C.anchorNode;if(O&&s.dom.contains(1==O.nodeType?O:O.parentNode)&&(I=[{node:O,offset:C.anchorOffset}],Fn(C)||I.push({node:C.focusNode,offset:C.focusOffset})),jn&&8===s.input.lastKeyCode)for(let pt=c;pt>l;pt--){let Pt=i.childNodes[pt-1],ao=Pt.pmViewDesc;if("BR"==Pt.nodeName&&!ao){c=pt;break}if(!ao||ao.size)break}let H=s.state.doc,G=s.someProp("domParser")||Je.fromSchema(s.state.schema),W=H.resolve(h),ne=null,Te=G.parse(i,{topNode:W.parent,topMatch:W.parent.contentMatchAt(W.index()),topOpen:!0,from:l,to:c,preserveWhitespace:"pre"!=W.parent.type.whitespace||"full",findPositions:I,ruleFromNode:Pu,context:W});if(I&&null!=I[0].pos){let pt=I[0].pos,Pt=I[1]&&I[1].pos;null==Pt&&(Pt=pt),ne={anchor:pt+h,head:Pt+h}}return{doc:Te,sel:ne,from:h,to:g}}(s,t,r),I=s.state.doc,O=I.slice(C.from,C.to);8===s.input.lastKeyCode&&Date.now()-100<s.input.lastKeyCodeTime?(H=s.state.selection.to,G="end"):(H=s.state.selection.from,G="start"),s.input.lastKeyCode=null;let W=function Kc(s,t,r,i,l){let c=s.findDiffStart(t,r);if(null==c)return null;let{a:h,b:g}=s.findDiffEnd(t,r+s.size,r+t.size);return"end"==l&&(i-=h+Math.max(0,c-Math.min(h,g))-c),h<c&&s.size<t.size?(c-=i<=c&&i>=h?c-i:0,g=c+(g-h),h=c):g<c&&(c-=i<=c&&i>=g?c-i:0,h=c+(h-g),g=c),{start:c,endA:h,endB:g}}(O.content,C.doc.content,C.from,H,G);if((x&&s.input.lastIOSEnter>Date.now()-225||P)&&l.some(un=>1==un.nodeType&&!Kf.test(un.nodeName))&&(!W||W.endA>=W.endB)&&s.someProp("handleKeyDown",un=>un(s,ur(13,"Enter"))))return void(s.input.lastIOSEnter=0);if(!W){if(!(i&&g instanceof kt&&!g.empty&&g.$head.sameParent(g.$anchor))||s.composing||C.sel&&C.sel.anchor!=C.sel.head){if(C.sel){let un=xl(s,s.state.doc,C.sel);if(un&&!un.eq(s.state.selection)){let ms=s.state.tr.setSelection(un);s.composing&&ms.setMeta("composition",s.input.compositionID),s.dispatch(ms)}}return}W={start:g.from,endA:g.to,endB:g.to}}if(jn&&s.cursorWrapper&&C.sel&&C.sel.anchor==s.cursorWrapper.deco.from&&C.sel.head==C.sel.anchor){let un=W.endB-W.start;C.sel={anchor:C.sel.anchor+un,head:C.sel.anchor+un}}s.input.domChangeCount++,s.state.selection.from<s.state.selection.to&&W.start==W.endB&&s.state.selection instanceof kt&&(W.start>s.state.selection.from&&W.start<=s.state.selection.from+2&&s.state.selection.from>=C.from?W.start=s.state.selection.from:W.endA<s.state.selection.to&&W.endA>=s.state.selection.to-2&&s.state.selection.to<=C.to&&(W.endB+=s.state.selection.to-W.endA,W.endA=s.state.selection.to)),Nn&&xo<=11&&W.endB==W.start+1&&W.endA==W.start&&W.start>C.from&&" \xa0"==C.doc.textBetween(W.start-C.from-1,W.start-C.from+1)&&(W.start--,W.endA--,W.endB--);let ao,ne=C.doc.resolveNoCache(W.start-C.from),Te=C.doc.resolveNoCache(W.endB-C.from),pt=I.resolve(W.start),Pt=ne.sameParent(Te)&&ne.parent.inlineContent&&pt.end()>=W.endA;if((x&&s.input.lastIOSEnter>Date.now()-225&&(!Pt||l.some(un=>"DIV"==un.nodeName||"P"==un.nodeName))||!Pt&&ne.pos<C.doc.content.size&&!ne.sameParent(Te)&&(ao=vt.findFrom(C.doc.resolve(ne.pos+1),1,!0))&&ao.head==Te.pos)&&s.someProp("handleKeyDown",un=>un(s,ur(13,"Enter"))))return void(s.input.lastIOSEnter=0);if(s.state.selection.anchor>W.start&&function sa(s,t,r,i,l){if(!i.parent.isTextblock||r-t<=l.pos-i.pos||ls(i,!0,!1)<l.pos)return!1;let c=s.resolve(t);if(c.parentOffset<c.parent.content.size||!c.parent.isTextblock)return!1;let h=s.resolve(ls(c,!0,!0));return!(!h.parent.isTextblock||h.pos>r||ls(h,!0,!1)<r)&&i.parent.content.cut(i.parentOffset).eq(h.parent.content)}(I,W.start,W.endA,ne,Te)&&s.someProp("handleKeyDown",un=>un(s,ur(8,"Backspace"))))return void(P&&jn&&s.domObserver.suppressSelectionUpdates());jn&&P&&W.endB==W.start&&(s.input.lastAndroidDelete=Date.now()),P&&!Pt&&ne.start()!=Te.start()&&0==Te.parentOffset&&ne.depth==Te.depth&&C.sel&&C.sel.anchor==C.sel.head&&C.sel.head==W.endA&&(W.endB-=2,Te=C.doc.resolveNoCache(W.endB-C.from),setTimeout(()=>{s.someProp("handleKeyDown",function(un){return un(s,ur(13,"Enter"))})},20));let Sr,ai,nl,lo=W.start,gs=W.endA;if(Pt)if(ne.pos==Te.pos)Nn&&xo<=11&&0==ne.parentOffset&&(s.domObserver.suppressSelectionUpdates(),setTimeout(()=>Uo(s),20)),Sr=s.state.tr.delete(lo,gs),ai=I.resolve(W.start).marksAcross(I.resolve(W.endA));else if(W.endA==W.endB&&(nl=function ia(s,t){let h,g,C,r=s.firstChild.marks,i=t.firstChild.marks,l=r,c=i;for(let O=0;O<i.length;O++)l=i[O].removeFromSet(l);for(let O=0;O<r.length;O++)c=r[O].removeFromSet(c);if(1==l.length&&0==c.length)g=l[0],h="add",C=O=>O.mark(g.addToSet(O.marks));else{if(0!=l.length||1!=c.length)return null;g=c[0],h="remove",C=O=>O.mark(g.removeFromSet(O.marks))}let I=[];for(let O=0;O<t.childCount;O++)I.push(C(t.child(O)));if(ve.from(I).eq(s))return{mark:g,type:h}}(ne.parent.content.cut(ne.parentOffset,Te.parentOffset),pt.parent.content.cut(pt.parentOffset,W.endA-pt.start()))))Sr=s.state.tr,"add"==nl.type?Sr.addMark(lo,gs,nl.mark):Sr.removeMark(lo,gs,nl.mark);else if(ne.parent.child(ne.index()).isText&&ne.index()==Te.index()-(Te.textOffset?0:1)){let un=ne.parent.textBetween(ne.parentOffset,Te.parentOffset);if(s.someProp("handleTextInput",ms=>ms(s,lo,gs,un)))return;Sr=s.state.tr.insertText(un,lo,gs)}if(Sr||(Sr=s.state.tr.replace(lo,gs,C.doc.slice(W.start-C.from,W.endB-C.from))),C.sel){let un=xl(s,Sr.doc,C.sel);un&&!(jn&&P&&s.composing&&un.empty&&(W.start!=W.endB||s.input.lastAndroidDelete<Date.now()-100)&&(un.head==lo||un.head==Sr.mapping.map(gs)-1)||Nn&&un.empty&&un.head==lo)&&Sr.setSelection(un)}ai&&Sr.ensureMarks(ai),s.composing&&Sr.setMeta("composition",s.input.compositionID),s.dispatch(Sr.scrollIntoView())}(this,i,l,c,h)),this.domObserver.start(),function zc(s){for(let t in wr){let r=wr[t];s.dom.addEventListener(t,s.input.eventHandlers[t]=i=>{m(s,i)&&!D(s,i)&&(s.editable||!(i.type in Ar))&&r(s,i)},Nu[t]?{passive:!0}:void 0)}cr&&s.dom.addEventListener("input",()=>null),y(s)}(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let t=this._props;this._props={};for(let r in t)this._props[r]=t[r];this._props.state=this.state}return this._props}update(t){t.handleDOMEvents!=this._props.handleDOMEvents&&y(this);let r=this._props;this._props=t,t.plugins&&(t.plugins.forEach(aa),this.directPlugins=t.plugins),this.updateStateInner(t.state,r)}setProps(t){let r={};for(let i in this._props)r[i]=this._props[i];r.state=this.state;for(let i in t)r[i]=t[i];this.update(r)}updateState(t){this.updateStateInner(t,this._props)}updateStateInner(t,r){let i=this.state,l=!1,c=!1;t.storedMarks&&this.composing&&(Gc(this),c=!0),this.state=t;let h=i.plugins!=t.plugins||this._props.plugins!=r.plugins;if(h||this._props.plugins!=r.plugins||this._props.nodeViews!=r.nodeViews){let G=th(this);(function Yg(s,t){let r=0,i=0;for(let l in s){if(s[l]!=t[l])return!0;r++}for(let l in t)i++;return r!=i})(G,this.nodeViews)&&(this.nodeViews=G,l=!0)}(h||r.handleDOMEvents!=this._props.handleDOMEvents)&&y(this),this.editable=eh(this),Xf(this);let g=Ml(this),C=Qf(this),I=i.plugins==t.plugins||i.doc.eq(t.doc)?t.scrollToSelection>i.scrollToSelection?"to selection":"preserve":"reset",O=l||!this.docView.matchesNode(t.doc,C,g);(O||!t.selection.eq(i.selection))&&(c=!0);let H="preserve"==I&&c&&null==this.dom.style.overflowAnchor&&function Ai(s){let i,l,t=s.dom.getBoundingClientRect(),r=Math.max(0,t.top);for(let c=(t.left+t.right)/2,h=r+1;h<Math.min(innerHeight,t.bottom);h+=5){let g=s.root.elementFromPoint(c,h);if(!g||g==s.dom||!s.dom.contains(g))continue;let C=g.getBoundingClientRect();if(C.top>=r-20){i=g,l=C.top;break}}return{refDOM:i,refTop:l,stack:jr(s.dom)}}(this);if(c){this.domObserver.stop();let G=O&&(Nn||jn)&&!this.composing&&!i.selection.empty&&!t.selection.empty&&function Jg(s,t){let r=Math.min(s.$anchor.sharedDepth(s.head),t.$anchor.sharedDepth(t.head));return s.$anchor.start(r)!=t.$anchor.start(r)}(i.selection,t.selection);if(O){let W=jn?this.trackWrites=this.domSelectionRange().focusNode:null;(l||!this.docView.update(t.doc,C,g,this))&&(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=M(t.doc,C,g,this.dom,this)),W&&!this.trackWrites&&(G=!0)}G||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&function xu(s){let t=s.docView.domFromPos(s.state.selection.anchor,0),r=s.domSelectionRange();return Tr(t.node,t.offset,r.anchorNode,r.anchorOffset)}(this))?Uo(this,G):(ul(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),"reset"==I?this.dom.scrollTop=0:"to selection"==I?this.scrollToSelection():H&&function mi({refDOM:s,refTop:t,stack:r}){let i=s?s.getBoundingClientRect().top:0;Ni(r,0==i?0:i-t)}(H)}scrollToSelection(){let t=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",r=>r(this)))if(this.state.selection instanceof st){let r=this.docView.domAfterPos(this.state.selection.from);1==r.nodeType&&Io(this,r.getBoundingClientRect(),t)}else Io(this,this.coordsAtPos(this.state.selection.head,1),t)}destroyPluginViews(){let t;for(;t=this.pluginViews.pop();)t.destroy&&t.destroy()}updatePluginViews(t){if(t&&t.plugins==this.state.plugins&&this.directPlugins==this.prevDirectPlugins)for(let r=0;r<this.pluginViews.length;r++){let i=this.pluginViews[r];i.update&&i.update(this,t)}else{this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let r=0;r<this.directPlugins.length;r++){let i=this.directPlugins[r];i.spec.view&&this.pluginViews.push(i.spec.view(this))}for(let r=0;r<this.state.plugins.length;r++){let i=this.state.plugins[r];i.spec.view&&this.pluginViews.push(i.spec.view(this))}}}someProp(t,r){let l,i=this._props&&this._props[t];if(null!=i&&(l=r?r(i):i))return l;for(let h=0;h<this.directPlugins.length;h++){let g=this.directPlugins[h].props[t];if(null!=g&&(l=r?r(g):g))return l}let c=this.state.plugins;if(c)for(let h=0;h<c.length;h++){let g=c[h].props[t];if(null!=g&&(l=r?r(g):g))return l}}hasFocus(){if(Nn){let t=this.root.activeElement;if(t==this.dom)return!0;if(!t||!this.dom.contains(t))return!1;for(;t&&this.dom!=t&&this.dom.contains(t);){if("false"==t.contentEditable)return!1;t=t.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&function Ea(s){if(s.setActive)return s.setActive();if(qo)return s.focus(qo);let t=jr(s);s.focus(null==qo?{get preventScroll(){return qo={preventScroll:!0},!0}}:void 0),qo||(qo=!1,Ni(t,0))}(this.dom),Uo(this),this.domObserver.start()}get root(){let t=this._root;if(null==t)for(let r=this.dom.parentNode;r;r=r.parentNode)if(9==r.nodeType||11==r.nodeType&&r.host)return r.getSelection||(Object.getPrototypeOf(r).getSelection=()=>r.ownerDocument.getSelection()),this._root=r;return t||document}posAtCoords(t){return qn(this,t)}coordsAtPos(t,r=1){return Oi(this,t,r)}domAtPos(t,r=0){return this.docView.domFromPos(t,r)}nodeDOM(t){let r=this.docView.descAt(t);return r?r.nodeDOM:null}posAtDOM(t,r,i=-1){let l=this.docView.posFromDOM(t,r,i);if(null==l)throw new RangeError("DOM position not inside the editor");return l}endOfTextblock(t,r){return function wu(s,t,r){return Qi==t&&Xi==r?al:(Qi=t,Xi=r,al="up"==r||"down"==r?function Ma(s,t,r){let i=t.selection,l="up"==r?i.$from:i.$to;return zs(s,t,()=>{let{node:c}=s.docView.domFromPos(l.pos,"up"==r?-1:1);for(;;){let g=s.docView.nearestDesc(c,!0);if(!g)break;if(g.node.isBlock){c=g.contentDOM||g.dom;break}c=g.dom.parentNode}let h=Oi(s,l.pos,1);for(let g=c.firstChild;g;g=g.nextSibling){let C;if(1==g.nodeType)C=g.getClientRects();else{if(3!=g.nodeType)continue;C=bn(g,0,g.nodeValue.length).getClientRects()}for(let I=0;I<C.length;I++){let O=C[I];if(O.bottom>O.top+1&&("up"==r?h.top-O.top>2*(O.bottom-h.top):O.bottom-h.bottom>2*(h.bottom-O.top)))return!1}}return!0})}(s,t,r):function Sa(s,t,r){let{$head:i}=t.selection;if(!i.parent.isTextblock)return!1;let l=i.parentOffset,c=!l,h=l==i.parent.content.size,g=s.domSelection();return Ms.test(i.parent.textContent)&&g.modify?zs(s,t,()=>{let{focusNode:C,focusOffset:I,anchorNode:O,anchorOffset:H}=s.domSelectionRange(),G=g.caretBidiLevel;g.modify("move",r,"character");let W=i.depth?s.docView.domAfterPos(i.before()):s.dom,{focusNode:ne,focusOffset:Te}=s.domSelectionRange(),pt=ne&&!W.contains(1==ne.nodeType?ne:ne.parentNode)||C==ne&&I==Te;try{g.collapse(O,H),C&&(C!=O||I!=H)&&g.extend&&g.extend(C,I)}catch{}return null!=G&&(g.caretBidiLevel=G),pt}):"left"==r||"backward"==r?c:h}(s,t,r))}(this,r||this.state,t)}pasteHTML(t,r){return vl(this,"",t,!1,r||new ClipboardEvent("paste"))}pasteText(t,r){return vl(this,t,null,!0,r||new ClipboardEvent("paste"))}destroy(){this.docView&&(function Gr(s){s.domObserver.stop();for(let t in s.input.eventHandlers)s.dom.removeEventListener(t,s.input.eventHandlers[t]);clearTimeout(s.input.composingTimeout),clearTimeout(s.input.lastIOSEnterFallbackTimeout)}(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Ml(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)}get isDestroyed(){return null==this.docView}dispatchEvent(t){return function w(s,t){!D(s,t)&&wr[t.type]&&(s.editable||!(t.type in Ar))&&wr[t.type](s,t)}(this,t)}dispatch(t){let r=this._props.dispatchTransaction;r?r.call(this,t):this.updateState(this.state.apply(t))}domSelectionRange(){return cr&&11===this.root.nodeType&&function So(s){let t=s.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}(this.dom.ownerDocument)==this.dom?function Yf(s){let t;function r(C){C.preventDefault(),C.stopImmediatePropagation(),t=C.getTargetRanges()[0]}s.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),s.dom.removeEventListener("beforeinput",r,!0);let i=t.startContainer,l=t.startOffset,c=t.endContainer,h=t.endOffset,g=s.domAtPos(s.state.selection.anchor);return Tr(g.node,g.offset,c,h)&&([i,l,c,h]=[c,h,i,l]),{anchorNode:i,anchorOffset:l,focusNode:c,focusOffset:h}}(this):this.domSelection()}domSelection(){return this.root.getSelection()}}function Qf(s){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(s.editable),s.someProp("attributes",r=>{if("function"==typeof r&&(r=r(s.state)),r)for(let i in r)"class"==i?t.class+=" "+r[i]:"style"==i?t.style=(t.style?t.style+";":"")+r[i]:!t[i]&&"contenteditable"!=i&&"nodeName"!=i&&(t[i]=String(r[i]))}),t.translate||(t.translate="no"),[ti.node(0,s.state.doc.content.size,t)]}function Xf(s){if(s.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),s.cursorWrapper={dom:t,deco:ti.widget(s.state.selection.head,t,{raw:!0,marks:s.markCursor})}}else s.cursorWrapper=null}function eh(s){return!s.someProp("editable",t=>!1===t(s.state))}function th(s){let t=Object.create(null);function r(i){for(let l in i)Object.prototype.hasOwnProperty.call(t,l)||(t[l]=i[l])}return s.someProp("nodeViews",r),s.someProp("markViews",r),t}function aa(s){if(s.spec.state||s.spec.filterTransaction||s.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var $n=F(6814);const Kg=["ol",0],fr=["ul",0],nh=["li",0];function oh(s,t){return function(r,i){let{$from:l,$to:c,node:h}=r.selection;if(h&&h.isBlock||l.depth<2||!l.sameParent(c))return!1;let g=l.node(-1);if(g.type!=s)return!1;if(0==l.parent.content.size&&l.node(-1).childCount==l.indexAfter(-1)){if(3==l.depth||l.node(-3).type!=s||l.index(-2)!=l.node(-2).childCount-1)return!1;if(i){let H=ve.empty,G=l.index(-1)?1:l.index(-2)?2:3;for(let Pt=l.depth-G;Pt>=l.depth-3;Pt--)H=ve.from(l.node(Pt).copy(H));let W=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3;H=H.append(ve.from(s.createAndFill()));let ne=l.before(l.depth-(G-1)),Te=r.tr.replace(ne,l.after(-W),new ee(H,4-G,0)),pt=-1;Te.doc.nodesBetween(ne,Te.doc.content.size,(Pt,ao)=>{if(pt>-1)return!1;Pt.isTextblock&&0==Pt.content.size&&(pt=ao+1)}),pt>-1&&Te.setSelection(vt.near(Te.doc.resolve(pt))),i(Te.scrollIntoView())}return!0}let C=c.pos==l.end()?g.contentMatchAt(0).defaultType:null,I=r.tr.delete(l.pos,c.pos),O=C?[t?{type:s,attrs:t}:null,{type:C}]:void 0;return!!Zn(I.doc,l.pos,2,O)&&(i&&i(I.split(l.pos,2,O).scrollIntoView()),!0)}}function ih(s){return function(t,r){let{$from:i,$to:l}=t.selection,c=i.blockRange(l,h=>h.childCount>0&&h.firstChild.type==s);return!!c&&(!r||(i.node(c.depth-1).type==s?function sh(s,t,r,i){let l=s.tr,c=i.end,h=i.$to.end(i.depth);c<h&&(l.step(new Xt(c-1,h,c,h,new ee(ve.from(r.create(null,i.parent.copy())),1,0),1,!0)),i=new Nt(l.doc.resolve(i.$from.pos),l.doc.resolve(h),i.depth));const g=Un(i);if(null==g)return!1;l.lift(i,g);let C=l.mapping.map(c,-1)-1;return kr(l.doc,C)&&l.join(C),t(l.scrollIntoView()),!0}(t,r,s,c):function Zg(s,t,r){let i=s.tr,l=r.parent;for(let W=r.end,ne=r.endIndex-1,Te=r.startIndex;ne>Te;ne--)W-=l.child(ne).nodeSize,i.delete(W-1,W+1);let c=i.doc.resolve(r.start),h=c.nodeAfter;if(i.mapping.map(r.end)!=r.start+c.nodeAfter.nodeSize)return!1;let g=0==r.startIndex,C=r.endIndex==l.childCount,I=c.node(-1),O=c.index(-1);if(!I.canReplace(O+(g?0:1),O+1,h.content.append(C?ve.empty:ve.from(l))))return!1;let H=c.pos,G=H+h.nodeSize;return i.step(new Xt(H-(g?1:0),G+(C?1:0),H+1,G-1,new ee((g?ve.empty:ve.from(l.copy(ve.empty))).append(C?ve.empty:ve.from(l.copy(ve.empty))),g?0:1,C?0:1),g?0:1)),t(i.scrollIntoView()),!0}(t,r,c)))}}function go(s){return function(t,r){let{$from:i,$to:l}=t.selection,c=i.blockRange(l,I=>I.childCount>0&&I.firstChild.type==s);if(!c)return!1;let h=c.startIndex;if(0==h)return!1;let g=c.parent,C=g.child(h-1);if(C.type!=s)return!1;if(r){let I=C.lastChild&&C.lastChild.type==g.type,O=ve.from(I?s.create():null),H=new ee(ve.from(s.create(null,ve.from(g.type.create(null,O)))),I?3:1,0),G=c.start,W=c.end;r(t.tr.step(new Xt(G-(I?3:1),W,G,W,H,1,!0)).scrollIntoView())}return!0}}const lh={link:{attrs:{href:{},title:{default:null},target:{default:"_blank"}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:s=>({href:s.getAttribute("href"),title:s.getAttribute("title"),target:s.getAttribute("target")})}],toDOM(s){const{href:t,title:r,target:i}=s.attrs;return["a",{href:t,title:r,target:i},0]}},em:{parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"}],toDOM:()=>["em",0]},strong:{parseDOM:[{tag:"strong"},{tag:"b",getAttrs:s=>"normal"!==s.style.fontWeight&&null},{style:"font-weight",getAttrs:s=>/^(?:bold(?:er)?|[5-9]\d{2,})$/.test(s)&&null}],toDOM:()=>["strong",0]},code:{parseDOM:[{tag:"code"}],toDOM:()=>["code",0]},u:{parseDOM:[{tag:"u"},{style:"text-decoration=underline",consuming:!1}],toDOM:()=>["u",0]},s:{parseDOM:[{tag:"s"},{tag:"strike"},{style:"text-decoration=line-through"}],toDOM:()=>["s",0]},text_color:{attrs:{color:{default:null}},parseDOM:[{style:"color",getAttrs:s=>({color:s})}],toDOM(s){const{color:t}=s.attrs;return["span",{style:`color:${t};`},0]}},text_background_color:{attrs:{backgroundColor:{default:null}},parseDOM:[{style:"background-color",getAttrs:s=>({backgroundColor:s})}],toDOM(s){const{backgroundColor:t}=s.attrs;return["span",{style:`background-color:${t};`},0]}}},hh={doc:{content:"block+"},text:{group:"inline"},paragraph:{content:"inline*",group:"block",attrs:{align:{default:null}},parseDOM:[{tag:"p",getAttrs(s){const{textAlign:t}=s.style;return{align:s.getAttribute("align")||t||null}}}],toDOM(s){const{align:t}=s.attrs;return["p",{style:Be({textAlign:"left"!==t?t:null})||null},0]}},blockquote:{content:"block+",group:"block",defining:!0,parseDOM:[{tag:"blockquote"}],toDOM:()=>["blockquote",0]},horizontal_rule:{group:"block",parseDOM:[{tag:"hr"}],toDOM:()=>["hr"]},heading:{attrs:{level:{default:1},align:{default:null}},content:"inline*",group:"block",defining:!0,parseDOM:[{tag:"h1",getAttrs(s){const{textAlign:t}=s.style;return{level:1,align:s.getAttribute("align")||t||null}}},{tag:"h2",getAttrs(s){const{textAlign:t}=s.style;return{level:2,align:s.getAttribute("align")||t||null}}},{tag:"h3",getAttrs(s){const{textAlign:t}=s.style;return{level:3,align:s.getAttribute("align")||t||null}}},{tag:"h4",getAttrs(s){const{textAlign:t}=s.style;return{level:4,align:s.getAttribute("align")||t||null}}},{tag:"h5",getAttrs(s){const{textAlign:t}=s.style;return{level:5,align:s.getAttribute("align")||t||null}}},{tag:"h6",getAttrs(s){const{textAlign:t}=s.style;return{level:6,align:s.getAttribute("align")||t||null}}}],toDOM(s){const{level:t,align:r}=s.attrs;return[`h${t}`,{style:Be({textAlign:"left"!==r?r:null})||null},0]}},hard_break:{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM:()=>["br"]},code_block:{content:"text*",marks:"",group:"block",code:!0,defining:!0,parseDOM:[{tag:"pre",preserveWhitespace:"full"}],toDOM:()=>["pre",["code",0]]},image:{inline:!0,attrs:{src:{},alt:{default:null},title:{default:null},width:{default:null}},group:"inline",draggable:!0,parseDOM:[{tag:"img[src]",getAttrs:s=>({src:s.getAttribute("src"),title:s.getAttribute("title"),alt:s.getAttribute("alt"),width:s.getAttribute("width")})}],toDOM(s){const{src:t,alt:r,title:i,width:l}=s.attrs;return["img",{src:t,alt:r,title:i,width:l}]}},list_item:{...{parseDOM:[{tag:"li"}],toDOM:()=>nh,defining:!0},content:"paragraph block*"},ordered_list:{...{attrs:{order:{default:1}},parseDOM:[{tag:"ol",getAttrs:s=>({order:s.hasAttribute("start")?+s.getAttribute("start"):1})}],toDOM:s=>1==s.attrs.order?Kg:["ol",{start:s.attrs.order},0]},content:"list_item+",group:"block"},bullet_list:{...{parseDOM:[{tag:"ul"}],toDOM:()=>fr},content:"list_item+",group:"block"}},Rl=new class Dn{constructor(t){this.cached=Object.create(null);let r=this.spec={};for(let l in t)r[l]=t[l];r.nodes=At.from(t.nodes),r.marks=At.from(t.marks||{}),this.nodes=Yn.compile(this.spec.nodes,this),this.marks=Jr.compile(this.spec.marks,this);let i=Object.create(null);for(let l in this.nodes){if(l in this.marks)throw new RangeError(l+" can not be both a node and a mark");let c=this.nodes[l],h=c.spec.content||"",g=c.spec.marks;c.contentMatch=i[h]||(i[h]=De.parse(h,this.nodes)),c.inlineContent=c.contentMatch.inlineContent,c.markSet="_"==g?null:g?$o(this,g.split(" ")):""!=g&&c.inlineContent?null:[]}for(let l in this.marks){let c=this.marks[l],h=c.spec.excludes;c.excluded=null==h?[c]:""==h?[]:$o(this,h.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(t,r=null,i,l){if("string"==typeof t)t=this.nodeType(t);else{if(!(t instanceof Yn))throw new RangeError("Invalid node type: "+t);if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}return t.createChecked(r,i,l)}text(t,r){let i=this.nodes.text;return new de(i,i.defaultAttrs,t,Fe.setFrom(r))}mark(t,r){return"string"==typeof t&&(t=this.marks[t]),t.create(r)}nodeFromJSON(t){return ot.fromJSON(this,t)}markFromJSON(t){return Fe.fromJSON(this,t)}nodeType(t){let r=this.nodes[t];if(!r)throw new RangeError("Unknown node type: "+t);return r}}({marks:lh,nodes:hh}),ks=(s,t)=>!s.selection.empty&&(t&&t(s.tr.deleteSelection().scrollIntoView()),!0);function Ba(s,t,r=!1){for(let i=s;i;i="start"==t?i.firstChild:i.lastChild){if(i.isTextblock)return!0;if(r&&1!=i.childCount)return!1}return!1}function Vu(s){if(!s.parent.type.spec.isolating)for(let t=s.depth-1;t>=0;t--){if(s.index(t)>0)return s.doc.resolve(s.before(t+1));if(s.node(t).type.spec.isolating)break}return null}function Bu(s){if(!s.parent.type.spec.isolating)for(let t=s.depth-1;t>=0;t--){let r=s.node(t);if(s.index(t)+1<r.childCount)return s.doc.resolve(s.after(t+1));if(r.type.spec.isolating)break}return null}const vh=(s,t)=>{let{$head:r,$anchor:i}=s.selection;return!(!r.parent.type.spec.code||!r.sameParent(i)||(t&&t(s.tr.insertText("\n").scrollIntoView()),0))};function Hu(s){for(let t=0;t<s.edgeCount;t++){let{type:r}=s.edge(t);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}const sd=(s,t)=>{let{$head:r,$anchor:i}=s.selection;if(!r.parent.type.spec.code||!r.sameParent(i))return!1;let l=r.node(-1),c=r.indexAfter(-1),h=Hu(l.contentMatchAt(c));if(!h||!l.canReplaceWith(c,c,h))return!1;if(t){let g=r.after(),C=s.tr.replaceWith(g,g,h.createAndFill());C.setSelection(vt.near(C.doc.resolve(g),1)),t(C.scrollIntoView())}return!0},Pl=(s,t)=>{let r=s.selection,{$from:i,$to:l}=r;if(r instanceof Ut||i.parent.inlineContent||l.parent.inlineContent)return!1;let c=Hu(l.parent.contentMatchAt(l.indexAfter()));if(!c||!c.isTextblock)return!1;if(t){let h=(!i.parentOffset&&l.index()<l.parent.childCount?i:l).pos,g=s.tr.insert(h,c.createAndFill());g.setSelection(kt.create(g.doc,h+1)),t(g.scrollIntoView())}return!0},Dh=(s,t)=>{let{$cursor:r}=s.selection;if(!r||r.parent.content.size)return!1;if(r.depth>1&&r.after()!=r.end(-1)){let c=r.before();if(Zn(s.doc,c))return t&&t(s.tr.split(c).scrollIntoView()),!0}let i=r.blockRange(),l=i&&Un(i);return null!=l&&(t&&t(s.tr.lift(i,l).scrollIntoView()),!0)},Ha=function nm(s){return(t,r)=>{let{$from:i,$to:l}=t.selection;if(t.selection instanceof st&&t.selection.node.isBlock)return!(!i.parentOffset||!Zn(t.doc,i.pos)||(r&&r(t.tr.split(i.pos).scrollIntoView()),0));if(!i.parent.isBlock)return!1;if(r){let c=l.parentOffset==l.parent.content.size,h=t.tr;(t.selection instanceof kt||t.selection instanceof Ut)&&h.deleteSelection();let g=0==i.depth?null:Hu(i.node(-1).contentMatchAt(i.indexAfter(-1))),C=s&&s(l.parent,c),I=C?[C]:c&&g?[{type:g}]:void 0,O=Zn(h.doc,h.mapping.map(i.pos),1,I);if(!I&&!O&&Zn(h.doc,h.mapping.map(i.pos),1,g?[{type:g}]:void 0)&&(g&&(I=[{type:g}]),O=!0),O&&(h.split(h.mapping.map(i.pos),1,I),!c&&!i.parentOffset&&i.parent.type!=g)){let H=h.mapping.map(i.before()),G=h.doc.resolve(H);g&&i.node(-1).canReplaceWith(G.index(),G.index()+1,g)&&h.setNodeMarkup(h.mapping.map(i.before()),g)}r(h.scrollIntoView())}return!0}}();function Ch(s,t,r){let c,h,i=t.nodeBefore,l=t.nodeAfter;if(i.type.spec.isolating||l.type.spec.isolating)return!1;if(function om(s,t,r){let i=t.nodeBefore,l=t.nodeAfter,c=t.index();return!(!(i&&l&&i.type.compatibleContent(l.type))||(!i.content.size&&t.parent.canReplace(c-1,c)?(r&&r(s.tr.delete(t.pos-i.nodeSize,t.pos).scrollIntoView()),0):!t.parent.canReplace(c,c+1)||!l.isTextblock&&!kr(s.doc,t.pos)||(r&&r(s.tr.clearIncompatible(t.pos,i.type,i.contentMatchAt(i.childCount)).join(t.pos).scrollIntoView()),0)))}(s,t,r))return!0;let g=t.parent.canReplace(t.index(),t.index()+1);if(g&&(c=(h=i.contentMatchAt(i.childCount)).findWrapping(l.type))&&h.matchType(c[0]||l.type).validEnd){if(r){let H=t.pos+l.nodeSize,G=ve.empty;for(let Te=c.length-1;Te>=0;Te--)G=ve.from(c[Te].create(null,G));G=ve.from(i.copy(G));let W=s.tr.step(new Xt(t.pos-1,H,t.pos,H,new ee(G,1,0),c.length,!0)),ne=H+2*c.length;kr(W.doc,ne)&&W.join(ne),r(W.scrollIntoView())}return!0}let C=vt.findFrom(t,1),I=C&&C.$from.blockRange(C.$to),O=I&&Un(I);if(null!=O&&O>=t.depth)return r&&r(s.tr.lift(I,O).scrollIntoView()),!0;if(g&&Ba(l,"start",!0)&&Ba(i,"end")){let H=i,G=[];for(;G.push(H),!H.isTextblock;)H=H.lastChild;let W=l,ne=1;for(;!W.isTextblock;W=W.firstChild)ne++;if(H.canReplace(H.childCount,H.childCount,W.content)){if(r){let Te=ve.empty;for(let Pt=G.length-1;Pt>=0;Pt--)Te=ve.from(G[Pt].copy(Te));r(s.tr.step(new Xt(t.pos-G.length,t.pos+l.nodeSize,t.pos+ne,t.pos+l.nodeSize-ne,new ee(Te,G.length,0),0,!0)).scrollIntoView())}return!0}}return!1}function ad(s){return function(t,r){let i=t.selection,l=s<0?i.$from:i.$to,c=l.depth;for(;l.node(c).isInline;){if(!c)return!1;c--}return!!l.node(c).isTextblock&&(r&&r(t.tr.setSelection(kt.create(t.doc,s<0?l.start(c):l.end(c)))),!0)}}const Fl=ad(-1),Uu=ad(1);function Ll(s,t=null){return function(r,i){let l=!1;for(let c=0;c<r.selection.ranges.length&&!l;c++){let{$from:{pos:h},$to:{pos:g}}=r.selection.ranges[c];r.doc.nodesBetween(h,g,(C,I)=>{if(l)return!1;if(C.isTextblock&&!C.hasMarkup(s,t))if(C.type==s)l=!0;else{let O=r.doc.resolve(I),H=O.index();l=O.parent.canReplaceWith(H,H+1,s)}})}if(!l)return!1;if(i){let c=r.tr;for(let h=0;h<r.selection.ranges.length;h++){let{$from:{pos:g},$to:{pos:C}}=r.selection.ranges[h];c.setBlockType(g,C,s,t)}i(c.scrollIntoView())}return!0}}function ni(s,t=null){return function(r,i){let{empty:l,$cursor:c,ranges:h}=r.selection;if(l&&!c||!function ud(s,t,r){for(let i=0;i<t.length;i++){let{$from:l,$to:c}=t[i],h=0==l.depth&&s.inlineContent&&s.type.allowsMarkType(r);if(s.nodesBetween(l.pos,c.pos,g=>{if(h)return!1;h=g.inlineContent&&g.type.allowsMarkType(r)}),h)return!0}return!1}(r.doc,h,s))return!1;if(i)if(c)s.isInSet(r.storedMarks||c.marks())?i(r.tr.removeStoredMark(s)):i(r.tr.addStoredMark(s.create(t)));else{let g=!1,C=r.tr;for(let I=0;!g&&I<h.length;I++){let{$from:O,$to:H}=h[I];g=r.doc.rangeHasMark(O.pos,H.pos,s)}for(let I=0;I<h.length;I++){let{$from:O,$to:H}=h[I];if(g)C.removeMark(O.pos,H.pos,s);else{let G=O.pos,W=H.pos,ne=O.nodeAfter,Te=H.nodeBefore,pt=ne&&ne.isText?/^\s*/.exec(ne.text)[0].length:0,Pt=Te&&Te.isText?/\s*$/.exec(Te.text)[0].length:0;G+pt<W&&(G+=pt,W-=Pt),C.addMark(G,W,s.create(t))}}i(C.scrollIntoView())}return!0}}function us(...s){return function(t,r,i){for(let l=0;l<s.length;l++)if(s[l](t,r,i))return!0;return!1}}let ca=us(ks,(s,t,r)=>{let i=function ua(s,t){let{$cursor:r}=s.selection;return!r||(t?!t.endOfTextblock("backward",s):r.parentOffset>0)?null:r}(s,r);if(!i)return!1;let l=Vu(i);if(!l){let h=i.blockRange(),g=h&&Un(h);return null!=g&&(t&&t(s.tr.lift(h,g).scrollIntoView()),!0)}let c=l.nodeBefore;if(!c.type.spec.isolating&&Ch(s,l,t))return!0;if(0==i.parent.content.size&&(Ba(c,"end")||st.isSelectable(c))){let h=Ii(s.doc,i.before(),i.after(),ee.empty);if(h&&h.slice.size<h.to-h.from){if(t){let g=s.tr.step(h);g.setSelection(Ba(c,"end")?vt.findFrom(g.doc.resolve(g.mapping.map(l.pos,-1)),-1):st.create(g.doc,l.pos-c.nodeSize)),t(g.scrollIntoView())}return!0}}return!(!c.isAtom||l.depth!=i.depth-1||(t&&t(s.tr.delete(l.pos-c.nodeSize,l.pos).scrollIntoView()),0))},(s,t,r)=>{let{$head:i,empty:l}=s.selection,c=i;if(!l)return!1;if(i.parent.isTextblock){if(r?!r.endOfTextblock("backward",s):i.parentOffset>0)return!1;c=Vu(i)}let h=c&&c.nodeBefore;return!(!h||!st.isSelectable(h)||(t&&t(s.tr.setSelection(st.create(s.doc,c.pos-h.nodeSize)).scrollIntoView()),0))}),ri=us(ks,(s,t,r)=>{let i=function rd(s,t){let{$cursor:r}=s.selection;return!r||(t?!t.endOfTextblock("forward",s):r.parentOffset<r.parent.content.size)?null:r}(s,r);if(!i)return!1;let l=Bu(i);if(!l)return!1;let c=l.nodeAfter;if(Ch(s,l,t))return!0;if(0==i.parent.content.size&&(Ba(c,"start")||st.isSelectable(c))){let h=Ii(s.doc,i.before(),i.after(),ee.empty);if(h&&h.slice.size<h.to-h.from){if(t){let g=s.tr.step(h);g.setSelection(Ba(c,"start")?vt.findFrom(g.doc.resolve(g.mapping.map(l.pos)),1):st.create(g.doc,g.mapping.map(l.pos))),t(g.scrollIntoView())}return!0}}return!(!c.isAtom||l.depth!=i.depth-1||(t&&t(s.tr.delete(l.pos,l.pos+c.nodeSize).scrollIntoView()),0))},(s,t,r)=>{let{$head:i,empty:l}=s.selection,c=i;if(!l)return!1;if(i.parent.isTextblock){if(r?!r.endOfTextblock("forward",s):i.parentOffset<i.parent.content.size)return!1;c=Bu(i)}let h=c&&c.nodeAfter;return!(!h||!st.isSelectable(h)||(t&&t(s.tr.setSelection(st.create(s.doc,c.pos)).scrollIntoView()),0))});const Fi={Enter:us(vh,Pl,Dh,Ha),"Mod-Enter":sd,Backspace:ca,"Mod-Backspace":ca,"Shift-Backspace":ca,Delete:ri,"Mod-Delete":ri,"Mod-a":(s,t)=>(t&&t(s.tr.setSelection(new Ut(s.doc))),!0)},dd={"Ctrl-h":Fi.Backspace,"Alt-Backspace":Fi["Mod-Backspace"],"Ctrl-d":Fi.Delete,"Ctrl-Alt-Backspace":Fi["Mod-Delete"],"Alt-Delete":Fi["Mod-Delete"],"Alt-d":Fi["Mod-Delete"],"Ctrl-a":Fl,"Ctrl-e":Uu};for(let s in Fi)dd[s]=Fi[s];const fd=(typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&"darwin"==os.platform())?dd:Fi;class oi{constructor(t,r){this.match=t,this.match=t,this.handler="string"==typeof r?function bh(s){return function(t,r,i,l){let c=s;if(r[1]){let h=r[0].lastIndexOf(r[1]);c+=r[0].slice(h+r[1].length);let g=(i+=h)-l;g>0&&(c=r[0].slice(h-g,h)+c,i=l)}return t.tr.insertText(c,i,l)}}(r):r}}function ju(s,t,r,i,l,c){if(s.composing)return!1;let h=s.state,g=h.doc.resolve(t);if(g.parent.type.spec.code)return!1;let C=g.parent.textBetween(Math.max(0,g.parentOffset-500),g.parentOffset,null,"\ufffc")+i;for(let I=0;I<l.length;I++){let O=l[I].match.exec(C),H=O&&l[I].handler(h,O,t-(O[0].length-i.length),r);if(H)return s.dispatch(H.setMeta(c,{transform:H,from:t,to:r,text:i})),!0}return!1}const Mh=new oi(/--$/,"\u2014"),mo=new oi(/\.\.\.$/,"\u2026"),Ua=[new oi(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"\u201c"),new oi(/"$/,"\u201d"),new oi(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"\u2018"),new oi(/'$/,"\u2019")];function Vl(s,t,r=null,i){return new oi(s,(l,c,h,g)=>{let C=r instanceof Function?r(c):r,I=l.tr.delete(h,g),H=I.doc.resolve(h).blockRange(),G=H&&uo(H,t,C);if(!G)return null;I.wrap(H,G);let W=I.doc.resolve(h-1).nodeBefore;return W&&W.type==t&&kr(I.doc,h-1)&&(!i||i(c,W))&&I.join(h-1),I})}function Gu(s,t,r=null){return new oi(s,(i,l,c,h)=>{let g=i.doc.resolve(c),C=r instanceof Function?r(l):r;return g.node(-1).canReplaceWith(g.index(-1),g.indexAfter(-1),t)?i.tr.delete(c,h).setBlockType(c,c,t,C):null})}const Wu=(s,t)=>{const{from:r,$from:i,to:l,empty:c}=s.selection;return c?!!t.isInSet(s.storedMarks||i.marks()):s.doc.rangeHasMark(r,l,t)},gd=(s,t,r={})=>{const{selection:i}=s,{$from:l,to:c}=i,h=((s,t)=>{for(let r=t.depth;r>0;r-=1)if(t.node(r).type===s)return t.node(r).type;return null})(t,l);return Object.entries(r).length&&h?c<=l.end()&&l.parent.hasMarkup(t,r):!!h},yd=s=>{const t=[],{selection:{from:r,to:i}}=s;return s.doc.nodesBetween(r,i,l=>{t.push(l)}),t},qu=(s,t,r)=>{for(const i of t){const{$from:l,$to:c}=i;let h=0===l.depth&&s.type.allowsMarkType(r);if(s.nodesBetween(l.pos,c.pos,g=>!h&&(h=g.inlineContent&&g.type.allowsMarkType(r),!0)),h)return!0}return!1},vd=(s,t,r)=>new oi(s,(i,l,c,h)=>{const{tr:g}=i,C=c;let I=h;if(l[2]){const O=c+l[0].indexOf(l[2]),H=O+l[2].length;H<h&&g.delete(H,h),O>c&&g.delete(c,O),I=c+l[2].length}return g.addMark(C,I,t.create(r))}),Bl=(s,t={})=>(r,i)=>{const{tr:l,selection:c}=r,{empty:h,ranges:g,$from:C,$to:I}=c;if(h&&c instanceof kt){const{$cursor:O}=c;if(!O||!qu(r.doc,g,s)||(l.addStoredMark(s.create(t)),!l.storedMarksSet))return!1;i?.(l)}else{if(l.addMark(C.pos,I.pos,s.create(t)),!l.docChanged)return!1;i?.(l.scrollIntoView())}return!0};for(var ja=F(6593),cs={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Hl={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Dd=typeof navigator<"u"&&/Mac/.test(navigator.platform),Cd=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),Mr=0;Mr<10;Mr++)cs[48+Mr]=cs[96+Mr]=String(Mr);for(Mr=1;Mr<=24;Mr++)cs[Mr+111]="F"+Mr;for(Mr=65;Mr<=90;Mr++)cs[Mr]=String.fromCharCode(Mr+32),Hl[Mr]=String.fromCharCode(Mr);for(var ds in cs)Hl.hasOwnProperty(ds)||(Hl[ds]=cs[ds]);const _d=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform);function Yu(s){let i,l,c,h,t=s.split(/-(?!$)/),r=t[t.length-1];"Space"==r&&(r=" ");for(let g=0;g<t.length-1;g++){let C=t[g];if(/^(cmd|meta|m)$/i.test(C))h=!0;else if(/^a(lt)?$/i.test(C))i=!0;else if(/^(c|ctrl|control)$/i.test(C))l=!0;else if(/^s(hift)?$/i.test(C))c=!0;else{if(!/^mod$/i.test(C))throw new Error("Unrecognized modifier name: "+C);_d?h=!0:l=!0}}return i&&(r="Alt-"+r),l&&(r="Ctrl-"+r),h&&(r="Meta-"+r),c&&(r="Shift-"+r),r}function Ku(s,t,r=!0){return t.altKey&&(s="Alt-"+s),t.ctrlKey&&(s="Ctrl-"+s),t.metaKey&&(s="Meta-"+s),r&&t.shiftKey&&(s="Shift-"+s),s}function $l(s){return new mn({props:{handleKeyDown:Ih(s)}})}function Ih(s){let t=function jl(s){let t=Object.create(null);for(let r in s)t[Yu(r)]=s[r];return t}(s);return function(r,i){let c,l=function Ul(s){var r=!(Dd&&s.metaKey&&s.shiftKey&&!s.ctrlKey&&!s.altKey||Cd&&s.shiftKey&&s.key&&1==s.key.length||"Unidentified"==s.key)&&s.key||(s.shiftKey?Hl:cs)[s.keyCode]||s.key||"Unidentified";return"Esc"==r&&(r="Escape"),"Del"==r&&(r="Delete"),"Left"==r&&(r="ArrowLeft"),"Up"==r&&(r="ArrowUp"),"Right"==r&&(r="ArrowRight"),"Down"==r&&(r="ArrowDown"),r}(i),h=t[Ku(l,i)];if(h&&h(r.state,r.dispatch,r))return!0;if(1==l.length&&" "!=l){if(i.shiftKey){let g=t[Ku(l,i,!1)];if(g&&g(r.state,r.dispatch,r))return!0}if((i.shiftKey||i.altKey||i.metaKey||l.charCodeAt(0)>127)&&(c=cs[i.keyCode])&&c!=l){let g=t[Ku(c,i)];if(g&&g(r.state,r.dispatch,r))return!0}}return!1}}var Nr=function(){};Nr.prototype.append=function(t){return t.length?(t=Nr.from(t),!this.length&&t||t.length<200&&this.leafAppend(t)||this.length<200&&t.leafPrepend(this)||this.appendInner(t)):this},Nr.prototype.prepend=function(t){return t.length?Nr.from(t).append(this):this},Nr.prototype.appendInner=function(t){return new wd(this,t)},Nr.prototype.slice=function(t,r){return void 0===t&&(t=0),void 0===r&&(r=this.length),t>=r?Nr.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,r))},Nr.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)},Nr.prototype.forEach=function(t,r,i){void 0===r&&(r=0),void 0===i&&(i=this.length),r<=i?this.forEachInner(t,r,i,0):this.forEachInvertedInner(t,r,i,0)},Nr.prototype.map=function(t,r,i){void 0===r&&(r=0),void 0===i&&(i=this.length);var l=[];return this.forEach(function(c,h){return l.push(t(c,h))},r,i),l},Nr.from=function(t){return t instanceof Nr?t:t&&t.length?new bd(t):Nr.empty};var bd=function(s){function t(i){s.call(this),this.values=i}s&&(t.__proto__=s),(t.prototype=Object.create(s&&s.prototype)).constructor=t;var r={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(l,c){return 0==l&&c==this.length?this:new t(this.values.slice(l,c))},t.prototype.getInner=function(l){return this.values[l]},t.prototype.forEachInner=function(l,c,h,g){for(var C=c;C<h;C++)if(!1===l(this.values[C],g+C))return!1},t.prototype.forEachInvertedInner=function(l,c,h,g){for(var C=c-1;C>=h;C--)if(!1===l(this.values[C],g+C))return!1},t.prototype.leafAppend=function(l){if(this.length+l.length<=200)return new t(this.values.concat(l.flatten()))},t.prototype.leafPrepend=function(l){if(this.length+l.length<=200)return new t(l.flatten().concat(this.values))},r.length.get=function(){return this.values.length},r.depth.get=function(){return 0},Object.defineProperties(t.prototype,r),t}(Nr);Nr.empty=new bd([]);var wd=function(s){function t(r,i){s.call(this),this.left=r,this.right=i,this.length=r.length+i.length,this.depth=Math.max(r.depth,i.depth)+1}return s&&(t.__proto__=s),(t.prototype=Object.create(s&&s.prototype)).constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(i){return i<this.left.length?this.left.get(i):this.right.get(i-this.left.length)},t.prototype.forEachInner=function(i,l,c,h){var g=this.left.length;if(l<g&&!1===this.left.forEachInner(i,l,Math.min(c,g),h)||c>g&&!1===this.right.forEachInner(i,Math.max(l-g,0),Math.min(this.length,c)-g,h+g))return!1},t.prototype.forEachInvertedInner=function(i,l,c,h){var g=this.left.length;if(l>g&&!1===this.right.forEachInvertedInner(i,l-g,Math.max(c,g)-g,h+g)||c<g&&!1===this.left.forEachInvertedInner(i,Math.min(l,g),c,h))return!1},t.prototype.sliceInner=function(i,l){if(0==i&&l==this.length)return this;var c=this.left.length;return l<=c?this.left.slice(i,l):i>=c?this.right.slice(i-c,l-c):this.left.slice(i,c).append(this.right.slice(0,l-c))},t.prototype.leafAppend=function(i){var l=this.right.leafAppend(i);if(l)return new t(this.left,l)},t.prototype.leafPrepend=function(i){var l=this.left.leafPrepend(i);if(l)return new t(l,this.right)},t.prototype.appendInner=function(i){return this.left.depth>=Math.max(this.right.depth,i.depth)+1?new t(this.left,new t(this.right,i)):new t(this,i)},t}(Nr);const Gl=Nr;class Oo{constructor(t,r){this.items=t,this.eventCount=r}popEvent(t,r){if(0==this.eventCount)return null;let l,c,i=this.items.length;for(;;i--)if(this.items.get(i-1).selection){--i;break}r&&(l=this.remapping(i,this.items.length),c=l.maps.length);let g,C,h=t.tr,I=[],O=[];return this.items.forEach((H,G)=>{if(!H.step)return l||(l=this.remapping(i,G+1),c=l.maps.length),c--,void O.push(H);if(l){O.push(new wi(H.map));let ne,W=H.step.map(l.slice(c));W&&h.maybeStep(W).doc&&(ne=h.mapping.maps[h.mapping.maps.length-1],I.push(new wi(ne,void 0,void 0,I.length+O.length))),c--,ne&&l.appendMap(ne,c)}else h.maybeStep(H.step);return H.selection?(g=l?H.selection.map(l.slice(c)):H.selection,C=new Oo(this.items.slice(0,i).append(O.reverse().concat(I)),this.eventCount-1),!1):void 0},this.items.length,0),{remaining:C,transform:h,selection:g}}addTransform(t,r,i,l){let c=[],h=this.eventCount,g=this.items,C=!l&&g.length?g.get(g.length-1):null;for(let O=0;O<t.steps.length;O++){let W,H=t.steps[O].invert(t.docs[O]),G=new wi(t.mapping.maps[O],H,r);(W=C&&C.merge(G))&&(G=W,O?c.pop():g=g.slice(0,g.length-1)),c.push(G),r&&(h++,r=void 0),l||(C=G)}let I=h-i.depth;return I>Md&&(g=function Th(s,t){let r;return s.forEach((i,l)=>{if(i.selection&&0==t--)return r=l,!1}),s.slice(r)}(g,I),h-=I),new Oo(g.append(c),h)}remapping(t,r){let i=new ke;return this.items.forEach((l,c)=>{i.appendMap(l.map,null!=l.mirrorOffset&&c-l.mirrorOffset>=t?i.maps.length-l.mirrorOffset:void 0)},t,r),i}addMaps(t){return 0==this.eventCount?this:new Oo(this.items.append(t.map(r=>new wi(r))),this.eventCount)}rebased(t,r){if(!this.eventCount)return this;let i=[],l=Math.max(0,this.items.length-r),c=t.mapping,h=t.steps.length,g=this.eventCount;this.items.forEach(G=>{G.selection&&g--},l);let C=r;this.items.forEach(G=>{let W=c.getMirror(--C);if(null==W)return;h=Math.min(h,W);let ne=c.maps[W];if(G.step){let Te=t.steps[W].invert(t.docs[W]),pt=G.selection&&G.selection.map(c.slice(C+1,W));pt&&g++,i.push(new wi(ne,Te,pt))}else i.push(new wi(ne))},l);let I=[];for(let G=r;G<h;G++)I.push(new wi(c.maps[G]));let O=this.items.slice(0,l).append(I).append(i),H=new Oo(O,g);return H.emptyItemCount()>500&&(H=H.compress(this.items.length-i.length)),H}emptyItemCount(){let t=0;return this.items.forEach(r=>{r.step||t++}),t}compress(t=this.items.length){let r=this.remapping(0,t),i=r.maps.length,l=[],c=0;return this.items.forEach((h,g)=>{if(g>=t)l.push(h),h.selection&&c++;else if(h.step){let C=h.step.map(r.slice(i)),I=C&&C.getMap();if(i--,I&&r.appendMap(I,i),C){let O=h.selection&&h.selection.map(r.slice(i));O&&c++;let G,H=new wi(I.invert(),C,O),W=l.length-1;(G=l.length&&l[W].merge(H))?l[W]=G:l.push(H)}}else h.map&&i--},this.items.length,0),new Oo(Gl.from(l.reverse()),c)}}Oo.empty=new Oo(Gl.empty,0);class wi{constructor(t,r,i,l){this.map=t,this.step=r,this.selection=i,this.mirrorOffset=l}merge(t){if(this.step&&t.step&&!t.selection){let r=t.step.merge(this.step);if(r)return new wi(r.getMap().invert(),r,this.selection)}}}class Ei{constructor(t,r,i,l,c){this.done=t,this.undone=r,this.prevRanges=i,this.prevTime=l,this.prevComposition=c}}const Md=20;function Zu(s){let t=[];return s.forEach((r,i,l,c)=>t.push(l,c)),t}function Qu(s,t){if(!s)return null;let r=[];for(let i=0;i<s.length;i+=2){let l=t.map(s[i],1),c=t.map(s[i+1],-1);l<=c&&r.push(l,c)}return r}function Ah(s,t,r,i){let l=$a(t),c=ii.get(t).spec.config,h=(i?s.undone:s.done).popEvent(t,l);if(!h)return;let g=h.selection.resolve(h.transform.doc),C=(i?s.done:s.undone).addTransform(h.transform,t.selection.getBookmark(),c,l),I=new Ei(i?C:h.remaining,i?h.remaining:C,null,0,-1);r(h.transform.setSelection(g).setMeta(ii,{redo:i,historyState:I}).scrollIntoView())}let da=!1,xd=null;function $a(s){let t=s.plugins;if(xd!=t){da=!1,xd=t;for(let r=0;r<t.length;r++)if(t[r].spec.historyPreserveItems){da=!0;break}}return da}const ii=new Tt("history"),Wl=new Tt("closeHistory");const za=(s,t)=>{let r=ii.getState(s);return!(!r||0==r.done.eventCount||(t&&Ah(r,s,t,!1),0))},Fs=(s,t)=>{let r=ii.getState(s);return!(!r||0==r.undone.eventCount||(t&&Ah(r,s,t,!0),0))},ql=["imgEl"];function Ad(s,t){if(1&s){const r=d.EpF();d.TgZ(0,"span",4)(1,"span",5),d.NdJ("mousedown",function(l){d.CHM(r);const c=d.oxw();return d.KtG(c.startResizing(l,"left"))}),d.qZA(),d.TgZ(2,"span",6),d.NdJ("mousedown",function(l){d.CHM(r);const c=d.oxw();return d.KtG(c.startResizing(l,"right"))}),d.qZA(),d.TgZ(3,"span",7),d.NdJ("mousedown",function(l){d.CHM(r);const c=d.oxw();return d.KtG(c.startResizing(l,"left"))}),d.qZA(),d.TgZ(4,"span",8),d.NdJ("mousedown",function(l){d.CHM(r);const c=d.oxw();return d.KtG(c.startResizing(l,"right"))}),d.qZA()()}}const Xu=function(s){return{"NgxEditor__Resizer--Active":s}},Ga=["ngxEditor"],Rh=["*"];function Nd(s,t){if(1&s&&(d.TgZ(0,"div",12),d._uU(1),d.qZA()),2&s){const r=d.oxw(2);d.xp6(1),d.hij(" ",(null==r.href.errors?null:r.href.errors.pattern)&&"Please enter valid url."," ")}}function kh(s,t){if(1&s&&(d.TgZ(0,"div",12),d._uU(1),d.qZA()),2&s){const r=d.oxw(2);d.xp6(1),d.hij(" ",(null==r.text.errors?null:r.text.errors.required)&&"This is required"," ")}}function Ph(s,t){if(1&s){const r=d.EpF();d.TgZ(0,"div",2)(1,"form",3),d.NdJ("ngSubmit",function(l){d.CHM(r);const c=d.oxw();return d.KtG(c.insertLink(l))}),d.TgZ(2,"div",4)(3,"div",5)(4,"label",6),d._uU(5),d.ALo(6,"async"),d.qZA(),d._UZ(7,"input",7),d.YNc(8,Nd,2,1,"div",8),d.qZA()(),d.TgZ(9,"div",4)(10,"div",5)(11,"label",6),d._uU(12),d.ALo(13,"async"),d.qZA(),d._UZ(14,"input",9),d.YNc(15,kh,2,1,"div",8),d.qZA()(),d.TgZ(16,"div",4)(17,"div",5)(18,"label"),d._UZ(19,"input",10),d._uU(20),d.ALo(21,"async"),d.qZA()()(),d.TgZ(22,"button",11),d._uU(23),d.ALo(24,"async"),d.qZA()()()}if(2&s){const r=d.oxw();d.xp6(1),d.Q6J("formGroup",r.form),d.xp6(4),d.Oqu(d.lcZ(6,8,r.getLabel("url"))),d.xp6(3),d.Q6J("ngIf",r.href.touched&&r.href.invalid),d.xp6(4),d.Oqu(d.lcZ(13,10,r.getLabel("text"))),d.xp6(3),d.Q6J("ngIf",r.text.touched&&r.text.invalid),d.xp6(5),d.hij(" ",d.lcZ(21,12,r.getLabel("openInNewTab"))," "),d.xp6(2),d.Q6J("disabled",!r.form.valid),d.xp6(1),d.Oqu(d.lcZ(24,14,r.getLabel("insert")))}}const Fh=function(s,t){return{"NgxEditor__Dropdown--Active":s,"NgxEditor--Disabled":t}};function Od(s,t){if(1&s){const r=d.EpF();d.TgZ(0,"div",4),d.NdJ("mousedown",function(l){const h=d.CHM(r).$implicit,g=d.oxw(2);return d.KtG(g.onClick(l,h))}),d._uU(1),d.ALo(2,"async"),d.qZA()}if(2&s){const r=t.$implicit,i=d.oxw(2);d.Q6J("ngClass",d.WLB(4,Fh,r===i.activeItem,i.disabledItems.includes(r))),d.xp6(1),d.hij(" ",d.lcZ(2,2,i.getName(r))," ")}}function Rd(s,t){if(1&s&&(d.TgZ(0,"div",2),d.YNc(1,Od,3,7,"div",3),d.qZA()),2&s){const r=d.oxw();d.xp6(1),d.Q6J("ngForOf",r.items)("ngForTrackBy",r.trackByIndex)}}function Jl(s,t){if(1&s&&(d.TgZ(0,"div",12),d._uU(1),d.qZA()),2&s){const r=d.oxw(2);d.xp6(1),d.hij(" ",(null==r.src.errors?null:r.src.errors.pattern)&&"Please enter valid url."," ")}}function ec(s,t){if(1&s){const r=d.EpF();d.TgZ(0,"div",2)(1,"form",3),d.NdJ("ngSubmit",function(l){d.CHM(r);const c=d.oxw();return d.KtG(c.insertLink(l))}),d.TgZ(2,"div",4)(3,"div",5)(4,"label",6),d._uU(5),d.ALo(6,"async"),d.qZA(),d._UZ(7,"input",7),d.YNc(8,Jl,2,1,"div",8),d.qZA()(),d.TgZ(9,"div",4)(10,"div",5)(11,"label",6),d._uU(12),d.ALo(13,"async"),d.qZA(),d._UZ(14,"input",9),d.qZA()(),d.TgZ(15,"div",4)(16,"div",5)(17,"label",6),d._uU(18),d.ALo(19,"async"),d.qZA(),d._UZ(20,"input",10),d.qZA()(),d.TgZ(21,"button",11),d._uU(22),d.ALo(23,"async"),d.qZA()()()}if(2&s){const r=d.oxw();d.xp6(1),d.Q6J("formGroup",r.form),d.xp6(4),d.Oqu(d.lcZ(6,7,r.getLabel("url"))),d.xp6(3),d.Q6J("ngIf",r.src.touched&&r.src.invalid),d.xp6(4),d.Oqu(d.lcZ(13,9,r.getLabel("altText"))),d.xp6(6),d.Oqu(d.lcZ(19,11,r.getLabel("title"))),d.xp6(3),d.Q6J("disabled",!r.form.valid||!r.form.dirty),d.xp6(1),d.Oqu(d.lcZ(23,13,r.getLabel("insert")))}}const fa=function(s,t){return{backgroundColor:s,color:t}},Lh=function(s){return{"NgxEditor__Color--Active":s}};function Vh(s,t){if(1&s){const r=d.EpF();d.TgZ(0,"button",7),d.NdJ("mousedown",function(l){const h=d.CHM(r).$implicit,g=d.oxw(3);return d.KtG(g.onColorSelect(l,h))}),d.qZA()}if(2&s){const r=t.$implicit,i=d.oxw(3);d.Q6J("ngStyle",d.WLB(3,fa,r,i.getContrastYIQ(r)))("title",r)("ngClass",d.VKq(6,Lh,i.activeColors.includes(r)))}}function am(s,t){if(1&s&&(d.TgZ(0,"div",5),d.YNc(1,Vh,1,8,"button",6),d.qZA()),2&s){const r=t.$implicit,i=d.oxw(2);d.xp6(1),d.Q6J("ngForOf",r)("ngForTrackBy",i.trackByIndex)}}function Bh(s,t){if(1&s){const r=d.EpF();d.TgZ(0,"div",2),d.YNc(1,am,2,2,"div",3),d.TgZ(2,"button",4),d.NdJ("mousedown",function(l){d.CHM(r);const c=d.oxw();return d.KtG(c.remove(l))}),d._uU(3),d.ALo(4,"async"),d.qZA()()}if(2&s){const r=d.oxw();d.xp6(1),d.Q6J("ngForOf",r.presets)("ngForTrackBy",r.trackByIndex),d.xp6(1),d.Q6J("disabled",!r.isActive),d.xp6(1),d.hij(" ",d.lcZ(4,4,r.getLabel("remove"))," ")}}function tc(s,t){if(1&s&&d._UZ(0,"ngx-toggle-command",7),2&s){const r=d.oxw().$implicit,i=d.oxw(2);d.Tol(i.iconContainerClass),d.Q6J("toolbarItem",r)}}function Hh(s,t){if(1&s&&d._UZ(0,"ngx-insert-command",7),2&s){const r=d.oxw().$implicit,i=d.oxw(2);d.Tol(i.iconContainerClass),d.Q6J("toolbarItem",r)}}function Wa(s,t){if(1&s&&d._UZ(0,"ngx-link"),2&s){const r=d.oxw(3);d.Tol(r.iconContainerClass)}}function Yl(s,t){if(1&s&&d._UZ(0,"ngx-image"),2&s){const r=d.oxw(3);d.Tol(r.iconContainerClass)}}function nc(s,t){if(1&s&&d._UZ(0,"ngx-dropdown",9),2&s){const r=t.$implicit,i=d.oxw(4);d.Tol(i.dropdownContainerClass),d.Q6J("group",r.key)("items",r.value)}}function kd(s,t){if(1&s&&(d.ynx(0),d.YNc(1,nc,1,4,"ngx-dropdown",8),d.ALo(2,"keyvalue"),d.BQk()),2&s){const r=d.oxw().$implicit,i=d.oxw(2);d.xp6(1),d.Q6J("ngForOf",d.lcZ(2,2,i.getDropdownItems(r)))("ngForTrackBy",i.trackByIndex)}}function Pd(s,t){if(1&s&&d._UZ(0,"ngx-color-picker",10),2&s){const r=d.oxw(3);d.Tol(r.iconContainerClass),d.Q6J("presets",r.presets)}}function Fd(s,t){if(1&s&&d._UZ(0,"ngx-color-picker",11),2&s){const r=d.oxw(3);d.Tol(r.iconContainerClass),d.Q6J("presets",r.presets)}}function Ls(s,t){if(1&s&&d._UZ(0,"div"),2&s){const r=d.oxw(3);d.Tol(r.seperatorClass)}}function Uh(s,t){if(1&s&&(d.ynx(0),d.YNc(1,tc,1,3,"ngx-toggle-command",3),d.YNc(2,Hh,1,3,"ngx-insert-command",3),d.YNc(3,Wa,1,2,"ngx-link",4),d.YNc(4,Yl,1,2,"ngx-image",4),d.YNc(5,kd,3,4,"ng-container",2),d.YNc(6,Pd,1,3,"ngx-color-picker",5),d.YNc(7,Fd,1,3,"ngx-color-picker",6),d.YNc(8,Ls,1,2,"div",4),d.BQk()),2&s){const r=t.$implicit,i=t.last,l=d.oxw().last,c=d.oxw();d.xp6(1),d.Q6J("ngIf",c.toggleCommands.includes(r)),d.xp6(1),d.Q6J("ngIf",c.insertCommands.includes(r)),d.xp6(1),d.Q6J("ngIf","link"===r),d.xp6(1),d.Q6J("ngIf","image"===r),d.xp6(1),d.Q6J("ngIf",c.isDropDown(r)),d.xp6(1),d.Q6J("ngIf","text_color"===r),d.xp6(1),d.Q6J("ngIf","background_color"===r),d.xp6(1),d.Q6J("ngIf",i&&!l)}}function jh(s,t){if(1&s&&(d.ynx(0),d.YNc(1,Uh,9,8,"ng-container",1),d.BQk()),2&s){const r=t.$implicit,i=d.oxw();d.xp6(1),d.Q6J("ngForOf",r)("ngForTrackBy",i.trackByIndex)}}function $h(s,t){if(1&s&&(d.ynx(0),d.GkF(1,12),d.BQk()),2&s){const r=d.oxw();d.xp6(1),d.Q6J("ngTemplateOutlet",r.customMenuRef)}}const zh=function(s,t){return{"NgxEditor--Disabled":s,"NgxEditor__MenuBar--Reverse":t}},qh=(s=!0)=>new mn({key:new Tt("editable"),state:{init:()=>s,apply:(t,r)=>t.getMeta("UPDATE_EDITABLE")??r},props:{editable(t){return this.getState(t)},attributes(t){return this.getState(t)?null:{class:"NgxEditor__Content--Disabled"}}}}),Yh=s=>new mn({key:new Tt("placeholder"),state:{init:()=>s??"",apply:(t,r)=>t.getMeta("UPDATE_PLACEHOLDER")??r},props:{decorations(t){const{doc:r}=t,{textContent:i,childCount:l}=r,c=this.getState(t);if(!c||l>1)return ir.empty;const h=[];return r.descendants((C,I)=>{if(C.type.isBlock&&0===C.childCount&&0===i.length){const G=ti.node(I,I+C.nodeSize,{class:"NgxEditor__Placeholder","data-placeholder":c,"data-align":C.attrs.align??null});h.push(G)}return!1}),ir.create(r,h)}}});let Qh=(()=>{class s{constructor(){this.alt="",this.title="",this.outerWidth="",this.selected=!1,this.imageResize=new d.vpe}startResizing(r,i){r.preventDefault(),this.resizeImage(r,i)}resizeImage(r,i){const l=r.pageX,c=this.imgEl.nativeElement.clientWidth,h="left"===i,{width:g}=window.getComputedStyle(this.view.dom),C=parseInt(g,10),I=H=>{const W=H.pageX-l,ne=h?c-W:c+W;ne>C||ne<20||(this.outerWidth=`${ne}px`)},O=H=>{H.preventDefault(),document.removeEventListener("mousemove",I),document.removeEventListener("mouseup",O),this.imageResize.emit()};document.addEventListener("mousemove",I),document.addEventListener("mouseup",O)}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275cmp=d.Xpm({type:s,selectors:[["ngx-image-view"]],viewQuery:function(r,i){if(1&r&&d.Gf(ql,7),2&r){let l;d.iGM(l=d.CRH())&&(i.imgEl=l.first)}},inputs:{src:"src",alt:"alt",title:"title",outerWidth:"outerWidth",selected:"selected",view:"view"},outputs:{imageResize:"imageResize"},decls:4,vars:9,consts:[[1,"NgxEditor__ImageWrapper",3,"ngClass"],["class","NgxEditor__ResizeHandle",4,"ngIf"],[3,"src","alt","title"],["imgEl",""],[1,"NgxEditor__ResizeHandle"],[1,"NgxEditor__ResizeHandle--TL",3,"mousedown"],[1,"NgxEditor__ResizeHandle--TR",3,"mousedown"],[1,"NgxEditor__ResizeHandle--BL",3,"mousedown"],[1,"NgxEditor__ResizeHandle--BR",3,"mousedown"]],template:function(r,i){1&r&&(d.TgZ(0,"span",0),d.YNc(1,Ad,5,0,"span",1),d._UZ(2,"img",2,3),d.qZA()),2&r&&(d.Udp("width",i.outerWidth),d.Q6J("ngClass",d.VKq(7,Xu,i.selected)),d.xp6(1),d.Q6J("ngIf",i.selected),d.xp6(1),d.Q6J("src",i.src,d.LSH)("alt",i.alt)("title",i.title))},dependencies:[$n.mk,$n.O5],styles:["*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{box-sizing:border-box}img[_ngcontent-%COMP%]{width:100%;height:100%}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]{position:relative;display:inline-block;line-height:0;padding:2px}.NgxEditor__ImageWrapper.NgxEditor__Resizer--Active[_ngcontent-%COMP%]{padding:1px;border:1px solid #1a73e8}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]{position:absolute;height:100%;width:100%}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--TL[_ngcontent-%COMP%], .NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--BL[_ngcontent-%COMP%], .NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--TR[_ngcontent-%COMP%], .NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--BR[_ngcontent-%COMP%]{position:absolute;width:7px;height:7px;background-color:#1a73e8;border:1px solid white}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--BR[_ngcontent-%COMP%]{bottom:-5px;right:-5px;cursor:se-resize}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--TR[_ngcontent-%COMP%]{top:-5px;right:-5px;cursor:ne-resize}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--TL[_ngcontent-%COMP%]{top:-5px;left:-5px;cursor:nw-resize}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--BL[_ngcontent-%COMP%]{bottom:-5px;left:-5px;cursor:sw-resize}"]}),s})();class Xh{constructor(t,r,i,l){this.updating=!1,this.handleResize=()=>{if(this.updating)return;const{state:c,dispatch:h}=this.view,{tr:g}=c,C=g.setNodeMarkup(this.getPos(),void 0,{...this.node.attrs,width:this.imageComponentRef.instance.outerWidth}),I=C.doc.resolve(this.getPos()),O=new st(I);C.setSelection(O),h(C)},this.applicationRef=l.get(d.z2F),this.imageComponentRef=(0,d.LMc)(Qh,{environmentInjector:this.applicationRef.injector}),this.applicationRef.attachView(this.imageComponentRef.hostView),this.setNodeAttributes(t.attrs),this.imageComponentRef.instance.view=r,this.dom=this.imageComponentRef.location.nativeElement,this.view=r,this.node=t,this.getPos=i,this.resizeSubscription=this.imageComponentRef.instance.imageResize.subscribe(()=>{this.handleResize()})}computeChanges(t,r){return JSON.stringify(t)===JSON.stringify(r)}setNodeAttributes(t){this.imageComponentRef.instance.src=t.src,this.imageComponentRef.instance.alt=t.alt,this.imageComponentRef.instance.title=t.title,this.imageComponentRef.instance.outerWidth=t.width}update(t){return t.type===this.node.type&&(this.node=t,this.computeChanges(this.node.attrs,t.attrs)&&(this.updating=!0,this.setNodeAttributes(t.attrs),this.updating=!1),!0)}ignoreMutation(){return!0}selectNode(){this.imageComponentRef.instance.selected=!0}deselectNode(){this.imageComponentRef.instance.selected=!1}destroy(){this.resizeSubscription.unsubscribe(),this.applicationRef.detachView(this.imageComponentRef.hostView)}}const Vi=/(?:https?:\/\/)?[\w-]+(?:\.[\w-]+)+\.?(?:\d+)?(?:\/\S*)?$/,pa=s=>{const t=[];return s.forEach(r=>{if(r.isText){const i=r.text;let l=0;const c=Vi.exec(i);if(c){const h=c.index,g=h+c[0].length,{link:C}=r.type.schema.marks;h>0&&t.push(r.cut(l,h));const I=i.slice(h,g);t.push(r.cut(h,g).mark(C.create({href:I}).addToSet(r.marks))),l=g}l<i.length&&t.push(r.cut(l))}else t.push(r.copy(pa(r.content)))}),ve.fromArray(t)},rc=s=>"string"==typeof s,ep=s=>window.trustedTypes?.isHTML(s)??!1,tp=s=>rc(s)||ep(s),np={type:"doc",content:[{type:"paragraph"}]},Zl=(s,t)=>{if(!s)return t.nodeFromJSON(np);if(!tp(s))return t.nodeFromJSON(s);const r=((s,t)=>{const r=t??Rl,i=document.createElement("div");return i.innerHTML=s,Je.fromSchema(r).parse(i).toJSON()})(s,t);return t.nodeFromJSON(r)};let cm=(()=>{class s{constructor(r,i,l){this.renderer=r,this.injector=i,this.elementRef=l,this.placeholder="Type Here...",this.focusOut=new d.vpe,this.focusIn=new d.vpe,this.unsubscribe=new ae.x,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(r){!this.outputFormat&&tp(r)&&(this.outputFormat="html"),this.editor.setContent(r??np)}registerOnChange(r){this.onChange=r}registerOnTouched(r){this.onTouched=r}setDisabledState(r){this.setMeta("UPDATE_EDITABLE",!r),this.renderer.setProperty(this.elementRef.nativeElement,"disabled",r)}handleChange(r){if("html"!==this.outputFormat)this.onChange(r);else{const i=((s,t)=>{const r=this.editor.schema??Rl,i=r.nodeFromJSON(s),l=j.fromSchema(r).serializeFragment(i.content),c=document.createElement("div");return c.appendChild(l),c.innerHTML})(r);this.onChange(i)}}setMeta(r,i){const{dispatch:l,state:{tr:c}}=this.editor.view;l(c.setMeta(r,i))}setPlaceholder(r){this.setMeta("UPDATE_PLACEHOLDER",r)}registerPlugins(){this.editor.registerPlugin(qh()),this.editor.registerPlugin(Yh(this.placeholder)),this.editor.registerPlugin(((s={})=>new mn({key:new Tt("attributes"),props:{attributes:s}}))({class:"NgxEditor__Content"})),this.editor.registerPlugin((s=>new mn({key:new Tt("focus"),props:{handleDOMEvents:{focus:()=>(s(),!1)}}}))(()=>{this.focusIn.emit()})),this.editor.registerPlugin((s=>new mn({key:new Tt("blur"),props:{handleDOMEvents:{blur:()=>(s(),!1)}}}))(()=>{this.focusOut.emit(),this.onTouched()})),this.editor.features.resizeImage&&this.editor.registerPlugin((s=>new mn({key:new Tt("image-resize"),props:{nodeViews:{image:(t,r,i)=>new Xh(t,r,i,s)}}}))(this.injector)),this.editor.features.linkOnPaste&&this.editor.registerPlugin(new mn({key:new Tt("linkify"),props:{transformPasted:s=>new ee(pa(s.content),s.openStart,s.openEnd)}}))}ngOnInit(){if(!this.editor)throw new $e("Required editor instance for initializing editor component");this.registerPlugins(),this.renderer.appendChild(this.ngxEditor.nativeElement,this.editor.view.dom),this.editor.valueChanges.pipe(function _e(s){return(0,Re.e)((t,r)=>{(0,Oe.Xf)(s).subscribe((0,re.x)(r,()=>r.complete(),ye.Z)),!r.closed&&t.subscribe(r)})}(this.unsubscribe)).subscribe(r=>{this.handleChange(r)})}ngOnChanges(r){r.placeholder&&!r.placeholder.isFirstChange()&&this.setPlaceholder(r.placeholder.currentValue)}ngOnDestroy(){this.unsubscribe.next(),this.unsubscribe.complete()}}return s.\u0275fac=function(r){return new(r||s)(d.Y36(d.Qsj),d.Y36(d.zs3),d.Y36(d.SBq))},s.\u0275cmp=d.Xpm({type:s,selectors:[["ngx-editor"]],viewQuery:function(r,i){if(1&r&&d.Gf(Ga,7),2&r){let l;d.iGM(l=d.CRH())&&(i.ngxEditor=l.first)}},inputs:{editor:"editor",outputFormat:"outputFormat",placeholder:"placeholder"},outputs:{focusOut:"focusOut",focusIn:"focusIn"},features:[d._Bn([{provide:Y.JU,useExisting:(0,d.Gpc)(()=>s),multi:!0}]),d.TTD],ngContentSelectors:Rh,decls:3,vars:0,consts:[[1,"NgxEditor"],["ngxEditor",""]],template:function(r,i){1&r&&(d.F$t(),d.TgZ(0,"div",0,1),d.Hsn(2),d.qZA())},styles:['.NgxEditor{background:white;color:#000;background-clip:padding-box;border-radius:4px;border:1px solid rgba(0,0,0,.2);position:relative}.NgxEditor--Disabled{opacity:.5;pointer-events:none}.NgxEditor__Placeholder:before{color:#6c757d;opacity:1;-webkit-user-select:none;user-select:none;position:absolute;cursor:text;content:attr(data-placeholder)}.NgxEditor__Placeholder[data-align=right]:before{position:relative}.NgxEditor__Content{padding:8px;white-space:pre-wrap;outline:none;font-variant-ligatures:none;font-feature-settings:"liga" 0}.NgxEditor__Content p{margin:0 0 10px}.NgxEditor__Content blockquote{padding-left:16px;border-left:3px solid #ddd;margin-left:0;margin-right:0}.NgxEditor__Content--Disabled{-webkit-user-select:none;user-select:none;pointer-events:none}.NgxEditor__Wrapper{border:1px solid rgba(0,0,0,.4);border-radius:4px}.NgxEditor__Wrapper .NgxEditor__MenuBar{border-top-left-radius:4px;border-top-right-radius:4px;border-bottom:1px solid rgba(0,0,0,.2)}.NgxEditor__Wrapper .NgxEditor{border-top-left-radius:0;border-top-right-radius:0;border:none}.NgxEditor__MenuBar{display:flex;flex-wrap:wrap;padding:3px;cursor:default;background-color:#fff}.NgxEditor__MenuItem{border-radius:2px;display:flex;align-items:center;justify-content:center;position:relative;flex-shrink:0}.NgxEditor__MenuItem:hover{background-color:#f1f1f1}.NgxEditor__MenuItem.NgxEditor__MenuItem--Icon{height:30px;width:30px;transition:.3s ease-in-out}.NgxEditor__MenuItem.NgxEditor__MenuItem--Icon+.NgxEditor__MenuItem--Icon{margin-left:2px}.NgxEditor__MenuItem .NgxEditor__MenuItem--IconContainer{display:flex;height:100%;width:100%;align-items:center;justify-content:center}.NgxEditor__MenuItem.NgxEditor__MenuItem--Text{padding:0 5px}.NgxEditor__MenuItem.NgxEditor__MenuItem--Active,.NgxEditor__MenuItem .NgxEditor__MenuItem--Active{background-color:#e8f0fe;color:#1a73e8}.NgxEditor__Dropdown{min-width:64px;position:relative;display:flex;align-items:center;flex-shrink:0}.NgxEditor__Dropdown:hover{background-color:#f1f1f1}.NgxEditor__Dropdown .NgxEditor__Dropdown--Text{display:flex;align-items:center;justify-content:center;padding:0 5px;height:100%;width:100%}.NgxEditor__Dropdown .NgxEditor__Dropdown--Text:after{display:inline-block;content:"";margin-left:24px;vertical-align:4px;border-top:4px solid;border-right:4px solid transparent;border-bottom:0;border-left:4px solid transparent}.NgxEditor__Dropdown .NgxEditor__Dropdown--DropdownMenu{position:absolute;left:0;box-shadow:#3c404326 0 2px 6px 2px;border-radius:4px;background-color:#fff;z-index:10;width:100%;top:32px}.NgxEditor__Dropdown .NgxEditor__Dropdown--Item{padding:8px;white-space:nowrap;color:inherit}.NgxEditor__Dropdown .NgxEditor__Dropdown--Item:hover{background-color:#ececec}.NgxEditor__Dropdown .NgxEditor__Dropdown--Selected,.NgxEditor__Dropdown .NgxEditor__Dropdown--Open{color:#1a73e8;background-color:#e8f0fe}.NgxEditor__Dropdown .NgxEditor__Dropdown--Active{background-color:#f1f1f1}.NgxEditor__Dropdown .NgxEditor__Dropdown--Active:hover{background-color:#e7e7e7}.NgxEditor__MenuBar--Reverse .NgxEditor__Dropdown--DropdownMenu{top:unset;bottom:32px}.NgxEditor__MenuBar--Reverse .NgxEditor__Dropdown--Text:after{transform:rotate(180deg)}.NgxEditor__MenuBar--Reverse .NgxEditor__Popup{top:unset;bottom:32px}.NgxEditor__Popup{position:absolute;top:32px;box-shadow:#3c404326 0 2px 6px 2px;border-radius:4px;background-color:#fff;z-index:10;min-width:192px;padding:8px}.NgxEditor__Popup .NgxEditor__Popup--FormGroup{margin-bottom:8px}.NgxEditor__Popup .NgxEditor__Popup--FormGroup label{margin-bottom:3px}.NgxEditor__Popup .NgxEditor__Popup--FormGroup input[type=text],.NgxEditor__Popup .NgxEditor__Popup--FormGroup input[type=url]{padding:2px 4px}.NgxEditor__Popup .NgxEditor__Popup--Col{display:flex;flex-direction:column;position:relative}.NgxEditor__Popup .NgxEditor__Popup--Label{font-size:85%}.NgxEditor__Seperator{border-left:1px solid #ccc;margin:0 5px}.NgxEditor__HelpText{font-size:80%}.NgxEditor__HelpText.NgxEditor__HelpText--Error{color:red}\n'],encapsulation:2}),s})(),Bi=(()=>{class s{constructor(){this.customMenuRefChange=new ae.x}setCustomMenuRef(r){this.customMenuRefChange.next(r)}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275prov=d.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();class ga{constructor(t){this.name=t}apply(){return(t,r)=>{const{schema:i}=t,l=i.marks[this.name];return!!l&&Bl(l)(t,r)}}toggle(){return(t,r)=>{const{schema:i}=t,l=i.marks[this.name];return!!l&&ni(l)(t,r)}}isActive(t){const{schema:r}=t,i=r.marks[this.name];return!!i&&Wu(t,i)}canExecute(t){return this.toggle()(t)}}class Ql{constructor(t=!1){this.isBulletList=!1,this.isBulletList=t}getType(t){return this.isBulletList?t.nodes.bullet_list:t.nodes.ordered_list}toggle(){return(t,r)=>{const{schema:i}=t,l=this.getType(i);return!!l&&(this.isActive(t)?ih(i.nodes.list_item)(t,r):function Il(s,t=null){return function(r,i){let{$from:l,$to:c}=r.selection,h=l.blockRange(c),g=!1,C=h;if(!h)return!1;if(h.depth>=2&&l.node(h.depth-1).type.compatibleContent(s)&&0==h.startIndex){if(0==l.index(h.depth-1))return!1;let O=r.doc.resolve(h.start-2);C=new Nt(O,O,h.depth),h.endIndex<h.parent.childCount&&(h=new Nt(l,r.doc.resolve(c.end(h.depth)),h.depth)),g=!0}let I=uo(C,s,t,h);return!!I&&(i&&i(function La(s,t,r,i,l){let c=ve.empty;for(let O=r.length-1;O>=0;O--)c=ve.from(r[O].type.create(r[O].attrs,c));s.step(new Xt(t.start-(i?2:0),t.end,t.start,t.end,new ee(c,0,0),r.length,!0));let h=0;for(let O=0;O<r.length;O++)r[O].type==l&&(h=O+1);let g=r.length-h,C=t.start+r.length-(i?2:0),I=t.parent;for(let O=t.startIndex,H=t.endIndex,G=!0;O<H;O++,G=!1)!G&&Zn(s.doc,C,g)&&(s.split(C,g),C+=2*g),C+=I.child(O).nodeSize;return s}(r.tr,h,I,g,s).scrollIntoView()),!0)}}(l)(t,r))}}isActive(t){const{schema:r}=t,i=this.getType(r);return!!i&&gd(t,i)}canExecute(t){return this.toggle()(t)}}class fs{constructor(t){this.level=t}apply(){return(t,r)=>{const{schema:i}=t,l=i.nodes.heading;return!!l&&Ll(l)(t,r)}}toggle(){return(t,r)=>{const{schema:i,selection:l,doc:c}=t,h=i.nodes.heading;if(!h)return!1;const g=l.$from.before(1),I=c.nodeAt(g)?.attrs??{};return this.isActive(t)?Ll(i.nodes.paragraph,I)(t,r):Ll(h,{...I,level:this.level})(t,r)}}isActive(t){const{schema:r}=t,i=yd(t),l=r.nodes.heading;if(!l)return!1;const c=[l,r.nodes.text,r.nodes.blockquote];return!!i.filter(C=>c.includes(C.type)).find(C=>C.attrs.level===this.level)}canExecute(t){return this.toggle()(t)}}class hs{constructor(t){this.align=t}toggle(){return(t,r)=>{const{doc:i,selection:l,tr:c,schema:h}=t,{from:g,to:C}=l;let I=!1;return i.nodesBetween(g,C,(O,H)=>{const G=O.type;return[h.nodes.paragraph,h.nodes.heading].includes(G)&&(I=!0,c.setNodeMarkup(H,G,{...O.attrs,align:this.align})),!0}),!!I&&(c.docChanged&&r?.(c),!0)}}isActive(t){return!!yd(t).find(l=>l.attrs.align===this.align)}canExecute(t){return this.toggle()(t)}}const Hd={strict:!0};let qa=class{update(t){return(r,i)=>{const{schema:l,selection:c}=r,h=l.marks.link;return!(!h||c.empty)&&ni(h,t)(r,i)}}insert(t,r){return(i,l)=>{const{schema:c,tr:h}=i;if(!c.marks.link)return!1;const I=c.text(t,[c.marks.link.create({href:r.href,title:r.title??t,target:r.target??"_blank"})]);return h.replaceSelectionWith(I,!1).scrollIntoView(),!!h.docChanged&&(l?.(h),!0)}}isActive(t,r=Hd){if(r.strict)return!0;const{schema:i}=t,l=i.marks.link;return!!l&&Wu(t,l)}remove(t,r){return((s,t)=>{const{doc:r,selection:i,tr:l}=s,{$head:{pos:c},from:h,to:g}=i;if(h===g){const C=r.resolve(c),I=c-C.textOffset,O=I+C.parent.child(C.index()).nodeSize;l.removeMark(I,O)}else l.removeMark(h,g);return!!l.docChanged&&(t?.(l),!0)})(t,r)}canExecute(t){const r={href:""};return this.insert("Exec",r)(t)||this.update(r)(t)}},Ud=class{insert(t,r){return(i,l)=>{const{schema:c,tr:h,selection:g}=i,C=c.nodes.image;if(!C)return!1;const I={width:null,src:t,...r};!I.width&&g instanceof st&&g.node.type===C&&(I.width=g.node.attrs.width),h.replaceSelectionWith(C.createAndFill(I));const O=h.doc.resolve(h.selection.anchor-h.selection.$anchor.nodeBefore.nodeSize);return h.setSelection(new st(O)).scrollIntoView(),!!h.docChanged&&(l?.(h),!0)}}isActive(t){const{selection:r}=t;return r instanceof st&&"image"===r.node.type.name}},Tn=class{constructor(t,r="color"){this.name=t,this.attrName=r}apply(t){return(r,i)=>{const{schema:l,selection:c,doc:h}=r,g=l.marks[this.name];if(!g)return!1;const{from:C,to:I,empty:O}=c;if(!O&&C+1===I){const H=h.nodeAt(C);if(H?.isAtom&&!H.isText&&H.isLeaf)return!1}return Bl(g,t)(r,i)}}isActive(t){const{schema:r}=t,i=r.marks[this.name];return!!i&&Wu(t,i)}getActiveColors(t){if(!this.isActive(t))return[];const{schema:r}=t;return(s=>{let t=[];const{selection:r,storedMarks:i}=s,{from:l,to:c,empty:h,$from:g}=r;return h?t=i||g.marks():s.doc.nodesBetween(l,c,C=>{t=[...t,...C.marks]}),t})(t).filter(c=>c.type===r.marks[this.name]).map(c=>c.attrs[this.attrName]).filter(Boolean)}remove(){return(t,r)=>{const{schema:i}=t,l=i.marks[this.name];return!!l&&(s=l,(t,r)=>{const{tr:i,selection:l,storedMarks:c,doc:h}=t,{empty:g,ranges:C}=l;if(g&&l instanceof kt){const{$cursor:I}=l;if(!I||!qu(t.doc,C,s))return!1;if(s.isInSet(c||I.marks()))return i.removeStoredMark(s),r?.(i),!0}else{for(const I of C){const{$from:O,$to:H}=I;h.rangeHasMark(O.pos,H.pos,s)&&i.removeMark(O.pos,H.pos,s)}if(!i.docChanged)return!1;r?.(i.scrollIntoView())}return!1})(t,r);var s}}canExecute(t){return this.apply("text_color"===this.name?{color:""}:{backgroundColor:""})(t)}};const jd=["link"],sc=new ga("strong"),$d=new ga("em"),sp=new ga("code"),ap=new ga("u"),lp=new ga("s"),up=new class rp{toggle(){return(t,r)=>{const{schema:i}=t,l=i.nodes.blockquote;return!!l&&(this.isActive(t)?((s,t)=>{let{$from:r,$to:i}=s.selection,l=r.blockRange(i),c=l&&Un(l);return null!=c&&(t&&t(s.tr.lift(l,c).scrollIntoView()),!0)})(t,r):function ld(s,t=null){return function(r,i){let{$from:l,$to:c}=r.selection,h=l.blockRange(c),g=h&&uo(h,s,t);return!!g&&(i&&i(r.tr.wrap(h,g).scrollIntoView()),!0)}}(l)(t,r))}}isActive(t){const{schema:r}=t,i=r.nodes.blockquote;return!!i&&gd(t,i)}canExecute(t){return this.toggle()(t)}},zd=new class op{insert(){return(t,r)=>{const{schema:i,tr:l}=t,c=i.nodes.horizontal_rule;return!!c&&(r(l.replaceSelectionWith(c.create()).scrollIntoView()),!0)}}canExecute(t){return((s,t)=>{const{$from:r}=s.selection;for(let i=r.depth;i>=0;i-=1){const l=r.index(i);if(r.node(i).canReplaceWith(l,l,t))return!0}return!1})(t,t.schema.nodes.horizontal_rule)}},dm=new class ip{insert(){return(t,r)=>{const{tr:i}=t,{ranges:l,empty:c}=i.selection;return c||(Object.entries(t.schema.marks).forEach(([h,g])=>{jd.includes(h)||l.forEach(C=>{i.removeMark(C.$from.pos,C.$to.pos,g)})}),r(i)),!0}}canExecute(){return!0}},fm=new Ql(!0),Ja=new Ql(!1),vn=new fs(1),Ya=new fs(2),Gd=new fs(3),Wd=new fs(4),qd=new fs(5),ac=new fs(6),cp=new hs("left"),Jd=new hs("center"),Yd=new hs("right"),lc=new hs("justify"),hm=new qa,uc=new Ud,dp=new Tn("text_color","color"),cc=new Tn("text_background_color","backgroundColor"),Ka={bold:sc,italic:$d,code:sp,underline:ap,strike:lp,blockquote:up,bullet_list:fm,ordered_list:Ja,h1:vn,h2:Ya,h3:Gd,h4:Wd,h5:qd,h6:ac,align_left:cp,align_center:Jd,align_right:Yd,align_justify:lc},dc={horizontal_rule:zd,format_clear:dm},si=hm,Kd=uc,fc=dp,Xl=cc,hc={bold:"Bold",italic:"Italic",code:"Code",underline:"Underline",strike:"Strike",blockquote:"Blockquote",bullet_list:"Bullet List",ordered_list:"Ordered List",heading:"Heading",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6",align_left:"Left Align",align_center:"Center Align",align_right:"Right Align",align_justify:"Justify",text_color:"Text Color",background_color:"Background Color",horizontal_rule:"Horizontal rule",format_clear:"Clear Formatting",insertLink:"Insert Link",removeLink:"Remove Link",insertImage:"Insert Image",url:"URL",text:"Text",openInNewTab:"Open in new tab",insert:"Insert",altText:"Alt Text",title:"Title",remove:"Remove"};class pc{constructor(t={}){this.locals=hc,this.get=r=>{const i=this.locals[r];return i?(0,J.b)(i)?i:(0,B.of)(i):(0,B.of)("")},this.locals={...hc,...t}}}const Za={bold:'\n  <path d="M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42zM10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3v-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5z" />\n',italic:'\n  <path d="M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4z" />\n',code:'\n<path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"/>\n',underline:'\n<path d="M12 17c3.31 0 6-2.69 6-6V3h-2.5v8c0 1.93-1.57 3.5-3.5 3.5S8.5 12.93 8.5 11V3H6v8c0 3.31 2.69 6 6 6zm-7 2v2h14v-2H5z"/>\n',strike:'\n<path d="M6.85,7.08C6.85,4.37,9.45,3,12.24,3c1.64,0,3,0.49,3.9,1.28c0.77,0.65,1.46,1.73,1.46,3.24h-3.01 c0-0.31-0.05-0.59-0.15-0.85c-0.29-0.86-1.2-1.28-2.25-1.28c-1.86,0-2.34,1.02-2.34,1.7c0,0.48,0.25,0.88,0.74,1.21 C10.97,8.55,11.36,8.78,12,9H7.39C7.18,8.66,6.85,8.11,6.85,7.08z M21,12v-2H3v2h9.62c1.15,0.45,1.96,0.75,1.96,1.97 c0,1-0.81,1.67-2.28,1.67c-1.54,0-2.93-0.54-2.93-2.51H6.4c0,0.55,0.08,1.13,0.24,1.58c0.81,2.29,3.29,3.3,5.67,3.3 c2.27,0,5.3-0.89,5.3-4.05c0-0.3-0.01-1.16-0.48-1.94H21V12z"/>\n',ordered_list:'\n<path d="M2 17h2v.5H3v1h1v.5H2v1h3v-4H2v1zm1-9h1V4H2v1h1v3zm-1 3h1.8L2 13.1v.9h3v-1H3.2L5 10.9V10H2v1zm5-6v2h14V5H7zm0 14h14v-2H7v2zm0-6h14v-2H7v2z"/>\n',bullet_list:'\n<path d="M4 10.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-6c-.83 0-1.5.67-1.5 1.5S3.17 7.5 4 7.5 5.5 6.83 5.5 6 4.83 4.5 4 4.5zm0 12c-.83 0-1.5.68-1.5 1.5s.68 1.5 1.5 1.5 1.5-.68 1.5-1.5-.67-1.5-1.5-1.5zM7 19h14v-2H7v2zm0-6h14v-2H7v2zm0-8v2h14V5H7z"/>\n',blockquote:'\n<path d="M0 0h24v24H0z" fill="none"/><path d="M6 17h3l2-4V7H5v6h3zm8 0h3l2-4V7h-6v6h3z"/>\n',link:'\n<path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>\n',unlink:'\n<path d="M17 7h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1 0 1.43-.98 2.63-2.31 2.98l1.46 1.46C20.88 15.61 22 13.95 22 12c0-2.76-2.24-5-5-5zm-1 4h-2.19l2 2H16zM2 4.27l3.11 3.11C3.29 8.12 2 9.91 2 12c0 2.76 2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1 0-1.59 1.21-2.9 2.76-3.07L8.73 11H8v2h2.73L13 15.27V17h1.73l4.01 4L20 19.74 3.27 3 2 4.27z"/>\n',image:'\n<path d="M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"/>\n',align_left:'\n<path d="M15 15H3v2h12v-2zm0-8H3v2h12V7zM3 13h18v-2H3v2zm0 8h18v-2H3v2zM3 3v2h18V3H3z"/>\n',align_center:'\n<path d="M7 15v2h10v-2H7zm-4 6h18v-2H3v2zm0-8h18v-2H3v2zm4-6v2h10V7H7zM3 3v2h18V3H3z"/>\n',align_right:'\n<path d="M3 21h18v-2H3v2zm6-4h12v-2H9v2zm-6-4h18v-2H3v2zm6-4h12V7H9v2zM3 3v2h18V3H3z"/>\n',align_justify:'\n<path d="M3 21h18v-2H3v2zm0-4h18v-2H3v2zm0-4h18v-2H3v2zm0-4h18V7H3v2zm0-6v2h18V3H3z"/>\n',text_color:'\n<path d="M2,20h20v4H2V20z M5.49,17h2.42l1.27-3.58h5.65L16.09,17h2.42L13.25,3h-2.5L5.49,17z M9.91,11.39l2.03-5.79h0.12l2.03,5.79 H9.91z"/>\n',color_fill:'\n<path d="M16.56,8.94L7.62,0L6.21,1.41l2.38,2.38L3.44,8.94c-0.59,0.59-0.59,1.54,0,2.12l5.5,5.5C9.23,16.85,9.62,17,10,17 s0.77-0.15,1.06-0.44l5.5-5.5C17.15,10.48,17.15,9.53,16.56,8.94z M5.21,10L10,5.21L14.79,10H5.21z M19,11.5c0,0-2,2.17-2,3.5 c0,1.1,0.9,2,2,2s2-0.9,2-2C21,13.67,19,11.5,19,11.5z M2,20h20v4H2V20z"/>\n',horizontal_rule:'\n  <g>\n    <rect fill="none" fill-rule="evenodd" height="24" width="24"/>\n    <rect fill-rule="evenodd" height="2" width="16" x="4" y="11"/>\n  </g>\n',format_clear:'\n<path d="M0 0h24v24H0z" fill="none"/><path d="M3.27 5L2 6.27l6.97 6.97L6.5 19h3l1.57-3.66L16.73 21 18 19.73 3.55 5.27 3.27 5zM6 5v.18L8.82 8h2.4l-.72 1.68 2.1 2.1L14.21 8H20V5H6z"/>\n',path:"<path></path>"};class Cp{static get(t,r="currentColor"){const i=Za[t];return i&&(i.includes("<path")||i.includes("<g"))?`\n        <svg\n          xmlns="http://www.w3.org/2000/svg"\n          viewBox="0 0 24 24"\n          fill=${r}\n          height=20\n          width=20\n        >\n          ${i}\n        </svg>\n      `:i}}let Qa=(()=>{class s{constructor(){this.locals={},this.icons={}}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275prov=d.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),Hi=(()=>{class s{constructor(r){this.config=r}get locals(){return new pc(this.config.locals)}getIcon(r){return this.config.icons[r]?this.config.icons[r]:Cp.get(r)}}return s.\u0275fac=function(r){return new(r||s)(d.LFG(Qa,8))},s.\u0275prov=d.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const ya=s=>({locals:s.locals??{},icons:s.icons??{}});let ps=(()=>{class s{constructor(r){this.sanitizer=r}transform(r){return ep(r)?r:this.sanitizer.bypassSecurityTrustHtml(r)}}return s.\u0275fac=function(r){return new(r||s)(d.Y36(ja.H7,16))},s.\u0275pipe=d.Yjl({name:"sanitizeHtml",type:s,pure:!0}),s})(),Dc=(()=>{class s{get name(){return this.toolbarItem}constructor(r,i){this.ngxeService=r,this.menuService=i,this.isActive=!1,this.disabled=!1,this.update=l=>{const{state:c}=l,h=Ka[this.name];this.isActive=h.isActive(c),this.disabled=!h.canExecute(c)}}toggle(r){if(r.preventDefault(),0!==r.button)return;const{state:i,dispatch:l}=this.editorView;Ka[this.name].toggle()(i,l)}getTitle(r){return this.ngxeService.locals.get(r)}ngOnInit(){this.html=this.ngxeService.getIcon(this.name),this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe(r=>{this.update(r)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}}return s.\u0275fac=function(r){return new(r||s)(d.Y36(Hi),d.Y36(Bi))},s.\u0275cmp=d.Xpm({type:s,selectors:[["ngx-toggle-command"]],inputs:{toolbarItem:"toolbarItem"},decls:3,vars:10,consts:[[1,"NgxEditor__MenuItem--IconContainer",3,"innerHTML","title","mousedown"]],template:function(r,i){1&r&&(d.TgZ(0,"div",0),d.NdJ("mousedown",function(c){return i.toggle(c)}),d.ALo(1,"sanitizeHtml"),d.ALo(2,"async"),d.qZA()),2&r&&(d.ekj("NgxEditor__MenuItem--Active",i.isActive)("NgxEditor--Disabled",i.disabled),d.Q6J("innerHTML",d.lcZ(1,6,i.html),d.oJD)("title",d.lcZ(2,8,i.getTitle(i.name))))},dependencies:[$n.Ov,ps]}),s})(),Xa=(()=>{class s{get name(){return this.toolbarItem}constructor(r,i){this.ngxeService=r,this.menuService=i,this.disabled=!1,this.update=l=>{const{state:c}=l;this.disabled=!dc[this.name].canExecute(c)}}insert(r){if(r.preventDefault(),0!==r.button)return;const{state:i,dispatch:l}=this.editorView;dc[this.name].insert()(i,l)}getTitle(r){return this.ngxeService.locals.get(r)}ngOnInit(){this.html=this.ngxeService.getIcon(this.name),this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe(r=>{this.update(r)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}}return s.\u0275fac=function(r){return new(r||s)(d.Y36(Hi),d.Y36(Bi))},s.\u0275cmp=d.Xpm({type:s,selectors:[["ngx-insert-command"]],inputs:{toolbarItem:"toolbarItem"},decls:3,vars:8,consts:[[1,"NgxEditor__MenuItem--IconContainer",3,"innerHTML","title","mousedown"]],template:function(r,i){1&r&&(d.TgZ(0,"div",0),d.NdJ("mousedown",function(c){return i.insert(c)}),d.ALo(1,"sanitizeHtml"),d.ALo(2,"async"),d.qZA()),2&r&&(d.ekj("NgxEditor--Disabled",i.disabled),d.Q6J("innerHTML",d.lcZ(1,4,i.html),d.oJD)("title",d.lcZ(2,6,i.getTitle(i.name))))},dependencies:[$n.Ov,ps]}),s})(),tu=(()=>{class s{constructor(r,i,l){this.el=r,this.ngxeService=i,this.menuService=l,this.showPopup=!1,this.isActive=!1,this.canExecute=!0,this.setText=()=>{const{state:{selection:c,doc:h}}=this.editorView,{empty:g,from:C,to:I}=c,O=g?"":h.textBetween(C,I);O&&(this.text.patchValue(O),this.text.disable())},this.update=c=>{const{state:h}=c;this.isActive=si.isActive(h,{strict:!1}),this.canExecute=si.canExecute(h)}}get icon(){return this.ngxeService.getIcon(this.isActive?"unlink":"link")}get title(){return this.ngxeService.locals.get(this.isActive?"removeLink":"insertLink")}get href(){return this.form.get("href")}get text(){return this.form.get("text")}onDocumentClick(r){!this.el.nativeElement.contains(r.target)&&this.showPopup&&this.hideForm()}getLabel(r){return this.ngxeService.locals.get(r)}hideForm(){this.showPopup=!1,this.form.reset({href:"",text:"",openInNewTab:!0}),this.text.enable()}onMouseDown(r){if(0!==r.button)return;const{state:i,dispatch:l}=this.editorView;this.isActive?si.remove(i,l):(this.showPopup=!this.showPopup,this.showPopup&&this.setText())}insertLink(r){r.preventDefault();const{text:i,href:l,openInNewTab:c}=this.form.getRawValue(),{dispatch:h,state:g}=this.editorView,{selection:C}=g,I={title:l,href:l,target:c?"_blank":"_self"};C.empty?(si.insert(i,I)(g,h),this.editorView.focus()):si.update(I)(g,h),this.hideForm()}ngOnInit(){this.editorView=this.menuService.editor.view,this.form=new Y.cw({href:new Y.NI("",[Y.kI.required,Y.kI.pattern(this.menuService.editor.linkValidationPattern)]),text:new Y.NI("",[Y.kI.required]),openInNewTab:new Y.NI(!0)}),this.updateSubscription=this.menuService.editor.update.subscribe(r=>{this.update(r)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}}return s.\u0275fac=function(r){return new(r||s)(d.Y36(d.SBq),d.Y36(Hi),d.Y36(Bi))},s.\u0275cmp=d.Xpm({type:s,selectors:[["ngx-link"]],hostBindings:function(r,i){1&r&&d.NdJ("mousedown",function(c){return i.onDocumentClick(c)},!1,d.evT)},decls:4,vars:11,consts:[[1,"NgxEditor__MenuItem--IconContainer",3,"innerHTML","title","mousedown"],["class","NgxEditor__Popup",4,"ngIf"],[1,"NgxEditor__Popup"],[1,"NgxEditor__Popup--Form",3,"formGroup","ngSubmit"],[1,"NgxEditor__Popup--FormGroup"],[1,"NgxEditor__Popup--Col"],[1,"NgxEditor__Popup--Label"],["type","href","id","href","formControlName","href","autofocus","","autocomplete","off"],["class","NgxEditor__HelpText NgxEditor__HelpText--Error",4,"ngIf"],["type","text","formControlName","text","autocomplete","off"],["type","checkbox","formControlName","openInNewTab"],["type","submit",3,"disabled"],[1,"NgxEditor__HelpText","NgxEditor__HelpText--Error"]],template:function(r,i){1&r&&(d.TgZ(0,"div",0),d.NdJ("mousedown",function(c){return i.onMouseDown(c)}),d.ALo(1,"sanitizeHtml"),d.ALo(2,"async"),d.qZA(),d.YNc(3,Ph,25,16,"div",1)),2&r&&(d.ekj("NgxEditor__MenuItem--Active",i.isActive||i.showPopup)("NgxEditor--Disabled",!i.canExecute),d.Q6J("innerHTML",d.lcZ(1,7,i.icon),d.oJD)("title",d.lcZ(2,9,i.title)),d.xp6(3),d.Q6J("ngIf",i.showPopup))},dependencies:[$n.O5,Y._Y,Y.Fj,Y.Wl,Y.JJ,Y.JL,Y.sg,Y.u,$n.Ov,ps]}),s})(),el=(()=>{class s{constructor(r,i,l){this.ngxeService=r,this.menuService=i,this.el=l,this.isDropdownOpen=!1,this.disabledItems=[],this.update=c=>{const{state:h}=c;this.disabledItems=[];const g=[];this.items.forEach(C=>{const I=Ka[C];I.isActive(h)&&g.push(C),I.canExecute(h)||this.disabledItems.push(C)}),1===g.length?[this.activeItem]=g:this.activeItem=null}}get isSelected(){return!(!this.activeItem&&!this.isDropdownOpen)}get isDropdownDisabled(){return this.disabledItems.length===this.items.length}onDocumentClick(r){!this.el.nativeElement.contains(r)&&this.isDropdownOpen&&(this.isDropdownOpen=!1)}getName(r){return this.ngxeService.locals.get(r)}toggleDropdown(r){r.preventDefault(),this.isDropdownOpen=!this.isDropdownOpen}trackByIndex(r){return r}onClick(r,i){if(r.preventDefault(),0!==r.button)return;const l=Ka[i],{state:c,dispatch:h}=this.editorView;l.toggle()(c,h),this.isDropdownOpen=!1}ngOnInit(){this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe(r=>{this.update(r)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}}return s.\u0275fac=function(r){return new(r||s)(d.Y36(Hi),d.Y36(Bi),d.Y36(d.SBq))},s.\u0275cmp=d.Xpm({type:s,selectors:[["ngx-dropdown"]],hostBindings:function(r,i){1&r&&d.NdJ("mousedown",function(c){return i.onDocumentClick(c.target)},!1,d.evT)},inputs:{group:"group",items:"items"},decls:4,vars:8,consts:[[1,"NgxEditor__Dropdown--Text",3,"mousedown"],["class","NgxEditor__Dropdown--DropdownMenu",4,"ngIf"],[1,"NgxEditor__Dropdown--DropdownMenu"],["class","NgxEditor__Dropdown--Item",3,"ngClass","mousedown",4,"ngFor","ngForOf","ngForTrackBy"],[1,"NgxEditor__Dropdown--Item",3,"ngClass","mousedown"]],template:function(r,i){1&r&&(d.TgZ(0,"div",0),d.NdJ("mousedown",function(c){return i.toggleDropdown(c)}),d._uU(1),d.ALo(2,"async"),d.qZA(),d.YNc(3,Rd,2,2,"div",1)),2&r&&(d.ekj("NgxEditor__Dropdown--Selected",i.isSelected)("NgxEditor--Disabled",i.isDropdownDisabled),d.xp6(1),d.hij(" ",d.lcZ(2,6,i.getName(i.activeItem||i.group)),"\n"),d.xp6(2),d.Q6J("ngIf",i.isDropdownOpen))},dependencies:[$n.mk,$n.sg,$n.O5,$n.Ov]}),s})(),ef=(()=>{class s{constructor(r,i,l){this.el=r,this.ngxeService=i,this.menuService=l,this.showPopup=!1,this.isActive=!1,this.form=new Y.cw({src:new Y.NI("",[Y.kI.required,Y.kI.pattern("(https?://)?([\\da-z.-]+)\\.([a-z.]{2,6})[/\\w .-]*/??([^#\n\r]*)?#?([^\n\r]*)")]),alt:new Y.NI(""),title:new Y.NI("")}),this.update=c=>{const{state:h}=c;this.isActive=Kd.isActive(h)}}get icon(){return this.ngxeService.getIcon("image")}get src(){return this.form.get("src")}onDocumentClick(r){!this.el.nativeElement.contains(r.target)&&this.showPopup&&this.hideForm()}getLabel(r){return this.ngxeService.locals.get(r)}hideForm(){this.showPopup=!1,this.form.reset({src:"",alt:"",title:""})}onMouseDown(r){0===r.button&&(this.showPopup=!this.showPopup,this.showPopup&&this.fillForm())}fillForm(){const{state:r}=this.editorView,{selection:i}=r;if(i instanceof st&&this.isActive){const{src:l,alt:c="",title:h=""}=i.node.attrs;this.form.setValue({src:l,alt:c,title:h})}}insertLink(r){r.preventDefault();const{src:i,alt:l,title:c}=this.form.getRawValue(),{dispatch:h,state:g}=this.editorView;Kd.insert(i,{alt:l,title:c})(g,h),this.editorView.focus(),this.hideForm()}ngOnInit(){this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe(r=>{this.update(r)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}}return s.\u0275fac=function(r){return new(r||s)(d.Y36(d.SBq),d.Y36(Hi),d.Y36(Bi))},s.\u0275cmp=d.Xpm({type:s,selectors:[["ngx-image"]],hostBindings:function(r,i){1&r&&d.NdJ("mousedown",function(c){return i.onDocumentClick(c)},!1,d.evT)},decls:4,vars:9,consts:[[1,"NgxEditor__MenuItem--IconContainer",3,"innerHTML","title","mousedown"],["class","NgxEditor__Popup",4,"ngIf"],[1,"NgxEditor__Popup"],[1,"NgxEditor__Popup--Form",3,"formGroup","ngSubmit"],[1,"NgxEditor__Popup--FormGroup"],[1,"NgxEditor__Popup--Col"],[1,"NgxEditor__Popup--Label"],["type","href","id","href","formControlName","src","autofocus","","autocomplete","off"],["class","NgxEditor__HelpText NgxEditor__HelpText--Error",4,"ngIf"],["type","text","formControlName","alt","autocomplete","off"],["type","text","formControlName","title","autocomplete","off"],["type","submit",3,"disabled"],[1,"NgxEditor__HelpText","NgxEditor__HelpText--Error"]],template:function(r,i){1&r&&(d.TgZ(0,"div",0),d.NdJ("mousedown",function(c){return i.onMouseDown(c)}),d.ALo(1,"sanitizeHtml"),d.ALo(2,"async"),d.qZA(),d.YNc(3,ec,24,15,"div",1)),2&r&&(d.ekj("NgxEditor__MenuItem--Active",i.isActive||i.showPopup),d.Q6J("innerHTML",d.lcZ(1,5,i.icon),d.oJD)("title",d.lcZ(2,7,i.getLabel("insertImage"))),d.xp6(3),d.Q6J("ngIf",i.showPopup))},dependencies:[$n.O5,Y._Y,Y.Fj,Y.JJ,Y.JL,Y.sg,Y.u,$n.Ov,ps]}),s})(),Cc=(()=>{class s{constructor(r,i,l){this.el=r,this.menuService=i,this.ngxeService=l,this.showPopup=!1,this.isActive=!1,this.activeColors=[],this.canExecute=!0,this.update=c=>{const{state:h}=c;this.canExecute=this.command.canExecute(h),this.isActive=this.command.isActive(h),this.activeColors=[],this.isActive&&(this.activeColors=this.command.getActiveColors(h))}}get title(){return this.getLabel("text_color"===this.type?"text_color":"background_color")}get icon(){return this.ngxeService.getIcon("text_color"===this.type?"text_color":"color_fill")}get command(){return"text_color"===this.type?fc:Xl}getContrastYIQ(r){const i=r.replace("#","");return(299*parseInt(i.substring(0,2),16)+587*parseInt(i.substring(2,4),16)+114*parseInt(i.substring(4,6),16))/1e3>=128?"black":"white"}onDocumentClick(r){!this.el.nativeElement.contains(r.target)&&this.showPopup&&this.hidePopup()}hidePopup(){this.showPopup=!1}togglePopup(r){r.preventDefault(),0===r.button&&(this.showPopup=!this.showPopup)}remove(r){r.preventDefault();const{state:i,dispatch:l}=this.editorView;this.command.remove()(i,l),this.hidePopup()}trackByIndex(r){return r}onColorSelect(r,i){if(r.preventDefault(),0!==r.button)return;const{state:l,dispatch:c}=this.editorView;"text_color"===this.type?this.command.apply({color:i})(l,c):this.command.apply({backgroundColor:i})(l,c),this.editorView.hasFocus()||this.editorView.focus(),this.hidePopup()}getLabel(r){return this.ngxeService.locals.get(r)}ngOnInit(){this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe(r=>{this.update(r)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}}return s.\u0275fac=function(r){return new(r||s)(d.Y36(d.SBq),d.Y36(Bi),d.Y36(Hi))},s.\u0275cmp=d.Xpm({type:s,selectors:[["ngx-color-picker"]],hostBindings:function(r,i){1&r&&d.NdJ("mousedown",function(c){return i.onDocumentClick(c)},!1,d.evT)},inputs:{presets:"presets",type:"type"},decls:4,vars:11,consts:[[1,"NgxEditor__MenuItem--IconContainer",3,"innerHTML","title","mousedown"],["class","NgxEditor__Popup",4,"ngIf"],[1,"NgxEditor__Popup"],["class","NgxEditor__ColorContainer",4,"ngFor","ngForOf","ngForTrackBy"],[1,"NgxEditor__MenuItem--Button",3,"disabled","mousedown"],[1,"NgxEditor__ColorContainer"],["class","NgxEditor__Color",3,"ngStyle","title","ngClass","mousedown",4,"ngFor","ngForOf","ngForTrackBy"],[1,"NgxEditor__Color",3,"ngStyle","title","ngClass","mousedown"]],template:function(r,i){1&r&&(d.TgZ(0,"div",0),d.NdJ("mousedown",function(c){return i.togglePopup(c)}),d.ALo(1,"sanitizeHtml"),d.ALo(2,"async"),d.qZA(),d.YNc(3,Bh,5,6,"div",1)),2&r&&(d.ekj("NgxEditor__MenuItem--Active",i.isActive||i.showPopup)("NgxEditor--Disabled",!i.canExecute),d.Q6J("innerHTML",d.lcZ(1,7,i.icon),d.oJD)("title",d.lcZ(2,9,i.title)),d.xp6(3),d.Q6J("ngIf",i.showPopup))},dependencies:[$n.mk,$n.sg,$n.O5,$n.PC,$n.Ov,ps],styles:['@charset "UTF-8";.NgxEditor__Popup[_ngcontent-%COMP%]{width:230px}.NgxEditor__ColorContainer[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.NgxEditor__ColorContainer[_ngcontent-%COMP%] + .NgxEditor__ColorContainer[_ngcontent-%COMP%]{margin-top:5px}.NgxEditor__Color[_ngcontent-%COMP%]{border:none;outline:none;border-radius:6px;width:24px;height:24px;flex-shrink:0}.NgxEditor__Color--Active[_ngcontent-%COMP%]:after{content:"\\2714";font-size:90%}.NgxEditor__MenuItem--Button[_ngcontent-%COMP%]{margin-top:5px}']}),s})();const vm=[["bold","italic"],[{heading:["h1","h2","h3","h4","h5","h6"]}],["link","image"],["text_color","background_color"]],bc=["#b60205","#d93f0b","#fbca04","#0e8a16","#006b75","#1d76db","#0052cc","#5319e7","#e99695","#f9d0c4","#fef2c0","#c2e0c6","#bfdadc","#c5def5","#bfd4f2","#d4c5f9"];let nf=(()=>{class s{constructor(r){this.menuService=r,this.toolbar=vm,this.colorPresets=bc,this.disabled=!1,this.customMenuRef=null,this.dropdownPlacement="bottom",this.toggleCommands=["bold","italic","underline","strike","code","blockquote","ordered_list","bullet_list","align_left","align_center","align_right","align_justify"],this.insertCommands=["horizontal_rule","format_clear"],this.iconContainerClass=["NgxEditor__MenuItem","NgxEditor__MenuItem--Icon"],this.dropdownContainerClass=["NgxEditor__Dropdown"],this.seperatorClass=["NgxEditor__Seperator"]}get presets(){const i=[];return this.colorPresets.forEach((l,c)=>{const h=Math.floor(c/8);i[h]||i.push([]),i[h].push(l)}),i}trackByIndex(r){return r}isDropDown(r){return!!r?.heading}getDropdownItems(r){return r}ngOnInit(){if(!this.editor)throw new $e("Required editor instance to initialize menu component");this.menuService.editor=this.editor}}return s.\u0275fac=function(r){return new(r||s)(d.Y36(Bi))},s.\u0275cmp=d.Xpm({type:s,selectors:[["ngx-editor-menu"]],inputs:{toolbar:"toolbar",colorPresets:"colorPresets",disabled:"disabled",editor:"editor",customMenuRef:"customMenuRef",dropdownPlacement:"dropdownPlacement"},features:[d._Bn([Bi])],decls:3,vars:7,consts:[[1,"NgxEditor__MenuBar",3,"ngClass"],[4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],[3,"toolbarItem","class",4,"ngIf"],[3,"class",4,"ngIf"],["type","text_color",3,"class","presets",4,"ngIf"],["type","background_color",3,"class","presets",4,"ngIf"],[3,"toolbarItem"],[3,"class","group","items",4,"ngFor","ngForOf","ngForTrackBy"],[3,"group","items"],["type","text_color",3,"presets"],["type","background_color",3,"presets"],[3,"ngTemplateOutlet"]],template:function(r,i){1&r&&(d.TgZ(0,"div",0),d.YNc(1,jh,2,2,"ng-container",1),d.YNc(2,$h,2,1,"ng-container",2),d.qZA()),2&r&&(d.Q6J("ngClass",d.WLB(4,zh,i.disabled,"top"===i.dropdownPlacement)),d.xp6(1),d.Q6J("ngForOf",i.toolbar)("ngForTrackBy",i.trackByIndex),d.xp6(1),d.Q6J("ngIf",i.customMenuRef))},dependencies:[$n.mk,$n.sg,$n.O5,$n.tP,Dc,Xa,tu,el,ef,Cc,$n.Nd]}),s})(),rf=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=d.oAB({type:s}),s.\u0275inj=d.cJS({providers:[ps],imports:[$n.ez,Y.UX]}),s})();const tl=new d.OlP("NgxEditorConfig"),sf={locals:hc,icons:Za};let _p=(()=>{class s{static forRoot(r=sf){return{ngModule:s,providers:[{provide:tl,useValue:r},{provide:Qa,useFactory:ya,deps:[tl]}]}}static forChild(r=sf){return{ngModule:s,providers:[{provide:tl,useValue:r},{provide:Qa,useFactory:ya,deps:[tl]},Hi]}}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=d.oAB({type:s}),s.\u0275inj=d.cJS({imports:[$n.ez,rf]}),s})();const jo=(s,t=!1)=>(r,i)=>{const l=new ga(s);return t?l.toggle()(r,i):l.apply()(r,i)};class uf{constructor(t){if(this.applyTrx=r=>{this.state=this.state.apply(r??this.tr),this.tr=this.state.tr,this.tr.setMeta("APPLIED_TRX",!0)},this.dispatch=r=>{this.applyTrx(r)},!t)throw new $e("Required view to initialize commands.");this.view=t,this.state=t.state,this.tr=this.view.state.tr}exec(){if(!this.tr.getMeta("APPLIED_TRX"))return!1;const t=!this.view.state.doc.eq(this.state.doc);this.view.updateState(this.state);const r=this.tr.setMeta("FORCE_EMIT",t);return this.view.dispatch(r),!0}focus(t="end"){const r="start"===t?vt.atStart(this.state.doc):vt.atEnd(this.state.doc);return this.tr.setSelection(r),this.applyTrx(),this.view.focus(),this}scrollIntoView(){return this.tr.scrollIntoView(),this.applyTrx(),this}insertText(t){return this.tr.insertText(t),this.applyTrx(),this}insertNewLine(){return us(vh,Pl,Dh,Ha)(this.state,this.dispatch),this}applyMark(t){return jo(t,!1)(this.state,this.dispatch),this}toggleMark(t){return jo(t,!0)(this.state,this.dispatch),this}bold(){return jo("strong")(this.state,this.dispatch),this}toggleBold(){return jo("strong",!0)(this.state,this.dispatch),this}italics(){return jo("em")(this.state,this.dispatch),this}toggleItalics(){return jo("em",!0)(this.state,this.dispatch),this}underline(){return jo("u")(this.state,this.dispatch),this}toggleUnderline(){return jo("u",!0)(this.state,this.dispatch),this}strike(){return jo("s")(this.state,this.dispatch),this}toggleStrike(){return jo("s",!0)(this.state,this.dispatch),this}code(){return jo("code")(this.state,this.dispatch),this}toggleCode(){return jo("code",!0)(this.state,this.dispatch),this}toggleOrderedList(){return new Ql(!1).toggle()(this.state,this.dispatch),this}toggleBulletList(){return new Ql(!0).toggle()(this.state,this.dispatch),this}toggleHeading(t){return new fs(t).toggle()(this.state,this.dispatch),this}insertLink(t,r){return(new qa).insert(t,r)(this.state,this.dispatch),this}updateLink(t){return(new qa).update(t)(this.state,this.dispatch),this}insertImage(t,r={}){return(new Ud).insert(t,r)(this.state,this.dispatch),this}textColor(t){return new Tn("text_color").apply({color:t})(this.state,this.dispatch),this}backgroundColor(t){return new Tn("text_background_color").apply({backgroundColor:t})(this.state,this.dispatch),this}removeTextColor(){return new Tn("text_color").remove()(this.state,this.dispatch),this}removeBackgroundColor(){return new Tn("text_background_color").remove()(this.state,this.dispatch),this}align(t){return new hs(t).toggle()(this.state,this.dispatch),this}insertHTML(t){const{selection:r,schema:i,tr:l}=this.state,{from:c,to:h}=r,g=document.createElement("div");g.innerHTML=rc(t)?t.trim():t;const C=Je.fromSchema(i).parseSlice(g),I=l.replaceRange(c,h,C);return this.applyTrx(I),this}}const Ec=typeof navigator<"u"&&/Mac/.test(navigator.platform),ru=s=>{const t=Ua.concat(mo,Mh);return t.push((s=>vd(/(?:^|\s)(?:(?:\*\*|__)(?:(?:[^*_]+))(?:\*\*|__))$/,s))(s.marks.strong)),t.push((s=>vd(/(?:^|\s)(?:(?:\*|_)(?:(?:[^*_]+))(?:\*|_))$/,s))(s.marks.em)),t.push((s=>Vl(/^\s*>\s$/,s))(s.nodes.blockquote)),t.push((s=>Vl(/^(?:\d+)\.\s$/,s,t=>({order:Number(t[1])}),(t,r)=>r.childCount+r.attrs.order===Number(t[1])))(s.nodes.ordered_list)),t.push((s=>Vl(/^\s*(?:[-+*])\s$/,s))(s.nodes.bullet_list)),t.push((s=>Gu(/^```$/,s))(s.nodes.code_block)),t.push(((s,t)=>Gu(new RegExp("^(#{1,6})\\s$"),s,r=>({level:r[1].length})))(s.nodes.heading)),function Eh({rules:s}){let t=new mn({state:{init:()=>null,apply(r,i){return r.getMeta(this)||(r.selectionSet||r.docChanged?null:i)}},props:{handleTextInput:(r,i,l,c)=>ju(r,i,l,c,s,t),handleDOMEvents:{compositionend:r=>{setTimeout(()=>{let{$cursor:i}=r.state.selection;i&&ju(r,i.pos,i.pos,"",s,t)})}}},isInputRules:!0});return t}({rules:t})},va=(s,t)=>{const r=[];return t.keyboardShortcuts&&r.push(...((s,t)=>{const r={};r["Mod-z"]=za,Ec?r["Shift-Mod-z"]=Fs:r["Mod-y"]=Fs;const i=[$l({"Mod-b":ni(s.marks.strong),"Mod-i":ni(s.marks.em),"Mod-u":ni(s.marks.u),"Mod-`":ni(s.marks.code)}),$l({Enter:oh(s.nodes.list_item),"Shift-Enter":us(sd,(l,c)=>{const{tr:h}=l;return c(h.replaceSelectionWith(s.nodes.hard_break.create()).scrollIntoView()),!0}),"Mod-[":ih(s.nodes.list_item),"Mod-]":go(s.nodes.list_item),Tab:go(s.nodes.list_item)}),$l(fd)];return t.history&&i.push($l(r)),i})(s,{history:t.history})),t.history&&r.push(function Id(s={}){return new mn({key:ii,state:{init:()=>new Ei(Oo.empty,Oo.empty,null,0,-1),apply:(t,r,i)=>function Ps(s,t,r,i){let c,l=r.getMeta(ii);if(l)return l.historyState;r.getMeta(Wl)&&(s=new Ei(s.done,s.undone,null,0,-1));let h=r.getMeta("appendedTransaction");if(0==r.steps.length)return s;if(h&&h.getMeta(ii))return h.getMeta(ii).redo?new Ei(s.done.addTransform(r,void 0,i,$a(t)),s.undone,Zu(r.mapping.maps[r.steps.length-1]),s.prevTime,s.prevComposition):new Ei(s.done,s.undone.addTransform(r,void 0,i,$a(t)),null,s.prevTime,s.prevComposition);if(!1===r.getMeta("addToHistory")||h&&!1===h.getMeta("addToHistory"))return(c=r.getMeta("rebased"))?new Ei(s.done.rebased(r,c),s.undone.rebased(r,c),Qu(s.prevRanges,r.mapping),s.prevTime,s.prevComposition):new Ei(s.done.addMaps(r.mapping.maps),s.undone.addMaps(r.mapping.maps),Qu(s.prevRanges,r.mapping),s.prevTime,s.prevComposition);{let g=r.getMeta("composition"),C=0==s.prevTime||!h&&s.prevComposition!=g&&(s.prevTime<(r.time||0)-i.newGroupDelay||!function Sd(s,t){if(!t)return!1;if(!s.docChanged)return!0;let r=!1;return s.mapping.maps[0].forEach((i,l)=>{for(let c=0;c<t.length;c+=2)i<=t[c+1]&&l>=t[c]&&(r=!0)}),r}(r,s.prevRanges)),I=h?Qu(s.prevRanges,r.mapping):Zu(r.mapping.maps[r.steps.length-1]);return new Ei(s.done.addTransform(r,C?t.selection.getBookmark():void 0,i,$a(t)),Oo.empty,I,r.time,g??s.prevComposition)}}(r,i,t,s)},config:s={depth:s.depth||100,newGroupDelay:s.newGroupDelay||500},props:{handleDOMEvents:{beforeinput(t,r){let i=r.inputType,l="historyUndo"==i?za:"historyRedo"==i?Fs:null;return!!l&&(r.preventDefault(),l(t.state,t.dispatch))}}}})}()),t.inputRules&&r.push(ru(s)),r},Da={linkOnPaste:!0,resizeImage:!0},ff={content:null,history:!0,keyboardShortcuts:!0,inputRules:!0,schema:Rl,plugins:[],nodeViews:{},attributes:{},features:Da,handleScrollToSelection:null,linkValidationPattern:"(https?://)?([\\da-z.-]+)\\.([a-z.]{2,6})[/\\w .-]*/??([^#\n\r]*)?#?([^\n\r]*)|(mailto:.*[@].*)"};class hf{constructor(t=ff){this.valueChangesSubject=new ae.x,this.updateSubject=new ae.x,this.options={...ff,...t},this.createEditor()}get valueChanges(){return this.valueChangesSubject.asObservable()}get update(){return this.updateSubject.asObservable()}get schema(){return this.options.schema||Rl}get linkValidationPattern(){return this.options.linkValidationPattern}get commands(){return new uf(this.view)}get features(){return{...Da,...this.options.features}}handleTransactions(t){const r=this.view.state.apply(t);if(this.view.updateState(r),this.updateSubject.next(this.view),!t.docChanged&&!t.getMeta("FORCE_EMIT"))return;const i=r.doc.toJSON();this.valueChangesSubject.next(i)}createEditor(){const{options:t,schema:r}=this,{content:i=null,nodeViews:l}=t,{history:c=!0,keyboardShortcuts:h=!0,inputRules:g=!0}=t,C=Zl(i,r),I=t.plugins??[],O=t.attributes??{},H=va(r,{history:c,keyboardShortcuts:h,inputRules:g});this.view=new Zf(null,{state:eo.create({doc:C,schema:r,plugins:[...H,...I]}),nodeViews:l,dispatchTransaction:this.handleTransactions.bind(this),attributes:O,handleScrollToSelection:t.handleScrollToSelection})}setContent(t){if(typeof(s=t)>"u"||null===s)return;var s;const{state:r}=this.view,{tr:i,doc:l}=r,c=Zl(t,this.schema);i.replaceWith(0,r.doc.content.size,c),!l.eq(i.doc)&&i.docChanged&&this.view.dispatch(i)}registerPlugin(t){const{state:r}=this.view,i=[...r.plugins,t],l=r.reconfigure({plugins:i});this.view.updateState(l)}destroy(){this.view.destroy()}}},7582:(lt,me,F)=>{function we(ie,se,he,pe){return new(he||(he=Promise))(function(Ue,ut){function Nt(de){try{ot(pe.next(de))}catch(it){ut(it)}}function It(de){try{ot(pe.throw(de))}catch(it){ut(it)}}function ot(de){de.done?Ue(de.value):function Me(Ue){return Ue instanceof he?Ue:new he(function(ut){ut(Ue)})}(de.value).then(Nt,It)}ot((pe=pe.apply(ie,se||[])).next())})}function be(ie){return this instanceof be?(this.v=ie,this):new be(ie)}function Ve(ie,se,he){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Me,pe=he.apply(ie,se||[]),Ue=[];return Me={},ut("next"),ut("throw"),ut("return"),Me[Symbol.asyncIterator]=function(){return this},Me;function ut(De){pe[De]&&(Me[De]=function(Rt){return new Promise(function(Kt,Lt){Ue.push([De,Rt,Kt,Lt])>1||Nt(De,Rt)})})}function Nt(De,Rt){try{!function It(De){De.value instanceof be?Promise.resolve(De.value.v).then(ot,de):it(Ue[0][2],De)}(pe[De](Rt))}catch(Kt){it(Ue[0][3],Kt)}}function ot(De){Nt("next",De)}function de(De){Nt("throw",De)}function it(De,Rt){De(Rt),Ue.shift(),Ue.length&&Nt(Ue[0][0],Ue[0][1])}}function Fe(ie){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var he,se=ie[Symbol.asyncIterator];return se?se.call(ie):(ie=function gt(ie){var se="function"==typeof Symbol&&Symbol.iterator,he=se&&ie[se],pe=0;if(he)return he.call(ie);if(ie&&"number"==typeof ie.length)return{next:function(){return ie&&pe>=ie.length&&(ie=void 0),{value:ie&&ie[pe++],done:!ie}}};throw new TypeError(se?"Object is not iterable.":"Symbol.iterator is not defined.")}(ie),he={},pe("next"),pe("throw"),pe("return"),he[Symbol.asyncIterator]=function(){return this},he);function pe(Ue){he[Ue]=ie[Ue]&&function(ut){return new Promise(function(Nt,It){!function Me(Ue,ut,Nt,It){Promise.resolve(It).then(function(ot){Ue({value:ot,done:Nt})},ut)}(Nt,It,(ut=ie[Ue](ut)).done,ut.value)})}}}F.d(me,{FC:()=>Ve,KL:()=>Fe,mG:()=>we,qq:()=>be}),"function"==typeof SuppressedError&&SuppressedError}},lt=>{lt(lt.s=2521)}]);