"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[179],{4202:(dt,Ce,R)=>{R.d(Ce,{_:()=>le});var d=R(9291),G=R(3076);const le=Y=>(0,d.f3M)(G.K).isAuthenticated},8081:(dt,Ce,R)=>{R.d(Ce,{I:()=>Se});var d=R(6814),G=R(6208),le=R(9113),Y=R(7629),P=R(6223),ve=R(3911),ne=R(9291);let Se=(()=>{class we{}return we.\u0275fac=function(pe){return new(pe||we)},we.\u0275mod=ne.oAB({type:we}),we.\u0275inj=ne.cJS({imports:[d.ez,G.m,le.Bz,Y.FP,P.u5,ve.aw,ve.aw]}),we})()},8394:(dt,Ce,R)=>{R.d(Ce,{q:()=>G});var d=R(9291);let G=(()=>{class le{constructor(){this.isActive=!1}show(){this.isActive=!0}hide(){this.isActive=!1}}return le.\u0275fac=function(P){return new(P||le)},le.\u0275prov=d.Yz7({token:le,factory:le.\u0275fac}),le})()},8998:(dt,Ce,R)=>{R.d(Ce,{F:()=>Y});var d=R(553),G=R(9291),le=R(9862);let Y=(()=>{class P{constructor(ne){this.http=ne}createReview(ne){return this.http.post(`${d.N.apiUrl}/reviews/create`,ne)}getReview(ne){return this.http.get(`${d.N.apiUrl}/reviews/get/${ne}`)}deleteReview(ne){return this.http.delete(`${d.N.apiUrl}/reviews/delete/${ne}`)}editReview(ne){return this.http.patch(`${d.N.apiUrl}/reviews/edit`,ne)}}return P.\u0275fac=function(ne){return new(ne||P)(G.LFG(le.eN))},P.\u0275prov=G.Yz7({token:P,factory:P.\u0275fac}),P})()},8495:(dt,Ce,R)=>{R.d(Ce,{z:()=>Y});var d=R(553),G=R(9291),le=R(9862);let Y=(()=>{class P{constructor(ne){this.http=ne}getAll(ne){return this.http.get(`${d.N.apiUrl}/sets/allWithReviews${ne?`?setNumber=${ne}`:""}`)}getLatest(){return this.http.get(`${d.N.apiUrl}/sets/latestThreeWithReviews`)}getUserSets(ne){return this.http.get(`${d.N.apiUrl}/sets/user-collection/${ne}`)}addSet(ne){return this.http.post(`${d.N.apiUrl}/sets/add-set`,{setId:ne})}deleteSet(ne){return this.http.delete(`${d.N.apiUrl}/sets/delete/${ne}`)}}return P.\u0275fac=function(ne){return new(ne||P)(G.LFG(le.eN))},P.\u0275prov=G.Yz7({token:P,factory:P.\u0275fac}),P})()},2207:(dt,Ce,R)=>{R.d(Ce,{B:()=>Y});var d=R(9291),G=R(6814);let le=(()=>{class P{constructor(ne,Se){this.document=ne,this.platformId=Se,this.documentIsAccessible=(0,G.NF)(this.platformId)}static getCookieRegExp(ne){const Se=ne.replace(/([\[\]\{\}\(\)\|\=\;\+\?\,\.\*\^\$])/gi,"\\$1");return new RegExp("(?:^"+Se+"|;\\s*"+Se+")=(.*?)(?:;|$)","g")}static safeDecodeURIComponent(ne){try{return decodeURIComponent(ne)}catch{return ne}}check(ne){return!!this.documentIsAccessible&&(ne=encodeURIComponent(ne),P.getCookieRegExp(ne).test(this.document.cookie))}get(ne){if(this.documentIsAccessible&&this.check(ne)){ne=encodeURIComponent(ne);const we=P.getCookieRegExp(ne).exec(this.document.cookie);return we[1]?P.safeDecodeURIComponent(we[1]):""}return""}getAll(){if(!this.documentIsAccessible)return{};const ne={},Se=this.document;return Se.cookie&&""!==Se.cookie&&Se.cookie.split(";").forEach(we=>{const[_e,pe]=we.split("=");ne[P.safeDecodeURIComponent(_e.replace(/^ /,""))]=P.safeDecodeURIComponent(pe)}),ne}set(ne,Se,we,_e,pe,Ae,Qe){if(!this.documentIsAccessible)return;if("number"==typeof we||we instanceof Date||_e||pe||Ae||Qe)return void this.set(ne,Se,{expires:we,path:_e,domain:pe,secure:Ae,sameSite:Qe||"Lax"});let Fe=encodeURIComponent(ne)+"="+encodeURIComponent(Se)+";";const $e=we||{};$e.expires&&(Fe+="number"==typeof $e.expires?"expires="+new Date((new Date).getTime()+1e3*$e.expires*60*60*24).toUTCString()+";":"expires="+$e.expires.toUTCString()+";"),$e.path&&(Fe+="path="+$e.path+";"),$e.domain&&(Fe+="domain="+$e.domain+";"),!1===$e.secure&&"None"===$e.sameSite&&($e.secure=!0,console.warn(`[ngx-cookie-service] Cookie ${ne} was forced with secure flag because sameSite=None.More details : https://github.com/stevermeister/ngx-cookie-service/issues/86#issuecomment-597720130`)),$e.secure&&(Fe+="secure;"),$e.sameSite||($e.sameSite="Lax"),Fe+="sameSite="+$e.sameSite+";",this.document.cookie=Fe}delete(ne,Se,we,_e,pe="Lax"){this.documentIsAccessible&&this.set(ne,"",{expires:new Date("Thu, 01 Jan 1970 00:00:01 GMT"),path:Se,domain:we,secure:_e,sameSite:pe})}deleteAll(ne,Se,we,_e="Lax"){if(!this.documentIsAccessible)return;const pe=this.getAll();for(const Ae in pe)pe.hasOwnProperty(Ae)&&this.delete(Ae,ne,Se,we,_e)}}return P.\u0275fac=function(ne){return new(ne||P)(d.LFG(G.K0),d.LFG(d.Lbi))},P.\u0275prov=d.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})(),Y=(()=>{class P{constructor(ne){this.cookie=ne}saveToken(ne){this.cookie.set("accessToken",ne,{expires:2,secure:!0,path:"/"})}getToken(){return this.cookie.get("accessToken")}saveRefreshToken(ne){this.cookie.set("refreshToken",ne,{expires:2,secure:!0,path:"/"})}getRefreshToken(){return this.cookie.get("refreshToken")}clearTokens(){this.cookie.delete("accessToken","/"),this.cookie.delete("refreshToken","/")}}return P.\u0275fac=function(ne){return new(ne||P)(d.LFG(le))},P.\u0275prov=d.Yz7({token:P,factory:P.\u0275fac}),P})()},3076:(dt,Ce,R)=>{R.d(Ce,{K:()=>ve});var d=R(5619),G=R(9397),le=R(553),Y=R(9291),P=R(9862);let ve=(()=>{class ne{constructor(we){this.http=we,this.user$$=new d.X(void 0),this.user$=this.user$$.asObservable(),this.user=void 0;const _e=localStorage.getItem("user");_e&&this.user$$.next(JSON.parse(_e)),this.userSubscription=this.user$.subscribe(pe=>{this.user=pe})}register(we){return this.http.post(`${le.N.apiUrl}/users/register`,we)}login(we){return this.http.post(`${le.N.apiUrl}/users/login`,we)}logout(){return this.http.get(`${le.N.apiUrl}/users/logout`).pipe((0,G.b)(()=>{localStorage.removeItem("user"),localStorage.removeItem("image"),this.user$$.next(void 0)}))}editUser(we){return this.http.patch(`${le.N.apiUrl}/users/edit`,we)}get isAuthenticated(){return!!this.user}updateUser(we){this.user$$.next(we),localStorage.setItem("user",JSON.stringify(we))}ngOnDestroy(){this.userSubscription.unsubscribe()}}return ne.\u0275fac=function(we){return new(we||ne)(Y.LFG(P.eN))},ne.\u0275prov=Y.Yz7({token:ne,factory:ne.\u0275fac}),ne})()},6208:(dt,Ce,R)=>{R.d(Ce,{m:()=>le});var d=R(6814),G=R(9291);let le=(()=>{class Y{}return Y.\u0275fac=function(ve){return new(ve||Y)},Y.\u0275mod=G.oAB({type:Y}),Y.\u0275inj=G.cJS({imports:[d.ez]}),Y})()},553:(dt,Ce,R)=>{R.d(Ce,{N:()=>d});const d={production:!0,apiUrl:"https://legoview.api.vasspass.net"}},7088:(dt,Ce,R)=>{var d=R(6593),G=R(9862),le=R(6223),Y=R(9113),P=R(9291),ve=R(3911);let ne=(()=>{class Ee{}return Ee.\u0275fac=function(De){return new(De||Ee)},Ee.\u0275cmp=P.Xpm({type:Ee,selectors:[["app-pagenotfound"]],decls:5,vars:3,consts:[[1,"notfound"],["src","../../../assets/images/404.jpg"]],template:function(De,Ft){1&De&&(P.TgZ(0,"div",0),P._UZ(1,"img",1),P.TgZ(2,"h1"),P._uU(3),P.ALo(4,"translate"),P.qZA()()),2&De&&(P.xp6(3),P.Oqu(P.lcZ(4,1,"core.pagenotfound.message")))},dependencies:[ve.X$],styles:[".notfound[_ngcontent-%COMP%]{margin:1rem;display:flex;flex-direction:column;align-items:center}img[_ngcontent-%COMP%]{width:100%;max-width:650px;height:auto}h1[_ngcontent-%COMP%]{color:#fff}"]}),Ee})();var Se=R(7629),we=R(7398),_e=R(6814);function pe(Ee,Te){if(1&Ee&&P._UZ(0,"img",4),2&Ee){const De=P.oxw().$implicit;P.s9C("src",De.userImage,P.LSH)}}const Ae=function(Ee){return["/sets",Ee]},Qe=function(Ee){return["/reviews",Ee]};function Fe(Ee,Te){if(1&Ee&&(P.TgZ(0,"div",3),P._UZ(1,"img",4),P.TgZ(2,"div",5)(3,"div",6),P._uU(4),P.qZA(),P.TgZ(5,"div",7),P.YNc(6,pe,1,1,"img",8),P.TgZ(7,"div",9)(8,"span"),P._uU(9),P.ALo(10,"translate"),P.TgZ(11,"strong",10),P._uU(12),P.qZA()(),P.TgZ(13,"span"),P._uU(14),P.qZA()()(),P.TgZ(15,"div",11)(16,"button",12),P._uU(17),P.ALo(18,"translate"),P.qZA()()()()),2&Ee){const De=Te.$implicit;P.xp6(1),P.s9C("src",De.image,P.LSH),P.xp6(3),P.hij(" ",De.name," "),P.xp6(2),P.Q6J("ngIf",De.userImage),P.xp6(3),P.hij("",P.lcZ(10,9,"general.review.author")," "),P.xp6(2),P.Q6J("routerLink",P.VKq(13,Ae,De.username)),P.xp6(1),P.Oqu(De.username),P.xp6(2),P.Oqu(De.reviewDate),P.xp6(2),P.Q6J("routerLink",P.VKq(15,Qe,De._id)),P.xp6(1),P.hij(" ",P.lcZ(18,11,"general.review.view")," ")}}let $e=(()=>{class Ee{constructor(De){this.activatedRoute=De,this.content="mow"}ngOnInit(){this.editor=new Se.ML,this.sets$=this.activatedRoute.data.pipe((0,we.U)(De=>De.sets))}ngOnDestroy(){this.editor.destroy()}}return Ee.\u0275fac=function(De){return new(De||Ee)(P.Y36(Y.gz))},Ee.\u0275cmp=P.Xpm({type:Ee,selectors:[["app-home"]],decls:20,vars:18,consts:[[1,"flex-wrapper"],[1,"wrapper"],["class","card",4,"ngFor","ngForOf"],[1,"card"],[3,"src"],[1,"card-content"],[1,"card-title"],[1,"card-details"],[3,"src",4,"ngIf"],[1,"card-details__info"],[1,"user-link",3,"routerLink"],[1,"card-actions"],[1,"card-button",3,"routerLink"]],template:function(De,Ft){1&De&&(P.TgZ(0,"div",0)(1,"div",1)(2,"h1"),P._uU(3),P.ALo(4,"translate"),P.qZA(),P.TgZ(5,"p"),P._uU(6),P.ALo(7,"translate"),P.qZA(),P.TgZ(8,"p"),P._uU(9),P.ALo(10,"translate"),P.qZA(),P.TgZ(11,"p"),P._uU(12),P.ALo(13,"translate"),P.qZA(),P.TgZ(14,"p"),P._uU(15),P.ALo(16,"translate"),P.qZA()(),P.TgZ(17,"ul"),P.YNc(18,Fe,19,17,"div",2),P.ALo(19,"async"),P.qZA()()),2&De&&(P.xp6(3),P.Oqu(P.lcZ(4,6,"core.home.header")),P.xp6(3),P.hij(" ",P.lcZ(7,8,"core.home.desc1")," "),P.xp6(3),P.hij(" ",P.lcZ(10,10,"core.home.desc2")," "),P.xp6(3),P.hij(" ",P.lcZ(13,12,"core.home.desc3")," "),P.xp6(3),P.hij(" ",P.lcZ(16,14,"core.home.desc4")," "),P.xp6(3),P.Q6J("ngForOf",P.lcZ(19,16,Ft.sets$)))},dependencies:[_e.sg,_e.O5,Y.rH,_e.Ov,ve.X$],styles:[".wrapper[_ngcontent-%COMP%]{padding:24px;background-color:#fff;max-width:700px;margin:0 auto;border:1px solid #ccc;border-radius:4px}h1[_ngcontent-%COMP%]{text-align:center}p[_ngcontent-%COMP%]{font-size:18px}ul[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:20px;padding:0;width:100%}.card[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;box-shadow:0 2px 4px #0000001a;display:flex;flex-direction:column;overflow:hidden;max-width:300px;height:340px;flex:1}.card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:auto;height:200px;object-fit:contain}.card-content[_ngcontent-%COMP%]{padding:10px;display:flex;flex-direction:column}.card-title[_ngcontent-%COMP%]{font-weight:700;align-self:center;margin-bottom:5px}.card-details[_ngcontent-%COMP%]{display:flex;gap:10px;margin-top:10px;align-items:center;justify-content:center;height:35px}.card-details[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:35px;height:35px;border-radius:50%;object-fit:cover}.card-details__info[_ngcontent-%COMP%]{display:flex;flex-direction:column;font-size:14px;color:#888;justify-content:center}.card-button[_ngcontent-%COMP%]{color:#fff;background-color:#4caf50;border:none;border-radius:5px;padding:8px 16px;font-size:14px;margin-top:10px;cursor:pointer}.card-button[_ngcontent-%COMP%]:focus{outline:none}.card-button[_ngcontent-%COMP%]:hover{background-color:#45a049}.card-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.user-link[_ngcontent-%COMP%]{color:#d18904;cursor:pointer}@media (max-width: 600px){.card[_ngcontent-%COMP%]{max-width:100%;height:auto}ul[_ngcontent-%COMP%]{flex-direction:column}}.flex-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;align-items:center}"]}),Ee})();var lt=R(8495);const rt=[{path:"",pathMatch:"full",component:$e,title:"Home",resolve:{sets:Ee=>(0,P.f3M)(lt.z).getLatest()}},{path:"users",loadChildren:()=>Promise.all([R.e(592),R.e(448)]).then(R.bind(R,448)).then(Ee=>Ee.UserModule),canMatch:[R(4202)._]},{path:"sets",loadChildren:()=>Promise.all([R.e(592),R.e(534)]).then(R.bind(R,8534)).then(Ee=>Ee.SetModule)},{path:"reviews",loadChildren:()=>Promise.all([R.e(592),R.e(58)]).then(R.bind(R,7058)).then(Ee=>Ee.ReviewModule)},{path:"auth",loadChildren:()=>Promise.all([R.e(592),R.e(702)]).then(R.bind(R,6702)).then(Ee=>Ee.AuthModule)},{path:"**",pathMatch:"full",component:ne,title:"404"}];let be=(()=>{class Ee{}return Ee.\u0275fac=function(De){return new(De||Ee)},Ee.\u0275mod=P.oAB({type:Ee}),Ee.\u0275inj=P.cJS({imports:[Y.Bz.forRoot(rt),Y.Bz]}),Ee})();var ke=R(2207);let Pe=(()=>{class Ee{constructor(){this.isActive=!1}show(){this.isActive=!0}hide(){this.isActive=!1}}return Ee.\u0275fac=function(De){return new(De||Ee)},Ee.\u0275prov=P.Yz7({token:Ee,factory:Ee.\u0275fac}),Ee})();var Ye=R(8394),ze=R(8998),he=R(3076);let ie=(()=>{class Ee extends Y.eV{constructor(De){super(),this.title=De}updateTitle(De){const Ft=this.buildTitle(De);void 0!==Ft&&this.title.setTitle(`LegoView | ${Ft}`)}}return Ee.\u0275fac=function(De){return new(De||Ee)(P.LFG(d.Dx))},Ee.\u0275prov=P.Yz7({token:Ee,factory:Ee.\u0275fac}),Ee})();function ut(Ee,Te){if(1&Ee){const De=P.EpF();P.TgZ(0,"div",3)(1,"div",4)(2,"a",5),P.NdJ("click",function(){P.CHM(De);const qt=P.oxw();return P.KtG(qt.changeLanguage("en"))}),P.qZA(),P.TgZ(3,"a",6),P.NdJ("click",function(){P.CHM(De);const qt=P.oxw();return P.KtG(qt.changeLanguage("bg"))}),P.qZA()(),P.TgZ(4,"button",7),P._uU(5),P.ALo(6,"translate"),P.qZA(),P.TgZ(7,"button",8),P._uU(8),P.ALo(9,"translate"),P.qZA(),P.TgZ(10,"button",9),P._uU(11),P.ALo(12,"translate"),P.qZA()()}2&Ee&&(P.xp6(5),P.hij(" ",P.lcZ(6,3,"core.nav.reviews")," "),P.xp6(3),P.hij(" ",P.lcZ(9,5,"core.nav.login")," "),P.xp6(3),P.hij(" ",P.lcZ(12,7,"core.nav.register")," "))}function Ke(Ee,Te){if(1&Ee&&P._UZ(0,"img",13),2&Ee){const De=P.oxw(2);P.Q6J("src",De.image,P.LSH)}}function Ht(Ee,Te){1&Ee&&(P.TgZ(0,"button",14),P._uU(1),P.ALo(2,"translate"),P.qZA()),2&Ee&&(P.xp6(1),P.hij(" ",P.lcZ(2,1,"core.nav.profile")," "))}function Ie(Ee,Te){if(1&Ee){const De=P.EpF();P.TgZ(0,"div",3)(1,"div",4)(2,"a",5),P.NdJ("click",function(){P.CHM(De);const qt=P.oxw();return P.KtG(qt.changeLanguage("en"))}),P.qZA(),P.TgZ(3,"a",6),P.NdJ("click",function(){P.CHM(De);const qt=P.oxw();return P.KtG(qt.changeLanguage("bg"))}),P.qZA()(),P.YNc(4,Ke,1,1,"img",10),P.YNc(5,Ht,3,3,"button",11),P.TgZ(6,"button",7),P._uU(7),P.ALo(8,"translate"),P.qZA(),P.TgZ(9,"button",12),P._uU(10),P.ALo(11,"translate"),P.qZA()()}if(2&Ee){const De=P.oxw();P.xp6(4),P.Q6J("ngIf",De.image),P.xp6(1),P.Q6J("ngIf",!De.image),P.xp6(2),P.hij(" ",P.lcZ(8,4,"core.nav.reviews")," "),P.xp6(3),P.hij(" ",P.lcZ(11,6,"core.nav.logout")," ")}}let tn=(()=>{class Ee{constructor(De,Ft,qt,Kn){this.user=De,this.router=Ft,this.token=qt,this.translate=Kn,this.isLogged=!1,this.image=""}ngOnInit(){this.router.events.subscribe(De=>{De instanceof Y.m2&&(this.isLogged=!!this.token.getToken(),this.image=localStorage.getItem("image")||"")}),this.translate.setDefaultLang("bg"),this.translate.use("bg")}changeLanguage(De){this.translate.use(De)}}return Ee.\u0275fac=function(De){return new(De||Ee)(P.Y36(he.K),P.Y36(Y.F0),P.Y36(ke.B),P.Y36(ve.sK))},Ee.\u0275cmp=P.Xpm({type:Ee,selectors:[["app-nav"]],decls:5,vars:2,consts:[[1,"navbar"],["routerLink","/",1,"navbar-title"],["class","navbar-buttons",4,"ngIf"],[1,"navbar-buttons"],[1,"flags"],[1,"fib","fi-us","flag",3,"click"],[1,"fib","fi-bg","flag",3,"click"],["routerLink","/reviews/",1,"navbar-button"],["routerLink","/auth/login",1,"navbar-button"],["routerLink","/auth/register",1,"navbar-button"],["routerLink","/users/my-profile",3,"src",4,"ngIf"],["routerLink","/users/my-profile","class","navbar-button",4,"ngIf"],["routerLink","/auth/logout",1,"navbar-button"],["routerLink","/users/my-profile",3,"src"],["routerLink","/users/my-profile",1,"navbar-button"]],template:function(De,Ft){1&De&&(P.TgZ(0,"nav",0)(1,"div",1),P._uU(2,"LegoView"),P.qZA(),P.YNc(3,ut,13,9,"div",2),P.YNc(4,Ie,12,8,"div",2),P.qZA()),2&De&&(P.xp6(3),P.Q6J("ngIf",!Ft.isLogged),P.xp6(1),P.Q6J("ngIf",Ft.isLogged))},dependencies:[_e.O5,Y.rH,ve.X$],styles:["body[_ngcontent-%COMP%]{margin:0;padding:0}.navbar[_ngcontent-%COMP%]{background-color:orange;display:flex;justify-content:space-between;align-items:center;padding:10px;box-shadow:0 2px 4px #0000001a}.navbar-title[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:#fff}.navbar-buttons[_ngcontent-%COMP%]{display:flex;align-items:center}.navbar-logo[_ngcontent-%COMP%]{gap:14px}.navbar-button[_ngcontent-%COMP%]{margin:0 5px;padding:8px 12px;background-color:green;color:#fff;border:none;border-radius:4px;font-size:16px;cursor:pointer;transition:background-color .3s}.navbar-button[_ngcontent-%COMP%]:hover{background-color:#015605}img[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;object-fit:cover;cursor:pointer;margin-right:10px}.navbar-title[_ngcontent-%COMP%]{cursor:pointer}.flags[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px;margin-right:10px}.flag[_ngcontent-%COMP%]{padding:8px 12px;cursor:pointer}@media (max-width: 768px){.navbar[_ngcontent-%COMP%]{flex-direction:column;padding:10px 20px}.navbar-buttons[_ngcontent-%COMP%]{display:flex;gap:10px;margin-top:10px}.navbar-button[_ngcontent-%COMP%]{margin:5px 0;padding:6px 10px;font-size:14px}}"]}),Ee})(),st=(()=>{class Ee{}return Ee.\u0275fac=function(De){return new(De||Ee)},Ee.\u0275cmp=P.Xpm({type:Ee,selectors:[["app-spinner"]],decls:5,vars:0,consts:[[1,"lds-ring"]],template:function(De,Ft){1&De&&(P.TgZ(0,"div",0),P._UZ(1,"div")(2,"div")(3,"div")(4,"div"),P.qZA())},styles:[".lds-ring[_ngcontent-%COMP%]{display:inline-block;position:relative;width:80px;height:80px}.lds-ring[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{box-sizing:border-box;display:block;position:absolute;width:64px;height:64px;margin:8px;border:8px solid #dfc;border-radius:50%;animation:_ngcontent-%COMP%_lds-ring 1.2s cubic-bezier(.5,0,.5,1) infinite;border-color:#dfc transparent transparent transparent}.lds-ring[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(1){animation-delay:-.45s}.lds-ring[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){animation-delay:-.3s}.lds-ring[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){animation-delay:-.15s}@keyframes _ngcontent-%COMP%_lds-ring{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]}),Ee})();function vt(Ee,Te){1&Ee&&(P.TgZ(0,"div",1),P._UZ(1,"app-spinner"),P.qZA())}let gn=(()=>{class Ee{constructor(De){this.spinner=De}}return Ee.\u0275fac=function(De){return new(De||Ee)(P.Y36(Pe))},Ee.\u0275cmp=P.Xpm({type:Ee,selectors:[["app-page-spinner"]],decls:1,vars:1,consts:[["class","wrapper",4,"ngIf"],[1,"wrapper"]],template:function(De,Ft){1&De&&P.YNc(0,vt,2,0,"div",0),2&De&&P.Q6J("ngIf",Ft.spinner.isActive)},dependencies:[_e.O5,st],styles:[".wrapper[_ngcontent-%COMP%]{background:linear-gradient(#202020b3,rgba(32,32,32,.7));position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;z-index:9999}"]}),Ee})(),sn=(()=>{class Ee{constructor(){this.year=(new Date).getFullYear()}}return Ee.\u0275fac=function(De){return new(De||Ee)},Ee.\u0275cmp=P.Xpm({type:Ee,selectors:[["app-footer"]],decls:3,vars:1,consts:[[1,"footer"],[1,"footer-content"]],template:function(De,Ft){1&De&&(P.TgZ(0,"nav",0)(1,"div",1),P._uU(2),P.qZA()()),2&De&&(P.xp6(2),P.hij("\xa9 LegoView - ",Ft.year,""))},styles:[".footer[_ngcontent-%COMP%]{background-color:orange;padding:10px;box-shadow:0 2px 4px #0000001a;margin-top:auto}.footer-content[_ngcontent-%COMP%]{color:#fff;margin:0 auto;text-align:center}"]}),Ee})(),ce=(()=>{class Ee{}return Ee.\u0275fac=function(De){return new(De||Ee)},Ee.\u0275cmp=P.Xpm({type:Ee,selectors:[["app-root"]],decls:5,vars:0,consts:[[1,"container"]],template:function(De,Ft){1&De&&(P._UZ(0,"app-page-spinner")(1,"app-nav"),P.TgZ(2,"div",0),P._UZ(3,"router-outlet"),P.qZA(),P._UZ(4,"app-footer"))},dependencies:[tn,gn,sn,Y.lC],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100vh}.container[_ngcontent-%COMP%]{padding:10px;flex-grow:1}"]}),Ee})();var de=R(8081),K=R(6208),Q=R(1180);class H{constructor(Te,De="/assets/i18n/",Ft=".json"){(0,Q.Z)(this,"http",void 0),(0,Q.Z)(this,"prefix",void 0),(0,Q.Z)(this,"suffix",void 0),this.http=Te,this.prefix=De,this.suffix=Ft}getTranslation(Te){return this.http.get(`${this.prefix}${Te}${this.suffix}`)}}var Z=R(9397),ye=R(6306),Ue=R(6232),ft=R(8504),et=R(4716),Et=R(553);let Ut=(()=>{class Ee{constructor(De,Ft,qt,Kn){this.token=De,this.spinner=Ft,this.router=qt,this.user=Kn}intercept(De,Ft){if(this.spinner.show(),De.url.startsWith(Et.N.apiUrl)){const qt=this.token.getToken(),Kn=this.token.getRefreshToken();De=De.clone({setHeaders:{"X-Authorization":qt,"X-Refresh":Kn}})}return Ft.handle(De).pipe((0,Z.b)(qt=>{if(qt instanceof G.Zn&&De.url.startsWith(Et.N.apiUrl)){const Kn=qt.headers.get("X-Authorization");Kn&&this.token.saveToken(Kn);const an=qt.headers.get("X-Refresh");an&&this.token.saveRefreshToken(an);const Mn=qt.body;Mn&&Mn.user&&Mn.user.email&&this.user.updateUser(Mn.user)}}),(0,ye.K)(qt=>401===qt.status?(this.token.clearTokens(),localStorage.removeItem("image"),localStorage.removeItem("user"),this.router.navigate(["auth/login"]),Ue.E):404===qt.status&&De.url.includes("user-collection")?(this.router.navigate(["404"]),Ue.E):(0,ft._)(()=>qt)),(0,et.x)(()=>{this.spinner.hide()}))}}return Ee.\u0275fac=function(De){return new(De||Ee)(P.LFG(ke.B),P.LFG(Pe),P.LFG(Y.F0),P.LFG(he.K))},Ee.\u0275prov=P.Yz7({token:Ee,factory:Ee.\u0275fac}),Ee})(),pt=(()=>{class Ee{}return Ee.\u0275fac=function(De){return new(De||Ee)},Ee.\u0275mod=P.oAB({type:Ee,bootstrap:[ce]}),Ee.\u0275inj=P.cJS({providers:[lt.z,ke.B,Pe,Ye.q,ze.F,he.K,{provide:G.TP,useClass:Ut,multi:!0},{provide:Y.eV,useClass:ie}],imports:[d.b2,G.JF,de.I,K.m,be,le.UX,ve.aw.forRoot({loader:{provide:ve.Zw,useFactory:Yt,deps:[G.eN]}})]}),Ee})();function Yt(Ee){return new H(Ee)}d.q6().bootstrapModule(pt).catch(Ee=>console.error(Ee))},5619:(dt,Ce,R)=>{R.d(Ce,{X:()=>G});var d=R(8645);class G extends d.x{constructor(Y){super(),this._value=Y}get value(){return this.getValue()}_subscribe(Y){const P=super._subscribe(Y);return!P.closed&&Y.next(this._value),P}getValue(){const{hasError:Y,thrownError:P,_value:ve}=this;if(Y)throw P;return this._throwIfClosed(),ve}next(Y){super.next(this._value=Y)}}},5592:(dt,Ce,R)=>{R.d(Ce,{y:()=>Se});var d=R(305),G=R(7394),le=R(4850),Y=R(8407),P=R(2653),ve=R(4674),ne=R(1441);let Se=(()=>{class Ae{constructor(Fe){Fe&&(this._subscribe=Fe)}lift(Fe){const $e=new Ae;return $e.source=this,$e.operator=Fe,$e}subscribe(Fe,$e,lt){const it=function pe(Ae){return Ae&&Ae instanceof d.Lv||function _e(Ae){return Ae&&(0,ve.m)(Ae.next)&&(0,ve.m)(Ae.error)&&(0,ve.m)(Ae.complete)}(Ae)&&(0,G.Nn)(Ae)}(Fe)?Fe:new d.Hp(Fe,$e,lt);return(0,ne.x)(()=>{const{operator:Ct,source:rt}=this;it.add(Ct?Ct.call(it,rt):rt?this._subscribe(it):this._trySubscribe(it))}),it}_trySubscribe(Fe){try{return this._subscribe(Fe)}catch($e){Fe.error($e)}}forEach(Fe,$e){return new($e=we($e))((lt,it)=>{const Ct=new d.Hp({next:rt=>{try{Fe(rt)}catch(be){it(be),Ct.unsubscribe()}},error:it,complete:lt});this.subscribe(Ct)})}_subscribe(Fe){var $e;return null===($e=this.source)||void 0===$e?void 0:$e.subscribe(Fe)}[le.L](){return this}pipe(...Fe){return(0,Y.U)(Fe)(this)}toPromise(Fe){return new(Fe=we(Fe))(($e,lt)=>{let it;this.subscribe(Ct=>it=Ct,Ct=>lt(Ct),()=>$e(it))})}}return Ae.create=Qe=>new Ae(Qe),Ae})();function we(Ae){var Qe;return null!==(Qe=Ae??P.config.Promise)&&void 0!==Qe?Qe:Promise}},8645:(dt,Ce,R)=>{R.d(Ce,{x:()=>ne});var d=R(5592),G=R(7394);const Y=(0,R(2306).d)(we=>function(){we(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var P=R(9039),ve=R(1441);let ne=(()=>{class we extends d.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(pe){const Ae=new Se(this,this);return Ae.operator=pe,Ae}_throwIfClosed(){if(this.closed)throw new Y}next(pe){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Ae of this.currentObservers)Ae.next(pe)}})}error(pe){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=pe;const{observers:Ae}=this;for(;Ae.length;)Ae.shift().error(pe)}})}complete(){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:pe}=this;for(;pe.length;)pe.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var pe;return(null===(pe=this.observers)||void 0===pe?void 0:pe.length)>0}_trySubscribe(pe){return this._throwIfClosed(),super._trySubscribe(pe)}_subscribe(pe){return this._throwIfClosed(),this._checkFinalizedStatuses(pe),this._innerSubscribe(pe)}_innerSubscribe(pe){const{hasError:Ae,isStopped:Qe,observers:Fe}=this;return Ae||Qe?G.Lc:(this.currentObservers=null,Fe.push(pe),new G.w0(()=>{this.currentObservers=null,(0,P.P)(Fe,pe)}))}_checkFinalizedStatuses(pe){const{hasError:Ae,thrownError:Qe,isStopped:Fe}=this;Ae?pe.error(Qe):Fe&&pe.complete()}asObservable(){const pe=new d.y;return pe.source=this,pe}}return we.create=(_e,pe)=>new Se(_e,pe),we})();class Se extends ne{constructor(_e,pe){super(),this.destination=_e,this.source=pe}next(_e){var pe,Ae;null===(Ae=null===(pe=this.destination)||void 0===pe?void 0:pe.next)||void 0===Ae||Ae.call(pe,_e)}error(_e){var pe,Ae;null===(Ae=null===(pe=this.destination)||void 0===pe?void 0:pe.error)||void 0===Ae||Ae.call(pe,_e)}complete(){var _e,pe;null===(pe=null===(_e=this.destination)||void 0===_e?void 0:_e.complete)||void 0===pe||pe.call(_e)}_subscribe(_e){var pe,Ae;return null!==(Ae=null===(pe=this.source)||void 0===pe?void 0:pe.subscribe(_e))&&void 0!==Ae?Ae:G.Lc}}},305:(dt,Ce,R)=>{R.d(Ce,{Hp:()=>lt,Lv:()=>Ae});var d=R(4674),G=R(7394),le=R(2653),Y=R(3894),P=R(2420);const ve=we("C",void 0,void 0);function we(ke,Pe,Ye){return{kind:ke,value:Pe,error:Ye}}var _e=R(7599),pe=R(1441);class Ae extends G.w0{constructor(Pe){super(),this.isStopped=!1,Pe?(this.destination=Pe,(0,G.Nn)(Pe)&&Pe.add(this)):this.destination=be}static create(Pe,Ye,ze){return new lt(Pe,Ye,ze)}next(Pe){this.isStopped?rt(function Se(ke){return we("N",ke,void 0)}(Pe),this):this._next(Pe)}error(Pe){this.isStopped?rt(function ne(ke){return we("E",void 0,ke)}(Pe),this):(this.isStopped=!0,this._error(Pe))}complete(){this.isStopped?rt(ve,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Pe){this.destination.next(Pe)}_error(Pe){try{this.destination.error(Pe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Qe=Function.prototype.bind;function Fe(ke,Pe){return Qe.call(ke,Pe)}class $e{constructor(Pe){this.partialObserver=Pe}next(Pe){const{partialObserver:Ye}=this;if(Ye.next)try{Ye.next(Pe)}catch(ze){it(ze)}}error(Pe){const{partialObserver:Ye}=this;if(Ye.error)try{Ye.error(Pe)}catch(ze){it(ze)}else it(Pe)}complete(){const{partialObserver:Pe}=this;if(Pe.complete)try{Pe.complete()}catch(Ye){it(Ye)}}}class lt extends Ae{constructor(Pe,Ye,ze){let he;if(super(),(0,d.m)(Pe)||!Pe)he={next:Pe??void 0,error:Ye??void 0,complete:ze??void 0};else{let ie;this&&le.config.useDeprecatedNextContext?(ie=Object.create(Pe),ie.unsubscribe=()=>this.unsubscribe(),he={next:Pe.next&&Fe(Pe.next,ie),error:Pe.error&&Fe(Pe.error,ie),complete:Pe.complete&&Fe(Pe.complete,ie)}):he=Pe}this.destination=new $e(he)}}function it(ke){le.config.useDeprecatedSynchronousErrorHandling?(0,pe.O)(ke):(0,Y.h)(ke)}function rt(ke,Pe){const{onStoppedNotification:Ye}=le.config;Ye&&_e.z.setTimeout(()=>Ye(ke,Pe))}const be={closed:!0,next:P.Z,error:function Ct(ke){throw ke},complete:P.Z}},7394:(dt,Ce,R)=>{R.d(Ce,{Lc:()=>ve,w0:()=>P,Nn:()=>ne});var d=R(4674);const le=(0,R(2306).d)(we=>function(pe){we(this),this.message=pe?`${pe.length} errors occurred during unsubscription:\n${pe.map((Ae,Qe)=>`${Qe+1}) ${Ae.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=pe});var Y=R(9039);class P{constructor(_e){this.initialTeardown=_e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let _e;if(!this.closed){this.closed=!0;const{_parentage:pe}=this;if(pe)if(this._parentage=null,Array.isArray(pe))for(const Fe of pe)Fe.remove(this);else pe.remove(this);const{initialTeardown:Ae}=this;if((0,d.m)(Ae))try{Ae()}catch(Fe){_e=Fe instanceof le?Fe.errors:[Fe]}const{_finalizers:Qe}=this;if(Qe){this._finalizers=null;for(const Fe of Qe)try{Se(Fe)}catch($e){_e=_e??[],$e instanceof le?_e=[..._e,...$e.errors]:_e.push($e)}}if(_e)throw new le(_e)}}add(_e){var pe;if(_e&&_e!==this)if(this.closed)Se(_e);else{if(_e instanceof P){if(_e.closed||_e._hasParent(this))return;_e._addParent(this)}(this._finalizers=null!==(pe=this._finalizers)&&void 0!==pe?pe:[]).push(_e)}}_hasParent(_e){const{_parentage:pe}=this;return pe===_e||Array.isArray(pe)&&pe.includes(_e)}_addParent(_e){const{_parentage:pe}=this;this._parentage=Array.isArray(pe)?(pe.push(_e),pe):pe?[pe,_e]:_e}_removeParent(_e){const{_parentage:pe}=this;pe===_e?this._parentage=null:Array.isArray(pe)&&(0,Y.P)(pe,_e)}remove(_e){const{_finalizers:pe}=this;pe&&(0,Y.P)(pe,_e),_e instanceof P&&_e._removeParent(this)}}P.EMPTY=(()=>{const we=new P;return we.closed=!0,we})();const ve=P.EMPTY;function ne(we){return we instanceof P||we&&"closed"in we&&(0,d.m)(we.remove)&&(0,d.m)(we.add)&&(0,d.m)(we.unsubscribe)}function Se(we){(0,d.m)(we)?we():we.unsubscribe()}},2653:(dt,Ce,R)=>{R.d(Ce,{config:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},5211:(dt,Ce,R)=>{R.d(Ce,{z:()=>P});var d=R(7537),le=R(4564),Y=R(7715);function P(...ve){return function G(){return(0,d.J)(1)}()((0,Y.D)(ve,(0,le.yG)(ve)))}},4911:(dt,Ce,R)=>{R.d(Ce,{P:()=>le});var d=R(5592),G=R(4829);function le(Y){return new d.y(P=>{(0,G.Xf)(Y()).subscribe(P)})}},6232:(dt,Ce,R)=>{R.d(Ce,{E:()=>G});const G=new(R(5592).y)(P=>P.complete())},9315:(dt,Ce,R)=>{R.d(Ce,{D:()=>Se});var d=R(5592),G=R(7453),le=R(4829),Y=R(4564),P=R(8251),ve=R(7400),ne=R(2714);function Se(...we){const _e=(0,Y.jO)(we),{args:pe,keys:Ae}=(0,G.D)(we),Qe=new d.y(Fe=>{const{length:$e}=pe;if(!$e)return void Fe.complete();const lt=new Array($e);let it=$e,Ct=$e;for(let rt=0;rt<$e;rt++){let be=!1;(0,le.Xf)(pe[rt]).subscribe((0,P.x)(Fe,ke=>{be||(be=!0,Ct--),lt[rt]=ke},()=>it--,void 0,()=>{(!it||!be)&&(Ct||Fe.next(Ae?(0,ne.n)(Ae,lt):lt),Fe.complete())}))}});return _e?Qe.pipe((0,ve.Z)(_e)):Qe}},7715:(dt,Ce,R)=>{R.d(Ce,{D:()=>ze});var d=R(4829),G=R(7103),le=R(9360),Y=R(8251);function P(he,ie=0){return(0,le.e)((ut,Ke)=>{ut.subscribe((0,Y.x)(Ke,Ht=>(0,G.f)(Ke,he,()=>Ke.next(Ht),ie),()=>(0,G.f)(Ke,he,()=>Ke.complete(),ie),Ht=>(0,G.f)(Ke,he,()=>Ke.error(Ht),ie)))})}function ve(he,ie=0){return(0,le.e)((ut,Ke)=>{Ke.add(he.schedule(()=>ut.subscribe(Ke),ie))})}var we=R(5592),pe=R(4971),Ae=R(4674);function Fe(he,ie){if(!he)throw new Error("Iterable cannot be null");return new we.y(ut=>{(0,G.f)(ut,ie,()=>{const Ke=he[Symbol.asyncIterator]();(0,G.f)(ut,ie,()=>{Ke.next().then(Ht=>{Ht.done?ut.complete():ut.next(Ht.value)})},0,!0)})})}var $e=R(8382),lt=R(4026),it=R(4266),Ct=R(3664),rt=R(5726),be=R(9853),ke=R(541);function ze(he,ie){return ie?function Ye(he,ie){if(null!=he){if((0,$e.c)(he))return function ne(he,ie){return(0,d.Xf)(he).pipe(ve(ie),P(ie))}(he,ie);if((0,it.z)(he))return function _e(he,ie){return new we.y(ut=>{let Ke=0;return ie.schedule(function(){Ke===he.length?ut.complete():(ut.next(he[Ke++]),ut.closed||this.schedule())})})}(he,ie);if((0,lt.t)(he))return function Se(he,ie){return(0,d.Xf)(he).pipe(ve(ie),P(ie))}(he,ie);if((0,rt.D)(he))return Fe(he,ie);if((0,Ct.T)(he))return function Qe(he,ie){return new we.y(ut=>{let Ke;return(0,G.f)(ut,ie,()=>{Ke=he[pe.h](),(0,G.f)(ut,ie,()=>{let Ht,Ie;try{({value:Ht,done:Ie}=Ke.next())}catch(tn){return void ut.error(tn)}Ie?ut.complete():ut.next(Ht)},0,!0)}),()=>(0,Ae.m)(Ke?.return)&&Ke.return()})}(he,ie);if((0,ke.L)(he))return function Pe(he,ie){return Fe((0,ke.Q)(he),ie)}(he,ie)}throw(0,be.z)(he)}(he,ie):(0,d.Xf)(he)}},4829:(dt,Ce,R)=>{R.d(Ce,{Xf:()=>Qe});var d=R(7582),G=R(4266),le=R(4026),Y=R(5592),P=R(8382),ve=R(5726),ne=R(9853),Se=R(3664),we=R(541),_e=R(4674),pe=R(3894),Ae=R(4850);function Qe(ke){if(ke instanceof Y.y)return ke;if(null!=ke){if((0,P.c)(ke))return function Fe(ke){return new Y.y(Pe=>{const Ye=ke[Ae.L]();if((0,_e.m)(Ye.subscribe))return Ye.subscribe(Pe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ke);if((0,G.z)(ke))return function $e(ke){return new Y.y(Pe=>{for(let Ye=0;Ye<ke.length&&!Pe.closed;Ye++)Pe.next(ke[Ye]);Pe.complete()})}(ke);if((0,le.t)(ke))return function lt(ke){return new Y.y(Pe=>{ke.then(Ye=>{Pe.closed||(Pe.next(Ye),Pe.complete())},Ye=>Pe.error(Ye)).then(null,pe.h)})}(ke);if((0,ve.D)(ke))return Ct(ke);if((0,Se.T)(ke))return function it(ke){return new Y.y(Pe=>{for(const Ye of ke)if(Pe.next(Ye),Pe.closed)return;Pe.complete()})}(ke);if((0,we.L)(ke))return function rt(ke){return Ct((0,we.Q)(ke))}(ke)}throw(0,ne.z)(ke)}function Ct(ke){return new Y.y(Pe=>{(function be(ke,Pe){var Ye,ze,he,ie;return(0,d.mG)(this,void 0,void 0,function*(){try{for(Ye=(0,d.KL)(ke);!(ze=yield Ye.next()).done;)if(Pe.next(ze.value),Pe.closed)return}catch(ut){he={error:ut}}finally{try{ze&&!ze.done&&(ie=Ye.return)&&(yield ie.call(Ye))}finally{if(he)throw he.error}}Pe.complete()})})(ke,Pe).catch(Ye=>Pe.error(Ye))})}},2096:(dt,Ce,R)=>{R.d(Ce,{of:()=>le});var d=R(4564),G=R(7715);function le(...Y){const P=(0,d.yG)(Y);return(0,G.D)(Y,P)}},8504:(dt,Ce,R)=>{R.d(Ce,{_:()=>le});var d=R(5592),G=R(4674);function le(Y,P){const ve=(0,G.m)(Y)?Y:()=>Y,ne=Se=>Se.error(ve());return new d.y(P?Se=>P.schedule(ne,0,Se):ne)}},8251:(dt,Ce,R)=>{R.d(Ce,{x:()=>G});var d=R(305);function G(Y,P,ve,ne,Se){return new le(Y,P,ve,ne,Se)}class le extends d.Lv{constructor(P,ve,ne,Se,we,_e){super(P),this.onFinalize=we,this.shouldUnsubscribe=_e,this._next=ve?function(pe){try{ve(pe)}catch(Ae){P.error(Ae)}}:super._next,this._error=Se?function(pe){try{Se(pe)}catch(Ae){P.error(Ae)}finally{this.unsubscribe()}}:super._error,this._complete=ne?function(){try{ne()}catch(pe){P.error(pe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var P;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ve}=this;super.unsubscribe(),!ve&&(null===(P=this.onFinalize)||void 0===P||P.call(this))}}}},6306:(dt,Ce,R)=>{R.d(Ce,{K:()=>Y});var d=R(4829),G=R(8251),le=R(9360);function Y(P){return(0,le.e)((ve,ne)=>{let _e,Se=null,we=!1;Se=ve.subscribe((0,G.x)(ne,void 0,void 0,pe=>{_e=(0,d.Xf)(P(pe,Y(P)(ve))),Se?(Se.unsubscribe(),Se=null,_e.subscribe(ne)):we=!0})),we&&(Se.unsubscribe(),Se=null,_e.subscribe(ne))})}},6328:(dt,Ce,R)=>{R.d(Ce,{b:()=>le});var d=R(1631),G=R(4674);function le(Y,P){return(0,G.m)(P)?(0,d.z)(Y,P,1):(0,d.z)(Y,1)}},2181:(dt,Ce,R)=>{R.d(Ce,{h:()=>le});var d=R(9360),G=R(8251);function le(Y,P){return(0,d.e)((ve,ne)=>{let Se=0;ve.subscribe((0,G.x)(ne,we=>Y.call(P,we,Se++)&&ne.next(we)))})}},4716:(dt,Ce,R)=>{R.d(Ce,{x:()=>G});var d=R(9360);function G(le){return(0,d.e)((Y,P)=>{try{Y.subscribe(P)}finally{P.add(le)}})}},7398:(dt,Ce,R)=>{R.d(Ce,{U:()=>le});var d=R(9360),G=R(8251);function le(Y,P){return(0,d.e)((ve,ne)=>{let Se=0;ve.subscribe((0,G.x)(ne,we=>{ne.next(Y.call(P,we,Se++))}))})}},7537:(dt,Ce,R)=>{R.d(Ce,{J:()=>le});var d=R(1631),G=R(2737);function le(Y=1/0){return(0,d.z)(G.y,Y)}},1631:(dt,Ce,R)=>{R.d(Ce,{z:()=>Se});var d=R(7398),G=R(4829),le=R(9360),Y=R(7103),P=R(8251),ne=R(4674);function Se(we,_e,pe=1/0){return(0,ne.m)(_e)?Se((Ae,Qe)=>(0,d.U)((Fe,$e)=>_e(Ae,Fe,Qe,$e))((0,G.Xf)(we(Ae,Qe))),pe):("number"==typeof _e&&(pe=_e),(0,le.e)((Ae,Qe)=>function ve(we,_e,pe,Ae,Qe,Fe,$e,lt){const it=[];let Ct=0,rt=0,be=!1;const ke=()=>{be&&!it.length&&!Ct&&_e.complete()},Pe=ze=>Ct<Ae?Ye(ze):it.push(ze),Ye=ze=>{Fe&&_e.next(ze),Ct++;let he=!1;(0,G.Xf)(pe(ze,rt++)).subscribe((0,P.x)(_e,ie=>{Qe?.(ie),Fe?Pe(ie):_e.next(ie)},()=>{he=!0},void 0,()=>{if(he)try{for(Ct--;it.length&&Ct<Ae;){const ie=it.shift();$e?(0,Y.f)(_e,$e,()=>Ye(ie)):Ye(ie)}ke()}catch(ie){_e.error(ie)}}))};return we.subscribe((0,P.x)(_e,Pe,()=>{be=!0,ke()})),()=>{lt?.()}}(Ae,Qe,we,pe)))}},3020:(dt,Ce,R)=>{R.d(Ce,{B:()=>P});var d=R(4829),G=R(8645),le=R(305),Y=R(9360);function P(ne={}){const{connector:Se=(()=>new G.x),resetOnError:we=!0,resetOnComplete:_e=!0,resetOnRefCountZero:pe=!0}=ne;return Ae=>{let Qe,Fe,$e,lt=0,it=!1,Ct=!1;const rt=()=>{Fe?.unsubscribe(),Fe=void 0},be=()=>{rt(),Qe=$e=void 0,it=Ct=!1},ke=()=>{const Pe=Qe;be(),Pe?.unsubscribe()};return(0,Y.e)((Pe,Ye)=>{lt++,!Ct&&!it&&rt();const ze=$e=$e??Se();Ye.add(()=>{lt--,0===lt&&!Ct&&!it&&(Fe=ve(ke,pe))}),ze.subscribe(Ye),!Qe&&lt>0&&(Qe=new le.Hp({next:he=>ze.next(he),error:he=>{Ct=!0,rt(),Fe=ve(be,we,he),ze.error(he)},complete:()=>{it=!0,rt(),Fe=ve(be,_e),ze.complete()}}),(0,d.Xf)(Pe).subscribe(Qe))})(Ae)}}function ve(ne,Se,...we){if(!0===Se)return void ne();if(!1===Se)return;const _e=new le.Hp({next:()=>{_e.unsubscribe(),ne()}});return(0,d.Xf)(Se(...we)).subscribe(_e)}},4664:(dt,Ce,R)=>{R.d(Ce,{w:()=>Y});var d=R(4829),G=R(9360),le=R(8251);function Y(P,ve){return(0,G.e)((ne,Se)=>{let we=null,_e=0,pe=!1;const Ae=()=>pe&&!we&&Se.complete();ne.subscribe((0,le.x)(Se,Qe=>{we?.unsubscribe();let Fe=0;const $e=_e++;(0,d.Xf)(P(Qe,$e)).subscribe(we=(0,le.x)(Se,lt=>Se.next(ve?ve(Qe,lt,$e,Fe++):lt),()=>{we=null,Ae()}))},()=>{pe=!0,Ae()}))})}},8180:(dt,Ce,R)=>{R.d(Ce,{q:()=>Y});var d=R(6232),G=R(9360),le=R(8251);function Y(P){return P<=0?()=>d.E:(0,G.e)((ve,ne)=>{let Se=0;ve.subscribe((0,le.x)(ne,we=>{++Se<=P&&(ne.next(we),P<=Se&&ne.complete())}))})}},9397:(dt,Ce,R)=>{R.d(Ce,{b:()=>P});var d=R(4674),G=R(9360),le=R(8251),Y=R(2737);function P(ve,ne,Se){const we=(0,d.m)(ve)||ne||Se?{next:ve,error:ne,complete:Se}:ve;return we?(0,G.e)((_e,pe)=>{var Ae;null===(Ae=we.subscribe)||void 0===Ae||Ae.call(we);let Qe=!0;_e.subscribe((0,le.x)(pe,Fe=>{var $e;null===($e=we.next)||void 0===$e||$e.call(we,Fe),pe.next(Fe)},()=>{var Fe;Qe=!1,null===(Fe=we.complete)||void 0===Fe||Fe.call(we),pe.complete()},Fe=>{var $e;Qe=!1,null===($e=we.error)||void 0===$e||$e.call(we,Fe),pe.error(Fe)},()=>{var Fe,$e;Qe&&(null===(Fe=we.unsubscribe)||void 0===Fe||Fe.call(we)),null===($e=we.finalize)||void 0===$e||$e.call(we)}))}):Y.y}},7599:(dt,Ce,R)=>{R.d(Ce,{z:()=>d});const d={setTimeout(G,le,...Y){const{delegate:P}=d;return P?.setTimeout?P.setTimeout(G,le,...Y):setTimeout(G,le,...Y)},clearTimeout(G){const{delegate:le}=d;return(le?.clearTimeout||clearTimeout)(G)},delegate:void 0}},4971:(dt,Ce,R)=>{R.d(Ce,{h:()=>G});const G=function d(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(dt,Ce,R)=>{R.d(Ce,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},4564:(dt,Ce,R)=>{R.d(Ce,{_6:()=>ve,jO:()=>Y,yG:()=>P});var d=R(4674);function le(ne){return ne[ne.length-1]}function Y(ne){return(0,d.m)(le(ne))?ne.pop():void 0}function P(ne){return function G(ne){return ne&&(0,d.m)(ne.schedule)}(le(ne))?ne.pop():void 0}function ve(ne,Se){return"number"==typeof le(ne)?ne.pop():Se}},7453:(dt,Ce,R)=>{R.d(Ce,{D:()=>P});const{isArray:d}=Array,{getPrototypeOf:G,prototype:le,keys:Y}=Object;function P(ne){if(1===ne.length){const Se=ne[0];if(d(Se))return{args:Se,keys:null};if(function ve(ne){return ne&&"object"==typeof ne&&G(ne)===le}(Se)){const we=Y(Se);return{args:we.map(_e=>Se[_e]),keys:we}}}return{args:ne,keys:null}}},9039:(dt,Ce,R)=>{function d(G,le){if(G){const Y=G.indexOf(le);0<=Y&&G.splice(Y,1)}}R.d(Ce,{P:()=>d})},2306:(dt,Ce,R)=>{function d(G){const Y=G(P=>{Error.call(P),P.stack=(new Error).stack});return Y.prototype=Object.create(Error.prototype),Y.prototype.constructor=Y,Y}R.d(Ce,{d:()=>d})},2714:(dt,Ce,R)=>{function d(G,le){return G.reduce((Y,P,ve)=>(Y[P]=le[ve],Y),{})}R.d(Ce,{n:()=>d})},1441:(dt,Ce,R)=>{R.d(Ce,{O:()=>Y,x:()=>le});var d=R(2653);let G=null;function le(P){if(d.config.useDeprecatedSynchronousErrorHandling){const ve=!G;if(ve&&(G={errorThrown:!1,error:null}),P(),ve){const{errorThrown:ne,error:Se}=G;if(G=null,ne)throw Se}}else P()}function Y(P){d.config.useDeprecatedSynchronousErrorHandling&&G&&(G.errorThrown=!0,G.error=P)}},7103:(dt,Ce,R)=>{function d(G,le,Y,P=0,ve=!1){const ne=le.schedule(function(){Y(),ve?G.add(this.schedule(null,P)):this.unsubscribe()},P);if(G.add(ne),!ve)return ne}R.d(Ce,{f:()=>d})},2737:(dt,Ce,R)=>{function d(G){return G}R.d(Ce,{y:()=>d})},4266:(dt,Ce,R)=>{R.d(Ce,{z:()=>d});const d=G=>G&&"number"==typeof G.length&&"function"!=typeof G},5726:(dt,Ce,R)=>{R.d(Ce,{D:()=>G});var d=R(4674);function G(le){return Symbol.asyncIterator&&(0,d.m)(le?.[Symbol.asyncIterator])}},4674:(dt,Ce,R)=>{function d(G){return"function"==typeof G}R.d(Ce,{m:()=>d})},8382:(dt,Ce,R)=>{R.d(Ce,{c:()=>le});var d=R(4850),G=R(4674);function le(Y){return(0,G.m)(Y[d.L])}},3664:(dt,Ce,R)=>{R.d(Ce,{T:()=>le});var d=R(4971),G=R(4674);function le(Y){return(0,G.m)(Y?.[d.h])}},2664:(dt,Ce,R)=>{R.d(Ce,{b:()=>le});var d=R(5592),G=R(4674);function le(Y){return!!Y&&(Y instanceof d.y||(0,G.m)(Y.lift)&&(0,G.m)(Y.subscribe))}},4026:(dt,Ce,R)=>{R.d(Ce,{t:()=>G});var d=R(4674);function G(le){return(0,d.m)(le?.then)}},541:(dt,Ce,R)=>{R.d(Ce,{L:()=>Y,Q:()=>le});var d=R(7582),G=R(4674);function le(P){return(0,d.FC)(this,arguments,function*(){const ne=P.getReader();try{for(;;){const{value:Se,done:we}=yield(0,d.qq)(ne.read());if(we)return yield(0,d.qq)(void 0);yield yield(0,d.qq)(Se)}}finally{ne.releaseLock()}})}function Y(P){return(0,G.m)(P?.getReader)}},9360:(dt,Ce,R)=>{R.d(Ce,{A:()=>G,e:()=>le});var d=R(4674);function G(Y){return(0,d.m)(Y?.lift)}function le(Y){return P=>{if(G(P))return P.lift(function(ve){try{return Y(ve,this)}catch(ne){this.error(ne)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(dt,Ce,R)=>{R.d(Ce,{Z:()=>Y});var d=R(7398);const{isArray:G}=Array;function Y(P){return(0,d.U)(ve=>function le(P,ve){return G(ve)?P(...ve):P(ve)}(P,ve))}},2420:(dt,Ce,R)=>{function d(){}R.d(Ce,{Z:()=>d})},8407:(dt,Ce,R)=>{R.d(Ce,{U:()=>le,z:()=>G});var d=R(2737);function G(...Y){return le(Y)}function le(Y){return 0===Y.length?d.y:1===Y.length?Y[0]:function(ve){return Y.reduce((ne,Se)=>Se(ne),ve)}}},3894:(dt,Ce,R)=>{R.d(Ce,{h:()=>le});var d=R(2653),G=R(7599);function le(Y){G.z.setTimeout(()=>{const{onUnhandledError:P}=d.config;if(!P)throw Y;P(Y)})}},9853:(dt,Ce,R)=>{function d(G){return new TypeError(`You provided ${null!==G&&"object"==typeof G?"an invalid object":`'${G}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}R.d(Ce,{z:()=>d})},6814:(dt,Ce,R)=>{R.d(Ce,{Do:()=>lt,EM:()=>mr,HT:()=>Y,JF:()=>jn,K0:()=>ve,Mx:()=>Cn,NF:()=>ro,Nd:()=>En,O5:()=>Fo,Ov:()=>jo,PC:()=>Vo,PM:()=>_n,S$:()=>Qe,V_:()=>Se,Ye:()=>it,b0:()=>$e,bD:()=>wn,ez:()=>Or,mk:()=>nn,q:()=>le,sg:()=>Rn,tP:()=>ss,w_:()=>P});var d=R(9291);let G=null;function le(){return G}function Y(b){G||(G=b)}class P{}const ve=new d.OlP("DocumentToken");let ne=(()=>{class b{historyGo(M){throw new Error("Not implemented")}}return b.\u0275fac=function(M){return new(M||b)},b.\u0275prov=d.Yz7({token:b,factory:function(){return(0,d.f3M)(we)},providedIn:"platform"}),b})();const Se=new d.OlP("Location Initialized");let we=(()=>{class b extends ne{constructor(){super(),this._doc=(0,d.f3M)(ve),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return le().getBaseHref(this._doc)}onPopState(M){const k=le().getGlobalEventTarget(this._doc,"window");return k.addEventListener("popstate",M,!1),()=>k.removeEventListener("popstate",M)}onHashChange(M){const k=le().getGlobalEventTarget(this._doc,"window");return k.addEventListener("hashchange",M,!1),()=>k.removeEventListener("hashchange",M)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(M){this._location.pathname=M}pushState(M,k,z){this._history.pushState(M,k,z)}replaceState(M,k,z){this._history.replaceState(M,k,z)}forward(){this._history.forward()}back(){this._history.back()}historyGo(M=0){this._history.go(M)}getState(){return this._history.state}}return b.\u0275fac=function(M){return new(M||b)},b.\u0275prov=d.Yz7({token:b,factory:function(){return new b},providedIn:"platform"}),b})();function _e(b,O){if(0==b.length)return O;if(0==O.length)return b;let M=0;return b.endsWith("/")&&M++,O.startsWith("/")&&M++,2==M?b+O.substring(1):1==M?b+O:b+"/"+O}function pe(b){const O=b.match(/#|\?|$/),M=O&&O.index||b.length;return b.slice(0,M-("/"===b[M-1]?1:0))+b.slice(M)}function Ae(b){return b&&"?"!==b[0]?"?"+b:b}let Qe=(()=>{class b{historyGo(M){throw new Error("Not implemented")}}return b.\u0275fac=function(M){return new(M||b)},b.\u0275prov=d.Yz7({token:b,factory:function(){return(0,d.f3M)($e)},providedIn:"root"}),b})();const Fe=new d.OlP("appBaseHref");let $e=(()=>{class b extends Qe{constructor(M,k){super(),this._platformLocation=M,this._removeListenerFns=[],this._baseHref=k??this._platformLocation.getBaseHrefFromDOM()??(0,d.f3M)(ve).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(M){this._removeListenerFns.push(this._platformLocation.onPopState(M),this._platformLocation.onHashChange(M))}getBaseHref(){return this._baseHref}prepareExternalUrl(M){return _e(this._baseHref,M)}path(M=!1){const k=this._platformLocation.pathname+Ae(this._platformLocation.search),z=this._platformLocation.hash;return z&&M?`${k}${z}`:k}pushState(M,k,z,me){const xe=this.prepareExternalUrl(z+Ae(me));this._platformLocation.pushState(M,k,xe)}replaceState(M,k,z,me){const xe=this.prepareExternalUrl(z+Ae(me));this._platformLocation.replaceState(M,k,xe)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(M=0){this._platformLocation.historyGo?.(M)}}return b.\u0275fac=function(M){return new(M||b)(d.LFG(ne),d.LFG(Fe,8))},b.\u0275prov=d.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})(),lt=(()=>{class b extends Qe{constructor(M,k){super(),this._platformLocation=M,this._baseHref="",this._removeListenerFns=[],null!=k&&(this._baseHref=k)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(M){this._removeListenerFns.push(this._platformLocation.onPopState(M),this._platformLocation.onHashChange(M))}getBaseHref(){return this._baseHref}path(M=!1){let k=this._platformLocation.hash;return null==k&&(k="#"),k.length>0?k.substring(1):k}prepareExternalUrl(M){const k=_e(this._baseHref,M);return k.length>0?"#"+k:k}pushState(M,k,z,me){let xe=this.prepareExternalUrl(z+Ae(me));0==xe.length&&(xe=this._platformLocation.pathname),this._platformLocation.pushState(M,k,xe)}replaceState(M,k,z,me){let xe=this.prepareExternalUrl(z+Ae(me));0==xe.length&&(xe=this._platformLocation.pathname),this._platformLocation.replaceState(M,k,xe)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(M=0){this._platformLocation.historyGo?.(M)}}return b.\u0275fac=function(M){return new(M||b)(d.LFG(ne),d.LFG(Fe,8))},b.\u0275prov=d.Yz7({token:b,factory:b.\u0275fac}),b})(),it=(()=>{class b{constructor(M){this._subject=new d.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=M;const k=this._locationStrategy.getBaseHref();this._basePath=function ke(b){if(new RegExp("^(https?:)?//").test(b)){const[,M]=b.split(/\/\/[^\/]+/);return M}return b}(pe(be(k))),this._locationStrategy.onPopState(z=>{this._subject.emit({url:this.path(!0),pop:!0,state:z.state,type:z.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(M=!1){return this.normalize(this._locationStrategy.path(M))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(M,k=""){return this.path()==this.normalize(M+Ae(k))}normalize(M){return b.stripTrailingSlash(function rt(b,O){if(!b||!O.startsWith(b))return O;const M=O.substring(b.length);return""===M||["/",";","?","#"].includes(M[0])?M:O}(this._basePath,be(M)))}prepareExternalUrl(M){return M&&"/"!==M[0]&&(M="/"+M),this._locationStrategy.prepareExternalUrl(M)}go(M,k="",z=null){this._locationStrategy.pushState(z,"",M,k),this._notifyUrlChangeListeners(this.prepareExternalUrl(M+Ae(k)),z)}replaceState(M,k="",z=null){this._locationStrategy.replaceState(z,"",M,k),this._notifyUrlChangeListeners(this.prepareExternalUrl(M+Ae(k)),z)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(M=0){this._locationStrategy.historyGo?.(M)}onUrlChange(M){return this._urlChangeListeners.push(M),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(k=>{this._notifyUrlChangeListeners(k.url,k.state)})),()=>{const k=this._urlChangeListeners.indexOf(M);this._urlChangeListeners.splice(k,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(M="",k){this._urlChangeListeners.forEach(z=>z(M,k))}subscribe(M,k,z){return this._subject.subscribe({next:M,error:k,complete:z})}}return b.normalizeQueryParams=Ae,b.joinWithSlash=_e,b.stripTrailingSlash=pe,b.\u0275fac=function(M){return new(M||b)(d.LFG(Qe))},b.\u0275prov=d.Yz7({token:b,factory:function(){return function Ct(){return new it((0,d.LFG)(Qe))}()},providedIn:"root"}),b})();function be(b){return b.replace(/\/index.html$/,"")}function Cn(b,O){O=encodeURIComponent(O);for(const M of b.split(";")){const k=M.indexOf("="),[z,me]=-1==k?[M,""]:[M.slice(0,k),M.slice(k+1)];if(z.trim()===O)return decodeURIComponent(me)}return null}const hn=/\s+/,Xt=[];let nn=(()=>{class b{constructor(M,k,z,me){this._iterableDiffers=M,this._keyValueDiffers=k,this._ngEl=z,this._renderer=me,this.initialClasses=Xt,this.stateMap=new Map}set klass(M){this.initialClasses=null!=M?M.trim().split(hn):Xt}set ngClass(M){this.rawClass="string"==typeof M?M.trim().split(hn):M}ngDoCheck(){for(const k of this.initialClasses)this._updateState(k,!0);const M=this.rawClass;if(Array.isArray(M)||M instanceof Set)for(const k of M)this._updateState(k,!0);else if(null!=M)for(const k of Object.keys(M))this._updateState(k,!!M[k]);this._applyStateDiff()}_updateState(M,k){const z=this.stateMap.get(M);void 0!==z?(z.enabled!==k&&(z.changed=!0,z.enabled=k),z.touched=!0):this.stateMap.set(M,{enabled:k,changed:!0,touched:!0})}_applyStateDiff(){for(const M of this.stateMap){const k=M[0],z=M[1];z.changed?(this._toggleClass(k,z.enabled),z.changed=!1):z.touched||(z.enabled&&this._toggleClass(k,!1),this.stateMap.delete(k)),z.touched=!1}}_toggleClass(M,k){(M=M.trim()).length>0&&M.split(hn).forEach(z=>{k?this._renderer.addClass(this._ngEl.nativeElement,z):this._renderer.removeClass(this._ngEl.nativeElement,z)})}}return b.\u0275fac=function(M){return new(M||b)(d.Y36(d.ZZ4),d.Y36(d.aQg),d.Y36(d.SBq),d.Y36(d.Qsj))},b.\u0275dir=d.lG2({type:b,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),b})();class On{constructor(O,M,k,z){this.$implicit=O,this.ngForOf=M,this.index=k,this.count=z}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Rn=(()=>{class b{set ngForOf(M){this._ngForOf=M,this._ngForOfDirty=!0}set ngForTrackBy(M){this._trackByFn=M}get ngForTrackBy(){return this._trackByFn}constructor(M,k,z){this._viewContainer=M,this._template=k,this._differs=z,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(M){M&&(this._template=M)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const M=this._ngForOf;!this._differ&&M&&(this._differ=this._differs.find(M).create(this.ngForTrackBy))}if(this._differ){const M=this._differ.diff(this._ngForOf);M&&this._applyChanges(M)}}_applyChanges(M){const k=this._viewContainer;M.forEachOperation((z,me,xe)=>{if(null==z.previousIndex)k.createEmbeddedView(this._template,new On(z.item,this._ngForOf,-1,-1),null===xe?void 0:xe);else if(null==xe)k.remove(null===me?void 0:me);else if(null!==me){const We=k.get(me);k.move(We,xe),dr(We,z)}});for(let z=0,me=k.length;z<me;z++){const We=k.get(z).context;We.index=z,We.count=me,We.ngForOf=this._ngForOf}M.forEachIdentityChange(z=>{dr(k.get(z.currentIndex),z)})}static ngTemplateContextGuard(M,k){return!0}}return b.\u0275fac=function(M){return new(M||b)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(d.ZZ4))},b.\u0275dir=d.lG2({type:b,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),b})();function dr(b,O){b.context.$implicit=O.item}let Fo=(()=>{class b{constructor(M,k){this._viewContainer=M,this._context=new Lo,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=k}set ngIf(M){this._context.$implicit=this._context.ngIf=M,this._updateView()}set ngIfThen(M){fr("ngIfThen",M),this._thenTemplateRef=M,this._thenViewRef=null,this._updateView()}set ngIfElse(M){fr("ngIfElse",M),this._elseTemplateRef=M,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(M,k){return!0}}return b.\u0275fac=function(M){return new(M||b)(d.Y36(d.s_b),d.Y36(d.Rgc))},b.\u0275dir=d.lG2({type:b,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),b})();class Lo{constructor(){this.$implicit=null,this.ngIf=null}}function fr(b,O){if(O&&!O.createEmbeddedView)throw new Error(`${b} must be a TemplateRef, but received '${(0,d.AaK)(O)}'.`)}let Vo=(()=>{class b{constructor(M,k,z){this._ngEl=M,this._differs=k,this._renderer=z,this._ngStyle=null,this._differ=null}set ngStyle(M){this._ngStyle=M,!this._differ&&M&&(this._differ=this._differs.find(M).create())}ngDoCheck(){if(this._differ){const M=this._differ.diff(this._ngStyle);M&&this._applyChanges(M)}}_setStyle(M,k){const[z,me]=M.split("."),xe=-1===z.indexOf("-")?void 0:d.JOm.DashCase;null!=k?this._renderer.setStyle(this._ngEl.nativeElement,z,me?`${k}${me}`:k,xe):this._renderer.removeStyle(this._ngEl.nativeElement,z,xe)}_applyChanges(M){M.forEachRemovedItem(k=>this._setStyle(k.key,null)),M.forEachAddedItem(k=>this._setStyle(k.key,k.currentValue)),M.forEachChangedItem(k=>this._setStyle(k.key,k.currentValue))}}return b.\u0275fac=function(M){return new(M||b)(d.Y36(d.SBq),d.Y36(d.aQg),d.Y36(d.Qsj))},b.\u0275dir=d.lG2({type:b,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),b})(),ss=(()=>{class b{constructor(M){this._viewContainerRef=M,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(M){if(M.ngTemplateOutlet||M.ngTemplateOutletInjector){const k=this._viewContainerRef;if(this._viewRef&&k.remove(k.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:z,ngTemplateOutletContext:me,ngTemplateOutletInjector:xe}=this;this._viewRef=k.createEmbeddedView(z,me,xe?{injector:xe}:void 0)}else this._viewRef=null}else this._viewRef&&M.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return b.\u0275fac=function(M){return new(M||b)(d.Y36(d.s_b))},b.\u0275dir=d.lG2({type:b,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[d.TTD]}),b})();class Fi{createSubscription(O,M){return(0,d.rg0)(()=>O.subscribe({next:M,error:k=>{throw k}}))}dispose(O){(0,d.rg0)(()=>O.unsubscribe())}}class hi{createSubscription(O,M){return O.then(M,k=>{throw k})}dispose(O){}}const pi=new hi,gi=new Fi;let jo=(()=>{class b{constructor(M){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=M}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(M){return this._obj?M!==this._obj?(this._dispose(),this.transform(M)):this._latestValue:(M&&this._subscribe(M),this._latestValue)}_subscribe(M){this._obj=M,this._strategy=this._selectStrategy(M),this._subscription=this._strategy.createSubscription(M,k=>this._updateLatestValue(M,k))}_selectStrategy(M){if((0,d.QGY)(M))return pi;if((0,d.F4k)(M))return gi;throw function Jn(b,O){return new d.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(M,k){M===this._obj&&(this._latestValue=k,this._ref.markForCheck())}}return b.\u0275fac=function(M){return new(M||b)(d.Y36(d.sBO,16))},b.\u0275pipe=d.Yjl({name:"async",type:b,pure:!1,standalone:!0}),b})(),En=(()=>{class b{constructor(M){this.differs=M,this.keyValues=[],this.compareFn=tt}transform(M,k=tt){if(!M||!(M instanceof Map)&&"object"!=typeof M)return null;this.differ||(this.differ=this.differs.find(M).create());const z=this.differ.diff(M),me=k!==this.compareFn;return z&&(this.keyValues=[],z.forEachItem(xe=>{this.keyValues.push(function vo(b,O){return{key:b,value:O}}(xe.key,xe.currentValue))})),(z||me)&&(this.keyValues.sort(k),this.compareFn=k),this.keyValues}}return b.\u0275fac=function(M){return new(M||b)(d.Y36(d.aQg,16))},b.\u0275pipe=d.Yjl({name:"keyvalue",type:b,pure:!1,standalone:!0}),b})();function tt(b,O){const M=b.key,k=O.key;if(M===k)return 0;if(void 0===M)return 1;if(void 0===k)return-1;if(null===M)return 1;if(null===k)return-1;if("string"==typeof M&&"string"==typeof k)return M<k?-1:1;if("number"==typeof M&&"number"==typeof k)return M-k;if("boolean"==typeof M&&"boolean"==typeof k)return M<k?-1:1;const z=String(M),me=String(k);return z==me?0:z<me?-1:1}let Or=(()=>{class b{}return b.\u0275fac=function(M){return new(M||b)},b.\u0275mod=d.oAB({type:b}),b.\u0275inj=d.cJS({}),b})();const wn="browser",It="server";function ro(b){return b===wn}function _n(b){return b===It}let mr=(()=>{class b{}return b.\u0275prov=(0,d.Yz7)({token:b,providedIn:"root",factory:()=>new mi((0,d.LFG)(ve),window)}),b})();class mi{constructor(O,M){this.document=O,this.window=M,this.offset=()=>[0,0]}setOffset(O){this.offset=Array.isArray(O)?()=>O:O}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(O){this.supportsScrolling()&&this.window.scrollTo(O[0],O[1])}scrollToAnchor(O){if(!this.supportsScrolling())return;const M=function Zn(b,O){const M=b.getElementById(O)||b.getElementsByName(O)[0];if(M)return M;if("function"==typeof b.createTreeWalker&&b.body&&"function"==typeof b.body.attachShadow){const k=b.createTreeWalker(b.body,NodeFilter.SHOW_ELEMENT);let z=k.currentNode;for(;z;){const me=z.shadowRoot;if(me){const xe=me.getElementById(O)||me.querySelector(`[name="${O}"]`);if(xe)return xe}z=k.nextNode()}}return null}(this.document,O);M&&(this.scrollToElement(M),M.focus())}setHistoryScrollRestoration(O){if(this.supportScrollRestoration()){const M=this.window.history;M&&M.scrollRestoration&&(M.scrollRestoration=O)}}scrollToElement(O){const M=O.getBoundingClientRect(),k=M.left+this.window.pageXOffset,z=M.top+this.window.pageYOffset,me=this.offset();this.window.scrollTo(k-me[0],z-me[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const O=ir(this.window.history)||ir(Object.getPrototypeOf(this.window.history));return!(!O||!O.writable&&!O.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function ir(b){return Object.getOwnPropertyDescriptor(b,"scrollRestoration")}class jn{}},9862:(dt,Ce,R)=>{R.d(Ce,{JF:()=>te,TP:()=>Ut,Zn:()=>vt,eN:()=>ce});var d=R(9291),G=R(2096),le=R(7715),Y=R(5592),P=R(6328),ve=R(2181),ne=R(7398),Se=R(4716),we=R(4664),_e=R(6814);class pe{}class Ae{}class Qe{constructor(W){this.normalizedNames=new Map,this.lazyUpdate=null,W?"string"==typeof W?this.lazyInit=()=>{this.headers=new Map,W.split("\n").forEach(X=>{const Oe=X.indexOf(":");if(Oe>0){const je=X.slice(0,Oe),Xe=je.toLowerCase(),Me=X.slice(Oe+1).trim();this.maybeSetNormalizedName(je,Xe),this.headers.has(Xe)?this.headers.get(Xe).push(Me):this.headers.set(Xe,[Me])}})}:typeof Headers<"u"&&W instanceof Headers?(this.headers=new Map,W.forEach((X,Oe)=>{this.setHeaderEntries(Oe,X)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(W).forEach(([X,Oe])=>{this.setHeaderEntries(X,Oe)})}:this.headers=new Map}has(W){return this.init(),this.headers.has(W.toLowerCase())}get(W){this.init();const X=this.headers.get(W.toLowerCase());return X&&X.length>0?X[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(W){return this.init(),this.headers.get(W.toLowerCase())||null}append(W,X){return this.clone({name:W,value:X,op:"a"})}set(W,X){return this.clone({name:W,value:X,op:"s"})}delete(W,X){return this.clone({name:W,value:X,op:"d"})}maybeSetNormalizedName(W,X){this.normalizedNames.has(X)||this.normalizedNames.set(X,W)}init(){this.lazyInit&&(this.lazyInit instanceof Qe?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(W=>this.applyUpdate(W)),this.lazyUpdate=null))}copyFrom(W){W.init(),Array.from(W.headers.keys()).forEach(X=>{this.headers.set(X,W.headers.get(X)),this.normalizedNames.set(X,W.normalizedNames.get(X))})}clone(W){const X=new Qe;return X.lazyInit=this.lazyInit&&this.lazyInit instanceof Qe?this.lazyInit:this,X.lazyUpdate=(this.lazyUpdate||[]).concat([W]),X}applyUpdate(W){const X=W.name.toLowerCase();switch(W.op){case"a":case"s":let Oe=W.value;if("string"==typeof Oe&&(Oe=[Oe]),0===Oe.length)return;this.maybeSetNormalizedName(W.name,X);const je=("a"===W.op?this.headers.get(X):void 0)||[];je.push(...Oe),this.headers.set(X,je);break;case"d":const Xe=W.value;if(Xe){let Me=this.headers.get(X);if(!Me)return;Me=Me.filter(Tt=>-1===Xe.indexOf(Tt)),0===Me.length?(this.headers.delete(X),this.normalizedNames.delete(X)):this.headers.set(X,Me)}else this.headers.delete(X),this.normalizedNames.delete(X)}}setHeaderEntries(W,X){const Oe=(Array.isArray(X)?X:[X]).map(Xe=>Xe.toString()),je=W.toLowerCase();this.headers.set(je,Oe),this.maybeSetNormalizedName(W,je)}forEach(W){this.init(),Array.from(this.normalizedNames.keys()).forEach(X=>W(this.normalizedNames.get(X),this.headers.get(X)))}}class $e{encodeKey(W){return rt(W)}encodeValue(W){return rt(W)}decodeKey(W){return decodeURIComponent(W)}decodeValue(W){return decodeURIComponent(W)}}const it=/%(\d[a-f0-9])/gi,Ct={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function rt(ge){return encodeURIComponent(ge).replace(it,(W,X)=>Ct[X]??W)}function be(ge){return`${ge}`}class ke{constructor(W={}){if(this.updates=null,this.cloneFrom=null,this.encoder=W.encoder||new $e,W.fromString){if(W.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function lt(ge,W){const X=new Map;return ge.length>0&&ge.replace(/^\?/,"").split("&").forEach(je=>{const Xe=je.indexOf("="),[Me,Tt]=-1==Xe?[W.decodeKey(je),""]:[W.decodeKey(je.slice(0,Xe)),W.decodeValue(je.slice(Xe+1))],wt=X.get(Me)||[];wt.push(Tt),X.set(Me,wt)}),X}(W.fromString,this.encoder)}else W.fromObject?(this.map=new Map,Object.keys(W.fromObject).forEach(X=>{const Oe=W.fromObject[X],je=Array.isArray(Oe)?Oe.map(be):[be(Oe)];this.map.set(X,je)})):this.map=null}has(W){return this.init(),this.map.has(W)}get(W){this.init();const X=this.map.get(W);return X?X[0]:null}getAll(W){return this.init(),this.map.get(W)||null}keys(){return this.init(),Array.from(this.map.keys())}append(W,X){return this.clone({param:W,value:X,op:"a"})}appendAll(W){const X=[];return Object.keys(W).forEach(Oe=>{const je=W[Oe];Array.isArray(je)?je.forEach(Xe=>{X.push({param:Oe,value:Xe,op:"a"})}):X.push({param:Oe,value:je,op:"a"})}),this.clone(X)}set(W,X){return this.clone({param:W,value:X,op:"s"})}delete(W,X){return this.clone({param:W,value:X,op:"d"})}toString(){return this.init(),this.keys().map(W=>{const X=this.encoder.encodeKey(W);return this.map.get(W).map(Oe=>X+"="+this.encoder.encodeValue(Oe)).join("&")}).filter(W=>""!==W).join("&")}clone(W){const X=new ke({encoder:this.encoder});return X.cloneFrom=this.cloneFrom||this,X.updates=(this.updates||[]).concat(W),X}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(W=>this.map.set(W,this.cloneFrom.map.get(W))),this.updates.forEach(W=>{switch(W.op){case"a":case"s":const X=("a"===W.op?this.map.get(W.param):void 0)||[];X.push(be(W.value)),this.map.set(W.param,X);break;case"d":if(void 0===W.value){this.map.delete(W.param);break}{let Oe=this.map.get(W.param)||[];const je=Oe.indexOf(be(W.value));-1!==je&&Oe.splice(je,1),Oe.length>0?this.map.set(W.param,Oe):this.map.delete(W.param)}}}),this.cloneFrom=this.updates=null)}}class Ye{constructor(){this.map=new Map}set(W,X){return this.map.set(W,X),this}get(W){return this.map.has(W)||this.map.set(W,W.defaultValue()),this.map.get(W)}delete(W){return this.map.delete(W),this}has(W){return this.map.has(W)}keys(){return this.map.keys()}}function he(ge){return typeof ArrayBuffer<"u"&&ge instanceof ArrayBuffer}function ie(ge){return typeof Blob<"u"&&ge instanceof Blob}function ut(ge){return typeof FormData<"u"&&ge instanceof FormData}class Ht{constructor(W,X,Oe,je){let Xe;if(this.url=X,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=W.toUpperCase(),function ze(ge){switch(ge){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||je?(this.body=void 0!==Oe?Oe:null,Xe=je):Xe=Oe,Xe&&(this.reportProgress=!!Xe.reportProgress,this.withCredentials=!!Xe.withCredentials,Xe.responseType&&(this.responseType=Xe.responseType),Xe.headers&&(this.headers=Xe.headers),Xe.context&&(this.context=Xe.context),Xe.params&&(this.params=Xe.params)),this.headers||(this.headers=new Qe),this.context||(this.context=new Ye),this.params){const Me=this.params.toString();if(0===Me.length)this.urlWithParams=X;else{const Tt=X.indexOf("?");this.urlWithParams=X+(-1===Tt?"?":Tt<X.length-1?"&":"")+Me}}else this.params=new ke,this.urlWithParams=X}serializeBody(){return null===this.body?null:he(this.body)||ie(this.body)||ut(this.body)||function Ke(ge){return typeof URLSearchParams<"u"&&ge instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ke?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||ut(this.body)?null:ie(this.body)?this.body.type||null:he(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ke?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(W={}){const X=W.method||this.method,Oe=W.url||this.url,je=W.responseType||this.responseType,Xe=void 0!==W.body?W.body:this.body,Me=void 0!==W.withCredentials?W.withCredentials:this.withCredentials,Tt=void 0!==W.reportProgress?W.reportProgress:this.reportProgress;let wt=W.headers||this.headers,fn=W.params||this.params;const Dn=W.context??this.context;return void 0!==W.setHeaders&&(wt=Object.keys(W.setHeaders).reduce((Jt,bn)=>Jt.set(bn,W.setHeaders[bn]),wt)),W.setParams&&(fn=Object.keys(W.setParams).reduce((Jt,bn)=>Jt.set(bn,W.setParams[bn]),fn)),new Ht(X,Oe,Xe,{params:fn,headers:wt,context:Dn,reportProgress:Tt,responseType:je,withCredentials:Me})}}var Ie=(()=>((Ie=Ie||{})[Ie.Sent=0]="Sent",Ie[Ie.UploadProgress=1]="UploadProgress",Ie[Ie.ResponseHeader=2]="ResponseHeader",Ie[Ie.DownloadProgress=3]="DownloadProgress",Ie[Ie.Response=4]="Response",Ie[Ie.User=5]="User",Ie))();class tn{constructor(W,X=200,Oe="OK"){this.headers=W.headers||new Qe,this.status=void 0!==W.status?W.status:X,this.statusText=W.statusText||Oe,this.url=W.url||null,this.ok=this.status>=200&&this.status<300}}class st extends tn{constructor(W={}){super(W),this.type=Ie.ResponseHeader}clone(W={}){return new st({headers:W.headers||this.headers,status:void 0!==W.status?W.status:this.status,statusText:W.statusText||this.statusText,url:W.url||this.url||void 0})}}class vt extends tn{constructor(W={}){super(W),this.type=Ie.Response,this.body=void 0!==W.body?W.body:null}clone(W={}){return new vt({body:void 0!==W.body?W.body:this.body,headers:W.headers||this.headers,status:void 0!==W.status?W.status:this.status,statusText:W.statusText||this.statusText,url:W.url||this.url||void 0})}}class gn extends tn{constructor(W){super(W,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${W.url||"(unknown url)"}`:`Http failure response for ${W.url||"(unknown url)"}: ${W.status} ${W.statusText}`,this.error=W.error||null}}function sn(ge,W){return{body:W,headers:ge.headers,context:ge.context,observe:ge.observe,params:ge.params,reportProgress:ge.reportProgress,responseType:ge.responseType,withCredentials:ge.withCredentials}}let ce=(()=>{class ge{constructor(X){this.handler=X}request(X,Oe,je={}){let Xe;if(X instanceof Ht)Xe=X;else{let wt,fn;wt=je.headers instanceof Qe?je.headers:new Qe(je.headers),je.params&&(fn=je.params instanceof ke?je.params:new ke({fromObject:je.params})),Xe=new Ht(X,Oe,void 0!==je.body?je.body:null,{headers:wt,context:je.context,params:fn,reportProgress:je.reportProgress,responseType:je.responseType||"json",withCredentials:je.withCredentials})}const Me=(0,G.of)(Xe).pipe((0,P.b)(wt=>this.handler.handle(wt)));if(X instanceof Ht||"events"===je.observe)return Me;const Tt=Me.pipe((0,ve.h)(wt=>wt instanceof vt));switch(je.observe||"body"){case"body":switch(Xe.responseType){case"arraybuffer":return Tt.pipe((0,ne.U)(wt=>{if(null!==wt.body&&!(wt.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return wt.body}));case"blob":return Tt.pipe((0,ne.U)(wt=>{if(null!==wt.body&&!(wt.body instanceof Blob))throw new Error("Response is not a Blob.");return wt.body}));case"text":return Tt.pipe((0,ne.U)(wt=>{if(null!==wt.body&&"string"!=typeof wt.body)throw new Error("Response is not a string.");return wt.body}));default:return Tt.pipe((0,ne.U)(wt=>wt.body))}case"response":return Tt;default:throw new Error(`Unreachable: unhandled observe type ${je.observe}}`)}}delete(X,Oe={}){return this.request("DELETE",X,Oe)}get(X,Oe={}){return this.request("GET",X,Oe)}head(X,Oe={}){return this.request("HEAD",X,Oe)}jsonp(X,Oe){return this.request("JSONP",X,{params:(new ke).append(Oe,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(X,Oe={}){return this.request("OPTIONS",X,Oe)}patch(X,Oe,je={}){return this.request("PATCH",X,sn(je,Oe))}post(X,Oe,je={}){return this.request("POST",X,sn(je,Oe))}put(X,Oe,je={}){return this.request("PUT",X,sn(je,Oe))}}return ge.\u0275fac=function(X){return new(X||ge)(d.LFG(pe))},ge.\u0275prov=d.Yz7({token:ge,factory:ge.\u0275fac}),ge})();function ft(ge,W){return W(ge)}function et(ge,W){return(X,Oe)=>W.intercept(X,{handle:je=>ge(je,Oe)})}const Ut=new d.OlP(""),pt=new d.OlP(""),Yt=new d.OlP("");function Ee(){let ge=null;return(W,X)=>{null===ge&&(ge=((0,d.f3M)(Ut,{optional:!0})??[]).reduceRight(et,ft));const Oe=(0,d.f3M)(d.HDt),je=Oe.add();return ge(W,X).pipe((0,Se.x)(()=>Oe.remove(je)))}}let Te=(()=>{class ge extends pe{constructor(X,Oe){super(),this.backend=X,this.injector=Oe,this.chain=null,this.pendingTasks=(0,d.f3M)(d.HDt)}handle(X){if(null===this.chain){const je=Array.from(new Set([...this.injector.get(pt),...this.injector.get(Yt,[])]));this.chain=je.reduceRight((Xe,Me)=>function Et(ge,W,X){return(Oe,je)=>X.runInContext(()=>W(Oe,Xe=>ge(Xe,je)))}(Xe,Me,this.injector),ft)}const Oe=this.pendingTasks.add();return this.chain(X,je=>this.backend.handle(je)).pipe((0,Se.x)(()=>this.pendingTasks.remove(Oe)))}}return ge.\u0275fac=function(X){return new(X||ge)(d.LFG(Ae),d.LFG(d.lqb))},ge.\u0275prov=d.Yz7({token:ge,factory:ge.\u0275fac}),ge})();const Ur=/^\)\]\}',?\n/;let tr=(()=>{class ge{constructor(X){this.xhrFactory=X}handle(X){if("JSONP"===X.method)throw new d.vHH(-2800,!1);const Oe=this.xhrFactory;return(Oe.\u0275loadImpl?(0,le.D)(Oe.\u0275loadImpl()):(0,G.of)(null)).pipe((0,we.w)(()=>new Y.y(Xe=>{const Me=Oe.build();if(Me.open(X.method,X.urlWithParams),X.withCredentials&&(Me.withCredentials=!0),X.headers.forEach((Xt,nn)=>Me.setRequestHeader(Xt,nn.join(","))),X.headers.has("Accept")||Me.setRequestHeader("Accept","application/json, text/plain, */*"),!X.headers.has("Content-Type")){const Xt=X.detectContentTypeHeader();null!==Xt&&Me.setRequestHeader("Content-Type",Xt)}if(X.responseType){const Xt=X.responseType.toLowerCase();Me.responseType="json"!==Xt?Xt:"text"}const Tt=X.serializeBody();let wt=null;const fn=()=>{if(null!==wt)return wt;const Xt=Me.statusText||"OK",nn=new Qe(Me.getAllResponseHeaders()),Tr=function Gn(ge){return"responseURL"in ge&&ge.responseURL?ge.responseURL:/^X-Request-URL:/m.test(ge.getAllResponseHeaders())?ge.getResponseHeader("X-Request-URL"):null}(Me)||X.url;return wt=new st({headers:nn,status:Me.status,statusText:Xt,url:Tr}),wt},Dn=()=>{let{headers:Xt,status:nn,statusText:Tr,url:zr}=fn(),On=null;204!==nn&&(On=typeof Me.response>"u"?Me.responseText:Me.response),0===nn&&(nn=On?200:0);let Rn=nn>=200&&nn<300;if("json"===X.responseType&&"string"==typeof On){const dr=On;On=On.replace(Ur,"");try{On=""!==On?JSON.parse(On):null}catch(go){On=dr,Rn&&(Rn=!1,On={error:go,text:On})}}Rn?(Xe.next(new vt({body:On,headers:Xt,status:nn,statusText:Tr,url:zr||void 0})),Xe.complete()):Xe.error(new gn({error:On,headers:Xt,status:nn,statusText:Tr,url:zr||void 0}))},Jt=Xt=>{const{url:nn}=fn(),Tr=new gn({error:Xt,status:Me.status||0,statusText:Me.statusText||"Unknown Error",url:nn||void 0});Xe.error(Tr)};let bn=!1;const Cn=Xt=>{bn||(Xe.next(fn()),bn=!0);let nn={type:Ie.DownloadProgress,loaded:Xt.loaded};Xt.lengthComputable&&(nn.total=Xt.total),"text"===X.responseType&&Me.responseText&&(nn.partialText=Me.responseText),Xe.next(nn)},hn=Xt=>{let nn={type:Ie.UploadProgress,loaded:Xt.loaded};Xt.lengthComputable&&(nn.total=Xt.total),Xe.next(nn)};return Me.addEventListener("load",Dn),Me.addEventListener("error",Jt),Me.addEventListener("timeout",Jt),Me.addEventListener("abort",Jt),X.reportProgress&&(Me.addEventListener("progress",Cn),null!==Tt&&Me.upload&&Me.upload.addEventListener("progress",hn)),Me.send(Tt),Xe.next({type:Ie.Sent}),()=>{Me.removeEventListener("error",Jt),Me.removeEventListener("abort",Jt),Me.removeEventListener("load",Dn),Me.removeEventListener("timeout",Jt),X.reportProgress&&(Me.removeEventListener("progress",Cn),null!==Tt&&Me.upload&&Me.upload.removeEventListener("progress",hn)),Me.readyState!==Me.DONE&&Me.abort()}})))}}return ge.\u0275fac=function(X){return new(X||ge)(d.LFG(_e.JF))},ge.\u0275prov=d.Yz7({token:ge,factory:ge.\u0275fac}),ge})();const Pn=new d.OlP("XSRF_ENABLED"),nt=new d.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Nt=new d.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class St{}let Vn=(()=>{class ge{constructor(X,Oe,je){this.doc=X,this.platform=Oe,this.cookieName=je,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const X=this.doc.cookie||"";return X!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,_e.Mx)(X,this.cookieName),this.lastCookieString=X),this.lastToken}}return ge.\u0275fac=function(X){return new(X||ge)(d.LFG(_e.K0),d.LFG(d.Lbi),d.LFG(nt))},ge.\u0275prov=d.Yz7({token:ge,factory:ge.\u0275fac}),ge})();function $r(ge,W){const X=ge.url.toLowerCase();if(!(0,d.f3M)(Pn)||"GET"===ge.method||"HEAD"===ge.method||X.startsWith("http://")||X.startsWith("https://"))return W(ge);const Oe=(0,d.f3M)(St).getToken(),je=(0,d.f3M)(Nt);return null!=Oe&&!ge.headers.has(je)&&(ge=ge.clone({headers:ge.headers.set(je,Oe)})),W(ge)}var Gt=(()=>((Gt=Gt||{})[Gt.Interceptors=0]="Interceptors",Gt[Gt.LegacyInterceptors=1]="LegacyInterceptors",Gt[Gt.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Gt[Gt.NoXsrfProtection=3]="NoXsrfProtection",Gt[Gt.JsonpSupport=4]="JsonpSupport",Gt[Gt.RequestsMadeViaParent=5]="RequestsMadeViaParent",Gt[Gt.Fetch=6]="Fetch",Gt))();function Sn(ge,W){return{\u0275kind:ge,\u0275providers:W}}function to(...ge){const W=[ce,tr,Te,{provide:pe,useExisting:Te},{provide:Ae,useExisting:tr},{provide:pt,useValue:$r,multi:!0},{provide:Pn,useValue:!0},{provide:St,useClass:Vn}];for(const X of ge)W.push(...X.\u0275providers);return(0,d.MR2)(W)}const nr=new d.OlP("LEGACY_INTERCEPTOR_FN");let te=(()=>{class ge{}return ge.\u0275fac=function(X){return new(X||ge)},ge.\u0275mod=d.oAB({type:ge}),ge.\u0275inj=d.cJS({providers:[to(Sn(Gt.LegacyInterceptors,[{provide:nr,useFactory:Ee},{provide:pt,useExisting:nr,multi:!0}]))]}),ge})()},9291:(dt,Ce,R)=>{R.d(Ce,{tb:()=>Lg,AFp:()=>Wd,ip1:()=>JD,hGG:()=>cM,z2F:()=>vu,Ojb:()=>lp,sBO:()=>Kw,Sil:()=>Iw,EJc:()=>Sw,Xts:()=>Ka,SBq:()=>qa,lqb:()=>Ns,qLn:()=>C,vpe:()=>is,XFs:()=>nt,OlP:()=>vn,zs3:()=>Da,ZZ4:()=>$g,aQg:()=>zg,soG:()=>Tf,YKP:()=>qv,h0i:()=>gu,PXZ:()=>Hw,R0b:()=>Po,FiY:()=>Sl,Lbi:()=>fc,g9A:()=>Zd,Qsj:()=>Xd,FYo:()=>yc,JOm:()=>so,q3G:()=>Ln,tp0:()=>xl,Rgc:()=>Rc,dDg:()=>Fw,eoX:()=>lC,GfV:()=>t,s_b:()=>xf,ifc:()=>je,VuI:()=>DM,LMc:()=>_M,MMx:()=>Qv,Lck:()=>hE,eFA:()=>fC,Gpc:()=>ze,f3M:()=>mt,$WT:()=>Ar,MR2:()=>oc,_c5:()=>uM,qFp:()=>bM,rg0:()=>wa,c2e:()=>qD,zSh:()=>Os,HDt:()=>XD,wAp:()=>At,vHH:()=>Ie,lri:()=>sC,rWj:()=>aC,JZr:()=>Ht,EiD:()=>Qi,mCW:()=>jl,qzn:()=>fa,JVY:()=>Lh,pB0:()=>Bh,eBb:()=>cm,L6k:()=>Vh,LAX:()=>dm,cg1:()=>lg,kL8:()=>bv,dqk:()=>Rt,Z0I:()=>ht,eJc:()=>xg,QGY:()=>Jp,F4k:()=>xy,RDi:()=>Ah,AaK:()=>ke,z3N:()=>Ti,qOj:()=>Vp,Xq5:()=>ay,TTD:()=>wo,_Bn:()=>Jv,jDz:()=>eD,xp6:()=>Im,uIk:()=>Hp,Tol:()=>Jy,ekj:()=>rg,Suo:()=>TD,Xpm:()=>Jn,lG2:()=>ni,Yz7:()=>an,cJS:()=>Tn,oAB:()=>gi,Yjl:()=>ri,Y36:()=>tu,_UZ:()=>Kp,GkF:()=>Yp,BQk:()=>yf,ynx:()=>mf,qZA:()=>gf,TgZ:()=>pf,EpF:()=>Sy,n5z:()=>Gc,LFG:()=>Ge,$8M:()=>Au,$Z:()=>km,NdJ:()=>qp,CRH:()=>AD,oxw:()=>Ny,ALo:()=>gD,lcZ:()=>mD,Hsn:()=>Ry,F$t:()=>Py,Q6J:()=>Wp,s9C:()=>Xp,MGl:()=>vf,DdM:()=>aD,VKq:()=>lD,WLB:()=>uD,iGM:()=>xD,MAs:()=>Ey,KtG:()=>ms,evT:()=>Pt,CHM:()=>xo,oJD:()=>nc,LSH:()=>rc,P3R:()=>Fd,Udp:()=>ng,YNc:()=>Cy,_uU:()=>rv,Oqu:()=>ig,hij:()=>_f,AsE:()=>sg,lnq:()=>ag,Gf:()=>ID});var d=R(8645),G=R(7394),le=R(5619),Y=R(5592),P=R(7537),ve=R(4829),ne=R(6232),Se=R(4564),we=R(7715),pe=R(2096),Ae=R(3020),Qe=R(4664),Fe=R(2737),$e=R(9360),lt=R(8251);function Ct(e,n){return e===n}function rt(e){for(let n in e)if(e[n]===rt)return n;throw Error("Could not find renamed property on target object.")}function be(e,n){for(const o in n)n.hasOwnProperty(o)&&!e.hasOwnProperty(o)&&(e[o]=n[o])}function ke(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(ke).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const n=e.toString();if(null==n)return""+n;const o=n.indexOf("\n");return-1===o?n:n.substring(0,o)}function Pe(e,n){return null==e||""===e?null===n?"":n:null==n||""===n?e:e+" "+n}const Ye=rt({__forward_ref__:rt});function ze(e){return e.__forward_ref__=ze,e.toString=function(){return ke(this())},e}function he(e){return ie(e)?e():e}function ie(e){return"function"==typeof e&&e.hasOwnProperty(Ye)&&e.__forward_ref__===ze}function ut(e){return e&&!!e.\u0275providers}const Ht="https://g.co/ng/security#xss";class Ie extends Error{constructor(n,o){super(function tn(e,n){return`NG0${Math.abs(e)}${n?": "+n:""}`}(n,o)),this.code=n}}function st(e){return"string"==typeof e?e:null==e?"":String(e)}function de(e,n){throw new Ie(-201,!1)}function Te(e,n){null==e&&function De(e,n,o,a){throw new Error(`ASSERTION ERROR: ${e}`+(null==a?"":` [Expected=> ${o} ${a} ${n} <=Actual]`))}(n,e,null,"!=")}function an(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Tn(e){return{providers:e.providers||[],imports:e.imports||[]}}function cn(e){return Mt(e,Gn)||Mt(e,Pn)}function ht(e){return null!==cn(e)}function Mt(e,n){return e.hasOwnProperty(n)?e[n]:null}function Ur(e){return e&&(e.hasOwnProperty(tr)||e.hasOwnProperty(eo))?e[tr]:null}const Gn=rt({\u0275prov:rt}),tr=rt({\u0275inj:rt}),Pn=rt({ngInjectableDef:rt}),eo=rt({ngInjectorDef:rt});var nt=(()=>((nt=nt||{})[nt.Default=0]="Default",nt[nt.Host=1]="Host",nt[nt.Self=2]="Self",nt[nt.SkipSelf=4]="SkipSelf",nt[nt.Optional=8]="Optional",nt))();let jr;function St(e){const n=jr;return jr=e,n}function Vn(e,n,o){const a=cn(e);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:o&nt.Optional?null:void 0!==n?n:void de(ke(e))}const Rt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Wn={},nr="__NG_DI_FLAG__",Yn="ngTempTokenPath",ho=/\n/gm,fe="__source";let re;function te(e){const n=re;return re=e,n}function Le(e,n=nt.Default){if(void 0===re)throw new Ie(-203,!1);return null===re?Vn(e,void 0,n):re.get(e,n&nt.Optional?null:void 0,n)}function Ge(e,n=nt.Default){return(function Nt(){return jr}()||Le)(he(e),n)}function mt(e,n=nt.Default){return Ge(e,Lt(n))}function Lt(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function yn(e){const n=[];for(let o=0;o<e.length;o++){const a=he(e[o]);if(Array.isArray(a)){if(0===a.length)throw new Ie(900,!1);let u,f=nt.Default;for(let p=0;p<a.length;p++){const v=a[p],_=Er(v);"number"==typeof _?-1===_?u=v.token:f|=_:u=v}n.push(Ge(u,f))}else n.push(Ge(a))}return n}function In(e,n){return e[nr]=n,e.prototype[nr]=n,e}function Er(e){return e[nr]}function X(e){return{toString:e}.toString()}var Oe=(()=>((Oe=Oe||{})[Oe.OnPush=0]="OnPush",Oe[Oe.Default=1]="Default",Oe))(),je=(()=>{return(e=je||(je={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",je;var e})();const Xe={},Me=[],Tt=rt({\u0275cmp:rt}),wt=rt({\u0275dir:rt}),fn=rt({\u0275pipe:rt}),Dn=rt({\u0275mod:rt}),Jt=rt({\u0275fac:rt}),bn=rt({__NG_ELEMENT_ID__:rt}),Cn=rt({__NG_ENV_ID__:rt});function hn(e,n,o){let a=e.length;for(;;){const u=e.indexOf(n,o);if(-1===u)return u;if(0===u||e.charCodeAt(u-1)<=32){const f=n.length;if(u+f===a||e.charCodeAt(u+f)<=32)return u}o=u+1}}function Xt(e,n,o){let a=0;for(;a<o.length;){const u=o[a];if("number"==typeof u){if(0!==u)break;a++;const f=o[a++],p=o[a++],v=o[a++];e.setAttribute(n,p,v,f)}else{const f=u,p=o[++a];Tr(f)?e.setProperty(n,f,p):e.setAttribute(n,f,p),a++}}return a}function nn(e){return 3===e||4===e||6===e}function Tr(e){return 64===e.charCodeAt(0)}function zr(e,n){if(null!==n&&0!==n.length)if(null===e||0===e.length)e=n.slice();else{let o=-1;for(let a=0;a<n.length;a++){const u=n[a];"number"==typeof u?o=u:0===o||On(e,o,u,null,-1===o||2===o?n[++a]:null)}}return e}function On(e,n,o,a,u){let f=0,p=e.length;if(-1===n)p=-1;else for(;f<e.length;){const v=e[f++];if("number"==typeof v){if(v===n){p=-1;break}if(v>n){p=f-1;break}}}for(;f<e.length;){const v=e[f];if("number"==typeof v)break;if(v===o){if(null===a)return void(null!==u&&(e[f+1]=u));if(a===e[f+1])return void(e[f+2]=u)}f++,null!==a&&f++,null!==u&&f++}-1!==p&&(e.splice(p,0,n),f=p+1),e.splice(f++,0,o),null!==a&&e.splice(f++,0,a),null!==u&&e.splice(f++,0,u)}const Rn="ng-template";function dr(e,n,o){let a=0,u=!0;for(;a<e.length;){let f=e[a++];if("string"==typeof f&&u){const p=e[a++];if(o&&"class"===f&&-1!==hn(p.toLowerCase(),n,0))return!0}else{if(1===f){for(;a<e.length&&"string"==typeof(f=e[a++]);)if(f.toLowerCase()===n)return!0;return!1}"number"==typeof f&&(u=!1)}}return!1}function go(e){return 4===e.type&&e.value!==Rn}function Fo(e,n,o){return n===(4!==e.type||o?e.value:Rn)}function Lo(e,n,o){let a=4;const u=e.attrs||[],f=function ki(e){for(let n=0;n<e.length;n++)if(nn(e[n]))return n;return e.length}(u);let p=!1;for(let v=0;v<n.length;v++){const _=n[v];if("number"!=typeof _){if(!p)if(4&a){if(a=2|1&a,""!==_&&!Fo(e,_,o)||""===_&&1===n.length){if(fr(a))return!1;p=!0}}else{const T=8&a?_:n[++v];if(8&a&&null!==e.attrs){if(!dr(e.attrs,T,o)){if(fr(a))return!1;p=!0}continue}const j=ei(8&a?"class":_,u,go(e),o);if(-1===j){if(fr(a))return!1;p=!0;continue}if(""!==T){let ee;ee=j>f?"":u[j+1].toLowerCase();const ae=8&a?ee:null;if(ae&&-1!==hn(ae,T,0)||2&a&&T!==ee){if(fr(a))return!1;p=!0}}}}else{if(!p&&!fr(a)&&!fr(_))return!1;if(p&&fr(_))continue;p=!1,a=_|1&a}}return fr(a)||p}function fr(e){return 0==(1&e)}function ei(e,n,o,a){if(null===n)return-1;let u=0;if(a||!o){let f=!1;for(;u<n.length;){const p=n[u];if(p===e)return u;if(3===p||6===p)f=!0;else{if(1===p||2===p){let v=n[++u];for(;"string"==typeof v;)v=n[++u];continue}if(4===p)break;if(0===p){u+=4;continue}}u+=f?1:2}return-1}return function wr(e,n){let o=e.indexOf(4);if(o>-1)for(o++;o<e.length;){const a=e[o];if("number"==typeof a)return-1;if(a===n)return o;o++}return-1}(n,e)}function Gr(e,n,o=!1){for(let a=0;a<n.length;a++)if(Lo(e,n[a],o))return!0;return!1}function ti(e,n){e:for(let o=0;o<n.length;o++){const a=n[o];if(e.length===a.length){for(let u=0;u<e.length;u++)if(e[u]!==a[u])continue e;return!0}}return!1}function Zr(e,n){return e?":not("+n.trim()+")":n}function Vo(e){let n=e[0],o=1,a=2,u="",f=!1;for(;o<e.length;){let p=e[o];if("string"==typeof p)if(2&a){const v=e[++o];u+="["+p+(v.length>0?'="'+v+'"':"")+"]"}else 8&a?u+="."+p:4&a&&(u+=" "+p);else""!==u&&!fr(p)&&(n+=Zr(f,u),u=""),a=p,f=f||!fr(a);o++}return""!==u&&(n+=Zr(f,u)),n}function Jn(e){return X(()=>{const n=oi(e),o={...n,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Oe.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||je.Emulated,styles:e.styles||Me,_:null,schemas:e.schemas||null,tView:null,id:""};yo(o);const a=e.dependencies;return o.directiveDefs=rr(a,!1),o.pipeDefs=rr(a,!0),o.id=function vo(e){let n=0;const o=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const u of o)n=Math.imul(31,n)+u.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(o),o})}function hi(e){return Wt(e)||Bn(e)}function pi(e){return null!==e}function gi(e){return X(()=>({type:e.type,bootstrap:e.bootstrap||Me,declarations:e.declarations||Me,imports:e.imports||Me,exports:e.exports||Me,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function mo(e,n){if(null==e)return Xe;const o={};for(const a in e)if(e.hasOwnProperty(a)){let u=e[a],f=u;Array.isArray(u)&&(f=u[1],u=u[0]),o[u]=a,n&&(n[u]=f)}return o}function ni(e){return X(()=>{const n=oi(e);return yo(n),n})}function ri(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function Wt(e){return e[Tt]||null}function Bn(e){return e[wt]||null}function Hn(e){return e[fn]||null}function Ar(e){const n=Wt(e)||Bn(e)||Hn(e);return null!==n&&n.standalone}function Un(e,n){const o=e[Dn]||null;if(!o&&!0===n)throw new Error(`Type ${ke(e)} does not have '\u0275mod' property.`);return o}function oi(e){const n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:e.inputs||Xe,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||Me,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:mo(e.inputs,n),outputs:mo(e.outputs)}}function yo(e){e.features?.forEach(n=>n(e))}function rr(e,n){if(!e)return null;const o=n?Hn:hi;return()=>("function"==typeof e?e():e).map(a=>o(a)).filter(pi)}const En=0,tt=1,Je=2,mn=3,hr=4,pr=5,xt=6,gr=7,ct=8,Or=9,wn=10,It=11,Kr=12,no=13,ro=14,_n=15,Nr=16,Mr=17,Pr=18,mr=19,mi=20,ir=21,Zn=22,$o=23,jn=24,Vt=25,Rr=1,sr=2,qn=7,kn=9,$n=11;function Qt(e){return Array.isArray(e)&&"object"==typeof e[Rr]}function yr(e){return Array.isArray(e)&&!0===e[Rr]}function Do(e){return 0!=(4&e.flags)}function kr(e){return e.componentOffset>-1}function Yr(e){return 1==(1&e.flags)}function Fr(e){return!!e.template}function ii(e){return 0!=(512&e[Je])}function bo(e,n){return e.hasOwnProperty(Jt)?e[Jt]:null}let rl=Rt.WeakRef??class Ci{constructor(n){this.ref=n}deref(){return this.ref}},_i=0,oo=null,Eo=!1;function Nn(e){const n=oo;return oo=e,n}class Vs{constructor(){this.id=_i++,this.ref=function Hi(e){return new rl(e)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[n,o]of this.producers){const a=o.producerNode.deref();if(void 0!==a&&o.atTrackingVersion===this.trackingVersion){if(a.producerPollStatus(o.seenValueVersion))return!0}else this.producers.delete(n),a?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const n=Eo;Eo=!0;try{for(const[o,a]of this.consumers){const u=a.consumerNode.deref();void 0!==u&&u.trackingVersion===a.atTrackingVersion?u.onConsumerDependencyMayHaveChanged():(this.consumers.delete(o),u?.producers.delete(this.id))}}finally{Eo=n}}producerAccessed(){if(Eo)throw new Error("");if(null===oo)return;let n=oo.producers.get(this.id);void 0===n?(n={consumerNode:oo.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:oo.trackingVersion},oo.producers.set(this.id,n),this.consumers.set(oo.id,n)):(n.seenValueVersion=this.valueVersion,n.atTrackingVersion=oo.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==oo?.consumerAllowSignalWrites}producerPollStatus(n){return this.valueVersion!==n||(this.onProducerUpdateValueVersion(),this.valueVersion!==n)}}let hs=null;function wa(e){const n=Nn(null);try{return e()}finally{Nn(n)}}const Ma=()=>{};class qr extends Vs{constructor(n,o,a){super(),this.watch=n,this.schedule=o,this.dirty=!1,this.cleanupFn=Ma,this.registerOnCleanup=u=>{this.cleanupFn=u},this.consumerAllowSignalWrites=a}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const n=Nn(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=Ma,this.watch(this.registerOnCleanup)}finally{Nn(n)}}cleanup(){this.cleanupFn()}}class Sa{constructor(n,o,a){this.previousValue=n,this.currentValue=o,this.firstChange=a}isFirstChange(){return this.firstChange}}function wo(){return Mo}function Mo(e){return e.type.prototype.ngOnChanges&&(e.setInput=Bs),bi}function bi(){const e=b(this),n=e?.current;if(n){const o=e.previous;if(o===Xe)e.previous=n;else for(let a in n)o[a]=n[a];e.current=null,this.ngOnChanges(n)}}function Bs(e,n,o,a){const u=this.declaredInputs[o],f=b(e)||function O(e,n){return e[Ei]=n}(e,{previous:Xe,current:null}),p=f.current||(f.current={}),v=f.previous,_=v[u];p[u]=new Sa(_&&_.currentValue,n,v===Xe),e[a]=n}wo.ngInherit=!0;const Ei="__ngSimpleChanges__";function b(e){return e[Ei]||null}const z=function(e,n,o){};function We(e){for(;Array.isArray(e);)e=e[En];return e}function rn(e,n){return We(n[e])}function Ot(e,n){return We(n[e.index])}function xn(e,n){return e.data[n]}function Kt(e,n){return e[n]}function ln(e,n){const o=n[e];return Qt(o)?o:o[En]}function An(e,n){return null==n?null:e[n]}function Uo(e){e[Mr]=0}function Zo(e){1024&e[Je]||(e[Je]|=1024,ps(e,1))}function Fn(e){1024&e[Je]&&(e[Je]&=-1025,ps(e,-1))}function ps(e,n){let o=e[mn];if(null===o)return;o[pr]+=n;let a=o;for(o=o[mn];null!==o&&(1===n&&1===a[pr]||-1===n&&0===a[pr]);)o[pr]+=n,a=o,o=o[mn]}const bt={lFrame:vl(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function ll(){return bt.bindingsEnabled}function li(){return null!==bt.skipHydrationRootTNode}function He(){return bt.lFrame.lView}function jt(){return bt.lFrame.tView}function xo(e){return bt.lFrame.contextLView=e,e[ct]}function ms(e){return bt.lFrame.contextLView=null,e}function zn(){let e=ys();for(;null!==e&&64===e.type;)e=e.parent;return e}function ys(){return bt.lFrame.currentTNode}function io(e,n){const o=bt.lFrame;o.currentTNode=e,o.isParent=n}function vs(){return bt.lFrame.isParent}function wi(){bt.lFrame.isParent=!1}function lr(){const e=bt.lFrame;let n=e.bindingRootIndex;return-1===n&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}function Ko(){return bt.lFrame.bindingIndex}function Ds(){return bt.lFrame.bindingIndex++}function Yo(e){const n=bt.lFrame,o=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,o}function gl(e,n){const o=bt.lFrame;o.bindingIndex=o.bindingRootIndex=e,$s(n)}function $s(e){bt.lFrame.currentDirectiveIndex=e}function Gs(){return bt.lFrame.currentQueryIndex}function Ws(e){bt.lFrame.currentQueryIndex=e}function yl(e){const n=e[tt];return 2===n.type?n.declTNode:1===n.type?e[xt]:null}function Ta(e,n,o){if(o&nt.SkipSelf){let u=n,f=e;for(;!(u=u.parent,null!==u||o&nt.Host||(u=yl(f),null===u||(f=f[ro],10&u.type))););if(null===u)return!1;n=u,e=f}const a=bt.lFrame=Aa();return a.currentTNode=n,a.lView=e,!0}function Zs(e){const n=Aa(),o=e[tt];bt.lFrame=n,n.currentTNode=o.firstChild,n.lView=e,n.tView=o,n.contextLView=e,n.bindingIndex=o.bindingStartIndex,n.inI18n=!1}function Aa(){const e=bt.lFrame,n=null===e?null:e.child;return null===n?vl(e):n}function vl(e){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=n),n}function Su(){const e=bt.lFrame;return bt.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const xr=Su;function Cr(){const e=Su();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Lr(){return bt.lFrame.selectedIndex}function y(e){bt.lFrame.selectedIndex=e}function D(){const e=bt.lFrame;return xn(e.tView,e.selectedIndex)}let oe=!0;function Re(){return oe}function ot(e){oe=e}function on(e,n){for(let o=n.directiveStart,a=n.directiveEnd;o<a;o++){const f=e.data[o].type.prototype,{ngAfterContentInit:p,ngAfterContentChecked:v,ngAfterViewInit:_,ngAfterViewChecked:T,ngOnDestroy:F}=f;p&&(e.contentHooks??=[]).push(-o,p),v&&((e.contentHooks??=[]).push(o,v),(e.contentCheckHooks??=[]).push(o,v)),_&&(e.viewHooks??=[]).push(-o,_),T&&((e.viewHooks??=[]).push(o,T),(e.viewCheckHooks??=[]).push(o,T)),null!=F&&(e.destroyHooks??=[]).push(o,F)}}function _r(e,n,o){Wi(e,n,3,o)}function Gi(e,n,o,a){(3&e[Je])===o&&Wi(e,n,o,a)}function Mi(e,n){let o=e[Je];(3&o)===n&&(o&=8191,o+=1,e[Je]=o)}function Wi(e,n,o,a){const f=a??-1,p=n.length-1;let v=0;for(let _=void 0!==a?65535&e[Mr]:0;_<p;_++)if("number"==typeof n[_+1]){if(v=n[_],null!=a&&v>=a)break}else n[_]<0&&(e[Mr]+=65536),(v<f||-1==f)&&(Cs(e,o,n,_),e[Mr]=(4294901760&e[Mr])+_+2),_++}function Zi(e,n){z(4,e,n);const o=Nn(null);try{n.call(e)}finally{Nn(o),z(5,e,n)}}function Cs(e,n,o,a){const u=o[a]<0,f=o[a+1],v=e[u?-o[a]:o[a]];u?e[Je]>>13<e[Mr]>>16&&(3&e[Je])===n&&(e[Je]+=8192,Zi(v,f)):Zi(v,f)}const Ks=-1;class Ys{constructor(n,o,a){this.factory=n,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=a}}function Vc(e){return e!==Ks}function Ki(e){return 32767&e}function Na(e,n){let o=function Vf(e){return e>>16}(e),a=n;for(;o>0;)a=a[ro],o--;return a}let _s=!0;function Js(e){const n=_s;return _s=e,n}const _l=255,Io=5;let qs=0;const Vr={};function ur(e,n){const o=Bc(e,n);if(-1!==o)return o;const a=n[tt];a.firstCreatePass&&(e.injectorIndex=n.length,ui(a.data,e),ui(n,null),ui(a.blueprint,null));const u=bl(e,n),f=e.injectorIndex;if(Vc(u)){const p=Ki(u),v=Na(u,n),_=v[tt].data;for(let T=0;T<8;T++)n[f+T]=v[p+T]|_[p+T]}return n[f+8]=u,f}function ui(e,n){e.push(0,0,0,0,0,0,0,0,n)}function Bc(e,n){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===n[e.injectorIndex+8]?-1:e.injectorIndex}function bl(e,n){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let o=0,a=null,u=n;for(;null!==u;){if(a=Wc(u),null===a)return Ks;if(o++,u=u[ro],-1!==a.injectorIndex)return a.injectorIndex|o<<16}return Ks}function xu(e,n,o){!function Xn(e,n,o){let a;"string"==typeof o?a=o.charCodeAt(0)||0:o.hasOwnProperty(bn)&&(a=o[bn]),null==a&&(a=o[bn]=qs++);const u=a&_l;n.data[e+(u>>Io)]|=1<<u}(e,n,o)}function Iu(e,n,o){if(o&nt.Optional||void 0!==e)return e;de()}function Pa(e,n,o,a){if(o&nt.Optional&&void 0===a&&(a=null),!(o&(nt.Self|nt.Host))){const u=e[Or],f=St(void 0);try{return u?u.get(n,a,o&nt.Optional):Vn(n,a,o&nt.Optional)}finally{St(f)}}return Iu(a,0,o)}function Yi(e,n,o,a=nt.Default,u){if(null!==e){if(2048&n[Je]&&!(a&nt.Self)){const p=function Hf(e,n,o,a,u){let f=e,p=n;for(;null!==f&&null!==p&&2048&p[Je]&&!(512&p[Je]);){const v=El(f,p,o,a|nt.Self,Vr);if(v!==Vr)return v;let _=f.parent;if(!_){const T=p[mi];if(T){const F=T.get(o,Vr,a);if(F!==Vr)return F}_=Wc(p),p=p[ro]}f=_}return u}(e,n,o,a,Vr);if(p!==Vr)return p}const f=El(e,n,o,a,Vr);if(f!==Vr)return f}return Pa(n,o,a,u)}function El(e,n,o,a,u){const f=function Bf(e){if("string"==typeof e)return e.charCodeAt(0)||0;const n=e.hasOwnProperty(bn)?e[bn]:void 0;return"number"==typeof n?n>=0?n&_l:zc:n}(o);if("function"==typeof f){if(!Ta(n,e,a))return a&nt.Host?Iu(u,0,a):Pa(n,o,a,u);try{const p=f(a);if(null!=p||a&nt.Optional)return p;de()}finally{xr()}}else if("number"==typeof f){let p=null,v=Bc(e,n),_=Ks,T=a&nt.Host?n[_n][xt]:null;for((-1===v||a&nt.SkipSelf)&&(_=-1===v?bl(e,n):n[v+8],_!==Ks&&$c(a,!1)?(p=n[tt],v=Ki(_),n=Na(_,n)):v=-1);-1!==v;){const F=n[tt];if(jc(f,v,F.data)){const j=Uc(v,n,o,p,a,T);if(j!==Vr)return j}_=n[v+8],_!==Ks&&$c(a,n[tt].data[v+8]===T)&&jc(f,v,n)?(p=F,v=Ki(_),n=Na(_,n)):v=-1}}return u}function Uc(e,n,o,a,u,f){const p=n[tt],v=p.data[e+8],F=Xs(v,p,o,null==a?kr(v)&&_s:a!=p&&0!=(3&v.type),u&nt.Host&&f===v);return null!==F?Es(n,p,F,v):Vr}function Xs(e,n,o,a,u){const f=e.providerIndexes,p=n.data,v=1048575&f,_=e.directiveStart,F=f>>20,ee=u?v+F:e.directiveEnd;for(let ae=a?v:v+F;ae<ee;ae++){const Ne=p[ae];if(ae<_&&o===Ne||ae>=_&&Ne.type===o)return ae}if(u){const ae=p[_];if(ae&&Fr(ae)&&ae.type===o)return _}return null}function Es(e,n,o,a){let u=e[o];const f=n.data;if(function kf(e){return e instanceof Ys}(u)){const p=u;p.resolving&&function gn(e,n){const o=n?`. Dependency path: ${n.join(" > ")} > ${e}`:"";throw new Ie(-200,`Circular dependency in DI detected for ${e}${o}`)}(function vt(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():st(e)}(f[o]));const v=Js(p.canSeeViewProviders);p.resolving=!0;const _=p.injectImpl?St(p.injectImpl):null;Ta(e,a,nt.Default);try{u=e[o]=p.factory(void 0,f,e,a),n.firstCreatePass&&o>=a.directiveStart&&function yt(e,n,o){const{ngOnChanges:a,ngOnInit:u,ngDoCheck:f}=n.type.prototype;if(a){const p=Mo(n);(o.preOrderHooks??=[]).push(e,p),(o.preOrderCheckHooks??=[]).push(e,p)}u&&(o.preOrderHooks??=[]).push(0-e,u),f&&((o.preOrderHooks??=[]).push(e,f),(o.preOrderCheckHooks??=[]).push(e,f))}(o,f[o],n)}finally{null!==_&&St(_),Js(v),p.resolving=!1,xr()}}return u}function jc(e,n,o){return!!(o[n+(e>>Io)]&1<<e)}function $c(e,n){return!(e&nt.Self||e&nt.Host&&n)}class ws{constructor(n,o){this._tNode=n,this._lView=o}get(n,o,a){return Yi(this._tNode,this._lView,n,Lt(a),o)}}function zc(){return new ws(zn(),He())}function Gc(e){return X(()=>{const n=e.prototype.constructor,o=n[Jt]||Tu(n),a=Object.prototype;let u=Object.getPrototypeOf(e.prototype).constructor;for(;u&&u!==a;){const f=u[Jt]||Tu(u);if(f&&f!==o)return f;u=Object.getPrototypeOf(u)}return f=>new f})}function Tu(e){return ie(e)?()=>{const n=Tu(he(e));return n&&n()}:bo(e)}function Wc(e){const n=e[tt],o=n.type;return 2===o?n.declTNode:1===o?e[xt]:null}function Au(e){return function Hc(e,n){if("class"===n)return e.classes;if("style"===n)return e.styles;const o=e.attrs;if(o){const a=o.length;let u=0;for(;u<a;){const f=o[u];if(nn(f))break;if(0===f)u+=2;else if("number"==typeof f)for(u++;u<a&&"string"==typeof o[u];)u++;else{if(f===n)return o[u+1];u+=2}}}return null}(zn(),e)}const Ms="__parameters__";function ta(e,n,o){return X(()=>{const a=function Ra(e){return function(...o){if(e){const a=e(...o);for(const u in a)this[u]=a[u]}}}(n);function u(...f){if(this instanceof u)return a.apply(this,f),this;const p=new u(...f);return v.annotation=p,v;function v(_,T,F){const j=_.hasOwnProperty(Ms)?_[Ms]:Object.defineProperty(_,Ms,{value:[]})[Ms];for(;j.length<=F;)j.push(null);return(j[F]=j[F]||[]).push(p),_}}return o&&(u.prototype=Object.create(o.prototype)),u.prototype.ngMetadataName=e,u.annotationCls=u,u})}function ra(e,n){e.forEach(o=>Array.isArray(o)?ra(o,n):n(o))}function Ou(e,n,o){n>=e.length?e.push(o):e.splice(n,0,o)}function oa(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function wl(e,n){const o=[];for(let a=0;a<e;a++)o.push(n);return o}function Ao(e,n,o){let a=Ss(e,n);return a>=0?e[1|a]=o:(a=~a,function Kf(e,n,o,a){let u=e.length;if(u==n)e.push(o,a);else if(1===u)e.push(a,e[0]),e[0]=o;else{for(u--,e.push(e[u-1],e[u]);u>n;)e[u]=e[u-2],u--;e[n]=o,e[n+1]=a}}(e,a,n,o)),a}function Nu(e,n){const o=Ss(e,n);if(o>=0)return e[1|o]}function Ss(e,n){return function Jf(e,n,o){let a=0,u=e.length>>o;for(;u!==a;){const f=a+(u-a>>1),p=e[f<<o];if(n===p)return f<<o;p>n?u=f:a=f+1}return~(u<<o)}(e,n,1)}const Sl=In(ta("Optional"),8),xl=In(ta("SkipSelf"),4);function Ol(e){return 128==(128&e.flags)}var so=(()=>((so=so||{})[so.Important=1]="Important",so[so.DashCase=2]="DashCase",so))();const Lu=/^>|^->|<!--|-->|--!>|<!-$/g,ad=/(<|>)/,Si="\u200b$1\u200b";const ld=new Map;let ch=0;const Hu="__ngContext__";function Br(e,n){Qt(n)?(e[Hu]=n[mr],function dh(e){ld.set(e[mr],e)}(n)):e[Hu]=n}let Nl;function zu(e,n){return Nl(e,n)}function la(e){const n=e[mn];return yr(n)?n[mn]:n}function Ii(e){return Dd(e[Kr])}function Ba(e){return Dd(e[hr])}function Dd(e){for(;null!==e&&!yr(e);)e=e[hr];return e}function ua(e,n,o,a,u){if(null!=a){let f,p=!1;yr(a)?f=a:Qt(a)&&(p=!0,a=a[En]);const v=We(a);0===e&&null!==o?null==u?_d(n,o,v):ao(n,o,v,u||null,!0):1===e&&null!==o?ao(n,o,v,u||null,!0):2===e?function Ju(e,n,o){const a=ca(e,n);a&&function Ch(e,n,o,a){e.removeChild(n,o,a)}(e,a,n,o)}(n,v,p):3===e&&n.destroyNode(v),null!=f&&function wh(e,n,o,a,u){const f=o[qn];f!==We(o)&&ua(n,e,a,f,u);for(let v=$n;v<o.length;v++){const _=o[v];za(_[tt],_,e,n,a,f)}}(n,e,f,o,u)}}function Gu(e,n){return e.createComment(function Vu(e){return e.replace(Lu,n=>n.replace(ad,Si))}(n))}function Rl(e,n,o){return e.createElement(n,o)}function br(e,n){const o=e[kn],a=o.indexOf(n);Fn(n),o.splice(a,1)}function Ll(e,n){if(e.length<=$n)return;const o=$n+n,a=e[o];if(a){const u=a[Nr];null!==u&&u!==e&&br(u,a),n>0&&(e[o-1][hr]=a[hr]);const f=oa(e,$n+n);!function mh(e,n){za(e,n,n[It],2,null,null),n[En]=null,n[xt]=null}(a[tt],a);const p=f[Pr];null!==p&&p.detachView(f[tt]),a[mn]=null,a[hr]=null,a[Je]&=-129}return a}function Cd(e,n){if(!(256&n[Je])){const o=n[It];n[$o]?.destroy(),n[jn]?.destroy(),o.destroyNode&&za(e,n,o,3,null,null),function kl(e){let n=e[Kr];if(!n)return Vl(e[tt],e);for(;n;){let o=null;if(Qt(n))o=n[Kr];else{const a=n[$n];a&&(o=a)}if(!o){for(;n&&!n[hr]&&n!==e;)Qt(n)&&Vl(n[tt],n),n=n[mn];null===n&&(n=e),Qt(n)&&Vl(n[tt],n),o=n&&n[hr]}n=o}}(n)}}function Vl(e,n){if(!(256&n[Je])){n[Je]&=-129,n[Je]|=256,function Jo(e,n){let o;if(null!=e&&null!=(o=e.destroyHooks))for(let a=0;a<o.length;a+=2){const u=n[o[a]];if(!(u instanceof Ys)){const f=o[a+1];if(Array.isArray(f))for(let p=0;p<f.length;p+=2){const v=u[f[p]],_=f[p+1];z(4,v,_);try{_.call(v)}finally{z(5,v,_)}}else{z(4,u,f);try{f.call(u)}finally{z(5,u,f)}}}}}(e,n),function Dh(e,n){const o=e.cleanup,a=n[gr];if(null!==o)for(let f=0;f<o.length-1;f+=2)if("string"==typeof o[f]){const p=o[f+3];p>=0?a[p]():a[-p].unsubscribe(),f+=2}else o[f].call(a[o[f+1]]);null!==a&&(n[gr]=null);const u=n[ir];if(null!==u){n[ir]=null;for(let f=0;f<u.length;f++)(0,u[f])()}}(e,n),1===n[tt].type&&n[It].destroy();const o=n[Nr];if(null!==o&&yr(n[mn])){o!==n[mn]&&br(o,n);const a=n[Pr];null!==a&&a.detachView(e)}!function fh(e){ld.delete(e[mr])}(n)}}function Zu(e,n,o){return function qo(e,n,o){let a=n;for(;null!==a&&40&a.type;)a=(n=a).parent;if(null===a)return o[En];{const{componentOffset:u}=a;if(u>-1){const{encapsulation:f}=e.data[a.directiveStart+u];if(f===je.None||f===je.Emulated)return null}return Ot(a,o)}}(e,n.parent,o)}function ao(e,n,o,a,u){e.insertBefore(n,o,a,u)}function _d(e,n,o){e.appendChild(n,o)}function bd(e,n,o,a,u){null!==a?ao(e,n,o,a,u):_d(e,n,o)}function ca(e,n){return e.parentNode(n)}function Bl(e,n,o){return Ha(e,n,o)}let wd,Hl,Qu,Ul,Ha=function Ku(e,n,o){return 40&e.type?Ot(e,o):null};function Ua(e,n,o,a){const u=Zu(e,a,n),f=n[It],v=Bl(a.parent||n[xt],a,n);if(null!=u)if(Array.isArray(o))for(let _=0;_<o.length;_++)bd(f,u,o[_],v,!1);else bd(f,u,o,v,!1);void 0!==wd&&wd(f,a,n,o,u)}function ja(e,n){if(null!==n){const o=n.type;if(3&o)return Ot(n,e);if(4&o)return $a(-1,e[n.index]);if(8&o){const a=n.child;if(null!==a)return ja(e,a);{const u=e[n.index];return yr(u)?$a(-1,u):We(u)}}if(32&o)return zu(n,e)()||We(e[n.index]);{const a=Yu(e,n);return null!==a?Array.isArray(a)?a[0]:ja(la(e[_n]),a):ja(e,n.next)}}return null}function Yu(e,n){return null!==n?e[_n][xt].projection[n.projection]:null}function $a(e,n){const o=$n+e+1;if(o<n.length){const a=n[o],u=a[tt].firstChild;if(null!==u)return ja(a,u)}return n[qn]}function qu(e,n,o,a,u,f,p){for(;null!=o;){const v=a[o.index],_=o.type;if(p&&0===n&&(v&&Br(We(v),a),o.flags|=2),32!=(32&o.flags))if(8&_)qu(e,n,o.child,a,u,f,!1),ua(n,e,u,v,f);else if(32&_){const T=zu(o,a);let F;for(;F=T();)ua(n,e,u,F,f);ua(n,e,u,v,f)}else 16&_?Md(e,n,a,o,u,f):ua(n,e,u,v,f);o=p?o.projectionNext:o.next}}function za(e,n,o,a,u,f){qu(o,a,e.firstChild,n,u,f,!1)}function Md(e,n,o,a,u,f){const p=o[_n],_=p[xt].projection[a.projection];if(Array.isArray(_))for(let T=0;T<_.length;T++)ua(n,e,u,_[T],f);else{let T=_;const F=p[mn];Ol(a)&&(T.flags|=128),qu(e,n,T,F,u,f,!0)}}function Sd(e,n,o){""===o?e.removeAttribute(n,"class"):e.setAttribute(n,"class",o)}function xd(e,n,o){const{mergedAttrs:a,classes:u,styles:f}=o;null!==a&&Xt(e,n,a),null!==u&&Sd(e,n,u),null!==f&&function Sh(e,n,o){e.setAttribute(n,"style",o)}(e,n,f)}function da(e){return function Xu(){if(void 0===Hl&&(Hl=null,Rt.trustedTypes))try{Hl=Rt.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Hl}()?.createHTML(e)||e}function Ah(e){Qu=e}function Ga(){if(void 0!==Qu)return Qu;if(typeof document<"u")return document;throw new Ie(210,!1)}function ec(){if(void 0===Ul&&(Ul=null,Rt.trustedTypes))try{Ul=Rt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Ul}function Id(e){return ec()?.createHTML(e)||e}function Ad(e){return ec()?.createScriptURL(e)||e}class Is{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ht})`}}class Oh extends Is{getTypeName(){return"HTML"}}class Nh extends Is{getTypeName(){return"Style"}}class Ph extends Is{getTypeName(){return"Script"}}class Rh extends Is{getTypeName(){return"URL"}}class kh extends Is{getTypeName(){return"ResourceURL"}}function Ti(e){return e instanceof Is?e.changingThisBreaksApplicationSecurity:e}function fa(e,n){const o=function Fh(e){return e instanceof Is&&e.getTypeName()||null}(e);if(null!=o&&o!==n){if("ResourceURL"===o&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${o} (see ${Ht})`)}return o===n}function Lh(e){return new Oh(e)}function Vh(e){return new Nh(e)}function cm(e){return new Ph(e)}function dm(e){return new Rh(e)}function Bh(e){return new kh(e)}class Hh{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const o=(new window.DOMParser).parseFromString(da(n),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(n):(o.removeChild(o.firstChild),o)}catch{return null}}}class Uh{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const o=this.inertDocument.createElement("template");return o.innerHTML=da(n),o}}const $h=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function jl(e){return(e=String(e)).match($h)?e:"unsafe:"+e}function Ai(e){const n={};for(const o of e.split(","))n[o]=!0;return n}function Wa(...e){const n={};for(const o of e)for(const a in o)o.hasOwnProperty(a)&&(n[a]=!0);return n}const Nd=Ai("area,br,col,hr,img,wbr"),tc=Ai("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Pd=Ai("rp,rt"),$l=Wa(Nd,Wa(tc,Ai("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Wa(Pd,Ai("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Wa(Pd,tc)),zl=Ai("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ha=Wa(zl,Ai("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ai("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Wh=Ai("script,style,template");class Xi{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let o=n.firstChild,a=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?a=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,a&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let u=this.checkClobberedElement(o,o.nextSibling);if(u){o=u;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(n){const o=n.nodeName.toLowerCase();if(!$l.hasOwnProperty(o))return this.sanitizedSomething=!0,!Wh.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const a=n.attributes;for(let u=0;u<a.length;u++){const f=a.item(u),p=f.name,v=p.toLowerCase();if(!ha.hasOwnProperty(v)){this.sanitizedSomething=!0;continue}let _=f.value;zl[v]&&(_=jl(_)),this.buf.push(" ",p,'="',Rd(_),'"')}return this.buf.push(">"),!0}endElement(n){const o=n.nodeName.toLowerCase();$l.hasOwnProperty(o)&&!Nd.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(n){this.buf.push(Rd(n))}checkClobberedElement(n,o){if(o&&(n.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return o}}const pa=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Zh=/([^\#-~ |!])/g;function Rd(e){return e.replace(/&/g,"&amp;").replace(pa,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(Zh,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ts;function Qi(e,n){let o=null;try{Ts=Ts||function Od(e){const n=new Uh(e);return function jh(){try{return!!(new window.DOMParser).parseFromString(da(""),"text/html")}catch{return!1}}()?new Hh(n):n}(e);let a=n?String(n):"";o=Ts.getInertBodyElement(a);let u=5,f=a;do{if(0===u)throw new Error("Failed to sanitize html because the input is unstable");u--,a=f,f=o.innerHTML,o=Ts.getInertBodyElement(a)}while(a!==f);return da((new Xi).sanitizeChildren(As(o)||o))}finally{if(o){const a=As(o)||o;for(;a.firstChild;)a.removeChild(a.firstChild)}}}function As(e){return"content"in e&&function Kh(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var Ln=(()=>((Ln=Ln||{})[Ln.NONE=0]="NONE",Ln[Ln.HTML=1]="HTML",Ln[Ln.STYLE=2]="STYLE",Ln[Ln.SCRIPT=3]="SCRIPT",Ln[Ln.URL=4]="URL",Ln[Ln.RESOURCE_URL=5]="RESOURCE_URL",Ln))();function nc(e){const n=Za();return n?Id(n.sanitize(Ln.HTML,e)||""):fa(e,"HTML")?Id(Ti(e)):Qi(Ga(),st(e))}function rc(e){const n=Za();return n?n.sanitize(Ln.URL,e)||"":fa(e,"URL")?Ti(e):jl(st(e))}function kd(e){const n=Za();if(n)return Ad(n.sanitize(Ln.RESOURCE_URL,e)||"");if(fa(e,"ResourceURL"))return Ad(Ti(e));throw new Ie(904,!1)}function Fd(e,n,o){return function Xh(e,n){return"src"===n&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===n&&("base"===e||"link"===e)?kd:rc}(n,o)(e)}function Za(){const e=He();return e&&e[wn].sanitizer}class vn{constructor(n,o){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=an({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Ka=new vn("ENVIRONMENT_INITIALIZER"),Ld=new vn("INJECTOR",-1),Vd=new vn("INJECTOR_DEF_TYPES");class Bd{get(n,o=Wn){if(o===Wn){const a=new Error(`NullInjectorError: No provider for ${ke(n)}!`);throw a.name="NullInjectorError",a}return o}}function oc(e){return{\u0275providers:e}}function Qh(...e){return{\u0275providers:Hd(0,e),\u0275fromNgModule:!0}}function Hd(e,...n){const o=[],a=new Set;let u;return ra(n,f=>{const p=f;ic(p,o,[],a)&&(u||=[],u.push(p))}),void 0!==u&&Ud(u,o),o}function Ud(e,n){for(let o=0;o<e.length;o++){const{providers:u}=e[o];sc(u,f=>{n.push(f)})}}function ic(e,n,o,a){if(!(e=he(e)))return!1;let u=null,f=Ur(e);const p=!f&&Wt(e);if(f||p){if(p&&!p.standalone)return!1;u=e}else{const _=e.ngModule;if(f=Ur(_),!f)return!1;u=_}const v=a.has(u);if(p){if(v)return!1;if(a.add(u),p.dependencies){const _="function"==typeof p.dependencies?p.dependencies():p.dependencies;for(const T of _)ic(T,n,o,a)}}else{if(!f)return!1;{if(null!=f.imports&&!v){let T;a.add(u);try{ra(f.imports,F=>{ic(F,n,o,a)&&(T||=[],T.push(F))})}finally{}void 0!==T&&Ud(T,n)}if(!v){const T=bo(u)||(()=>new u);n.push({provide:u,useFactory:T,deps:Me},{provide:Vd,useValue:u,multi:!0},{provide:Ka,useValue:()=>Ge(u),multi:!0})}const _=f.providers;null==_||v||sc(_,F=>{n.push(F)})}}return u!==e&&void 0!==e.providers}function sc(e,n){for(let o of e)ut(o)&&(o=o.\u0275providers),Array.isArray(o)?sc(o,n):n(o)}const ep=rt({provide:String,useValue:rt});function ac(e){return null!==e&&"object"==typeof e&&ep in e}function ci(e){return"function"==typeof e}const Os=new vn("Set Injector scope."),Ya={},tp={};let lc;function ma(){return void 0===lc&&(lc=new Bd),lc}class Ns{}class uc extends Ns{get destroyed(){return this._destroyed}constructor(n,o,a,u){super(),this.parent=o,this.source=a,this.scopes=u,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,dc(n,p=>this.processProvider(p)),this.records.set(Ld,ya(void 0,this)),u.has("environment")&&this.records.set(Ns,ya(void 0,this));const f=this.records.get(Os);null!=f&&"string"==typeof f.value&&this.scopes.add(f.value),this.injectorDefTypes=new Set(this.get(Vd.multi,Me,nt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of n)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const o=te(this),a=St(void 0);try{return n()}finally{te(o),St(a)}}get(n,o=Wn,a=nt.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(Cn))return n[Cn](this);a=Lt(a);const u=te(this),f=St(void 0);try{if(!(a&nt.SkipSelf)){let v=this.records.get(n);if(void 0===v){const _=function sp(e){return"function"==typeof e||"object"==typeof e&&e instanceof vn}(n)&&cn(n);v=_&&this.injectableDefInScope(_)?ya(cc(n),Ya):null,this.records.set(n,v)}if(null!=v)return this.hydrate(n,v)}return(a&nt.Self?ma():this.parent).get(n,o=a&nt.Optional&&o===Wn?null:o)}catch(p){if("NullInjectorError"===p.name){if((p[Yn]=p[Yn]||[]).unshift(ke(n)),u)throw p;return function ge(e,n,o,a){const u=e[Yn];throw n[fe]&&u.unshift(n[fe]),e.message=function W(e,n,o,a=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let u=ke(n);if(Array.isArray(n))u=n.map(ke).join(" -> ");else if("object"==typeof n){let f=[];for(let p in n)if(n.hasOwnProperty(p)){let v=n[p];f.push(p+":"+("string"==typeof v?JSON.stringify(v):ke(v)))}u=`{${f.join(", ")}}`}return`${o}${a?"("+a+")":""}[${u}]: ${e.replace(ho,"\n  ")}`}("\n"+e.message,u,o,a),e.ngTokenPath=u,e[Yn]=null,e}(p,n,"R3InjectorError",this.source)}throw p}finally{St(f),te(u)}}resolveInjectorInitializers(){const n=te(this),o=St(void 0);try{const a=this.get(Ka.multi,Me,nt.Self);for(const u of a)u()}finally{te(n),St(o)}}toString(){const n=[],o=this.records;for(const a of o.keys())n.push(ke(a));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ie(205,!1)}processProvider(n){let o=ci(n=he(n))?n:he(n&&n.provide);const a=function rp(e){return ac(e)?ya(void 0,e.useValue):ya(Gd(e),Ya)}(n);if(ci(n)||!0!==n.multi)this.records.get(o);else{let u=this.records.get(o);u||(u=ya(void 0,Ya,!0),u.factory=()=>yn(u.multi),this.records.set(o,u)),o=n,u.multi.push(n)}this.records.set(o,a)}hydrate(n,o){return o.value===Ya&&(o.value=tp,o.value=o.factory()),"object"==typeof o.value&&o.value&&function ip(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(n){if(!n.providedIn)return!1;const o=he(n.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}removeOnDestroy(n){const o=this._onDestroyHooks.indexOf(n);-1!==o&&this._onDestroyHooks.splice(o,1)}}function cc(e){const n=cn(e),o=null!==n?n.factory:bo(e);if(null!==o)return o;if(e instanceof vn)throw new Ie(204,!1);if(e instanceof Function)return function np(e){const n=e.length;if(n>0)throw wl(n,"?"),new Ie(204,!1);const o=function Ro(e){return e&&(e[Gn]||e[Pn])||null}(e);return null!==o?()=>o.factory(e):()=>new e}(e);throw new Ie(204,!1)}function Gd(e,n,o){let a;if(ci(e)){const u=he(e);return bo(u)||cc(u)}if(ac(e))a=()=>he(e.useValue);else if(function $d(e){return!(!e||!e.useFactory)}(e))a=()=>e.useFactory(...yn(e.deps||[]));else if(function jd(e){return!(!e||!e.useExisting)}(e))a=()=>Ge(he(e.useExisting));else{const u=he(e&&(e.useClass||e.provide));if(!function op(e){return!!e.deps}(e))return bo(u)||cc(u);a=()=>new u(...yn(e.deps))}return a}function ya(e,n,o=!1){return{factory:e,value:n,multi:o?[]:void 0}}function dc(e,n){for(const o of e)Array.isArray(o)?dc(o,n):o&&ut(o)?dc(o.\u0275providers,n):n(o)}const Wd=new vn("AppId",{providedIn:"root",factory:()=>ap}),ap="ng",Zd=new vn("Platform Initializer"),fc=new vn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),lp=new vn("CSP nonce",{providedIn:"root",factory:()=>Ga().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let dp=(e,n)=>null;function pp(e,n){return dp(e,n)}class _p{}class Jd{}class Ep{resolveComponentFactory(n){throw function bp(e){const n=Error(`No component factory found for ${ke(e)}.`);return n.ngComponent=e,n}(n)}}let Ql=(()=>{class e{}return e.NULL=new Ep,e})();function wp(){return va(zn(),He())}function va(e,n){return new qa(Ot(e,n))}let qa=(()=>{class e{constructor(o){this.nativeElement=o}}return e.__NG_ELEMENT_ID__=wp,e})();function Mp(e){return e instanceof qa?e.nativeElement:e}class yc{}let Xd=(()=>{class e{constructor(){this.destroyNode=null}}return e.__NG_ELEMENT_ID__=()=>function Sp(){const e=He(),o=ln(zn().index,e);return(Qt(o)?o:e)[It]}(),e})(),s=(()=>{class e{}return e.\u0275prov=an({token:e,providedIn:"root",factory:()=>null}),e})();class t{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const r=new t("16.1.3"),i={};function l(e){for(;e;){e[Je]|=64;const n=la(e);if(ii(e)&&!n)return e;e=n}return null}function g(e){return e.ngOriginalError}class C{constructor(){this._console=console}handleError(n){const o=this._findOriginalError(n);this._console.error("ERROR",n),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(n){let o=n&&g(n);for(;o&&g(o);)o=g(o);return o||null}}const U=new vn("",{providedIn:"root",factory:()=>!1});function Pt(e){return e.ownerDocument}function Qr(e){return e instanceof Function?e():e}class wm extends Vs{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(n){this._lView=n}onConsumerDependencyMayHaveChanged(){l(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(n,o,a){const u=Nn(this);this.trackingVersion++;try{n(o,a)}finally{Nn(u)}}destroy(){this.trackingVersion++}}let tf=null;function Mm(){return tf??=new wm,tf}function Sm(e,n){return e[n]??Mm()}function xm(e,n){const o=Mm();o.hasReadASignal&&(e[n]=tf,o.lView=e,tf=new wm)}const zt={};function Im(e){Tm(jt(),He(),Lr()+e,!1)}function Tm(e,n,o,a){if(!a)if(3==(3&n[Je])){const f=e.preOrderCheckHooks;null!==f&&_r(n,f,o)}else{const f=e.preOrderHooks;null!==f&&Gi(n,f,0,o)}y(o)}function Pm(e,n=null,o=null,a){const u=Rm(e,n,o,a);return u.resolveInjectorInitializers(),u}function Rm(e,n=null,o=null,a,u=new Set){const f=[o||Me,Qh(e)];return a=a||("object"==typeof e?void 0:ke(e)),new uc(f,n||ma(),a||null,u)}let Da=(()=>{class e{static create(o,a){if(Array.isArray(o))return Pm({name:""},a,o,"");{const u=o.name??"";return Pm({name:u},o.parent,o.providers,u)}}}return e.THROW_IF_NOT_FOUND=Wn,e.NULL=new Bd,e.\u0275prov=an({token:e,providedIn:"any",factory:()=>Ge(Ld)}),e.__NG_ELEMENT_ID__=-1,e})();function tu(e,n=nt.Default){const o=He();return null===o?Ge(e,n):Yi(zn(),o,he(e),n)}function km(){throw new Error("invalid")}function nf(e,n,o,a,u,f,p,v,_,T,F){const j=n.blueprint.slice();return j[En]=u,j[Je]=140|a,(null!==T||e&&2048&e[Je])&&(j[Je]|=2048),Uo(j),j[mn]=j[ro]=e,j[ct]=o,j[wn]=p||e&&e[wn],j[It]=v||e&&e[It],j[Or]=_||e&&e[Or]||null,j[xt]=f,j[mr]=function xi(){return ch++}(),j[Zn]=F,j[mi]=T,j[_n]=2==n.type?e[_n]:j,j}function nu(e,n,o,a,u){let f=e.data[n];if(null===f)f=function xp(e,n,o,a,u){const f=ys(),p=vs(),_=e.data[n]=function n_(e,n,o,a,u,f){let p=n?n.injectorIndex:-1,v=0;return li()&&(v|=128),{type:o,index:a,insertBeforeIndex:null,injectorIndex:p,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:v,providerIndexes:0,value:u,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,p?f:f&&f.parent,o,n,a,u);return null===e.firstChild&&(e.firstChild=_),null!==f&&(p?null==f.child&&null!==_.parent&&(f.child=_):null===f.next&&(f.next=_,_.prev=f)),_}(e,n,o,a,u),function pl(){return bt.lFrame.inI18n}()&&(f.flags|=32);else if(64&f.type){f.type=o,f.value=a,f.attrs=u;const p=function js(){const e=bt.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}();f.injectorIndex=null===p?-1:p.injectorIndex}return io(f,!0),f}function vc(e,n,o,a){if(0===o)return-1;const u=n.length;for(let f=0;f<o;f++)n.push(a),e.blueprint.push(a),e.data.push(null);return u}function Fm(e,n,o,a,u){const f=Sm(n,$o),p=Lr(),v=2&a;try{if(y(-1),v&&n.length>Vt&&Tm(e,n,Vt,!1),z(v?2:0,u),v)f.runInContext(o,a,u);else{const T=Nn(null);try{o(a,u)}finally{Nn(T)}}}finally{v&&null===n[$o]&&xm(n,$o),y(p),z(v?3:1,u)}}function Ip(e,n,o){if(Do(n)){const a=Nn(null);try{const f=n.directiveEnd;for(let p=n.directiveStart;p<f;p++){const v=e.data[p];v.contentQueries&&v.contentQueries(1,o[p],p)}}finally{Nn(a)}}}function Tp(e,n,o){ll()&&(function u_(e,n,o,a){const u=o.directiveStart,f=o.directiveEnd;kr(o)&&function m_(e,n,o){const a=Ot(n,e),u=Lm(o);let p=16;o.signals?p=4096:o.onPush&&(p=64);const v=rf(e,nf(e,u,null,p,a,n,null,e[wn].rendererFactory.createRenderer(a,o),null,null,null));e[n.index]=v}(n,o,e.data[u+o.componentOffset]),e.firstCreatePass||ur(o,n),Br(a,n);const p=o.initialInputs;for(let v=u;v<f;v++){const _=e.data[v],T=Es(n,e,v,o);Br(T,n),null!==p&&y_(0,v-u,T,_,0,p),Fr(_)&&(ln(o.index,n)[ct]=Es(n,e,v,o))}}(e,n,o,Ot(o,n)),64==(64&o.flags)&&jm(e,n,o))}function Ap(e,n,o=Ot){const a=n.localNames;if(null!==a){let u=n.index+1;for(let f=0;f<a.length;f+=2){const p=a[f+1],v=-1===p?o(n,e):e[p];e[u++]=v}}}function Lm(e){const n=e.tView;return null===n||n.incompleteFirstPass?e.tView=Op(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function Op(e,n,o,a,u,f,p,v,_,T,F){const j=Vt+a,ee=j+u,ae=function JC(e,n){const o=[];for(let a=0;a<n;a++)o.push(a<e?null:zt);return o}(j,ee),Ne="function"==typeof T?T():T;return ae[tt]={type:e,blueprint:ae,template:o,queries:null,viewQuery:v,declTNode:n,data:ae.slice().fill(null,j),bindingStartIndex:j,expandoStartIndex:ee,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof p?p():p,firstChild:null,schemas:_,consts:Ne,incompleteFirstPass:!1,ssrId:F}}let Vm=e=>null;function Bm(e,n,o,a){for(let u in e)if(e.hasOwnProperty(u)){o=null===o?{}:o;const f=e[u];null===a?Hm(o,n,u,f):a.hasOwnProperty(u)&&Hm(o,n,a[u],f)}return o}function Hm(e,n,o,a){e.hasOwnProperty(o)?e[o].push(n,a):e[o]=[n,a]}function Qo(e,n,o,a,u,f,p,v){const _=Ot(n,o);let F,T=n.inputs;!v&&null!=T&&(F=T[a])?(Fp(e,o,F,a,u),kr(n)&&function i_(e,n){const o=ln(n,e);16&o[Je]||(o[Je]|=64)}(o,n.index)):3&n.type&&(a=function o_(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(a),u=null!=p?p(u,n.value||"",a):u,f.setProperty(_,a,u))}function Np(e,n,o,a){if(ll()){const u=null===a?null:{"":-1},f=function d_(e,n){const o=e.directiveRegistry;let a=null,u=null;if(o)for(let f=0;f<o.length;f++){const p=o[f];if(Gr(n,p.selectors,!1))if(a||(a=[]),Fr(p))if(null!==p.findHostDirectiveDefs){const v=[];u=u||new Map,p.findHostDirectiveDefs(p,v,u),a.unshift(...v,p),Pp(e,n,v.length)}else a.unshift(p),Pp(e,n,0);else u=u||new Map,p.findHostDirectiveDefs?.(p,a,u),a.push(p)}return null===a?null:[a,u]}(e,o);let p,v;null===f?p=v=null:[p,v]=f,null!==p&&Um(e,n,o,p,u,v),u&&function f_(e,n,o){if(n){const a=e.localNames=[];for(let u=0;u<n.length;u+=2){const f=o[n[u+1]];if(null==f)throw new Ie(-301,!1);a.push(n[u],f)}}}(o,a,u)}o.mergedAttrs=zr(o.mergedAttrs,o.attrs)}function Um(e,n,o,a,u,f){for(let T=0;T<a.length;T++)xu(ur(o,n),e,a[T].type);!function p_(e,n,o){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+o,e.providerIndexes=n}(o,e.data.length,a.length);for(let T=0;T<a.length;T++){const F=a[T];F.providersResolver&&F.providersResolver(F)}let p=!1,v=!1,_=vc(e,n,a.length,null);for(let T=0;T<a.length;T++){const F=a[T];o.mergedAttrs=zr(o.mergedAttrs,F.hostAttrs),g_(e,o,n,_,F),h_(_,F,u),null!==F.contentQueries&&(o.flags|=4),(null!==F.hostBindings||null!==F.hostAttrs||0!==F.hostVars)&&(o.flags|=64);const j=F.type.prototype;!p&&(j.ngOnChanges||j.ngOnInit||j.ngDoCheck)&&((e.preOrderHooks??=[]).push(o.index),p=!0),!v&&(j.ngOnChanges||j.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(o.index),v=!0),_++}!function r_(e,n,o){const u=n.directiveEnd,f=e.data,p=n.attrs,v=[];let _=null,T=null;for(let F=n.directiveStart;F<u;F++){const j=f[F],ee=o?o.get(j):null,Ne=ee?ee.outputs:null;_=Bm(j.inputs,F,_,ee?ee.inputs:null),T=Bm(j.outputs,F,T,Ne);const Ze=null===_||null===p||go(n)?null:v_(_,F,p);v.push(Ze)}null!==_&&(_.hasOwnProperty("class")&&(n.flags|=8),_.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=v,n.inputs=_,n.outputs=T}(e,o,f)}function jm(e,n,o){const a=o.directiveStart,u=o.directiveEnd,f=o.index,p=function ml(){return bt.lFrame.currentDirectiveIndex}();try{y(f);for(let v=a;v<u;v++){const _=e.data[v],T=n[v];$s(v),(null!==_.hostBindings||0!==_.hostVars||null!==_.hostAttrs)&&c_(_,T)}}finally{y(-1),$s(p)}}function c_(e,n){null!==e.hostBindings&&e.hostBindings(1,n)}function Pp(e,n,o){n.componentOffset=o,(e.components??=[]).push(n.index)}function h_(e,n,o){if(o){if(n.exportAs)for(let a=0;a<n.exportAs.length;a++)o[n.exportAs[a]]=e;Fr(n)&&(o[""]=e)}}function g_(e,n,o,a,u){e.data[a]=u;const f=u.factory||(u.factory=bo(u.type)),p=new Ys(f,Fr(u),tu);e.blueprint[a]=p,o[a]=p,function a_(e,n,o,a,u){const f=u.hostBindings;if(f){let p=e.hostBindingOpCodes;null===p&&(p=e.hostBindingOpCodes=[]);const v=~n.index;(function l_(e){let n=e.length;for(;n>0;){const o=e[--n];if("number"==typeof o&&o<0)return o}return 0})(p)!=v&&p.push(v),p.push(o,a,f)}}(e,n,a,vc(e,o,u.hostVars,zt),u)}function es(e,n,o,a,u,f){const p=Ot(e,n);!function Rp(e,n,o,a,u,f,p){if(null==f)e.removeAttribute(n,u,o);else{const v=null==p?st(f):p(f,a||"",u);e.setAttribute(n,u,v,o)}}(n[It],p,f,e.value,o,a,u)}function y_(e,n,o,a,u,f){const p=f[n];if(null!==p)for(let v=0;v<p.length;)$m(a,o,p[v++],p[v++],p[v++])}function $m(e,n,o,a,u){const f=Nn(null);try{const p=e.inputTransforms;null!==p&&p.hasOwnProperty(a)&&(u=p[a].call(n,u)),null!==e.setInput?e.setInput(n,u,o,a):n[a]=u}finally{Nn(f)}}function v_(e,n,o){let a=null,u=0;for(;u<o.length;){const f=o[u];if(0!==f)if(5!==f){if("number"==typeof f)break;if(e.hasOwnProperty(f)){null===a&&(a=[]);const p=e[f];for(let v=0;v<p.length;v+=2)if(p[v]===n){a.push(f,p[v+1],o[u+1]);break}}u+=2}else u+=2;else u+=4}return a}function zm(e,n,o,a){return[e,!0,!1,n,null,0,a,o,null,null,null]}function Gm(e,n){const o=e.contentQueries;if(null!==o)for(let a=0;a<o.length;a+=2){const f=o[a+1];if(-1!==f){const p=e.data[f];Ws(o[a]),p.contentQueries(2,n[f],f)}}}function rf(e,n){return e[Kr]?e[no][hr]=n:e[Kr]=n,e[no]=n,n}function kp(e,n,o){Ws(0);const a=Nn(null);try{n(e,o)}finally{Nn(a)}}function Wm(e){return e[gr]||(e[gr]=[])}function Zm(e){return e.cleanup||(e.cleanup=[])}function Ym(e,n){const o=e[Or],a=o?o.get(C,null):null;a&&a.handleError(n)}function Fp(e,n,o,a,u){for(let f=0;f<o.length;){const p=o[f++],v=o[f++];$m(e.data[p],n[p],a,v,u)}}function ks(e,n,o){const a=rn(n,e);!function Pl(e,n,o){e.setValue(n,o)}(e[It],a,o)}function D_(e,n){const o=ln(n,e),a=o[tt];!function C_(e,n){for(let o=n.length;o<e.blueprint.length;o++)n.push(e.blueprint[o])}(a,o);const u=o[En];null!==u&&null===o[Zn]&&(o[Zn]=pp(u,o[Or])),Lp(a,o,o[ct])}function Lp(e,n,o){Zs(n);try{const a=e.viewQuery;null!==a&&kp(1,a,o);const u=e.template;null!==u&&Fm(e,n,u,1,o),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Gm(e,n),e.staticViewQueries&&kp(2,e.viewQuery,o);const f=e.components;null!==f&&function __(e,n){for(let o=0;o<n.length;o++)D_(e,n[o])}(n,f)}catch(a){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),a}finally{n[Je]&=-5,Cr()}}let Jm=(()=>{class e{constructor(){this.all=new Set,this.queue=new Map}create(o,a,u){const f=typeof Zone>"u"?null:Zone.current,p=new qr(o,T=>{this.all.has(T)&&this.queue.set(T,f)},u);let v;this.all.add(p),p.notify();const _=()=>{p.cleanup(),v?.(),this.all.delete(p),this.queue.delete(p)};return v=a?.onDestroy(_),{destroy:_}}flush(){if(0!==this.queue.size)for(const[o,a]of this.queue)this.queue.delete(o),a?a.run(()=>o.run()):o.run()}get isQueueEmpty(){return 0===this.queue.size}}return e.\u0275prov=an({token:e,providedIn:"root",factory:()=>new e}),e})();function sf(e,n,o){let a=o?e.styles:null,u=o?e.classes:null,f=0;if(null!==n)for(let p=0;p<n.length;p++){const v=n[p];"number"==typeof v?f=v:1==f?u=Pe(u,v):2==f&&(a=Pe(a,v+": "+n[++p]+";"))}o?e.styles=a:e.stylesWithoutHost=a,o?e.classes=u:e.classesWithoutHost=u}function Dc(e,n,o,a,u=!1){for(;null!==o;){const f=n[o.index];if(null!==f&&a.push(We(f)),yr(f)){for(let v=$n;v<f.length;v++){const _=f[v],T=_[tt].firstChild;null!==T&&Dc(_[tt],_,T,a)}f[qn]!==f[En]&&a.push(f[qn])}const p=o.type;if(8&p)Dc(e,n,o.child,a);else if(32&p){const v=zu(o,n);let _;for(;_=v();)a.push(_)}else if(16&p){const v=Yu(n,o);if(Array.isArray(v))a.push(...v);else{const _=la(n[_n]);Dc(_[tt],_,v,a,!0)}}o=u?o.projectionNext:o.next}return a}function af(e,n,o,a=!0){const u=n[wn].rendererFactory;u.begin&&u.begin();try{qm(e,n,e.template,o)}catch(p){throw a&&Ym(n,p),p}finally{u.end&&u.end(),n[wn].effectManager?.flush()}}function qm(e,n,o,a){const u=n[Je];if(256!=(256&u)){n[wn].effectManager?.flush(),Zs(n);try{Uo(n),function wu(e){return bt.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==o&&Fm(e,n,o,2,a);const p=3==(3&u);if(p){const T=e.preOrderCheckHooks;null!==T&&_r(n,T,null)}else{const T=e.preOrderHooks;null!==T&&Gi(n,T,0,null),Mi(n,0)}if(function S_(e){for(let n=Ii(e);null!==n;n=Ba(n)){if(!n[sr])continue;const o=n[kn];for(let a=0;a<o.length;a++){Zo(o[a])}}}(n),Xm(n,2),null!==e.contentQueries&&Gm(e,n),p){const T=e.contentCheckHooks;null!==T&&_r(n,T)}else{const T=e.contentHooks;null!==T&&Gi(n,T,1),Mi(n,1)}!function YC(e,n){const o=e.hostBindingOpCodes;if(null===o)return;const a=Sm(n,jn);try{for(let u=0;u<o.length;u++){const f=o[u];if(f<0)y(~f);else{const p=f,v=o[++u],_=o[++u];gl(v,p),a.runInContext(_,2,n[p])}}}finally{null===n[jn]&&xm(n,jn),y(-1)}}(e,n);const v=e.components;null!==v&&ey(n,v,0);const _=e.viewQuery;if(null!==_&&kp(2,_,a),p){const T=e.viewCheckHooks;null!==T&&_r(n,T)}else{const T=e.viewHooks;null!==T&&Gi(n,T,2),Mi(n,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),n[Je]&=-73,Fn(n)}finally{Cr()}}}function Xm(e,n){for(let o=Ii(e);null!==o;o=Ba(o))for(let a=$n;a<o.length;a++)Qm(o[a],n)}function x_(e,n,o){Qm(ln(n,e),o)}function Qm(e,n){if(!function So(e){return 128==(128&e[Je])}(e))return;const o=e[tt];if(80&e[Je]&&0===n||1024&e[Je]||2===n)qm(o,e,o.template,e[ct]);else if(e[pr]>0){Xm(e,1);const u=e[tt].components;null!==u&&ey(e,u,1)}}function ey(e,n,o){for(let a=0;a<n.length;a++)x_(e,n[a],o)}class Cc{get rootNodes(){const n=this._lView,o=n[tt];return Dc(o,n,o.firstChild,[])}constructor(n,o){this._lView=n,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ct]}set context(n){this._lView[ct]=n}get destroyed(){return 256==(256&this._lView[Je])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[mn];if(yr(n)){const o=n[8],a=o?o.indexOf(this):-1;a>-1&&(Ll(n,a),oa(o,a))}this._attachedToViewContainer=!1}Cd(this._lView[tt],this._lView)}onDestroy(n){!function Hs(e,n){if(256==(256&e[Je]))throw new Ie(911,!1);null===e[ir]&&(e[ir]=[]),e[ir].push(n)}(this._lView,n)}markForCheck(){l(this._cdRefInjectingView||this._lView)}detach(){this._lView[Je]&=-129}reattach(){this._lView[Je]|=128}detectChanges(){af(this._lView[tt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ie(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Wu(e,n){za(e,n,n[It],2,null,null)}(this._lView[tt],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Ie(902,!1);this._appRef=n}}class I_ extends Cc{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;af(n[tt],n,n[ct],!1)}checkNoChanges(){}get context(){return null}}class ty extends Ql{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const o=Wt(n);return new _c(o,this.ngModule)}}function ny(e){const n=[];for(let o in e)e.hasOwnProperty(o)&&n.push({propName:e[o],templateName:o});return n}class A_{constructor(n,o){this.injector=n,this.parentInjector=o}get(n,o,a){a=Lt(a);const u=this.injector.get(n,i,a);return u!==i||o===i?u:this.parentInjector.get(n,o,a)}}class _c extends Jd{get inputs(){const n=this.componentDef,o=n.inputTransforms,a=ny(n.inputs);if(null!==o)for(const u of a)o.hasOwnProperty(u.propName)&&(u.transform=o[u.propName]);return a}get outputs(){return ny(this.componentDef.outputs)}constructor(n,o){super(),this.componentDef=n,this.ngModule=o,this.componentType=n.type,this.selector=function ss(e){return e.map(Vo).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!o}create(n,o,a,u){let f=(u=u||this.ngModule)instanceof Ns?u:u?.injector;f&&null!==this.componentDef.getStandaloneInjector&&(f=this.componentDef.getStandaloneInjector(f)||f);const p=f?new A_(n,f):n,v=p.get(yc,null);if(null===v)throw new Ie(407,!1);const F={rendererFactory:v,sanitizer:p.get(s,null),effectManager:p.get(Jm,null)},j=v.createRenderer(null,this.componentDef),ee=this.componentDef.selectors[0][0]||"div",ae=a?function qC(e,n,o,a){const f=a.get(U,!1)||o===je.ShadowDom,p=e.selectRootElement(n,f);return function XC(e){Vm(e)}(p),p}(j,a,this.componentDef.encapsulation,p):Rl(j,ee,function T_(e){const n=e.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(ee)),at=this.componentDef.signals?4608:this.componentDef.onPush?576:528,_t=Op(0,null,null,1,0,null,null,null,null,null,null),Be=nf(null,_t,null,at,null,null,F,j,p,null,null);let Bt,un;Zs(Be);try{const pn=this.componentDef;let fo,Rf=null;pn.findHostDirectiveDefs?(fo=[],Rf=new Map,pn.findHostDirectiveDefs(pn,fo,Rf),fo.push(pn)):fo=[pn];const EM=function N_(e,n){const o=e[tt],a=Vt;return e[a]=n,nu(o,a,2,"#host",null)}(Be,ae),wM=function P_(e,n,o,a,u,f,p){const v=u[tt];!function R_(e,n,o,a){for(const u of e)n.mergedAttrs=zr(n.mergedAttrs,u.hostAttrs);null!==n.mergedAttrs&&(sf(n,n.mergedAttrs,!0),null!==o&&xd(a,o,n))}(a,e,n,p);let _=null;null!==n&&(_=pp(n,u[Or]));const T=f.rendererFactory.createRenderer(n,o);let F=16;o.signals?F=4096:o.onPush&&(F=64);const j=nf(u,Lm(o),null,F,u[e.index],e,f,T,null,null,_);return v.firstCreatePass&&Pp(v,e,a.length-1),rf(u,j),u[e.index]=j}(EM,ae,pn,fo,Be,F,j);un=xn(_t,Vt),ae&&function F_(e,n,o,a){if(a)Xt(e,o,["ng-version",r.full]);else{const{attrs:u,classes:f}=function as(e){const n=[],o=[];let a=1,u=2;for(;a<e.length;){let f=e[a];if("string"==typeof f)2===u?""!==f&&n.push(f,e[++a]):8===u&&o.push(f);else{if(!fr(u))break;u=f}a++}return{attrs:n,classes:o}}(n.selectors[0]);u&&Xt(e,o,u),f&&f.length>0&&Sd(e,o,f.join(" "))}}(j,pn,ae,a),void 0!==o&&function L_(e,n,o){const a=e.projection=[];for(let u=0;u<n.length;u++){const f=o[u];a.push(null!=f?Array.from(f):null)}}(un,this.ngContentSelectors,o),Bt=function k_(e,n,o,a,u,f){const p=zn(),v=u[tt],_=Ot(p,u);Um(v,u,p,o,null,a);for(let F=0;F<o.length;F++)Br(Es(u,v,p.directiveStart+F,p),u);jm(v,u,p),_&&Br(_,u);const T=Es(u,v,p.directiveStart+p.componentOffset,p);if(e[ct]=u[ct]=T,null!==f)for(const F of f)F(T,n);return Ip(v,p,e),T}(wM,pn,fo,Rf,Be,[V_]),Lp(_t,Be,null)}finally{Cr()}return new O_(this.componentType,Bt,va(un,Be),Be,un)}}class O_ extends _p{constructor(n,o,a,u,f){super(),this.location=a,this._rootLView=u,this._tNode=f,this.previousInputValues=null,this.instance=o,this.hostView=this.changeDetectorRef=new I_(u),this.componentType=n}setInput(n,o){const a=this._tNode.inputs;let u;if(null!==a&&(u=a[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),o))return;const f=this._rootLView;Fp(f[tt],f,u,n,o),this.previousInputValues.set(n,o),l(ln(this._tNode.index,f))}}get injector(){return new ws(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function V_(){const e=zn();on(He()[tt],e)}function Vp(e){let n=function ry(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),o=!0;const a=[e];for(;n;){let u;if(Fr(e))u=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Ie(903,!1);u=n.\u0275dir}if(u){if(o){a.push(u);const p=e;p.inputs=lf(e.inputs),p.inputTransforms=lf(e.inputTransforms),p.declaredInputs=lf(e.declaredInputs),p.outputs=lf(e.outputs);const v=u.hostBindings;v&&j_(e,v);const _=u.viewQuery,T=u.contentQueries;if(_&&H_(e,_),T&&U_(e,T),be(e.inputs,u.inputs),be(e.declaredInputs,u.declaredInputs),be(e.outputs,u.outputs),null!==u.inputTransforms&&(null===p.inputTransforms&&(p.inputTransforms={}),be(p.inputTransforms,u.inputTransforms)),Fr(u)&&u.data.animation){const F=e.data;F.animation=(F.animation||[]).concat(u.data.animation)}}const f=u.features;if(f)for(let p=0;p<f.length;p++){const v=f[p];v&&v.ngInherit&&v(e),v===Vp&&(o=!1)}}n=Object.getPrototypeOf(n)}!function B_(e){let n=0,o=null;for(let a=e.length-1;a>=0;a--){const u=e[a];u.hostVars=n+=u.hostVars,u.hostAttrs=zr(u.hostAttrs,o=zr(o,u.hostAttrs))}}(a)}function lf(e){return e===Xe?{}:e===Me?[]:e}function H_(e,n){const o=e.viewQuery;e.viewQuery=o?(a,u)=>{n(a,u),o(a,u)}:n}function U_(e,n){const o=e.contentQueries;e.contentQueries=o?(a,u,f)=>{n(a,u,f),o(a,u,f)}:n}function j_(e,n){const o=e.hostBindings;e.hostBindings=o?(a,u)=>{n(a,u),o(a,u)}:n}function ay(e){const n=e.inputConfig,o={};for(const a in n)if(n.hasOwnProperty(a)){const u=n[a];Array.isArray(u)&&u[2]&&(o[a]=u[2])}e.inputTransforms=o}function uf(e){return!!Bp(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function Bp(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function ts(e,n,o){return e[n]=o}function co(e,n,o){return!Object.is(e[n],o)&&(e[n]=o,!0)}function Qa(e,n,o,a){const u=co(e,n,o);return co(e,n+1,a)||u}function Hp(e,n,o,a){const u=He();return co(u,Ds(),n)&&(jt(),es(D(),u,e,n,o,a)),Hp}function ou(e,n,o,a){return co(e,Ds(),o)?n+st(o)+a:zt}function su(e,n,o,a,u,f,p,v){const T=function cf(e,n,o,a,u){const f=Qa(e,n,o,a);return co(e,n+2,u)||f}(e,Ko(),o,u,p);return Yo(3),T?n+st(o)+a+st(u)+f+st(p)+v:zt}function Cy(e,n,o,a,u,f,p,v){const _=He(),T=jt(),F=e+Vt,j=T.firstCreatePass?function p0(e,n,o,a,u,f,p,v,_){const T=n.consts,F=nu(n,e,4,p||null,An(T,v));Np(n,o,F,An(T,_)),on(n,F);const j=F.tView=Op(2,F,a,u,f,n.directiveRegistry,n.pipeRegistry,null,n.schemas,T,null);return null!==n.queries&&(n.queries.template(n,F),j.queries=n.queries.embeddedTView(F)),F}(F,T,_,n,o,a,u,f,p):T.data[F];io(j,!1);const ee=_y(T,_,j,e);Re()&&Ua(T,_,ee,j),Br(ee,_),rf(_,_[F]=zm(ee,_,ee,j)),Yr(j)&&Tp(T,_,j),null!=p&&Ap(_,j,v)}let _y=function by(e,n,o,a){return ot(!0),n[It].createComment("")};function Ey(e){return Kt(function fl(){return bt.lFrame.contextLView}(),Vt+e)}function Wp(e,n,o){const a=He();return co(a,Ds(),n)&&Qo(jt(),D(),a,e,n,a[It],o,!1),Wp}function Zp(e,n,o,a,u){const p=u?"class":"style";Fp(e,o,n.inputs[p],p,a)}function pf(e,n,o,a){const u=He(),f=jt(),p=Vt+e,v=u[It],_=f.firstCreatePass?function v0(e,n,o,a,u,f){const p=n.consts,_=nu(n,e,2,a,An(p,u));return Np(n,o,_,An(p,f)),null!==_.attrs&&sf(_,_.attrs,!1),null!==_.mergedAttrs&&sf(_,_.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,_),_}(p,f,u,n,o,a):f.data[p],T=wy(f,u,_,v,n,e);u[p]=T;const F=Yr(_);return io(_,!0),xd(v,T,_),32!=(32&_.flags)&&Re()&&Ua(f,u,T,_),0===function Ia(){return bt.lFrame.elementDepthCount}()&&Br(T,u),function gs(){bt.lFrame.elementDepthCount++}(),F&&(Tp(f,u,_),Ip(f,_,u)),null!==a&&Ap(u,_),pf}function gf(){let e=zn();vs()?wi():(e=e.parent,io(e,!1));const n=e;(function bu(e){return bt.skipHydrationRootTNode===e})(n)&&function dl(){bt.skipHydrationRootTNode=null}(),function _u(){bt.lFrame.elementDepthCount--}();const o=jt();return o.firstCreatePass&&(on(o,e),Do(e)&&o.queries.elementEnd(e)),null!=n.classesWithoutHost&&function Cl(e){return 0!=(8&e.flags)}(n)&&Zp(o,n,He(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function Lf(e){return 0!=(16&e.flags)}(n)&&Zp(o,n,He(),n.stylesWithoutHost,!1),gf}function Kp(e,n,o,a){return pf(e,n,o,a),gf(),Kp}let wy=(e,n,o,a,u,f)=>(ot(!0),Rl(a,u,function B(){return bt.lFrame.currentNamespace}()));function mf(e,n,o){const a=He(),u=jt(),f=e+Vt,p=u.firstCreatePass?function _0(e,n,o,a,u){const f=n.consts,p=An(f,a),v=nu(n,e,8,"ng-container",p);return null!==p&&sf(v,p,!0),Np(n,o,v,An(f,u)),null!==n.queries&&n.queries.elementStart(n,v),v}(f,u,a,n,o):u.data[f];io(p,!0);const v=My(u,a,p,e);return a[f]=v,Re()&&Ua(u,a,v,p),Br(v,a),Yr(p)&&(Tp(u,a,p),Ip(u,p,a)),null!=o&&Ap(a,p),mf}function yf(){let e=zn();const n=jt();return vs()?wi():(e=e.parent,io(e,!1)),n.firstCreatePass&&(on(n,e),Do(e)&&n.queries.elementEnd(e)),yf}function Yp(e,n,o){return mf(e,n,o),yf(),Yp}let My=(e,n,o,a)=>(ot(!0),Gu(n[It],""));function Sy(){return He()}function Jp(e){return!!e&&"function"==typeof e.then}function xy(e){return!!e&&"function"==typeof e.subscribe}function qp(e,n,o,a){const u=He(),f=jt(),p=zn();return function Ty(e,n,o,a,u,f,p){const v=Yr(a),T=e.firstCreatePass&&Zm(e),F=n[ct],j=Wm(n);let ee=!0;if(3&a.type||p){const Ze=Ot(a,n),at=p?p(Ze):Ze,_t=j.length,Be=p?un=>p(We(un[a.index])):a.index;let Bt=null;if(!p&&v&&(Bt=function w0(e,n,o,a){const u=e.cleanup;if(null!=u)for(let f=0;f<u.length-1;f+=2){const p=u[f];if(p===o&&u[f+1]===a){const v=n[gr],_=u[f+2];return v.length>_?v[_]:null}"string"==typeof p&&(f+=2)}return null}(e,n,u,a.index)),null!==Bt)(Bt.__ngLastListenerFn__||Bt).__ngNextListenerFn__=f,Bt.__ngLastListenerFn__=f,ee=!1;else{f=Oy(a,n,F,f,!1);const un=o.listen(at,u,f);j.push(f,un),T&&T.push(u,Be,_t,_t+1)}}else f=Oy(a,n,F,f,!1);const ae=a.outputs;let Ne;if(ee&&null!==ae&&(Ne=ae[u])){const Ze=Ne.length;if(Ze)for(let at=0;at<Ze;at+=2){const pn=n[Ne[at]][Ne[at+1]].subscribe(f),fo=j.length;j.push(f,pn),T&&T.push(u,a.index,fo,-(fo+1))}}}(f,u,u[It],p,e,n,a),qp}function Ay(e,n,o,a){try{return z(6,n,o),!1!==o(a)}catch(u){return Ym(e,u),!1}finally{z(7,n,o)}}function Oy(e,n,o,a,u){return function f(p){if(p===Function)return a;l(e.componentOffset>-1?ln(e.index,n):n);let _=Ay(n,o,a,p),T=f.__ngNextListenerFn__;for(;T;)_=Ay(n,o,T,p)&&_,T=T.__ngNextListenerFn__;return u&&!1===_&&p.preventDefault(),_}}function Ny(e=1){return function Fc(e){return(bt.lFrame.contextLView=function Lc(e,n){for(;e>0;)n=n[ro],e--;return n}(e,bt.lFrame.contextLView))[ct]}(e)}function M0(e,n){let o=null;const a=function Wr(e){const n=e.attrs;if(null!=n){const o=n.indexOf(5);if(!(1&o))return n[o+1]}return null}(e);for(let u=0;u<n.length;u++){const f=n[u];if("*"!==f){if(null===a?Gr(e,f,!0):ti(a,f))return u}else o=u}return o}function Py(e){const n=He()[_n][xt];if(!n.projection){const a=n.projection=wl(e?e.length:1,null),u=a.slice();let f=n.child;for(;null!==f;){const p=e?M0(f,e):0;null!==p&&(u[p]?u[p].projectionNext=f:a[p]=f,u[p]=f),f=f.next}}}function Ry(e,n=0,o){const a=He(),u=jt(),f=nu(u,Vt+e,16,null,o||null);null===f.projection&&(f.projection=n),wi(),(!a[Zn]||li())&&32!=(32&f.flags)&&function Eh(e,n,o){Md(n[It],0,n,o,Zu(e,o,n),Bl(o.parent||n[xt],o,n))}(u,a,f)}function Xp(e,n,o){return vf(e,"",n,"",o),Xp}function vf(e,n,o,a,u){const f=He(),p=ou(f,n,o,a);return p!==zt&&Qo(jt(),D(),f,e,p,f[It],u,!1),vf}function Df(e,n){return e<<17|n<<2}function Ca(e){return e>>17&32767}function Qp(e){return 2|e}function el(e){return(131068&e)>>2}function eg(e,n){return-131069&e|n<<2}function tg(e){return 1|e}function $y(e,n,o,a,u){const f=e[o+1],p=null===n;let v=a?Ca(f):el(f),_=!1;for(;0!==v&&(!1===_||p);){const F=e[v+1];O0(e[v],n)&&(_=!0,e[v+1]=a?tg(F):Qp(F)),v=a?Ca(F):el(F)}_&&(e[o+1]=a?Qp(f):tg(f))}function O0(e,n){return null===e||null==n||(Array.isArray(e)?e[1]:e)===n||!(!Array.isArray(e)||"string"!=typeof n)&&Ss(e,n)>=0}const Ir={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function zy(e){return e.substring(Ir.key,Ir.keyEnd)}function Gy(e,n){const o=Ir.textEnd;return o===n?-1:(n=Ir.keyEnd=function k0(e,n,o){for(;n<o&&e.charCodeAt(n)>32;)n++;return n}(e,Ir.key=n,o),fu(e,n,o))}function fu(e,n,o){for(;n<o&&e.charCodeAt(n)<=32;)n++;return n}function ng(e,n,o){return Ni(e,n,o,!1),ng}function rg(e,n){return Ni(e,n,null,!0),rg}function Jy(e){!function Pi(e,n,o,a){const u=jt(),f=Yo(2);u.firstUpdatePass&&Xy(u,null,f,a);const p=He();if(o!==zt&&co(p,f,o)){const v=u.data[Lr()];if(nv(v,a)&&!qy(u,f)){let _=a?v.classesWithoutHost:v.stylesWithoutHost;null!==_&&(o=Pe(_,o||"")),Zp(u,v,p,o,a)}else!function G0(e,n,o,a,u,f,p,v){u===zt&&(u=Me);let _=0,T=0,F=0<u.length?u[0]:null,j=0<f.length?f[0]:null;for(;null!==F||null!==j;){const ee=_<u.length?u[_+1]:void 0,ae=T<f.length?f[T+1]:void 0;let Ze,Ne=null;F===j?(_+=2,T+=2,ee!==ae&&(Ne=j,Ze=ae)):null===j||null!==F&&F<j?(_+=2,Ne=F):(T+=2,Ne=j,Ze=ae),null!==Ne&&ev(e,n,o,a,Ne,Ze,p,v),F=_<u.length?u[_]:null,j=T<f.length?f[T]:null}}(u,v,p,p[It],p[f+1],p[f+1]=function $0(e,n,o){if(null==o||""===o)return Me;const a=[],u=Ti(o);if(Array.isArray(u))for(let f=0;f<u.length;f++)e(a,u[f],!0);else if("object"==typeof u)for(const f in u)u.hasOwnProperty(f)&&e(a,f,u[f]);else"string"==typeof u&&n(a,u);return a}(e,n,o),a,f)}}(z0,rs,e,!0)}function rs(e,n){for(let o=function P0(e){return function Zy(e){Ir.key=0,Ir.keyEnd=0,Ir.value=0,Ir.valueEnd=0,Ir.textEnd=e.length}(e),Gy(e,fu(e,0,Ir.textEnd))}(n);o>=0;o=Gy(n,o))Ao(e,zy(n),!0)}function Ni(e,n,o,a){const u=He(),f=jt(),p=Yo(2);f.firstUpdatePass&&Xy(f,e,p,a),n!==zt&&co(u,p,n)&&ev(f,f.data[Lr()],u,u[It],e,u[p+1]=function W0(e,n){return null==e||""===e||("string"==typeof n?e+=n:"object"==typeof e&&(e=ke(Ti(e)))),e}(n,o),a,p)}function qy(e,n){return n>=e.expandoStartIndex}function Xy(e,n,o,a){const u=e.data;if(null===u[o+1]){const f=u[Lr()],p=qy(e,o);nv(f,a)&&null===n&&!p&&(n=!1),n=function B0(e,n,o,a){const u=function zs(e){const n=bt.lFrame.currentDirectiveIndex;return-1===n?null:e[n]}(e);let f=a?n.residualClasses:n.residualStyles;if(null===u)0===(a?n.classBindings:n.styleBindings)&&(o=Sc(o=og(null,e,n,o,a),n.attrs,a),f=null);else{const p=n.directiveStylingLast;if(-1===p||e[p]!==u)if(o=og(u,e,n,o,a),null===f){let _=function H0(e,n,o){const a=o?n.classBindings:n.styleBindings;if(0!==el(a))return e[Ca(a)]}(e,n,a);void 0!==_&&Array.isArray(_)&&(_=og(null,e,n,_[1],a),_=Sc(_,n.attrs,a),function U0(e,n,o,a){e[Ca(o?n.classBindings:n.styleBindings)]=a}(e,n,a,_))}else f=function j0(e,n,o){let a;const u=n.directiveEnd;for(let f=1+n.directiveStylingLast;f<u;f++)a=Sc(a,e[f].hostAttrs,o);return Sc(a,n.attrs,o)}(e,n,a)}return void 0!==f&&(a?n.residualClasses=f:n.residualStyles=f),o}(u,f,n,a),function T0(e,n,o,a,u,f){let p=f?n.classBindings:n.styleBindings,v=Ca(p),_=el(p);e[a]=o;let F,T=!1;if(Array.isArray(o)?(F=o[1],(null===F||Ss(o,F)>0)&&(T=!0)):F=o,u)if(0!==_){const ee=Ca(e[v+1]);e[a+1]=Df(ee,v),0!==ee&&(e[ee+1]=eg(e[ee+1],a)),e[v+1]=function x0(e,n){return 131071&e|n<<17}(e[v+1],a)}else e[a+1]=Df(v,0),0!==v&&(e[v+1]=eg(e[v+1],a)),v=a;else e[a+1]=Df(_,0),0===v?v=a:e[_+1]=eg(e[_+1],a),_=a;T&&(e[a+1]=Qp(e[a+1])),$y(e,F,a,!0),$y(e,F,a,!1),function A0(e,n,o,a,u){const f=u?e.residualClasses:e.residualStyles;null!=f&&"string"==typeof n&&Ss(f,n)>=0&&(o[a+1]=tg(o[a+1]))}(n,F,e,a,f),p=Df(v,_),f?n.classBindings=p:n.styleBindings=p}(u,f,n,o,p,a)}}function og(e,n,o,a,u){let f=null;const p=o.directiveEnd;let v=o.directiveStylingLast;for(-1===v?v=o.directiveStart:v++;v<p&&(f=n[v],a=Sc(a,f.hostAttrs,u),f!==e);)v++;return null!==e&&(o.directiveStylingLast=v),a}function Sc(e,n,o){const a=o?1:2;let u=-1;if(null!==n)for(let f=0;f<n.length;f++){const p=n[f];"number"==typeof p?u=p:u===a&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Ao(e,p,!!o||n[++f]))}return void 0===e?null:e}function z0(e,n,o){const a=String(n);""!==a&&!a.includes(" ")&&Ao(e,a,o)}function ev(e,n,o,a,u,f,p,v){if(!(3&n.type))return;const _=e.data,T=_[v+1],F=function I0(e){return 1==(1&e)}(T)?tv(_,n,o,u,el(T),p):void 0;Cf(F)||(Cf(f)||function S0(e){return 2==(2&e)}(T)&&(f=tv(_,null,o,u,v,p)),function Mh(e,n,o,a,u){if(n)u?e.addClass(o,a):e.removeClass(o,a);else{let f=-1===a.indexOf("-")?void 0:so.DashCase;null==u?e.removeStyle(o,a,f):("string"==typeof u&&u.endsWith("!important")&&(u=u.slice(0,-10),f|=so.Important),e.setStyle(o,a,u,f))}}(a,p,rn(Lr(),o),u,f))}function tv(e,n,o,a,u,f){const p=null===n;let v;for(;u>0;){const _=e[u],T=Array.isArray(_),F=T?_[1]:_,j=null===F;let ee=o[u+1];ee===zt&&(ee=j?Me:void 0);let ae=j?Nu(ee,a):F===a?ee:void 0;if(T&&!Cf(ae)&&(ae=Nu(_,a)),Cf(ae)&&(v=ae,p))return v;const Ne=e[u+1];u=p?Ca(Ne):el(Ne)}if(null!==n){let _=f?n.residualClasses:n.residualStyles;null!=_&&(v=Nu(_,a))}return v}function Cf(e){return void 0!==e}function nv(e,n){return 0!=(e.flags&(n?8:16))}function rv(e,n=""){const o=He(),a=jt(),u=e+Vt,f=a.firstCreatePass?nu(a,u,1,n,null):a.data[u],p=ov(a,o,f,n,e);o[u]=p,Re()&&Ua(a,o,p,f),io(f,!1)}let ov=(e,n,o,a,u)=>(ot(!0),function Qn(e,n){return e.createText(n)}(n[It],a));function ig(e){return _f("",e,""),ig}function _f(e,n,o){const a=He(),u=ou(a,e,n,o);return u!==zt&&ks(a,Lr(),u),_f}function sg(e,n,o,a,u){const f=He(),p=function iu(e,n,o,a,u,f){const v=Qa(e,Ko(),o,u);return Yo(2),v?n+st(o)+a+st(u)+f:zt}(f,e,n,o,a,u);return p!==zt&&ks(f,Lr(),p),sg}function ag(e,n,o,a,u,f,p){const v=He(),_=su(v,e,n,o,a,u,f,p);return _!==zt&&ks(v,Lr(),_),ag}const tl=void 0;var pb=["en",[["a","p"],["AM","PM"],tl],[["AM","PM"],tl,tl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],tl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],tl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",tl,"{1} 'at' {0}",tl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function hb(e){const o=Math.floor(Math.abs(e)),a=e.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===a?1:5}];let hu={};function lg(e){const n=function gb(e){return e.toLowerCase().replace(/_/g,"-")}(e);let o=Ev(n);if(o)return o;const a=n.split("-")[0];if(o=Ev(a),o)return o;if("en"===a)return pb;throw new Ie(701,!1)}function bv(e){return lg(e)[At.PluralCase]}function Ev(e){return e in hu||(hu[e]=Rt.ng&&Rt.ng.common&&Rt.ng.common.locales&&Rt.ng.common.locales[e]),hu[e]}var At=(()=>((At=At||{})[At.LocaleId=0]="LocaleId",At[At.DayPeriodsFormat=1]="DayPeriodsFormat",At[At.DayPeriodsStandalone=2]="DayPeriodsStandalone",At[At.DaysFormat=3]="DaysFormat",At[At.DaysStandalone=4]="DaysStandalone",At[At.MonthsFormat=5]="MonthsFormat",At[At.MonthsStandalone=6]="MonthsStandalone",At[At.Eras=7]="Eras",At[At.FirstDayOfWeek=8]="FirstDayOfWeek",At[At.WeekendRange=9]="WeekendRange",At[At.DateFormat=10]="DateFormat",At[At.TimeFormat=11]="TimeFormat",At[At.DateTimeFormat=12]="DateTimeFormat",At[At.NumberSymbols=13]="NumberSymbols",At[At.NumberFormats=14]="NumberFormats",At[At.CurrencyCode=15]="CurrencyCode",At[At.CurrencySymbol=16]="CurrencySymbol",At[At.CurrencyName=17]="CurrencyName",At[At.Currencies=18]="Currencies",At[At.Directionality=19]="Directionality",At[At.PluralCase=20]="PluralCase",At[At.ExtraData=21]="ExtraData",At))();const pu="en-US";let wv=pu;function dg(e,n,o,a,u){if(e=he(e),Array.isArray(e))for(let f=0;f<e.length;f++)dg(e[f],n,o,a,u);else{const f=jt(),p=He();let v=ci(e)?e:he(e.provide),_=Gd(e);const T=zn(),F=1048575&T.providerIndexes,j=T.directiveStart,ee=T.providerIndexes>>20;if(ci(e)||!e.multi){const ae=new Ys(_,u,tu),Ne=hg(v,n,u?F:F+ee,j);-1===Ne?(xu(ur(T,p),f,v),fg(f,e,n.length),n.push(v),T.directiveStart++,T.directiveEnd++,u&&(T.providerIndexes+=1048576),o.push(ae),p.push(ae)):(o[Ne]=ae,p[Ne]=ae)}else{const ae=hg(v,n,F+ee,j),Ne=hg(v,n,F,F+ee),at=Ne>=0&&o[Ne];if(u&&!at||!u&&!(ae>=0&&o[ae])){xu(ur(T,p),f,v);const _t=function fE(e,n,o,a,u){const f=new Ys(e,o,tu);return f.multi=[],f.index=n,f.componentProviders=0,Yv(f,u,a&&!o),f}(u?dE:cE,o.length,u,a,_);!u&&at&&(o[Ne].providerFactory=_t),fg(f,e,n.length,0),n.push(v),T.directiveStart++,T.directiveEnd++,u&&(T.providerIndexes+=1048576),o.push(_t),p.push(_t)}else fg(f,e,ae>-1?ae:Ne,Yv(o[u?Ne:ae],_,!u&&a));!u&&a&&at&&o[Ne].componentProviders++}}}function fg(e,n,o,a){const u=ci(n),f=function zd(e){return!!e.useClass}(n);if(u||f){const _=(f?he(n.useClass):n).prototype.ngOnDestroy;if(_){const T=e.destroyHooks||(e.destroyHooks=[]);if(!u&&n.multi){const F=T.indexOf(o);-1===F?T.push(o,[a,_]):T[F+1].push(a,_)}else T.push(o,_)}}}function Yv(e,n,o){return o&&e.componentProviders++,e.multi.push(n)-1}function hg(e,n,o,a){for(let u=o;u<a;u++)if(n[u]===e)return u;return-1}function cE(e,n,o,a){return pg(this.multi,[])}function dE(e,n,o,a){const u=this.multi;let f;if(this.providerFactory){const p=this.providerFactory.componentProviders,v=Es(o,o[tt],this.providerFactory.index,a);f=v.slice(0,p),pg(u,f);for(let _=p;_<v.length;_++)f.push(v[_])}else f=[],pg(u,f);return f}function pg(e,n){for(let o=0;o<e.length;o++)n.push((0,e[o])());return n}function Jv(e,n=[]){return o=>{o.providersResolver=(a,u)=>function uE(e,n,o){const a=jt();if(a.firstCreatePass){const u=Fr(e);dg(o,a.data,a.blueprint,u,!0),dg(n,a.data,a.blueprint,u,!1)}}(a,u?u(e):e,n)}}class gu{}class qv{}function hE(e,n){return new gg(e,n??null,[])}class gg extends gu{constructor(n,o,a){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ty(this);const u=Un(n);this._bootstrapComponents=Qr(u.bootstrap),this._r3Injector=Rm(n,o,[{provide:gu,useValue:this},{provide:Ql,useValue:this.componentFactoryResolver},...a],ke(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class mg extends qv{constructor(n){super(),this.moduleType=n}create(n){return new gg(this.moduleType,n,[])}}class Xv extends gu{constructor(n){super(),this.componentFactoryResolver=new ty(this),this.instance=null;const o=new uc([...n.providers,{provide:gu,useValue:this},{provide:Ql,useValue:this.componentFactoryResolver}],n.parent||ma(),n.debugName,new Set(["environment"]));this.injector=o,n.runEnvironmentInitializers&&o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function Qv(e,n,o=null){return new Xv({providers:e,parent:n,debugName:o,runEnvironmentInitializers:!0}).injector}let gE=(()=>{class e{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o.id)){const a=Hd(0,o.type),u=a.length>0?Qv([a],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o.id,u)}return this.cachedInjectors.get(o.id)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return e.\u0275prov=an({token:e,providedIn:"environment",factory:()=>new e(Ge(Ns))}),e})();function eD(e){e.getStandaloneInjector=n=>n.get(gE).getOrCreateStandaloneInjector(e)}function aD(e,n,o){const a=lr()+e,u=He();return u[a]===zt?ts(u,a,o?n.call(o):n()):function bc(e,n){return e[n]}(u,a)}function lD(e,n,o,a){return cD(He(),lr(),e,n,o,a)}function uD(e,n,o,a,u){return function dD(e,n,o,a,u,f,p){const v=n+o;return Qa(e,v,u,f)?ts(e,v+2,p?a.call(p,u,f):a(u,f)):Nc(e,v+2)}(He(),lr(),e,n,o,a,u)}function Nc(e,n){const o=e[n];return o===zt?void 0:o}function cD(e,n,o,a,u,f){const p=n+o;return co(e,p,u)?ts(e,p+1,f?a.call(f,u):a(u)):Nc(e,p+1)}function gD(e,n){const o=jt();let a;const u=e+Vt;o.firstCreatePass?(a=function OE(e,n){if(n)for(let o=n.length-1;o>=0;o--){const a=n[o];if(e===a.name)return a}}(n,o.pipeRegistry),o.data[u]=a,a.onDestroy&&(o.destroyHooks??=[]).push(u,a.onDestroy)):a=o.data[u];const f=a.factory||(a.factory=bo(a.type)),p=St(tu);try{const v=Js(!1),_=f();return Js(v),function y0(e,n,o,a){o>=e.data.length&&(e.data[o]=null,e.blueprint[o]=null),n[o]=a}(o,He(),u,_),_}finally{St(p)}}function mD(e,n,o){const a=e+Vt,u=He(),f=Kt(u,a);return function Pc(e,n){return e[tt].data[n].pure}(u,a)?cD(u,lr(),n,f.transform,o,f):f.transform(o)}function vg(e){return n=>{setTimeout(e,void 0,n)}}const is=class FE extends d.x{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,o,a){let u=n,f=o||(()=>null),p=a;if(n&&"object"==typeof n){const _=n;u=_.next?.bind(_),f=_.error?.bind(_),p=_.complete?.bind(_)}this.__isAsync&&(f=vg(f),u&&(u=vg(u)),p&&(p=vg(p)));const v=super.subscribe({next:u,error:f,complete:p});return n instanceof G.w0&&n.add(v),v}};function LE(){return this._results[Symbol.iterator]()}class Dg{get changes(){return this._changes||(this._changes=new is)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=Dg.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=LE)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,o){return this._results.reduce(n,o)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,o){const a=this;a.dirty=!1;const u=function To(e){return e.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function Wf(e,n,o){if(e.length!==n.length)return!1;for(let a=0;a<e.length;a++){let u=e[a],f=n[a];if(o&&(u=o(u),f=o(f)),f!==u)return!1}return!0}(a._results,u,o))&&(a._results=u,a.length=u.length,a.last=u[this.length-1],a.first=u[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Rc=(()=>{class e{}return e.__NG_ELEMENT_ID__=HE,e})();const VE=Rc,BE=class extends VE{constructor(n,o,a){super(),this._declarationLView=n,this._declarationTContainer=o,this.elementRef=a}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,o){return this.createEmbeddedViewImpl(n,o,null)}createEmbeddedViewImpl(n,o,a){const p=this._declarationTContainer.tView,v=nf(this._declarationLView,p,n,4096&this._declarationLView[Je]?4096:16,null,p.declTNode,null,null,null,o||null,a||null);v[Nr]=this._declarationLView[this._declarationTContainer.index];const T=this._declarationLView[Pr];return null!==T&&(v[Pr]=T.createEmbeddedView(p)),Lp(p,v,n),new Cc(v)}};function HE(){return Sf(zn(),He())}function Sf(e,n){return 4&e.type?new BE(n,e,va(e,n)):null}let xf=(()=>{class e{}return e.__NG_ELEMENT_ID__=ZE,e})();function ZE(){return bD(zn(),He())}const KE=xf,CD=class extends KE{constructor(n,o,a){super(),this._lContainer=n,this._hostTNode=o,this._hostLView=a}get element(){return va(this._hostTNode,this._hostLView)}get injector(){return new ws(this._hostTNode,this._hostLView)}get parentInjector(){const n=bl(this._hostTNode,this._hostLView);if(Vc(n)){const o=Na(n,this._hostLView),a=Ki(n);return new ws(o[tt].data[a+8],o)}return new ws(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const o=_D(this._lContainer);return null!==o&&o[n]||null}get length(){return this._lContainer.length-$n}createEmbeddedView(n,o,a){let u,f;"number"==typeof a?u=a:null!=a&&(u=a.index,f=a.injector);const v=n.createEmbeddedViewImpl(o||{},f,null);return this.insertImpl(v,u,false),v}createComponent(n,o,a,u,f){const p=n&&!function ka(e){return"function"==typeof e}(n);let v;if(p)v=o;else{const Ze=o||{};v=Ze.index,a=Ze.injector,u=Ze.projectableNodes,f=Ze.environmentInjector||Ze.ngModuleRef}const _=p?n:new _c(Wt(n)),T=a||this.parentInjector;if(!f&&null==_.ngModule){const at=(p?T:this.parentInjector).get(Ns,null);at&&(f=at)}Wt(_.componentType??{});const ae=_.create(T,u,null,f);return this.insertImpl(ae.hostView,v,false),ae}insert(n,o){return this.insertImpl(n,o,!1)}insertImpl(n,o,a){const u=n._lView,f=u[tt];if(function ai(e){return yr(e[mn])}(u)){const _=this.indexOf(n);if(-1!==_)this.detach(_);else{const T=u[mn],F=new CD(T,T[xt],T[mn]);F.detach(F.indexOf(n))}}const p=this._adjustIndex(o),v=this._lContainer;if(function vh(e,n,o,a){const u=$n+a,f=o.length;a>0&&(o[u-1][hr]=n),a<f-$n?(n[hr]=o[u],Ou(o,$n+a,n)):(o.push(n),n[hr]=null),n[mn]=o;const p=n[Nr];null!==p&&o!==p&&function Fl(e,n){const o=e[kn];n[_n]!==n[mn][mn][_n]&&(e[sr]=!0),null===o?e[kn]=[n]:o.push(n)}(p,n);const v=n[Pr];null!==v&&v.insertView(e),n[Je]|=128}(f,u,v,p),!a){const _=$a(p,v),T=u[It],F=ca(T,v[qn]);null!==F&&function yh(e,n,o,a,u,f){a[En]=u,a[xt]=n,za(e,a,o,1,u,f)}(f,v[xt],T,u,F,_)}return n.attachToViewContainerRef(),Ou(_g(v),p,n),n}move(n,o){return this.insert(n,o)}indexOf(n){const o=_D(this._lContainer);return null!==o?o.indexOf(n):-1}remove(n){const o=this._adjustIndex(n,-1),a=Ll(this._lContainer,o);a&&(oa(_g(this._lContainer),o),Cd(a[tt],a))}detach(n){const o=this._adjustIndex(n,-1),a=Ll(this._lContainer,o);return a&&null!=oa(_g(this._lContainer),o)?new Cc(a):null}_adjustIndex(n,o=0){return n??this.length+o}};function _D(e){return e[8]}function _g(e){return e[8]||(e[8]=[])}function bD(e,n){let o;const a=n[e.index];return yr(a)?o=a:(o=zm(a,n,null,e),n[e.index]=o,rf(n,o)),ED(o,n,e,a),new CD(o,e,n)}let ED=function wD(e,n,o,a){if(e[qn])return;let u;u=8&o.type?We(a):function YE(e,n){const o=e[It],a=o.createComment(""),u=Ot(n,e);return ao(o,ca(o,u),a,function Ed(e,n){return e.nextSibling(n)}(o,u),!1),a}(n,o),e[qn]=u};class bg{constructor(n){this.queryList=n,this.matches=null}clone(){return new bg(this.queryList)}setDirty(){this.queryList.setDirty()}}class Eg{constructor(n=[]){this.queries=n}createEmbeddedView(n){const o=n.queries;if(null!==o){const a=null!==n.contentQueries?n.contentQueries[0]:o.length,u=[];for(let f=0;f<a;f++){const p=o.getByIndex(f);u.push(this.queries[p.indexInDeclarationView].clone())}return new Eg(u)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let o=0;o<this.queries.length;o++)null!==PD(n,o).matches&&this.queries[o].setDirty()}}class MD{constructor(n,o,a=null){this.predicate=n,this.flags=o,this.read=a}}class wg{constructor(n=[]){this.queries=n}elementStart(n,o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(n,o)}elementEnd(n){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(n)}embeddedTView(n){let o=null;for(let a=0;a<this.length;a++){const u=null!==o?o.length:0,f=this.getByIndex(a).embeddedTView(n,u);f&&(f.indexInDeclarationView=a,null!==o?o.push(f):o=[f])}return null!==o?new wg(o):null}template(n,o){for(let a=0;a<this.queries.length;a++)this.queries[a].template(n,o)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class Mg{constructor(n,o=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(n,o){this.isApplyingToNode(o)&&this.matchTNode(n,o)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,o){this.elementStart(n,o)}embeddedTView(n,o){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,o),new Mg(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let a=n.parent;for(;null!==a&&8&a.type&&a.index!==o;)a=a.parent;return o===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(n,o){const a=this.metadata.predicate;if(Array.isArray(a))for(let u=0;u<a.length;u++){const f=a[u];this.matchTNodeWithReadOption(n,o,XE(o,f)),this.matchTNodeWithReadOption(n,o,Xs(o,n,f,!1,!1))}else a===Rc?4&o.type&&this.matchTNodeWithReadOption(n,o,-1):this.matchTNodeWithReadOption(n,o,Xs(o,n,a,!1,!1))}matchTNodeWithReadOption(n,o,a){if(null!==a){const u=this.metadata.read;if(null!==u)if(u===qa||u===xf||u===Rc&&4&o.type)this.addMatch(o.index,-2);else{const f=Xs(o,n,u,!1,!1);null!==f&&this.addMatch(o.index,f)}else this.addMatch(o.index,a)}}addMatch(n,o){null===this.matches?this.matches=[n,o]:this.matches.push(n,o)}}function XE(e,n){const o=e.localNames;if(null!==o)for(let a=0;a<o.length;a+=2)if(o[a]===n)return o[a+1];return null}function ew(e,n,o,a){return-1===o?function QE(e,n){return 11&e.type?va(e,n):4&e.type?Sf(e,n):null}(n,e):-2===o?function tw(e,n,o){return o===qa?va(n,e):o===Rc?Sf(n,e):o===xf?bD(n,e):void 0}(e,n,a):Es(e,e[tt],o,n)}function SD(e,n,o,a){const u=n[Pr].queries[a];if(null===u.matches){const f=e.data,p=o.matches,v=[];for(let _=0;_<p.length;_+=2){const T=p[_];v.push(T<0?null:ew(n,f[T],p[_+1],o.metadata.read))}u.matches=v}return u.matches}function Sg(e,n,o,a){const u=e.queries.getByIndex(o),f=u.matches;if(null!==f){const p=SD(e,n,u,o);for(let v=0;v<f.length;v+=2){const _=f[v];if(_>0)a.push(p[v/2]);else{const T=f[v+1],F=n[-_];for(let j=$n;j<F.length;j++){const ee=F[j];ee[Nr]===ee[mn]&&Sg(ee[tt],ee,T,a)}if(null!==F[kn]){const j=F[kn];for(let ee=0;ee<j.length;ee++){const ae=j[ee];Sg(ae[tt],ae,T,a)}}}}}return a}function xD(e){const n=He(),o=jt(),a=Gs();Ws(a+1);const u=PD(o,a);if(e.dirty&&function Ho(e){return 4==(4&e[Je])}(n)===(2==(2&u.metadata.flags))){if(null===u.matches)e.reset([]);else{const f=u.crossesNgTemplate?Sg(o,n,a,[]):SD(o,n,u,a);e.reset(f,Mp),e.notifyOnChanges()}return!0}return!1}function ID(e,n,o){const a=jt();a.firstCreatePass&&(ND(a,new MD(e,n,o),-1),2==(2&n)&&(a.staticViewQueries=!0)),OD(a,He(),n)}function TD(e,n,o,a){const u=jt();if(u.firstCreatePass){const f=zn();ND(u,new MD(n,o,a),f.index),function rw(e,n){const o=e.contentQueries||(e.contentQueries=[]);n!==(o.length?o[o.length-1]:-1)&&o.push(e.queries.length-1,n)}(u,e),2==(2&o)&&(u.staticContentQueries=!0)}OD(u,He(),o)}function AD(){return function nw(e,n){return e[Pr].queries[n].queryList}(He(),Gs())}function OD(e,n,o){const a=new Dg(4==(4&o));(function t_(e,n,o,a){const u=Wm(n);u.push(o),e.firstCreatePass&&Zm(e).push(a,u.length-1)})(e,n,a,a.destroy),null===n[Pr]&&(n[Pr]=new Eg),n[Pr].queries.push(new bg(a))}function ND(e,n,o){null===e.queries&&(e.queries=new wg),e.queries.track(new Mg(n,o))}function PD(e,n){return e.queries.getByIndex(n)}function xg(e){return!!Un(e)}const JD=new vn("Application Initializer");let Ng=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((o,a)=>{this.resolve=o,this.reject=a}),this.appInits=mt(JD,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const o=[];for(const u of this.appInits){const f=u();if(Jp(f))o.push(f);else if(xy(f)){const p=new Promise((v,_)=>{f.subscribe({complete:v,error:_})});o.push(p)}}const a=()=>{this.done=!0,this.resolve()};Promise.all(o).then(()=>{a()}).catch(u=>{this.reject(u)}),0===o.length&&a(),this.initialized=!0}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=an({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),qD=(()=>{class e{log(o){console.log(o)}warn(o){console.warn(o)}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=an({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const Tf=new vn("LocaleId",{providedIn:"root",factory:()=>mt(Tf,nt.Optional|nt.SkipSelf)||function Mw(){return typeof $localize<"u"&&$localize.locale||pu}()}),Sw=new vn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let XD=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new le.X(!1)}add(){this.hasPendingTasks.next(!0);const o=this.taskId++;return this.pendingTasks.add(o),o}remove(o){this.pendingTasks.delete(o),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=an({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class xw{constructor(n,o){this.ngModuleFactory=n,this.componentFactories=o}}let Iw=(()=>{class e{compileModuleSync(o){return new mg(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const a=this.compileModuleSync(o),f=Qr(Un(o).declarations).reduce((p,v)=>{const _=Wt(v);return _&&p.push(new _c(_)),p},[]);return new xw(a,f)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=an({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function tC(...e){}class Po{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new is(!1),this.onMicrotaskEmpty=new is(!1),this.onStable=new is(!1),this.onError=new is(!1),typeof Zone>"u")throw new Ie(908,!1);Zone.assertZonePatched();const u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!a&&o,u.shouldCoalesceRunChangeDetection=a,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function Ow(){let e=Rt.requestAnimationFrame,n=Rt.cancelAnimationFrame;if(typeof Zone<"u"&&e&&n){const o=e[Zone.__symbol__("OriginalDelegate")];o&&(e=o);const a=n[Zone.__symbol__("OriginalDelegate")];a&&(n=a)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function Rw(e){const n=()=>{!function Pw(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Rt,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Rg(e),e.isCheckStableRunning=!0,Pg(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Rg(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,a,u,f,p,v)=>{try{return nC(e),o.invokeTask(u,f,p,v)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||e.shouldCoalesceRunChangeDetection)&&n(),rC(e)}},onInvoke:(o,a,u,f,p,v,_)=>{try{return nC(e),o.invoke(u,f,p,v,_)}finally{e.shouldCoalesceRunChangeDetection&&n(),rC(e)}},onHasTask:(o,a,u,f)=>{o.hasTask(u,f),a===u&&("microTask"==f.change?(e._hasPendingMicrotasks=f.microTask,Rg(e),Pg(e)):"macroTask"==f.change&&(e.hasPendingMacrotasks=f.macroTask))},onHandleError:(o,a,u,f)=>(o.handleError(u,f),e.runOutsideAngular(()=>e.onError.emit(f)),!1)})}(u)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Po.isInAngularZone())throw new Ie(909,!1)}static assertNotInAngularZone(){if(Po.isInAngularZone())throw new Ie(909,!1)}run(n,o,a){return this._inner.run(n,o,a)}runTask(n,o,a,u){const f=this._inner,p=f.scheduleEventTask("NgZoneEvent: "+u,n,Nw,tC,tC);try{return f.runTask(p,o,a)}finally{f.cancelTask(p)}}runGuarded(n,o,a){return this._inner.runGuarded(n,o,a)}runOutsideAngular(n){return this._outer.run(n)}}const Nw={};function Pg(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Rg(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function nC(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function rC(e){e._nesting--,Pg(e)}class kw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new is,this.onMicrotaskEmpty=new is,this.onStable=new is,this.onError=new is}run(n,o,a){return n.apply(o,a)}runGuarded(n,o,a){return n.apply(o,a)}runOutsideAngular(n){return n()}runTask(n,o,a,u){return n.apply(o,a)}}const oC=new vn("",{providedIn:"root",factory:iC});function iC(){const e=mt(Po);let n=!0;return function _e(...e){const n=(0,Se.yG)(e),o=(0,Se._6)(e,1/0),a=e;return a.length?1===a.length?(0,ve.Xf)(a[0]):(0,P.J)(o)((0,we.D)(a,n)):ne.E}(new Y.y(u=>{n=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{u.next(n),u.complete()})}),new Y.y(u=>{let f;e.runOutsideAngular(()=>{f=e.onStable.subscribe(()=>{Po.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(n=!0,u.next(!0))})})});const p=e.onUnstable.subscribe(()=>{Po.assertInAngularZone(),n&&(n=!1,e.runOutsideAngular(()=>{u.next(!1)}))});return()=>{f.unsubscribe(),p.unsubscribe()}}).pipe((0,Ae.B)()))}const sC=new vn(""),aC=new vn("");let kg,Fw=(()=>{class e{constructor(o,a,u){this._ngZone=o,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,kg||(function Lw(e){kg=e}(u),u.addToWindow(a)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Po.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(o)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,a,u){let f=-1;a&&a>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(p=>p.timeoutId!==f),o(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:o,timeoutId:f,updateCb:u})}whenStable(o,a,u){if(u&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,a,u),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,a,u){return[]}}return e.\u0275fac=function(o){return new(o||e)(Ge(Po),Ge(lC),Ge(aC))},e.\u0275prov=an({token:e,factory:e.\u0275fac}),e})(),lC=(()=>{class e{constructor(){this._applications=new Map}registerApplication(o,a){this._applications.set(o,a)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,a=!0){return kg?.findTestabilityInTree(this,o,a)??null}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=an({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})(),_a=null;const uC=new vn("AllowMultipleToken"),Fg=new vn("PlatformDestroyListeners"),Lg=new vn("appBootstrapListener");class Hw{constructor(n,o){this.name=n,this.token=o}}function fC(e,n,o=[]){const a=`Platform: ${n}`,u=new vn(a);return(f=[])=>{let p=Vg();if(!p||p.injector.get(uC,!1)){const v=[...o,...f,{provide:u,useValue:!0}];e?e(v):function Uw(e){if(_a&&!_a.get(uC,!1))throw new Ie(400,!1);(function cC(){!function ol(e){hs=e}(()=>{throw new Ie(600,!1)})})(),_a=e;const n=e.get(pC);(function dC(e){e.get(Zd,null)?.forEach(o=>o())})(e)}(function hC(e=[],n){return Da.create({name:n,providers:[{provide:Os,useValue:"platform"},{provide:Fg,useValue:new Set([()=>_a=null])},...e]})}(v,a))}return function $w(e){const n=Vg();if(!n)throw new Ie(401,!1);return n}()}}function Vg(){return _a?.get(pC)??null}let pC=(()=>{class e{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,a){const u=function zw(e="zone.js",n){return"noop"===e?new kw:"zone.js"===e?new Po(n):e}(a?.ngZone,function gC(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:a?.ngZoneEventCoalescing,runCoalescing:a?.ngZoneRunCoalescing}));return u.run(()=>{const f=function pE(e,n,o){return new gg(e,n,o)}(o.moduleType,this.injector,function CC(e){return[{provide:Po,useFactory:e},{provide:Ka,multi:!0,useFactory:()=>{const n=mt(Ww,{optional:!0});return()=>n.initialize()}},{provide:DC,useFactory:Gw},{provide:oC,useFactory:iC}]}(()=>u)),p=f.injector.get(C,null);return u.runOutsideAngular(()=>{const v=u.onError.subscribe({next:_=>{p.handleError(_)}});f.onDestroy(()=>{Af(this._modules,f),v.unsubscribe()})}),function mC(e,n,o){try{const a=o();return Jp(a)?a.catch(u=>{throw n.runOutsideAngular(()=>e.handleError(u)),u}):a}catch(a){throw n.runOutsideAngular(()=>e.handleError(a)),a}}(p,u,()=>{const v=f.injector.get(Ng);return v.runInitializers(),v.donePromise.then(()=>(function Mv(e){Te(e,"Expected localeId to be defined"),"string"==typeof e&&(wv=e.toLowerCase().replace(/_/g,"-"))}(f.injector.get(Tf,pu)||pu),this._moduleDoBootstrap(f),f))})})}bootstrapModule(o,a=[]){const u=yC({},a);return function Vw(e,n,o){const a=new mg(o);return Promise.resolve(a)}(0,0,o).then(f=>this.bootstrapModuleFactory(f,u))}_moduleDoBootstrap(o){const a=o.injector.get(vu);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(u=>a.bootstrap(u));else{if(!o.instance.ngDoBootstrap)throw new Ie(-403,!1);o.instance.ngDoBootstrap(a)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ie(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const o=this._injector.get(Fg,null);o&&(o.forEach(a=>a()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(o){return new(o||e)(Ge(Da))},e.\u0275prov=an({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();function yC(e,n){return Array.isArray(n)?n.reduce(yC,e):{...e,...n}}let vu=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=mt(DC),this.zoneIsStable=mt(oC),this.componentTypes=[],this.components=[],this.isStable=mt(XD).hasPendingTasks.pipe((0,Qe.w)(o=>o?(0,pe.of)(!1):this.zoneIsStable),function it(e,n=Fe.y){return e=e??Ct,(0,$e.e)((o,a)=>{let u,f=!0;o.subscribe((0,lt.x)(a,p=>{const v=n(p);(f||!e(u,v))&&(f=!1,u=v,a.next(p))}))})}(),(0,Ae.B)()),this._injector=mt(Ns)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(o,a){const u=o instanceof Jd;if(!this._injector.get(Ng).done)throw!u&&Ar(o),new Ie(405,!1);let p;p=u?o:this._injector.get(Ql).resolveComponentFactory(o),this.componentTypes.push(p.componentType);const v=function Bw(e){return e.isBoundToModule}(p)?void 0:this._injector.get(gu),T=p.create(Da.NULL,[],a||p.selector,v),F=T.location.nativeElement,j=T.injector.get(sC,null);return j?.registerApplication(F),T.onDestroy(()=>{this.detachView(T.hostView),Af(this.components,T),j?.unregisterApplication(F)}),this._loadComponent(T),T}tick(){if(this._runningTick)throw new Ie(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1}}attachView(o){const a=o;this._views.push(a),a.attachToAppRef(this)}detachView(o){const a=o;Af(this._views,a),a.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const a=this._injector.get(Lg,[]);a.push(...this._bootstrapListeners),a.forEach(u=>u(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>Af(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new Ie(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=an({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Af(e,n){const o=e.indexOf(n);o>-1&&e.splice(o,1)}const DC=new vn("",{providedIn:"root",factory:()=>mt(C).handleError.bind(void 0)});function Gw(){const e=mt(Po),n=mt(C);return o=>e.runOutsideAngular(()=>n.handleError(o))}let Ww=(()=>{class e{constructor(){this.zone=mt(Po),this.applicationRef=mt(vu)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=an({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();let Kw=(()=>{class e{}return e.__NG_ELEMENT_ID__=Yw,e})();function Yw(e){return function Jw(e,n,o){if(kr(e)&&!o){const a=ln(e.index,n);return new Cc(a,a)}return 47&e.type?new Cc(n[_n],n):null}(zn(),He(),16==(16&e))}class wC{constructor(){}supports(n){return uf(n)}create(n){return new nM(n)}}const tM=(e,n)=>n;class nM{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||tM}forEachItem(n){let o;for(o=this._itHead;null!==o;o=o._next)n(o)}forEachOperation(n){let o=this._itHead,a=this._removalsHead,u=0,f=null;for(;o||a;){const p=!a||o&&o.currentIndex<SC(a,u,f)?o:a,v=SC(p,u,f),_=p.currentIndex;if(p===a)u--,a=a._nextRemoved;else if(o=o._next,null==p.previousIndex)u++;else{f||(f=[]);const T=v-u,F=_-u;if(T!=F){for(let ee=0;ee<T;ee++){const ae=ee<f.length?f[ee]:f[ee]=0,Ne=ae+ee;F<=Ne&&Ne<T&&(f[ee]=ae+1)}f[p.previousIndex]=F-T}}v!==_&&n(p,v,_)}}forEachPreviousItem(n){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)n(o)}forEachAddedItem(n){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)n(o)}forEachMovedItem(n){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)n(o)}forEachRemovedItem(n){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)n(o)}forEachIdentityChange(n){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)n(o)}diff(n){if(null==n&&(n=[]),!uf(n))throw new Ie(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let u,f,p,o=this._itHead,a=!1;if(Array.isArray(n)){this.length=n.length;for(let v=0;v<this.length;v++)f=n[v],p=this._trackByFn(v,f),null!==o&&Object.is(o.trackById,p)?(a&&(o=this._verifyReinsertion(o,f,p,v)),Object.is(o.item,f)||this._addIdentityChange(o,f)):(o=this._mismatch(o,f,p,v),a=!0),o=o._next}else u=0,function Y_(e,n){if(Array.isArray(e))for(let o=0;o<e.length;o++)n(e[o]);else{const o=e[Symbol.iterator]();let a;for(;!(a=o.next()).done;)n(a.value)}}(n,v=>{p=this._trackByFn(u,v),null!==o&&Object.is(o.trackById,p)?(a&&(o=this._verifyReinsertion(o,v,p,u)),Object.is(o.item,v)||this._addIdentityChange(o,v)):(o=this._mismatch(o,v,p,u),a=!0),o=o._next,u++}),this.length=u;return this._truncate(o),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,o,a,u){let f;return null===n?f=this._itTail:(f=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(n.item,o)||this._addIdentityChange(n,o),this._reinsertAfter(n,f,u)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(a,u))?(Object.is(n.item,o)||this._addIdentityChange(n,o),this._moveAfter(n,f,u)):n=this._addAfter(new rM(o,a),f,u),n}_verifyReinsertion(n,o,a,u){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==f?n=this._reinsertAfter(f,n._prev,u):n.currentIndex!=u&&(n.currentIndex=u,this._addToMoves(n,u)),n}_truncate(n){for(;null!==n;){const o=n._next;this._addToRemovals(this._unlink(n)),n=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,o,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const u=n._prevRemoved,f=n._nextRemoved;return null===u?this._removalsHead=f:u._nextRemoved=f,null===f?this._removalsTail=u:f._prevRemoved=u,this._insertAfter(n,o,a),this._addToMoves(n,a),n}_moveAfter(n,o,a){return this._unlink(n),this._insertAfter(n,o,a),this._addToMoves(n,a),n}_addAfter(n,o,a){return this._insertAfter(n,o,a),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,o,a){const u=null===o?this._itHead:o._next;return n._next=u,n._prev=o,null===u?this._itTail=n:u._prev=n,null===o?this._itHead=n:o._next=n,null===this._linkedRecords&&(this._linkedRecords=new MC),this._linkedRecords.put(n),n.currentIndex=a,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const o=n._prev,a=n._next;return null===o?this._itHead=a:o._next=a,null===a?this._itTail=o:a._prev=o,n}_addToMoves(n,o){return n.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new MC),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,o){return n.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class rM{constructor(n,o){this.item=n,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class oM{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,o){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===o||o<=a.currentIndex)&&Object.is(a.trackById,n))return a;return null}remove(n){const o=n._prevDup,a=n._nextDup;return null===o?this._head=a:o._nextDup=a,null===a?this._tail=o:a._prevDup=o,null===this._head}}class MC{constructor(){this.map=new Map}put(n){const o=n.trackById;let a=this.map.get(o);a||(a=new oM,this.map.set(o,a)),a.add(n)}get(n,o){const u=this.map.get(n);return u?u.get(n,o):null}remove(n){const o=n.trackById;return this.map.get(o).remove(n)&&this.map.delete(o),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function SC(e,n,o){const a=e.previousIndex;if(null===a)return a;let u=0;return o&&a<o.length&&(u=o[a]),a+n+u}class xC{constructor(){}supports(n){return n instanceof Map||Bp(n)}create(){return new iM}}class iM{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let o;for(o=this._mapHead;null!==o;o=o._next)n(o)}forEachPreviousItem(n){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)n(o)}forEachChangedItem(n){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)n(o)}forEachAddedItem(n){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)n(o)}forEachRemovedItem(n){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)n(o)}diff(n){if(n){if(!(n instanceof Map||Bp(n)))throw new Ie(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(n,(a,u)=>{if(o&&o.key===u)this._maybeAddToChanges(o,a),this._appendAfter=o,o=o._next;else{const f=this._getOrCreateRecordForKey(u,a);o=this._insertBeforeOrAppend(o,f)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let a=o;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,o){if(n){const a=n._prev;return o._next=n,o._prev=a,n._prev=o,a&&(a._next=o),n===this._mapHead&&(this._mapHead=o),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(n,o){if(this._records.has(n)){const u=this._records.get(n);this._maybeAddToChanges(u,o);const f=u._prev,p=u._next;return f&&(f._next=p),p&&(p._prev=f),u._next=null,u._prev=null,u}const a=new sM(n);return this._records.set(n,a),a.currentValue=o,this._addToAdditions(a),a}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,o){Object.is(o,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=o,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,o){n instanceof Map?n.forEach(o):Object.keys(n).forEach(a=>o(n[a],a))}}class sM{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function IC(){return new $g([new wC])}let $g=(()=>{class e{constructor(o){this.factories=o}static create(o,a){if(null!=a){const u=a.factories.slice();o=o.concat(u)}return new e(o)}static extend(o){return{provide:e,useFactory:a=>e.create(o,a||IC()),deps:[[e,new xl,new Sl]]}}find(o){const a=this.factories.find(u=>u.supports(o));if(null!=a)return a;throw new Ie(901,!1)}}return e.\u0275prov=an({token:e,providedIn:"root",factory:IC}),e})();function TC(){return new zg([new xC])}let zg=(()=>{class e{constructor(o){this.factories=o}static create(o,a){if(a){const u=a.factories.slice();o=o.concat(u)}return new e(o)}static extend(o){return{provide:e,useFactory:a=>e.create(o,a||TC()),deps:[[e,new xl,new Sl]]}}find(o){const a=this.factories.find(u=>u.supports(o));if(a)return a;throw new Ie(901,!1)}}return e.\u0275prov=an({token:e,providedIn:"root",factory:TC}),e})();const uM=fC(null,"core",[]);let cM=(()=>{class e{constructor(o){}}return e.\u0275fac=function(o){return new(o||e)(Ge(vu))},e.\u0275mod=gi({type:e}),e.\u0275inj=Tn({}),e})();function DM(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function _M(e,n){const o=Wt(e),a=n.elementInjector||ma();return new _c(o).create(a,n.projectableNodes,n.hostElement,n.environmentInjector)}function bM(e){const n=Wt(e);if(!n)return null;const o=new _c(n);return{get selector(){return o.selector},get type(){return o.componentType},get inputs(){return o.inputs},get outputs(){return o.outputs},get ngContentSelectors(){return o.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},6223:(dt,Ce,R)=>{R.d(Ce,{Fj:()=>Fe,JJ:()=>Ft,JL:()=>qt,JU:()=>Se,NI:()=>Lo,On:()=>Jn,UX:()=>us,Wl:()=>_e,_Y:()=>Fi,cw:()=>fe,kI:()=>be,qu:()=>vr,sg:()=>yo,u:()=>mn,u5:()=>Go});var d=R(9291),G=R(6814),le=R(7715),Y=R(9315),P=R(7398);let ve=(()=>{class x{constructor(w,L){this._renderer=w,this._elementRef=L,this.onChange=ue=>{},this.onTouched=()=>{}}setProperty(w,L){this._renderer.setProperty(this._elementRef.nativeElement,w,L)}registerOnTouched(w){this.onTouched=w}registerOnChange(w){this.onChange=w}setDisabledState(w){this.setProperty("disabled",w)}}return x.\u0275fac=function(w){return new(w||x)(d.Y36(d.Qsj),d.Y36(d.SBq))},x.\u0275dir=d.lG2({type:x}),x})(),ne=(()=>{class x extends ve{}return x.\u0275fac=function(){let S;return function(L){return(S||(S=d.n5z(x)))(L||x)}}(),x.\u0275dir=d.lG2({type:x,features:[d.qOj]}),x})();const Se=new d.OlP("NgValueAccessor"),we={provide:Se,useExisting:(0,d.Gpc)(()=>_e),multi:!0};let _e=(()=>{class x extends ne{writeValue(w){this.setProperty("checked",w)}}return x.\u0275fac=function(){let S;return function(L){return(S||(S=d.n5z(x)))(L||x)}}(),x.\u0275dir=d.lG2({type:x,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(w,L){1&w&&d.NdJ("change",function(qe){return L.onChange(qe.target.checked)})("blur",function(){return L.onTouched()})},features:[d._Bn([we]),d.qOj]}),x})();const pe={provide:Se,useExisting:(0,d.Gpc)(()=>Fe),multi:!0},Qe=new d.OlP("CompositionEventMode");let Fe=(()=>{class x extends ve{constructor(w,L,ue){super(w,L),this._compositionMode=ue,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Ae(){const x=(0,G.q)()?(0,G.q)().getUserAgent():"";return/android (\d+)/.test(x.toLowerCase())}())}writeValue(w){this.setProperty("value",w??"")}_handleInput(w){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(w)}_compositionStart(){this._composing=!0}_compositionEnd(w){this._composing=!1,this._compositionMode&&this.onChange(w)}}return x.\u0275fac=function(w){return new(w||x)(d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(Qe,8))},x.\u0275dir=d.lG2({type:x,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(w,L){1&w&&d.NdJ("input",function(qe){return L._handleInput(qe.target.value)})("blur",function(){return L.onTouched()})("compositionstart",function(){return L._compositionStart()})("compositionend",function(qe){return L._compositionEnd(qe.target.value)})},features:[d._Bn([pe]),d.qOj]}),x})();function $e(x){return null==x||("string"==typeof x||Array.isArray(x))&&0===x.length}function lt(x){return null!=x&&"number"==typeof x.length}const it=new d.OlP("NgValidators"),Ct=new d.OlP("NgAsyncValidators"),rt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class be{static min(S){return function ke(x){return S=>{if($e(S.value)||$e(x))return null;const w=parseFloat(S.value);return!isNaN(w)&&w<x?{min:{min:x,actual:S.value}}:null}}(S)}static max(S){return function Pe(x){return S=>{if($e(S.value)||$e(x))return null;const w=parseFloat(S.value);return!isNaN(w)&&w>x?{max:{max:x,actual:S.value}}:null}}(S)}static required(S){return function Ye(x){return $e(x.value)?{required:!0}:null}(S)}static requiredTrue(S){return function ze(x){return!0===x.value?null:{required:!0}}(S)}static email(S){return function he(x){return $e(x.value)||rt.test(x.value)?null:{email:!0}}(S)}static minLength(S){return function ie(x){return S=>$e(S.value)||!lt(S.value)?null:S.value.length<x?{minlength:{requiredLength:x,actualLength:S.value.length}}:null}(S)}static maxLength(S){return function ut(x){return S=>lt(S.value)&&S.value.length>x?{maxlength:{requiredLength:x,actualLength:S.value.length}}:null}(S)}static pattern(S){return function Ke(x){if(!x)return Ht;let S,w;return"string"==typeof x?(w="","^"!==x.charAt(0)&&(w+="^"),w+=x,"$"!==x.charAt(x.length-1)&&(w+="$"),S=new RegExp(w)):(w=x.toString(),S=x),L=>{if($e(L.value))return null;const ue=L.value;return S.test(ue)?null:{pattern:{requiredPattern:w,actualValue:ue}}}}(S)}static nullValidator(S){return null}static compose(S){return ce(S)}static composeAsync(S){return K(S)}}function Ht(x){return null}function Ie(x){return null!=x}function tn(x){return(0,d.QGY)(x)?(0,le.D)(x):x}function st(x){let S={};return x.forEach(w=>{S=null!=w?{...S,...w}:S}),0===Object.keys(S).length?null:S}function vt(x,S){return S.map(w=>w(x))}function sn(x){return x.map(S=>function gn(x){return!x.validate}(S)?S:w=>S.validate(w))}function ce(x){if(!x)return null;const S=x.filter(Ie);return 0==S.length?null:function(w){return st(vt(w,S))}}function de(x){return null!=x?ce(sn(x)):null}function K(x){if(!x)return null;const S=x.filter(Ie);return 0==S.length?null:function(w){const L=vt(w,S).map(tn);return(0,Y.D)(L).pipe((0,P.U)(st))}}function Q(x){return null!=x?K(sn(x)):null}function H(x,S){return null===x?[S]:Array.isArray(x)?[...x,S]:[x,S]}function Z(x){return x._rawValidators}function ye(x){return x._rawAsyncValidators}function Ue(x){return x?Array.isArray(x)?x:[x]:[]}function ft(x,S){return Array.isArray(x)?x.includes(S):x===S}function et(x,S){const w=Ue(S);return Ue(x).forEach(ue=>{ft(w,ue)||w.push(ue)}),w}function Et(x,S){return Ue(S).filter(w=>!ft(x,w))}class Ut{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(S){this._rawValidators=S||[],this._composedValidatorFn=de(this._rawValidators)}_setAsyncValidators(S){this._rawAsyncValidators=S||[],this._composedAsyncValidatorFn=Q(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(S){this._onDestroyCallbacks.push(S)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(S=>S()),this._onDestroyCallbacks=[]}reset(S=void 0){this.control&&this.control.reset(S)}hasError(S,w){return!!this.control&&this.control.hasError(S,w)}getError(S,w){return this.control?this.control.getError(S,w):null}}class pt extends Ut{get formDirective(){return null}get path(){return null}}class Yt extends Ut{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ee{constructor(S){this._cd=S}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Ft=(()=>{class x extends Ee{constructor(w){super(w)}}return x.\u0275fac=function(w){return new(w||x)(d.Y36(Yt,2))},x.\u0275dir=d.lG2({type:x,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(w,L){2&w&&d.ekj("ng-untouched",L.isUntouched)("ng-touched",L.isTouched)("ng-pristine",L.isPristine)("ng-dirty",L.isDirty)("ng-valid",L.isValid)("ng-invalid",L.isInvalid)("ng-pending",L.isPending)},features:[d.qOj]}),x})(),qt=(()=>{class x extends Ee{constructor(w){super(w)}}return x.\u0275fac=function(w){return new(w||x)(d.Y36(pt,10))},x.\u0275dir=d.lG2({type:x,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(w,L){2&w&&d.ekj("ng-untouched",L.isUntouched)("ng-touched",L.isTouched)("ng-pristine",L.isPristine)("ng-dirty",L.isDirty)("ng-valid",L.isValid)("ng-invalid",L.isInvalid)("ng-pending",L.isPending)("ng-submitted",L.isSubmitted)},features:[d.qOj]}),x})();const Vn="VALID",$r="INVALID",Rt="PENDING",Gt="DISABLED";function Sn(x){return(Yn(x)?x.validators:x)||null}function Wn(x,S){return(Yn(S)?S.asyncValidators:x)||null}function Yn(x){return null!=x&&!Array.isArray(x)&&"object"==typeof x}function ko(x,S,w){const L=x.controls;if(!(S?Object.keys(L):L).length)throw new d.vHH(1e3,"");if(!L[w])throw new d.vHH(1001,"")}function ho(x,S,w){x._forEachChild((L,ue)=>{if(void 0===w[ue])throw new d.vHH(1002,"")})}class po{constructor(S,w){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(S),this._assignAsyncValidators(w)}get validator(){return this._composedValidatorFn}set validator(S){this._rawValidators=this._composedValidatorFn=S}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(S){this._rawAsyncValidators=this._composedAsyncValidatorFn=S}get parent(){return this._parent}get valid(){return this.status===Vn}get invalid(){return this.status===$r}get pending(){return this.status==Rt}get disabled(){return this.status===Gt}get enabled(){return this.status!==Gt}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(S){this._assignValidators(S)}setAsyncValidators(S){this._assignAsyncValidators(S)}addValidators(S){this.setValidators(et(S,this._rawValidators))}addAsyncValidators(S){this.setAsyncValidators(et(S,this._rawAsyncValidators))}removeValidators(S){this.setValidators(Et(S,this._rawValidators))}removeAsyncValidators(S){this.setAsyncValidators(Et(S,this._rawAsyncValidators))}hasValidator(S){return ft(this._rawValidators,S)}hasAsyncValidator(S){return ft(this._rawAsyncValidators,S)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(S={}){this.touched=!0,this._parent&&!S.onlySelf&&this._parent.markAsTouched(S)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(S=>S.markAllAsTouched())}markAsUntouched(S={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(w=>{w.markAsUntouched({onlySelf:!0})}),this._parent&&!S.onlySelf&&this._parent._updateTouched(S)}markAsDirty(S={}){this.pristine=!1,this._parent&&!S.onlySelf&&this._parent.markAsDirty(S)}markAsPristine(S={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(w=>{w.markAsPristine({onlySelf:!0})}),this._parent&&!S.onlySelf&&this._parent._updatePristine(S)}markAsPending(S={}){this.status=Rt,!1!==S.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!S.onlySelf&&this._parent.markAsPending(S)}disable(S={}){const w=this._parentMarkedDirty(S.onlySelf);this.status=Gt,this.errors=null,this._forEachChild(L=>{L.disable({...S,onlySelf:!0})}),this._updateValue(),!1!==S.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...S,skipPristineCheck:w}),this._onDisabledChange.forEach(L=>L(!0))}enable(S={}){const w=this._parentMarkedDirty(S.onlySelf);this.status=Vn,this._forEachChild(L=>{L.enable({...S,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:S.emitEvent}),this._updateAncestors({...S,skipPristineCheck:w}),this._onDisabledChange.forEach(L=>L(!1))}_updateAncestors(S){this._parent&&!S.onlySelf&&(this._parent.updateValueAndValidity(S),S.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(S){this._parent=S}getRawValue(){return this.value}updateValueAndValidity(S={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Vn||this.status===Rt)&&this._runAsyncValidator(S.emitEvent)),!1!==S.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!S.onlySelf&&this._parent.updateValueAndValidity(S)}_updateTreeValidity(S={emitEvent:!0}){this._forEachChild(w=>w._updateTreeValidity(S)),this.updateValueAndValidity({onlySelf:!0,emitEvent:S.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Gt:Vn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(S){if(this.asyncValidator){this.status=Rt,this._hasOwnPendingAsyncValidator=!0;const w=tn(this.asyncValidator(this));this._asyncValidationSubscription=w.subscribe(L=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(L,{emitEvent:S})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(S,w={}){this.errors=S,this._updateControlsErrors(!1!==w.emitEvent)}get(S){let w=S;return null==w||(Array.isArray(w)||(w=w.split(".")),0===w.length)?null:w.reduce((L,ue)=>L&&L._find(ue),this)}getError(S,w){const L=w?this.get(w):this;return L&&L.errors?L.errors[S]:null}hasError(S,w){return!!this.getError(S,w)}get root(){let S=this;for(;S._parent;)S=S._parent;return S}_updateControlsErrors(S){this.status=this._calculateStatus(),S&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(S)}_initObservables(){this.valueChanges=new d.vpe,this.statusChanges=new d.vpe}_calculateStatus(){return this._allControlsDisabled()?Gt:this.errors?$r:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Rt)?Rt:this._anyControlsHaveStatus($r)?$r:Vn}_anyControlsHaveStatus(S){return this._anyControls(w=>w.status===S)}_anyControlsDirty(){return this._anyControls(S=>S.dirty)}_anyControlsTouched(){return this._anyControls(S=>S.touched)}_updatePristine(S={}){this.pristine=!this._anyControlsDirty(),this._parent&&!S.onlySelf&&this._parent._updatePristine(S)}_updateTouched(S={}){this.touched=this._anyControlsTouched(),this._parent&&!S.onlySelf&&this._parent._updateTouched(S)}_registerOnCollectionChange(S){this._onCollectionChange=S}_setUpdateStrategy(S){Yn(S)&&null!=S.updateOn&&(this._updateOn=S.updateOn)}_parentMarkedDirty(S){return!S&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(S){return null}_assignValidators(S){this._rawValidators=Array.isArray(S)?S.slice():S,this._composedValidatorFn=function to(x){return Array.isArray(x)?de(x):x||null}(this._rawValidators)}_assignAsyncValidators(S){this._rawAsyncValidators=Array.isArray(S)?S.slice():S,this._composedAsyncValidatorFn=function nr(x){return Array.isArray(x)?Q(x):x||null}(this._rawAsyncValidators)}}class fe extends po{constructor(S,w,L){super(Sn(w),Wn(L,w)),this.controls=S,this._initObservables(),this._setUpdateStrategy(w),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(S,w){return this.controls[S]?this.controls[S]:(this.controls[S]=w,w.setParent(this),w._registerOnCollectionChange(this._onCollectionChange),w)}addControl(S,w,L={}){this.registerControl(S,w),this.updateValueAndValidity({emitEvent:L.emitEvent}),this._onCollectionChange()}removeControl(S,w={}){this.controls[S]&&this.controls[S]._registerOnCollectionChange(()=>{}),delete this.controls[S],this.updateValueAndValidity({emitEvent:w.emitEvent}),this._onCollectionChange()}setControl(S,w,L={}){this.controls[S]&&this.controls[S]._registerOnCollectionChange(()=>{}),delete this.controls[S],w&&this.registerControl(S,w),this.updateValueAndValidity({emitEvent:L.emitEvent}),this._onCollectionChange()}contains(S){return this.controls.hasOwnProperty(S)&&this.controls[S].enabled}setValue(S,w={}){ho(this,0,S),Object.keys(S).forEach(L=>{ko(this,!0,L),this.controls[L].setValue(S[L],{onlySelf:!0,emitEvent:w.emitEvent})}),this.updateValueAndValidity(w)}patchValue(S,w={}){null!=S&&(Object.keys(S).forEach(L=>{const ue=this.controls[L];ue&&ue.patchValue(S[L],{onlySelf:!0,emitEvent:w.emitEvent})}),this.updateValueAndValidity(w))}reset(S={},w={}){this._forEachChild((L,ue)=>{L.reset(S[ue],{onlySelf:!0,emitEvent:w.emitEvent})}),this._updatePristine(w),this._updateTouched(w),this.updateValueAndValidity(w)}getRawValue(){return this._reduceChildren({},(S,w,L)=>(S[L]=w.getRawValue(),S))}_syncPendingControls(){let S=this._reduceChildren(!1,(w,L)=>!!L._syncPendingControls()||w);return S&&this.updateValueAndValidity({onlySelf:!0}),S}_forEachChild(S){Object.keys(this.controls).forEach(w=>{const L=this.controls[w];L&&S(L,w)})}_setUpControls(){this._forEachChild(S=>{S.setParent(this),S._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(S){for(const[w,L]of Object.entries(this.controls))if(this.contains(w)&&S(L))return!0;return!1}_reduceValue(){return this._reduceChildren({},(w,L,ue)=>((L.enabled||this.disabled)&&(w[ue]=L.value),w))}_reduceChildren(S,w){let L=S;return this._forEachChild((ue,qe)=>{L=w(L,ue,qe)}),L}_allControlsDisabled(){for(const S of Object.keys(this.controls))if(this.controls[S].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(S){return this.controls.hasOwnProperty(S)?this.controls[S]:null}}class te extends fe{}const Ge=new d.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>gt}),gt="always";function mt(x,S){return[...S.path,x]}function Lt(x,S,w=gt){ge(x,S),S.valueAccessor.writeValue(x.value),(x.disabled||"always"===w)&&S.valueAccessor.setDisabledState?.(x.disabled),function X(x,S){S.valueAccessor.registerOnChange(w=>{x._pendingValue=w,x._pendingChange=!0,x._pendingDirty=!0,"change"===x.updateOn&&je(x,S)})}(x,S),function Xe(x,S){const w=(L,ue)=>{S.valueAccessor.writeValue(L),ue&&S.viewToModelUpdate(L)};x.registerOnChange(w),S._registerOnDestroy(()=>{x._unregisterOnChange(w)})}(x,S),function Oe(x,S){S.valueAccessor.registerOnTouched(()=>{x._pendingTouched=!0,"blur"===x.updateOn&&x._pendingChange&&je(x,S),"submit"!==x.updateOn&&x.markAsTouched()})}(x,S),function Er(x,S){if(S.valueAccessor.setDisabledState){const w=L=>{S.valueAccessor.setDisabledState(L)};x.registerOnDisabledChange(w),S._registerOnDestroy(()=>{x._unregisterOnDisabledChange(w)})}}(x,S)}function yn(x,S,w=!0){const L=()=>{};S.valueAccessor&&(S.valueAccessor.registerOnChange(L),S.valueAccessor.registerOnTouched(L)),W(x,S),x&&(S._invokeOnDestroyCallbacks(),x._registerOnCollectionChange(()=>{}))}function In(x,S){x.forEach(w=>{w.registerOnValidatorChange&&w.registerOnValidatorChange(S)})}function ge(x,S){const w=Z(x);null!==S.validator?x.setValidators(H(w,S.validator)):"function"==typeof w&&x.setValidators([w]);const L=ye(x);null!==S.asyncValidator?x.setAsyncValidators(H(L,S.asyncValidator)):"function"==typeof L&&x.setAsyncValidators([L]);const ue=()=>x.updateValueAndValidity();In(S._rawValidators,ue),In(S._rawAsyncValidators,ue)}function W(x,S){let w=!1;if(null!==x){if(null!==S.validator){const ue=Z(x);if(Array.isArray(ue)&&ue.length>0){const qe=ue.filter(en=>en!==S.validator);qe.length!==ue.length&&(w=!0,x.setValidators(qe))}}if(null!==S.asyncValidator){const ue=ye(x);if(Array.isArray(ue)&&ue.length>0){const qe=ue.filter(en=>en!==S.asyncValidator);qe.length!==ue.length&&(w=!0,x.setAsyncValidators(qe))}}}const L=()=>{};return In(S._rawValidators,L),In(S._rawAsyncValidators,L),w}function je(x,S){x._pendingDirty&&x.markAsDirty(),x.setValue(x._pendingValue,{emitModelToViewChange:!1}),S.viewToModelUpdate(x._pendingValue),x._pendingChange=!1}function Cn(x,S){if(!x.hasOwnProperty("model"))return!1;const w=x.model;return!!w.isFirstChange()||!Object.is(S,w.currentValue)}function nn(x,S){if(!S)return null;let w,L,ue;return Array.isArray(S),S.forEach(qe=>{qe.constructor===Fe?w=qe:function hn(x){return Object.getPrototypeOf(x.constructor)===ne}(qe)?L=qe:ue=qe}),ue||L||w||null}function go(x,S){const w=x.indexOf(S);w>-1&&x.splice(w,1)}function Fo(x){return"object"==typeof x&&null!==x&&2===Object.keys(x).length&&"value"in x&&"disabled"in x}const Lo=class extends po{constructor(S=null,w,L){super(Sn(w),Wn(L,w)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(S),this._setUpdateStrategy(w),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Yn(w)&&(w.nonNullable||w.initialValueIsDefault)&&(this.defaultValue=Fo(S)?S.value:S)}setValue(S,w={}){this.value=this._pendingValue=S,this._onChange.length&&!1!==w.emitModelToViewChange&&this._onChange.forEach(L=>L(this.value,!1!==w.emitViewToModelChange)),this.updateValueAndValidity(w)}patchValue(S,w={}){this.setValue(S,w)}reset(S=this.defaultValue,w={}){this._applyFormState(S),this.markAsPristine(w),this.markAsUntouched(w),this.setValue(this.value,w),this._pendingChange=!1}_updateValue(){}_anyControls(S){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(S){this._onChange.push(S)}_unregisterOnChange(S){go(this._onChange,S)}registerOnDisabledChange(S){this._onDisabledChange.push(S)}_unregisterOnDisabledChange(S){go(this._onDisabledChange,S)}_forEachChild(S){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(S){Fo(S)?(this.value=this._pendingValue=S.value,S.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=S}},ss={provide:Yt,useExisting:(0,d.Gpc)(()=>Jn)},as=(()=>Promise.resolve())();let Jn=(()=>{class x extends Yt{constructor(w,L,ue,qe,en,Dr){super(),this._changeDetectorRef=en,this.callSetDisabledState=Dr,this.control=new Lo,this._registered=!1,this.name="",this.update=new d.vpe,this._parent=w,this._setValidators(L),this._setAsyncValidators(ue),this.valueAccessor=nn(0,qe)}ngOnChanges(w){if(this._checkForErrors(),!this._registered||"name"in w){if(this._registered&&(this._checkName(),this.formDirective)){const L=w.name.previousValue;this.formDirective.removeControl({name:L,path:this._getPath(L)})}this._setUpControl()}"isDisabled"in w&&this._updateDisabled(w),Cn(w,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(w){this.viewModel=w,this.update.emit(w)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Lt(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(w){as.then(()=>{this.control.setValue(w,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(w){const L=w.isDisabled.currentValue,ue=0!==L&&(0,d.VuI)(L);as.then(()=>{ue&&!this.control.disabled?this.control.disable():!ue&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(w){return this._parent?mt(w,this._parent):[w]}}return x.\u0275fac=function(w){return new(w||x)(d.Y36(pt,9),d.Y36(it,10),d.Y36(Ct,10),d.Y36(Se,10),d.Y36(d.sBO,8),d.Y36(Ge,8))},x.\u0275dir=d.lG2({type:x,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[d._Bn([ss]),d.qOj,d.TTD]}),x})(),Fi=(()=>{class x{}return x.\u0275fac=function(w){return new(w||x)},x.\u0275dir=d.lG2({type:x,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),x})(),mo=(()=>{class x{}return x.\u0275fac=function(w){return new(w||x)},x.\u0275mod=d.oAB({type:x}),x.\u0275inj=d.cJS({}),x})();const Hn=new d.OlP("NgModelWithFormControlWarning"),oi={provide:pt,useExisting:(0,d.Gpc)(()=>yo)};let yo=(()=>{class x extends pt{constructor(w,L,ue){super(),this.callSetDisabledState=ue,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new d.vpe,this._setValidators(w),this._setAsyncValidators(L)}ngOnChanges(w){this._checkFormPresent(),w.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(W(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(w){const L=this.form.get(w.path);return Lt(L,w,this.callSetDisabledState),L.updateValueAndValidity({emitEvent:!1}),this.directives.push(w),L}getControl(w){return this.form.get(w.path)}removeControl(w){yn(w.control||null,w,!1),function Tr(x,S){const w=x.indexOf(S);w>-1&&x.splice(w,1)}(this.directives,w)}addFormGroup(w){this._setUpFormContainer(w)}removeFormGroup(w){this._cleanUpFormContainer(w)}getFormGroup(w){return this.form.get(w.path)}addFormArray(w){this._setUpFormContainer(w)}removeFormArray(w){this._cleanUpFormContainer(w)}getFormArray(w){return this.form.get(w.path)}updateModel(w,L){this.form.get(w.path).setValue(L)}onSubmit(w){return this.submitted=!0,function Xt(x,S){x._syncPendingControls(),S.forEach(w=>{const L=w.control;"submit"===L.updateOn&&L._pendingChange&&(w.viewToModelUpdate(L._pendingValue),L._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(w),"dialog"===w?.target?.method}onReset(){this.resetForm()}resetForm(w=void 0){this.form.reset(w),this.submitted=!1}_updateDomValue(){this.directives.forEach(w=>{const L=w.control,ue=this.form.get(w.path);L!==ue&&(yn(L||null,w),(x=>x instanceof Lo)(ue)&&(Lt(ue,w,this.callSetDisabledState),w.control=ue))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(w){const L=this.form.get(w.path);(function Me(x,S){ge(x,S)})(L,w),L.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(w){if(this.form){const L=this.form.get(w.path);L&&function Tt(x,S){return W(x,S)}(L,w)&&L.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ge(this.form,this),this._oldForm&&W(this._oldForm,this)}_checkFormPresent(){}}return x.\u0275fac=function(w){return new(w||x)(d.Y36(it,10),d.Y36(Ct,10),d.Y36(Ge,8))},x.\u0275dir=d.lG2({type:x,selectors:[["","formGroup",""]],hostBindings:function(w,L){1&w&&d.NdJ("submit",function(qe){return L.onSubmit(qe)})("reset",function(){return L.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([oi]),d.qOj,d.TTD]}),x})();const Je={provide:Yt,useExisting:(0,d.Gpc)(()=>mn)};let mn=(()=>{class x extends Yt{set isDisabled(w){}constructor(w,L,ue,qe,en){super(),this._ngModelWarningConfig=en,this._added=!1,this.name=null,this.update=new d.vpe,this._ngModelWarningSent=!1,this._parent=w,this._setValidators(L),this._setAsyncValidators(ue),this.valueAccessor=nn(0,qe)}ngOnChanges(w){this._added||this._setUpControl(),Cn(w,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(w){this.viewModel=w,this.update.emit(w)}get path(){return mt(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return x._ngModelWarningSentOnce=!1,x.\u0275fac=function(w){return new(w||x)(d.Y36(pt,13),d.Y36(it,10),d.Y36(Ct,10),d.Y36(Se,10),d.Y36(Hn,8))},x.\u0275dir=d.lG2({type:x,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[d._Bn([Je]),d.qOj,d.TTD]}),x})(),Do=(()=>{class x{}return x.\u0275fac=function(w){return new(w||x)},x.\u0275mod=d.oAB({type:x}),x.\u0275inj=d.cJS({imports:[mo]}),x})();class kr extends po{constructor(S,w,L){super(Sn(w),Wn(L,w)),this.controls=S,this._initObservables(),this._setUpdateStrategy(w),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(S){return this.controls[this._adjustIndex(S)]}push(S,w={}){this.controls.push(S),this._registerControl(S),this.updateValueAndValidity({emitEvent:w.emitEvent}),this._onCollectionChange()}insert(S,w,L={}){this.controls.splice(S,0,w),this._registerControl(w),this.updateValueAndValidity({emitEvent:L.emitEvent})}removeAt(S,w={}){let L=this._adjustIndex(S);L<0&&(L=0),this.controls[L]&&this.controls[L]._registerOnCollectionChange(()=>{}),this.controls.splice(L,1),this.updateValueAndValidity({emitEvent:w.emitEvent})}setControl(S,w,L={}){let ue=this._adjustIndex(S);ue<0&&(ue=0),this.controls[ue]&&this.controls[ue]._registerOnCollectionChange(()=>{}),this.controls.splice(ue,1),w&&(this.controls.splice(ue,0,w),this._registerControl(w)),this.updateValueAndValidity({emitEvent:L.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(S,w={}){ho(this,0,S),S.forEach((L,ue)=>{ko(this,!1,ue),this.at(ue).setValue(L,{onlySelf:!0,emitEvent:w.emitEvent})}),this.updateValueAndValidity(w)}patchValue(S,w={}){null!=S&&(S.forEach((L,ue)=>{this.at(ue)&&this.at(ue).patchValue(L,{onlySelf:!0,emitEvent:w.emitEvent})}),this.updateValueAndValidity(w))}reset(S=[],w={}){this._forEachChild((L,ue)=>{L.reset(S[ue],{onlySelf:!0,emitEvent:w.emitEvent})}),this._updatePristine(w),this._updateTouched(w),this.updateValueAndValidity(w)}getRawValue(){return this.controls.map(S=>S.getRawValue())}clear(S={}){this.controls.length<1||(this._forEachChild(w=>w._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:S.emitEvent}))}_adjustIndex(S){return S<0?S+this.length:S}_syncPendingControls(){let S=this.controls.reduce((w,L)=>!!L._syncPendingControls()||w,!1);return S&&this.updateValueAndValidity({onlySelf:!0}),S}_forEachChild(S){this.controls.forEach((w,L)=>{S(w,L)})}_updateValue(){this.value=this.controls.filter(S=>S.enabled||this.disabled).map(S=>S.value)}_anyControls(S){return this.controls.some(w=>w.enabled&&S(w))}_setUpControls(){this._forEachChild(S=>this._registerControl(S))}_allControlsDisabled(){for(const S of this.controls)if(S.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(S){S.setParent(this),S._registerOnCollectionChange(this._onCollectionChange)}_find(S){return this.at(S)??null}}function ii(x){return!!x&&(void 0!==x.asyncValidators||void 0!==x.validators||void 0!==x.updateOn)}let vr=(()=>{class x{constructor(){this.useNonNullable=!1}get nonNullable(){const w=new x;return w.useNonNullable=!0,w}group(w,L=null){const ue=this._reduceControls(w);let qe={};return ii(L)?qe=L:null!==L&&(qe.validators=L.validator,qe.asyncValidators=L.asyncValidator),new fe(ue,qe)}record(w,L=null){const ue=this._reduceControls(w);return new te(ue,L)}control(w,L,ue){let qe={};return this.useNonNullable?(ii(L)?qe=L:(qe.validators=L,qe.asyncValidators=ue),new Lo(w,{...qe,nonNullable:!0})):new Lo(w,L,ue)}array(w,L,ue){const qe=w.map(en=>this._createControl(en));return new kr(qe,L,ue)}_reduceControls(w){const L={};return Object.keys(w).forEach(ue=>{L[ue]=this._createControl(w[ue])}),L}_createControl(w){return w instanceof Lo||w instanceof po?w:Array.isArray(w)?this.control(w[0],w.length>1?w[1]:null,w.length>2?w[2]:null):this.control(w)}}return x.\u0275fac=function(w){return new(w||x)},x.\u0275prov=d.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})(),Go=(()=>{class x{static withConfig(w){return{ngModule:x,providers:[{provide:Ge,useValue:w.callSetDisabledState??gt}]}}}return x.\u0275fac=function(w){return new(w||x)},x.\u0275mod=d.oAB({type:x}),x.\u0275inj=d.cJS({imports:[Do]}),x})(),us=(()=>{class x{static withConfig(w){return{ngModule:x,providers:[{provide:Hn,useValue:w.warnOnNgModelWithFormControl??"always"},{provide:Ge,useValue:w.callSetDisabledState??gt}]}}}return x.\u0275fac=function(w){return new(w||x)},x.\u0275mod=d.oAB({type:x}),x.\u0275inj=d.cJS({imports:[Do]}),x})()},6593:(dt,Ce,R)=>{R.d(Ce,{Dx:()=>an,H7:()=>$r,b2:()=>Te,q6:()=>Ut});var d=R(9291),G=R(6814);class le extends G.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Y extends le{static makeCurrent(){(0,G.HT)(new Y)}onAndCancel(re,$,te){return re.addEventListener($,te),()=>{re.removeEventListener($,te)}}dispatchEvent(re,$){re.dispatchEvent($)}remove(re){re.parentNode&&re.parentNode.removeChild(re)}createElement(re,$){return($=$||this.getDefaultDocument()).createElement(re)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(re){return re.nodeType===Node.ELEMENT_NODE}isShadowRoot(re){return re instanceof DocumentFragment}getGlobalEventTarget(re,$){return"window"===$?window:"document"===$?re:"body"===$?re.body:null}getBaseHref(re){const $=function ve(){return P=P||document.querySelector("base"),P?P.getAttribute("href"):null}();return null==$?null:function Se(fe){ne=ne||document.createElement("a"),ne.setAttribute("href",fe);const re=ne.pathname;return"/"===re.charAt(0)?re:`/${re}`}($)}resetBaseElement(){P=null}getUserAgent(){return window.navigator.userAgent}getCookie(re){return(0,G.Mx)(document.cookie,re)}}let ne,P=null,_e=(()=>{class fe{build(){return new XMLHttpRequest}}return fe.\u0275fac=function($){return new($||fe)},fe.\u0275prov=d.Yz7({token:fe,factory:fe.\u0275fac}),fe})();const pe=new d.OlP("EventManagerPlugins");let Ae=(()=>{class fe{constructor($,te){this._zone=te,this._eventNameToPlugin=new Map,$.forEach(Le=>{Le.manager=this}),this._plugins=$.slice().reverse()}addEventListener($,te,Le){return this._findPluginFor(te).addEventListener($,te,Le)}getZone(){return this._zone}_findPluginFor($){let te=this._eventNameToPlugin.get($);if(te)return te;if(te=this._plugins.find(Ge=>Ge.supports($)),!te)throw new d.vHH(5101,!1);return this._eventNameToPlugin.set($,te),te}}return fe.\u0275fac=function($){return new($||fe)(d.LFG(pe),d.LFG(d.R0b))},fe.\u0275prov=d.Yz7({token:fe,factory:fe.\u0275fac}),fe})();class Qe{constructor(re){this._doc=re}}const Fe="ng-app-id";let $e=(()=>{class fe{constructor($,te,Le,Ge={}){this.doc=$,this.appId=te,this.nonce=Le,this.platformId=Ge,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,G.PM)(Ge),this.resetHostNodes()}addStyles($){for(const te of $)1===this.changeUsageCount(te,1)&&this.onStyleAdded(te)}removeStyles($){for(const te of $)this.changeUsageCount(te,-1)<=0&&this.onStyleRemoved(te)}ngOnDestroy(){const $=this.styleNodesInDOM;$&&($.forEach(te=>te.remove()),$.clear());for(const te of this.getAllStyles())this.onStyleRemoved(te);this.resetHostNodes()}addHost($){this.hostNodes.add($);for(const te of this.getAllStyles())this.addStyleToHost($,te)}removeHost($){this.hostNodes.delete($)}getAllStyles(){return this.styleRef.keys()}onStyleAdded($){for(const te of this.hostNodes)this.addStyleToHost(te,$)}onStyleRemoved($){const te=this.styleRef;te.get($)?.elements?.forEach(Le=>Le.remove()),te.delete($)}collectServerRenderedStyles(){const $=this.doc.head?.querySelectorAll(`style[${Fe}="${this.appId}"]`);if($?.length){const te=new Map;return $.forEach(Le=>{null!=Le.textContent&&te.set(Le.textContent,Le)}),te}return null}changeUsageCount($,te){const Le=this.styleRef;if(Le.has($)){const Ge=Le.get($);return Ge.usage+=te,Ge.usage}return Le.set($,{usage:te,elements:[]}),te}getStyleElement($,te){const Le=this.styleNodesInDOM,Ge=Le?.get(te);if(Ge?.parentNode===$)return Le.delete(te),Ge.removeAttribute(Fe),Ge;{const gt=this.doc.createElement("style");return this.nonce&&gt.setAttribute("nonce",this.nonce),gt.textContent=te,this.platformIsServer&&gt.setAttribute(Fe,this.appId),gt}}addStyleToHost($,te){const Le=this.getStyleElement($,te);$.appendChild(Le);const Ge=this.styleRef,gt=Ge.get(te)?.elements;gt?gt.push(Le):Ge.set(te,{elements:[Le],usage:1})}resetHostNodes(){const $=this.hostNodes;$.clear(),$.add(this.doc.head)}}return fe.\u0275fac=function($){return new($||fe)(d.LFG(G.K0),d.LFG(d.AFp),d.LFG(d.Ojb,8),d.LFG(d.Lbi))},fe.\u0275prov=d.Yz7({token:fe,factory:fe.\u0275fac}),fe})();const lt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},it=/%COMP%/g,Pe=new d.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function he(fe,re){return re.map($=>$.replace(it,fe))}let ie=(()=>{class fe{constructor($,te,Le,Ge,gt,mt,Lt,yn=null){this.eventManager=$,this.sharedStylesHost=te,this.appId=Le,this.removeStylesOnCompDestroy=Ge,this.doc=gt,this.platformId=mt,this.ngZone=Lt,this.nonce=yn,this.rendererByCompId=new Map,this.platformIsServer=(0,G.PM)(mt),this.defaultRenderer=new ut($,gt,Lt,this.platformIsServer)}createRenderer($,te){if(!$||!te)return this.defaultRenderer;this.platformIsServer&&te.encapsulation===d.ifc.ShadowDom&&(te={...te,encapsulation:d.ifc.Emulated});const Le=this.getOrCreateRenderer($,te);return Le instanceof vt?Le.applyToHost($):Le instanceof st&&Le.applyStyles(),Le}getOrCreateRenderer($,te){const Le=this.rendererByCompId;let Ge=Le.get(te.id);if(!Ge){const gt=this.doc,mt=this.ngZone,Lt=this.eventManager,yn=this.sharedStylesHost,In=this.removeStylesOnCompDestroy,Er=this.platformIsServer;switch(te.encapsulation){case d.ifc.Emulated:Ge=new vt(Lt,yn,te,this.appId,In,gt,mt,Er);break;case d.ifc.ShadowDom:return new tn(Lt,yn,$,te,gt,mt,this.nonce,Er);default:Ge=new st(Lt,yn,te,In,gt,mt,Er)}Ge.onDestroy=()=>Le.delete(te.id),Le.set(te.id,Ge)}return Ge}ngOnDestroy(){this.rendererByCompId.clear()}}return fe.\u0275fac=function($){return new($||fe)(d.LFG(Ae),d.LFG($e),d.LFG(d.AFp),d.LFG(Pe),d.LFG(G.K0),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(d.Ojb))},fe.\u0275prov=d.Yz7({token:fe,factory:fe.\u0275fac}),fe})();class ut{constructor(re,$,te,Le){this.eventManager=re,this.doc=$,this.ngZone=te,this.platformIsServer=Le,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(re,$){return $?this.doc.createElementNS(lt[$]||$,re):this.doc.createElement(re)}createComment(re){return this.doc.createComment(re)}createText(re){return this.doc.createTextNode(re)}appendChild(re,$){(Ie(re)?re.content:re).appendChild($)}insertBefore(re,$,te){re&&(Ie(re)?re.content:re).insertBefore($,te)}removeChild(re,$){re&&re.removeChild($)}selectRootElement(re,$){let te="string"==typeof re?this.doc.querySelector(re):re;if(!te)throw new d.vHH(-5104,!1);return $||(te.textContent=""),te}parentNode(re){return re.parentNode}nextSibling(re){return re.nextSibling}setAttribute(re,$,te,Le){if(Le){$=Le+":"+$;const Ge=lt[Le];Ge?re.setAttributeNS(Ge,$,te):re.setAttribute($,te)}else re.setAttribute($,te)}removeAttribute(re,$,te){if(te){const Le=lt[te];Le?re.removeAttributeNS(Le,$):re.removeAttribute(`${te}:${$}`)}else re.removeAttribute($)}addClass(re,$){re.classList.add($)}removeClass(re,$){re.classList.remove($)}setStyle(re,$,te,Le){Le&(d.JOm.DashCase|d.JOm.Important)?re.style.setProperty($,te,Le&d.JOm.Important?"important":""):re.style[$]=te}removeStyle(re,$,te){te&d.JOm.DashCase?re.style.removeProperty($):re.style[$]=""}setProperty(re,$,te){re[$]=te}setValue(re,$){re.nodeValue=$}listen(re,$,te){if("string"==typeof re&&!(re=(0,G.q)().getGlobalEventTarget(this.doc,re)))throw new Error(`Unsupported event target ${re} for event ${$}`);return this.eventManager.addEventListener(re,$,this.decoratePreventDefault(te))}decoratePreventDefault(re){return $=>{if("__ngUnwrap__"===$)return re;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>re($)):re($))&&$.preventDefault()}}}function Ie(fe){return"TEMPLATE"===fe.tagName&&void 0!==fe.content}class tn extends ut{constructor(re,$,te,Le,Ge,gt,mt,Lt){super(re,Ge,gt,Lt),this.sharedStylesHost=$,this.hostEl=te,this.shadowRoot=te.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const yn=he(Le.id,Le.styles);for(const In of yn){const Er=document.createElement("style");mt&&Er.setAttribute("nonce",mt),Er.textContent=In,this.shadowRoot.appendChild(Er)}}nodeOrShadowRoot(re){return re===this.hostEl?this.shadowRoot:re}appendChild(re,$){return super.appendChild(this.nodeOrShadowRoot(re),$)}insertBefore(re,$,te){return super.insertBefore(this.nodeOrShadowRoot(re),$,te)}removeChild(re,$){return super.removeChild(this.nodeOrShadowRoot(re),$)}parentNode(re){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(re)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class st extends ut{constructor(re,$,te,Le,Ge,gt,mt,Lt){super(re,Ge,gt,mt),this.sharedStylesHost=$,this.removeStylesOnCompDestroy=Le,this.rendererUsageCount=0,this.styles=Lt?he(Lt,te.styles):te.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestroy&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class vt extends st{constructor(re,$,te,Le,Ge,gt,mt,Lt){const yn=Le+"-"+te.id;super(re,$,te,Ge,gt,mt,Lt,yn),this.contentAttr=function Ye(fe){return"_ngcontent-%COMP%".replace(it,fe)}(yn),this.hostAttr=function ze(fe){return"_nghost-%COMP%".replace(it,fe)}(yn)}applyToHost(re){this.applyStyles(),this.setAttribute(re,this.hostAttr,"")}createElement(re,$){const te=super.createElement(re,$);return super.setAttribute(te,this.contentAttr,""),te}}let gn=(()=>{class fe extends Qe{constructor($){super($)}supports($){return!0}addEventListener($,te,Le){return $.addEventListener(te,Le,!1),()=>this.removeEventListener($,te,Le)}removeEventListener($,te,Le){return $.removeEventListener(te,Le)}}return fe.\u0275fac=function($){return new($||fe)(d.LFG(G.K0))},fe.\u0275prov=d.Yz7({token:fe,factory:fe.\u0275fac}),fe})();const sn=["alt","control","meta","shift"],ce={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},de={alt:fe=>fe.altKey,control:fe=>fe.ctrlKey,meta:fe=>fe.metaKey,shift:fe=>fe.shiftKey};let K=(()=>{class fe extends Qe{constructor($){super($)}supports($){return null!=fe.parseEventName($)}addEventListener($,te,Le){const Ge=fe.parseEventName(te),gt=fe.eventCallback(Ge.fullKey,Le,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,G.q)().onAndCancel($,Ge.domEventName,gt))}static parseEventName($){const te=$.toLowerCase().split("."),Le=te.shift();if(0===te.length||"keydown"!==Le&&"keyup"!==Le)return null;const Ge=fe._normalizeKey(te.pop());let gt="",mt=te.indexOf("code");if(mt>-1&&(te.splice(mt,1),gt="code."),sn.forEach(yn=>{const In=te.indexOf(yn);In>-1&&(te.splice(In,1),gt+=yn+".")}),gt+=Ge,0!=te.length||0===Ge.length)return null;const Lt={};return Lt.domEventName=Le,Lt.fullKey=gt,Lt}static matchEventFullKeyCode($,te){let Le=ce[$.key]||$.key,Ge="";return te.indexOf("code.")>-1&&(Le=$.code,Ge="code."),!(null==Le||!Le)&&(Le=Le.toLowerCase()," "===Le?Le="space":"."===Le&&(Le="dot"),sn.forEach(gt=>{gt!==Le&&(0,de[gt])($)&&(Ge+=gt+".")}),Ge+=Le,Ge===te)}static eventCallback($,te,Le){return Ge=>{fe.matchEventFullKeyCode(Ge,$)&&Le.runGuarded(()=>te(Ge))}}static _normalizeKey($){return"esc"===$?"escape":$}}return fe.\u0275fac=function($){return new($||fe)(d.LFG(G.K0))},fe.\u0275prov=d.Yz7({token:fe,factory:fe.\u0275fac}),fe})();const Ut=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:G.bD},{provide:d.g9A,useValue:function Ue(){Y.makeCurrent()},multi:!0},{provide:G.K0,useFactory:function et(){return(0,d.RDi)(document),document},deps:[]}]),pt=new d.OlP(""),Yt=[{provide:d.rWj,useClass:class we{addToWindow(re){d.dqk.getAngularTestability=(te,Le=!0)=>{const Ge=re.findTestabilityInTree(te,Le);if(null==Ge)throw new d.vHH(5103,!1);return Ge},d.dqk.getAllAngularTestabilities=()=>re.getAllTestabilities(),d.dqk.getAllAngularRootElements=()=>re.getAllRootElements(),d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push(te=>{const Le=d.dqk.getAllAngularTestabilities();let Ge=Le.length,gt=!1;const mt=function(Lt){gt=gt||Lt,Ge--,0==Ge&&te(gt)};Le.forEach(Lt=>{Lt.whenStable(mt)})})}findTestabilityInTree(re,$,te){return null==$?null:re.getTestability($)??(te?(0,G.q)().isShadowRoot($)?this.findTestabilityInTree(re,$.host,!0):this.findTestabilityInTree(re,$.parentElement,!0):null)}},deps:[]},{provide:d.lri,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]}],Ee=[{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function ft(){return new d.qLn},deps:[]},{provide:pe,useClass:gn,multi:!0,deps:[G.K0,d.R0b,d.Lbi]},{provide:pe,useClass:K,multi:!0,deps:[G.K0]},ie,$e,Ae,{provide:d.FYo,useExisting:ie},{provide:G.JF,useClass:_e,deps:[]},[]];let Te=(()=>{class fe{constructor($){}static withServerTransition($){return{ngModule:fe,providers:[{provide:d.AFp,useValue:$.appId}]}}}return fe.\u0275fac=function($){return new($||fe)(d.LFG(pt,12))},fe.\u0275mod=d.oAB({type:fe}),fe.\u0275inj=d.cJS({providers:[...Ee,...Yt],imports:[G.ez,d.hGG]}),fe})(),an=(()=>{class fe{constructor($){this._doc=$}getTitle(){return this._doc.title}setTitle($){this._doc.title=$||""}}return fe.\u0275fac=function($){return new($||fe)(d.LFG(G.K0))},fe.\u0275prov=d.Yz7({token:fe,factory:function($){let te=null;return te=$?new $:function Kn(){return new an((0,d.LFG)(G.K0))}(),te},providedIn:"root"}),fe})();typeof window<"u"&&window;let $r=(()=>{class fe{}return fe.\u0275fac=function($){return new($||fe)},fe.\u0275prov=d.Yz7({token:fe,factory:function($){let te=null;return te=$?new($||fe):d.LFG(Gt),te},providedIn:"root"}),fe})(),Gt=(()=>{class fe extends $r{constructor($){super(),this._doc=$}sanitize($,te){if(null==te)return null;switch($){case d.q3G.NONE:return te;case d.q3G.HTML:return(0,d.qzn)(te,"HTML")?(0,d.z3N)(te):(0,d.EiD)(this._doc,String(te)).toString();case d.q3G.STYLE:return(0,d.qzn)(te,"Style")?(0,d.z3N)(te):te;case d.q3G.SCRIPT:if((0,d.qzn)(te,"Script"))return(0,d.z3N)(te);throw new d.vHH(5200,!1);case d.q3G.URL:return(0,d.qzn)(te,"URL")?(0,d.z3N)(te):(0,d.mCW)(String(te));case d.q3G.RESOURCE_URL:if((0,d.qzn)(te,"ResourceURL"))return(0,d.z3N)(te);throw new d.vHH(5201,!1);default:throw new d.vHH(5202,!1)}}bypassSecurityTrustHtml($){return(0,d.JVY)($)}bypassSecurityTrustStyle($){return(0,d.L6k)($)}bypassSecurityTrustScript($){return(0,d.eBb)($)}bypassSecurityTrustUrl($){return(0,d.LAX)($)}bypassSecurityTrustResourceUrl($){return(0,d.pB0)($)}}return fe.\u0275fac=function($){return new($||fe)(d.LFG(G.K0))},fe.\u0275prov=d.Yz7({token:fe,factory:function($){let te=null;return te=$?new $:function Rt(fe){return new Gt(fe.get(G.K0))}(d.LFG(d.zs3)),te},providedIn:"root"}),fe})()},9113:(dt,Ce,R)=>{R.d(Ce,{gz:()=>Je,m2:()=>wr,F0:()=>Xr,rH:()=>gs,Bz:()=>zs,lC:()=>It,eV:()=>Kt});var d=R(9291),G=R(2664),le=R(7715),Y=R(2096),P=R(5619),ve=R(5592),ne=R(7453),Se=R(2737),we=R(7400),_e=R(4564),pe=R(2714),Ae=R(8251),Qe=R(7103);function Fe(...y){const D=(0,_e.yG)(y),m=(0,_e.jO)(y),{args:E,keys:A}=(0,ne.D)(y);if(0===E.length)return(0,le.D)([],D);const V=new ve.y(function $e(y,D,m=Se.y){return E=>{lt(D,()=>{const{length:A}=y,V=new Array(A);let B=A,oe=A;for(let Re=0;Re<A;Re++)lt(D,()=>{const ot=(0,le.D)(y[Re],D);let yt=!1;ot.subscribe((0,Ae.x)(E,on=>{V[Re]=on,yt||(yt=!0,oe--),oe||E.next(m(V.slice()))},()=>{--B||E.complete()}))},E)},E)}}(E,D,A?B=>(0,pe.n)(A,B):Se.y));return m?V.pipe((0,we.Z)(m)):V}function lt(y,D,m){y?(0,Qe.f)(m,y,D):D()}const Ct=(0,R(2306).d)(y=>function(){y(this),this.name="EmptyError",this.message="no elements in sequence"});var rt=R(5211),be=R(4911),ke=R(8407),Pe=R(8504),Ye=R(6232),ze=R(7394),he=R(9360);function ie(){return(0,he.e)((y,D)=>{let m=null;y._refCount++;const E=(0,Ae.x)(D,void 0,void 0,void 0,()=>{if(!y||y._refCount<=0||0<--y._refCount)return void(m=null);const A=y._connection,V=m;m=null,A&&(!V||A===V)&&A.unsubscribe(),D.unsubscribe()});y.subscribe(E),E.closed||(m=y.connect())})}class ut extends ve.y{constructor(D,m){super(),this.source=D,this.subjectFactory=m,this._subject=null,this._refCount=0,this._connection=null,(0,he.A)(D)&&(this.lift=D.lift)}_subscribe(D){return this.getSubject().subscribe(D)}getSubject(){const D=this._subject;return(!D||D.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:D}=this;this._subject=this._connection=null,D?.unsubscribe()}connect(){let D=this._connection;if(!D){D=this._connection=new ze.w0;const m=this.getSubject();D.add(this.source.subscribe((0,Ae.x)(m,void 0,()=>{this._teardown(),m.complete()},E=>{this._teardown(),m.error(E)},()=>this._teardown()))),D.closed&&(this._connection=null,D=ze.w0.EMPTY)}return D}refCount(){return ie()(this)}}var Ke=R(8645),Ht=R(6814),Ie=R(7398),tn=R(4664),st=R(8180),gn=R(2181),sn=R(1631);function ce(y){return(0,he.e)((D,m)=>{let E=!1;D.subscribe((0,Ae.x)(m,A=>{E=!0,m.next(A)},()=>{E||m.next(y),m.complete()}))})}function de(y=K){return(0,he.e)((D,m)=>{let E=!1;D.subscribe((0,Ae.x)(m,A=>{E=!0,m.next(A)},()=>E?m.complete():m.error(y())))})}function K(){return new Ct}function Q(y,D){const m=arguments.length>=2;return E=>E.pipe(y?(0,gn.h)((A,V)=>y(A,V,E)):Se.y,(0,st.q)(1),m?ce(D):de(()=>new Ct))}var H=R(6328),Z=R(9397),ye=R(6306);function et(y){return y<=0?()=>Ye.E:(0,he.e)((D,m)=>{let E=[];D.subscribe((0,Ae.x)(m,A=>{E.push(A),y<E.length&&E.shift()},()=>{for(const A of E)m.next(A);m.complete()},void 0,()=>{E=null}))})}var pt=R(4716),Yt=R(7537),Ee=R(6593);const Te="primary",De=Symbol("RouteTitle");class Ft{constructor(D){this.params=D||{}}has(D){return Object.prototype.hasOwnProperty.call(this.params,D)}get(D){if(this.has(D)){const m=this.params[D];return Array.isArray(m)?m[0]:m}return null}getAll(D){if(this.has(D)){const m=this.params[D];return Array.isArray(m)?m:[m]}return[]}get keys(){return Object.keys(this.params)}}function qt(y){return new Ft(y)}function Kn(y,D,m){const E=m.path.split("/");if(E.length>y.length||"full"===m.pathMatch&&(D.hasChildren()||E.length<y.length))return null;const A={};for(let V=0;V<E.length;V++){const B=E[V],oe=y[V];if(B.startsWith(":"))A[B.substring(1)]=oe;else if(B!==oe.path)return null}return{consumed:y.slice(0,E.length),posParams:A}}function Mn(y,D){const m=y?Object.keys(y):void 0,E=D?Object.keys(D):void 0;if(!m||!E||m.length!=E.length)return!1;let A;for(let V=0;V<m.length;V++)if(A=m[V],!Tn(y[A],D[A]))return!1;return!0}function Tn(y,D){if(Array.isArray(y)&&Array.isArray(D)){if(y.length!==D.length)return!1;const m=[...y].sort(),E=[...D].sort();return m.every((A,V)=>E[V]===A)}return y===D}function cn(y){return y.length>0?y[y.length-1]:null}function ht(y){return(0,G.b)(y)?y:(0,d.QGY)(y)?(0,le.D)(Promise.resolve(y)):(0,Y.of)(y)}const Mt={exact:function tr(y,D,m){if(!Rt(y.segments,D.segments)||!jr(y.segments,D.segments,m)||y.numberOfChildren!==D.numberOfChildren)return!1;for(const E in D.children)if(!y.children[E]||!tr(y.children[E],D.children[E],m))return!1;return!0},subset:eo},Ro={exact:function Gn(y,D){return Mn(y,D)},subset:function Pn(y,D){return Object.keys(D).length<=Object.keys(y).length&&Object.keys(D).every(m=>Tn(y[m],D[m]))},ignored:()=>!0};function Ur(y,D,m){return Mt[m.paths](y.root,D.root,m.matrixParams)&&Ro[m.queryParams](y.queryParams,D.queryParams)&&!("exact"===m.fragment&&y.fragment!==D.fragment)}function eo(y,D,m){return nt(y,D,D.segments,m)}function nt(y,D,m,E){if(y.segments.length>m.length){const A=y.segments.slice(0,m.length);return!(!Rt(A,m)||D.hasChildren()||!jr(A,m,E))}if(y.segments.length===m.length){if(!Rt(y.segments,m)||!jr(y.segments,m,E))return!1;for(const A in D.children)if(!y.children[A]||!eo(y.children[A],D.children[A],E))return!1;return!0}{const A=m.slice(0,y.segments.length),V=m.slice(y.segments.length);return!!(Rt(y.segments,A)&&jr(y.segments,A,E)&&y.children[Te])&&nt(y.children[Te],D,V,E)}}function jr(y,D,m){return D.every((E,A)=>Ro[m](y[A].parameters,E.parameters))}class Nt{constructor(D=new St([],{}),m={},E=null){this.root=D,this.queryParams=m,this.fragment=E}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=qt(this.queryParams)),this._queryParamMap}toString(){return Wn.serialize(this)}}class St{constructor(D,m){this.segments=D,this.children=m,this.parent=null,Object.values(m).forEach(E=>E.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return nr(this)}}class Vn{constructor(D,m){this.path=D,this.parameters=m}get parameterMap(){return this._parameterMap||(this._parameterMap=qt(this.parameters)),this._parameterMap}toString(){return te(this)}}function Rt(y,D){return y.length===D.length&&y.every((m,E)=>m.path===D[E].path)}let Sn=(()=>{class y{}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=d.Yz7({token:y,factory:function(){return new to},providedIn:"root"}),y})();class to{parse(D){const m=new X(D);return new Nt(m.parseRootSegment(),m.parseQueryParams(),m.parseFragment())}serialize(D){const m=`/${Yn(D.root,!0)}`,E=function Ge(y){const D=Object.keys(y).map(m=>{const E=y[m];return Array.isArray(E)?E.map(A=>`${ho(m)}=${ho(A)}`).join("&"):`${ho(m)}=${ho(E)}`}).filter(m=>!!m);return D.length?`?${D.join("&")}`:""}(D.queryParams);return`${m}${E}${"string"==typeof D.fragment?`#${function po(y){return encodeURI(y)}(D.fragment)}`:""}`}}const Wn=new to;function nr(y){return y.segments.map(D=>te(D)).join("/")}function Yn(y,D){if(!y.hasChildren())return nr(y);if(D){const m=y.children[Te]?Yn(y.children[Te],!1):"",E=[];return Object.entries(y.children).forEach(([A,V])=>{A!==Te&&E.push(`${A}:${Yn(V,!1)}`)}),E.length>0?`${m}(${E.join("//")})`:m}{const m=function Gt(y,D){let m=[];return Object.entries(y.children).forEach(([E,A])=>{E===Te&&(m=m.concat(D(A,E)))}),Object.entries(y.children).forEach(([E,A])=>{E!==Te&&(m=m.concat(D(A,E)))}),m}(y,(E,A)=>A===Te?[Yn(y.children[Te],!1)]:[`${A}:${Yn(E,!1)}`]);return 1===Object.keys(y.children).length&&null!=y.children[Te]?`${nr(y)}/${m[0]}`:`${nr(y)}/(${m.join("//")})`}}function ko(y){return encodeURIComponent(y).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ho(y){return ko(y).replace(/%3B/gi,";")}function fe(y){return ko(y).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function re(y){return decodeURIComponent(y)}function $(y){return re(y.replace(/\+/g,"%20"))}function te(y){return`${fe(y.path)}${function Le(y){return Object.keys(y).map(D=>`;${fe(D)}=${fe(y[D])}`).join("")}(y.parameters)}`}const gt=/^[^\/()?;#]+/;function mt(y){const D=y.match(gt);return D?D[0]:""}const Lt=/^[^\/()?;=#]+/,In=/^[^=?&#]+/,ge=/^[^&#]+/;class X{constructor(D){this.url=D,this.remaining=D}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new St([],{}):new St([],this.parseChildren())}parseQueryParams(){const D={};if(this.consumeOptional("?"))do{this.parseQueryParam(D)}while(this.consumeOptional("&"));return D}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const D=[];for(this.peekStartsWith("(")||D.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),D.push(this.parseSegment());let m={};this.peekStartsWith("/(")&&(this.capture("/"),m=this.parseParens(!0));let E={};return this.peekStartsWith("(")&&(E=this.parseParens(!1)),(D.length>0||Object.keys(m).length>0)&&(E[Te]=new St(D,m)),E}parseSegment(){const D=mt(this.remaining);if(""===D&&this.peekStartsWith(";"))throw new d.vHH(4009,!1);return this.capture(D),new Vn(re(D),this.parseMatrixParams())}parseMatrixParams(){const D={};for(;this.consumeOptional(";");)this.parseParam(D);return D}parseParam(D){const m=function yn(y){const D=y.match(Lt);return D?D[0]:""}(this.remaining);if(!m)return;this.capture(m);let E="";if(this.consumeOptional("=")){const A=mt(this.remaining);A&&(E=A,this.capture(E))}D[re(m)]=re(E)}parseQueryParam(D){const m=function Er(y){const D=y.match(In);return D?D[0]:""}(this.remaining);if(!m)return;this.capture(m);let E="";if(this.consumeOptional("=")){const B=function W(y){const D=y.match(ge);return D?D[0]:""}(this.remaining);B&&(E=B,this.capture(E))}const A=$(m),V=$(E);if(D.hasOwnProperty(A)){let B=D[A];Array.isArray(B)||(B=[B],D[A]=B),B.push(V)}else D[A]=V}parseParens(D){const m={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const E=mt(this.remaining),A=this.remaining[E.length];if("/"!==A&&")"!==A&&";"!==A)throw new d.vHH(4010,!1);let V;E.indexOf(":")>-1?(V=E.slice(0,E.indexOf(":")),this.capture(V),this.capture(":")):D&&(V=Te);const B=this.parseChildren();m[V]=1===Object.keys(B).length?B[Te]:new St([],B),this.consumeOptional("//")}return m}peekStartsWith(D){return this.remaining.startsWith(D)}consumeOptional(D){return!!this.peekStartsWith(D)&&(this.remaining=this.remaining.substring(D.length),!0)}capture(D){if(!this.consumeOptional(D))throw new d.vHH(4011,!1)}}function Oe(y){return y.segments.length>0?new St([],{[Te]:y}):y}function je(y){const D={};for(const E of Object.keys(y.children)){const V=je(y.children[E]);if(E===Te&&0===V.segments.length&&V.hasChildren())for(const[B,oe]of Object.entries(V.children))D[B]=oe;else(V.segments.length>0||V.hasChildren())&&(D[E]=V)}return function Xe(y){if(1===y.numberOfChildren&&y.children[Te]){const D=y.children[Te];return new St(y.segments.concat(D.segments),D.children)}return y}(new St(y.segments,D))}function Me(y){return y instanceof Nt}function wt(y){let D;const A=Oe(function m(V){const B={};for(const Re of V.children){const ot=m(Re);B[Re.outlet]=ot}const oe=new St(V.url,B);return V===y&&(D=oe),oe}(y.root));return D??A}function fn(y,D,m,E){let A=y;for(;A.parent;)A=A.parent;if(0===D.length)return bn(A,A,A,m,E);const V=function Xt(y){if("string"==typeof y[0]&&1===y.length&&"/"===y[0])return new hn(!0,0,y);let D=0,m=!1;const E=y.reduce((A,V,B)=>{if("object"==typeof V&&null!=V){if(V.outlets){const oe={};return Object.entries(V.outlets).forEach(([Re,ot])=>{oe[Re]="string"==typeof ot?ot.split("/"):ot}),[...A,{outlets:oe}]}if(V.segmentPath)return[...A,V.segmentPath]}return"string"!=typeof V?[...A,V]:0===B?(V.split("/").forEach((oe,Re)=>{0==Re&&"."===oe||(0==Re&&""===oe?m=!0:".."===oe?D++:""!=oe&&A.push(oe))}),A):[...A,V]},[]);return new hn(m,D,E)}(D);if(V.toRoot())return bn(A,A,new St([],{}),m,E);const B=function Tr(y,D,m){if(y.isAbsolute)return new nn(D,!0,0);if(!m)return new nn(D,!1,NaN);if(null===m.parent)return new nn(m,!0,0);const E=Dn(y.commands[0])?0:1;return function zr(y,D,m){let E=y,A=D,V=m;for(;V>A;){if(V-=A,E=E.parent,!E)throw new d.vHH(4005,!1);A=E.segments.length}return new nn(E,!1,A-V)}(m,m.segments.length-1+E,y.numberOfDoubleDots)}(V,A,y),oe=B.processChildren?dr(B.segmentGroup,B.index,V.commands):Rn(B.segmentGroup,B.index,V.commands);return bn(A,B.segmentGroup,oe,m,E)}function Dn(y){return"object"==typeof y&&null!=y&&!y.outlets&&!y.segmentPath}function Jt(y){return"object"==typeof y&&null!=y&&y.outlets}function bn(y,D,m,E,A){let B,V={};E&&Object.entries(E).forEach(([Re,ot])=>{V[Re]=Array.isArray(ot)?ot.map(yt=>`${yt}`):`${ot}`}),B=y===D?m:Cn(y,D,m);const oe=Oe(je(B));return new Nt(oe,V,A)}function Cn(y,D,m){const E={};return Object.entries(y.children).forEach(([A,V])=>{E[A]=V===D?m:Cn(V,D,m)}),new St(y.segments,E)}class hn{constructor(D,m,E){if(this.isAbsolute=D,this.numberOfDoubleDots=m,this.commands=E,D&&E.length>0&&Dn(E[0]))throw new d.vHH(4003,!1);const A=E.find(Jt);if(A&&A!==cn(E))throw new d.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class nn{constructor(D,m,E){this.segmentGroup=D,this.processChildren=m,this.index=E}}function Rn(y,D,m){if(y||(y=new St([],{})),0===y.segments.length&&y.hasChildren())return dr(y,D,m);const E=function go(y,D,m){let E=0,A=D;const V={match:!1,pathIndex:0,commandIndex:0};for(;A<y.segments.length;){if(E>=m.length)return V;const B=y.segments[A],oe=m[E];if(Jt(oe))break;const Re=`${oe}`,ot=E<m.length-1?m[E+1]:null;if(A>0&&void 0===Re)break;if(Re&&ot&&"object"==typeof ot&&void 0===ot.outlets){if(!ei(Re,ot,B))return V;E+=2}else{if(!ei(Re,{},B))return V;E++}A++}return{match:!0,pathIndex:A,commandIndex:E}}(y,D,m),A=m.slice(E.commandIndex);if(E.match&&E.pathIndex<y.segments.length){const V=new St(y.segments.slice(0,E.pathIndex),{});return V.children[Te]=new St(y.segments.slice(E.pathIndex),y.children),dr(V,0,A)}return E.match&&0===A.length?new St(y.segments,{}):E.match&&!y.hasChildren()?Fo(y,D,m):E.match?dr(y,0,A):Fo(y,D,m)}function dr(y,D,m){if(0===m.length)return new St(y.segments,{});{const E=function On(y){return Jt(y[0])?y[0].outlets:{[Te]:y}}(m),A={};if(!E[Te]&&y.children[Te]&&1===y.numberOfChildren&&0===y.children[Te].segments.length){const V=dr(y.children[Te],D,m);return new St(y.segments,V.children)}return Object.entries(E).forEach(([V,B])=>{"string"==typeof B&&(B=[B]),null!==B&&(A[V]=Rn(y.children[V],D,B))}),Object.entries(y.children).forEach(([V,B])=>{void 0===E[V]&&(A[V]=B)}),new St(y.segments,A)}}function Fo(y,D,m){const E=y.segments.slice(0,D);let A=0;for(;A<m.length;){const V=m[A];if(Jt(V)){const Re=Lo(V.outlets);return new St(E,Re)}if(0===A&&Dn(m[0])){E.push(new Vn(y.segments[D].path,fr(m[0]))),A++;continue}const B=Jt(V)?V.outlets[Te]:`${V}`,oe=A<m.length-1?m[A+1]:null;B&&oe&&Dn(oe)?(E.push(new Vn(B,fr(oe))),A+=2):(E.push(new Vn(B,{})),A++)}return new St(E,{})}function Lo(y){const D={};return Object.entries(y).forEach(([m,E])=>{"string"==typeof E&&(E=[E]),null!==E&&(D[m]=Fo(new St([],{}),0,E))}),D}function fr(y){const D={};return Object.entries(y).forEach(([m,E])=>D[m]=`${E}`),D}function ei(y,D,m){return y==m.path&&Mn(D,m.parameters)}const Gr="imperative";class Wr{constructor(D,m){this.id=D,this.url=m}}class ki extends Wr{constructor(D,m,E="imperative",A=null){super(D,m),this.type=0,this.navigationTrigger=E,this.restoredState=A}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class wr extends Wr{constructor(D,m,E){super(D,m),this.urlAfterRedirects=E,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ti extends Wr{constructor(D,m,E,A){super(D,m),this.reason=E,this.code=A,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Zr extends Wr{constructor(D,m,E,A){super(D,m),this.reason=E,this.code=A,this.type=16}}class Vo extends Wr{constructor(D,m,E,A){super(D,m),this.error=E,this.target=A,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ss extends Wr{constructor(D,m,E,A){super(D,m),this.urlAfterRedirects=E,this.state=A,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class as extends Wr{constructor(D,m,E,A){super(D,m),this.urlAfterRedirects=E,this.state=A,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jn extends Wr{constructor(D,m,E,A,V){super(D,m),this.urlAfterRedirects=E,this.state=A,this.shouldActivate=V,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Fi extends Wr{constructor(D,m,E,A){super(D,m),this.urlAfterRedirects=E,this.state=A,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hi extends Wr{constructor(D,m,E,A){super(D,m),this.urlAfterRedirects=E,this.state=A,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pi{constructor(D){this.route=D,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class gi{constructor(D){this.route=D,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class jo{constructor(D){this.snapshot=D,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mo{constructor(D){this.snapshot=D,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ni{constructor(D){this.snapshot=D,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ri{constructor(D){this.snapshot=D,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wt{constructor(D,m,E){this.routerEvent=D,this.position=m,this.anchor=E,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Hn{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ar,this.attachRef=null}}let Ar=(()=>{class y{constructor(){this.contexts=new Map}onChildOutletCreated(m,E){const A=this.getOrCreateContext(m);A.outlet=E,this.contexts.set(m,A)}onChildOutletDestroyed(m){const E=this.getContext(m);E&&(E.outlet=null,E.attachRef=null)}onOutletDeactivated(){const m=this.contexts;return this.contexts=new Map,m}onOutletReAttached(m){this.contexts=m}getOrCreateContext(m){let E=this.getContext(m);return E||(E=new Hn,this.contexts.set(m,E)),E}getContext(m){return this.contexts.get(m)||null}}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=d.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();class Un{constructor(D){this._root=D}get root(){return this._root.value}parent(D){const m=this.pathFromRoot(D);return m.length>1?m[m.length-2]:null}children(D){const m=oi(D,this._root);return m?m.children.map(E=>E.value):[]}firstChild(D){const m=oi(D,this._root);return m&&m.children.length>0?m.children[0].value:null}siblings(D){const m=yo(D,this._root);return m.length<2?[]:m[m.length-2].children.map(A=>A.value).filter(A=>A!==D)}pathFromRoot(D){return yo(D,this._root).map(m=>m.value)}}function oi(y,D){if(y===D.value)return D;for(const m of D.children){const E=oi(y,m);if(E)return E}return null}function yo(y,D){if(y===D.value)return[D];for(const m of D.children){const E=yo(y,m);if(E.length)return E.unshift(D),E}return[]}class rr{constructor(D,m){this.value=D,this.children=m}toString(){return`TreeNode(${this.value})`}}function or(y){const D={};return y&&y.children.forEach(m=>D[m.value.outlet]=m),D}class vo extends Un{constructor(D,m){super(D),this.snapshot=m,gr(this,D)}toString(){return this.snapshot.toString()}}function En(y,D){const m=function tt(y,D){const B=new pr([],{},{},"",{},Te,D,null,{});return new xt("",new rr(B,[]))}(0,D),E=new P.X([new Vn("",{})]),A=new P.X({}),V=new P.X({}),B=new P.X({}),oe=new P.X(""),Re=new Je(E,A,B,oe,V,Te,D,m.root);return Re.snapshot=m.root,new vo(new rr(Re,[]),m)}class Je{constructor(D,m,E,A,V,B,oe,Re){this.urlSubject=D,this.paramsSubject=m,this.queryParamsSubject=E,this.fragmentSubject=A,this.dataSubject=V,this.outlet=B,this.component=oe,this._futureSnapshot=Re,this.title=this.dataSubject?.pipe((0,Ie.U)(ot=>ot[De]))??(0,Y.of)(void 0),this.url=D,this.params=m,this.queryParams=E,this.fragment=A,this.data=V}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ie.U)(D=>qt(D)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ie.U)(D=>qt(D)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function mn(y,D="emptyOnly"){const m=y.pathFromRoot;let E=0;if("always"!==D)for(E=m.length-1;E>=1;){const A=m[E],V=m[E-1];if(A.routeConfig&&""===A.routeConfig.path)E--;else{if(V.component)break;E--}}return function hr(y){return y.reduce((D,m)=>({params:{...D.params,...m.params},data:{...D.data,...m.data},resolve:{...m.data,...D.resolve,...m.routeConfig?.data,...m._resolvedData}}),{params:{},data:{},resolve:{}})}(m.slice(E))}class pr{get title(){return this.data?.[De]}constructor(D,m,E,A,V,B,oe,Re,ot){this.url=D,this.params=m,this.queryParams=E,this.fragment=A,this.data=V,this.outlet=B,this.component=oe,this.routeConfig=Re,this._resolve=ot}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=qt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=qt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(E=>E.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class xt extends Un{constructor(D,m){super(m),this.url=D,gr(this,m)}toString(){return ct(this._root)}}function gr(y,D){D.value._routerState=y,D.children.forEach(m=>gr(y,m))}function ct(y){const D=y.children.length>0?` { ${y.children.map(ct).join(", ")} } `:"";return`${y.value}${D}`}function Or(y){if(y.snapshot){const D=y.snapshot,m=y._futureSnapshot;y.snapshot=m,Mn(D.queryParams,m.queryParams)||y.queryParamsSubject.next(m.queryParams),D.fragment!==m.fragment&&y.fragmentSubject.next(m.fragment),Mn(D.params,m.params)||y.paramsSubject.next(m.params),function an(y,D){if(y.length!==D.length)return!1;for(let m=0;m<y.length;++m)if(!Mn(y[m],D[m]))return!1;return!0}(D.url,m.url)||y.urlSubject.next(m.url),Mn(D.data,m.data)||y.dataSubject.next(m.data)}else y.snapshot=y._futureSnapshot,y.dataSubject.next(y._futureSnapshot.data)}function wn(y,D){const m=Mn(y.params,D.params)&&function $r(y,D){return Rt(y,D)&&y.every((m,E)=>Mn(m.parameters,D[E].parameters))}(y.url,D.url);return m&&!(!y.parent!=!D.parent)&&(!y.parent||wn(y.parent,D.parent))}let It=(()=>{class y{constructor(){this.activated=null,this._activatedRoute=null,this.name=Te,this.activateEvents=new d.vpe,this.deactivateEvents=new d.vpe,this.attachEvents=new d.vpe,this.detachEvents=new d.vpe,this.parentContexts=(0,d.f3M)(Ar),this.location=(0,d.f3M)(d.s_b),this.changeDetector=(0,d.f3M)(d.sBO),this.environmentInjector=(0,d.f3M)(d.lqb),this.inputBinder=(0,d.f3M)(no,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(m){if(m.name){const{firstChange:E,previousValue:A}=m.name;if(E)return;this.isTrackedInParentContexts(A)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(A)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(m){return this.parentContexts.getContext(m)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const m=this.parentContexts.getContext(this.name);m?.route&&(m.attachRef?this.attach(m.attachRef,m.route):this.activateWith(m.route,m.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new d.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new d.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new d.vHH(4012,!1);this.location.detach();const m=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(m.instance),m}attach(m,E){this.activated=m,this._activatedRoute=E,this.location.insert(m.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(m.instance)}deactivate(){if(this.activated){const m=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(m)}}activateWith(m,E){if(this.isActivated)throw new d.vHH(4013,!1);this._activatedRoute=m;const A=this.location,B=m.snapshot.component,oe=this.parentContexts.getOrCreateContext(this.name).children,Re=new Kr(m,oe,A.injector);this.activated=A.createComponent(B,{index:A.length,injector:Re,environmentInjector:E??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return y.\u0275fac=function(m){return new(m||y)},y.\u0275dir=d.lG2({type:y,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[d.TTD]}),y})();class Kr{constructor(D,m,E){this.route=D,this.childContexts=m,this.parent=E}get(D,m){return D===Je?this.route:D===Ar?this.childContexts:this.parent.get(D,m)}}const no=new d.OlP("");let ro=(()=>{class y{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(m){this.unsubscribeFromRouteData(m),this.subscribeToRouteData(m)}unsubscribeFromRouteData(m){this.outletDataSubscriptions.get(m)?.unsubscribe(),this.outletDataSubscriptions.delete(m)}subscribeToRouteData(m){const{activatedRoute:E}=m,A=Fe([E.queryParams,E.params,E.data]).pipe((0,tn.w)(([V,B,oe],Re)=>(oe={...V,...B,...oe},0===Re?(0,Y.of)(oe):Promise.resolve(oe)))).subscribe(V=>{if(!m.isActivated||!m.activatedComponentRef||m.activatedRoute!==E||null===E.component)return void this.unsubscribeFromRouteData(m);const B=(0,d.qFp)(E.component);if(B)for(const{templateName:oe}of B.inputs)m.activatedComponentRef.setInput(oe,V[oe]);else this.unsubscribeFromRouteData(m)});this.outletDataSubscriptions.set(m,A)}}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=d.Yz7({token:y,factory:y.\u0275fac}),y})();function Nr(y,D,m){if(m&&y.shouldReuseRoute(D.value,m.value.snapshot)){const E=m.value;E._futureSnapshot=D.value;const A=function Mr(y,D,m){return D.children.map(E=>{for(const A of m.children)if(y.shouldReuseRoute(E.value,A.value.snapshot))return Nr(y,E,A);return Nr(y,E)})}(y,D,m);return new rr(E,A)}{if(y.shouldAttach(D.value)){const V=y.retrieve(D.value);if(null!==V){const B=V.route;return B.value._futureSnapshot=D.value,B.children=D.children.map(oe=>Nr(y,oe)),B}}const E=function Pr(y){return new Je(new P.X(y.url),new P.X(y.params),new P.X(y.queryParams),new P.X(y.fragment),new P.X(y.data),y.outlet,y.component,y)}(D.value),A=D.children.map(V=>Nr(y,V));return new rr(E,A)}}const mr="ngNavigationCancelingError";function mi(y,D){const{redirectTo:m,navigationBehaviorOptions:E}=Me(D)?{redirectTo:D,navigationBehaviorOptions:void 0}:D,A=ir(!1,0,D);return A.url=m,A.navigationBehaviorOptions=E,A}function ir(y,D,m){const E=new Error("NavigationCancelingError: "+(y||""));return E[mr]=!0,E.cancellationCode=D,m&&(E.url=m),E}function Zn(y){return $o(y)&&Me(y.url)}function $o(y){return y&&y[mr]}let jn=(()=>{class y{}return y.\u0275fac=function(m){return new(m||y)},y.\u0275cmp=d.Xpm({type:y,selectors:[["ng-component"]],standalone:!0,features:[d.jDz],decls:1,vars:0,template:function(m,E){1&m&&d._UZ(0,"router-outlet")},dependencies:[It],encapsulation:2}),y})();function Vi(y){const D=y.children&&y.children.map(Vi),m=D?{...y,children:D}:{...y};return!m.component&&!m.loadComponent&&(D||m.loadChildren)&&m.outlet&&m.outlet!==Te&&(m.component=jn),m}function Qt(y){return y.outlet||Te}function Do(y){if(!y)return null;if(y.routeConfig?._injector)return y.routeConfig._injector;for(let D=y.parent;D;D=D.parent){const m=D.routeConfig;if(m?._loadedInjector)return m._loadedInjector;if(m?._injector)return m._injector}return null}class Fr{constructor(D,m,E,A,V){this.routeReuseStrategy=D,this.futureState=m,this.currState=E,this.forwardEvent=A,this.inputBindingEnabled=V}activate(D){const m=this.futureState._root,E=this.currState?this.currState._root:null;this.deactivateChildRoutes(m,E,D),Or(this.futureState.root),this.activateChildRoutes(m,E,D)}deactivateChildRoutes(D,m,E){const A=or(m);D.children.forEach(V=>{const B=V.value.outlet;this.deactivateRoutes(V,A[B],E),delete A[B]}),Object.values(A).forEach(V=>{this.deactivateRouteAndItsChildren(V,E)})}deactivateRoutes(D,m,E){const A=D.value,V=m?m.value:null;if(A===V)if(A.component){const B=E.getContext(A.outlet);B&&this.deactivateChildRoutes(D,m,B.children)}else this.deactivateChildRoutes(D,m,E);else V&&this.deactivateRouteAndItsChildren(m,E)}deactivateRouteAndItsChildren(D,m){D.value.component&&this.routeReuseStrategy.shouldDetach(D.value.snapshot)?this.detachAndStoreRouteSubtree(D,m):this.deactivateRouteAndOutlet(D,m)}detachAndStoreRouteSubtree(D,m){const E=m.getContext(D.value.outlet),A=E&&D.value.component?E.children:m,V=or(D);for(const B of Object.keys(V))this.deactivateRouteAndItsChildren(V[B],A);if(E&&E.outlet){const B=E.outlet.detach(),oe=E.children.onOutletDeactivated();this.routeReuseStrategy.store(D.value.snapshot,{componentRef:B,route:D,contexts:oe})}}deactivateRouteAndOutlet(D,m){const E=m.getContext(D.value.outlet),A=E&&D.value.component?E.children:m,V=or(D);for(const B of Object.keys(V))this.deactivateRouteAndItsChildren(V[B],A);E&&(E.outlet&&(E.outlet.deactivate(),E.children.onOutletDeactivated()),E.attachRef=null,E.route=null)}activateChildRoutes(D,m,E){const A=or(m);D.children.forEach(V=>{this.activateRoutes(V,A[V.value.outlet],E),this.forwardEvent(new ri(V.value.snapshot))}),D.children.length&&this.forwardEvent(new mo(D.value.snapshot))}activateRoutes(D,m,E){const A=D.value,V=m?m.value:null;if(Or(A),A===V)if(A.component){const B=E.getOrCreateContext(A.outlet);this.activateChildRoutes(D,m,B.children)}else this.activateChildRoutes(D,m,E);else if(A.component){const B=E.getOrCreateContext(A.outlet);if(this.routeReuseStrategy.shouldAttach(A.snapshot)){const oe=this.routeReuseStrategy.retrieve(A.snapshot);this.routeReuseStrategy.store(A.snapshot,null),B.children.onOutletReAttached(oe.contexts),B.attachRef=oe.componentRef,B.route=oe.route.value,B.outlet&&B.outlet.attach(oe.componentRef,oe.route.value),Or(oe.route.value),this.activateChildRoutes(D,null,B.children)}else{const oe=Do(A.snapshot);B.attachRef=null,B.route=A,B.injector=oe,B.outlet&&B.outlet.activateWith(A,B.injector),this.activateChildRoutes(D,null,B.children)}}else this.activateChildRoutes(D,null,E)}}class ii{constructor(D){this.path=D,this.route=this.path[this.path.length-1]}}class vr{constructor(D,m){this.component=D,this.route=m}}function ls(y,D,m){const E=y._root;return Go(E,D?D._root:null,m,[E.value])}function Co(y,D){const m=Symbol(),E=D.get(y,m);return E===m?"function"!=typeof y||(0,d.Z0I)(y)?D.get(y):y:E}function Go(y,D,m,E,A={canDeactivateChecks:[],canActivateChecks:[]}){const V=or(D);return y.children.forEach(B=>{(function us(y,D,m,E,A={canDeactivateChecks:[],canActivateChecks:[]}){const V=y.value,B=D?D.value:null,oe=m?m.getContext(y.value.outlet):null;if(B&&V.routeConfig===B.routeConfig){const Re=function x(y,D,m){if("function"==typeof m)return m(y,D);switch(m){case"pathParamsChange":return!Rt(y.url,D.url);case"pathParamsOrQueryParamsChange":return!Rt(y.url,D.url)||!Mn(y.queryParams,D.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!wn(y,D)||!Mn(y.queryParams,D.queryParams);default:return!wn(y,D)}}(B,V,V.routeConfig.runGuardsAndResolvers);Re?A.canActivateChecks.push(new ii(E)):(V.data=B.data,V._resolvedData=B._resolvedData),Go(y,D,V.component?oe?oe.children:null:m,E,A),Re&&oe&&oe.outlet&&oe.outlet.isActivated&&A.canDeactivateChecks.push(new vr(oe.outlet.component,B))}else B&&S(D,oe,A),A.canActivateChecks.push(new ii(E)),Go(y,null,V.component?oe?oe.children:null:m,E,A)})(B,V[B.value.outlet],m,E.concat([B.value]),A),delete V[B.value.outlet]}),Object.entries(V).forEach(([B,oe])=>S(oe,m.getContext(B),A)),A}function S(y,D,m){const E=or(y),A=y.value;Object.entries(E).forEach(([V,B])=>{S(B,A.component?D?D.children.getContext(V):null:D,m)}),m.canDeactivateChecks.push(new vr(A.component&&D&&D.outlet&&D.outlet.isActivated?D.outlet.component:null,A))}function w(y){return"function"==typeof y}function yi(y){return y instanceof Ct||"EmptyError"===y?.name}const vi=Symbol("INITIAL_VALUE");function Bi(){return(0,tn.w)(y=>Fe(y.map(D=>D.pipe((0,st.q)(1),function vt(...y){const D=(0,_e.yG)(y);return(0,he.e)((m,E)=>{(D?(0,rt.z)(y,m,D):(0,rt.z)(y,m)).subscribe(E)})}(vi)))).pipe((0,Ie.U)(D=>{for(const m of D)if(!0!==m){if(m===vi)return vi;if(!1===m||m instanceof Nt)return m}return!0}),(0,gn.h)(D=>D!==vi),(0,st.q)(1)))}function Hi(y){return(0,ke.z)((0,Z.b)(D=>{if(Me(D))throw mi(0,D)}),(0,Ie.U)(D=>!0===D))}class _i{constructor(D){this.segmentGroup=D||null}}class oo{constructor(D){this.urlTree=D}}function Eo(y){return(0,Pe._)(new _i(y))}function Nn(y){return(0,Pe._)(new oo(y))}class cs{constructor(D,m){this.urlSerializer=D,this.urlTree=m}noMatchError(D){return new d.vHH(4002,!1)}lineralizeSegments(D,m){let E=[],A=m.root;for(;;){if(E=E.concat(A.segments),0===A.numberOfChildren)return(0,Y.of)(E);if(A.numberOfChildren>1||!A.children[Te])return(0,Pe._)(new d.vHH(4e3,!1));A=A.children[Te]}}applyRedirectCommands(D,m,E){return this.applyRedirectCreateUrlTree(m,this.urlSerializer.parse(m),D,E)}applyRedirectCreateUrlTree(D,m,E,A){const V=this.createSegmentGroup(D,m.root,E,A);return new Nt(V,this.createQueryParams(m.queryParams,this.urlTree.queryParams),m.fragment)}createQueryParams(D,m){const E={};return Object.entries(D).forEach(([A,V])=>{if("string"==typeof V&&V.startsWith(":")){const oe=V.substring(1);E[A]=m[oe]}else E[A]=V}),E}createSegmentGroup(D,m,E,A){const V=this.createSegments(D,m.segments,E,A);let B={};return Object.entries(m.children).forEach(([oe,Re])=>{B[oe]=this.createSegmentGroup(D,Re,E,A)}),new St(V,B)}createSegments(D,m,E,A){return m.map(V=>V.path.startsWith(":")?this.findPosParam(D,V,A):this.findOrReturn(V,E))}findPosParam(D,m,E){const A=E[m.path.substring(1)];if(!A)throw new d.vHH(4001,!1);return A}findOrReturn(D,m){let E=0;for(const A of m){if(A.path===D.path)return m.splice(E),A;E++}return D}}const Jr={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ds(y,D,m,E,A){const V=fs(y,D,m);return V.matched?(E=function Vt(y,D){return y.providers&&!y._injector&&(y._injector=(0,d.MMx)(y.providers,D,`Route: ${y.path}`)),y._injector??D}(D,E),function Ea(y,D,m,E){const A=D.canMatch;if(!A||0===A.length)return(0,Y.of)(!0);const V=A.map(B=>{const oe=Co(B,y);return ht(function ar(y){return y&&w(y.canMatch)}(oe)?oe.canMatch(D,m):y.runInContext(()=>oe(D,m)))});return(0,Y.of)(V).pipe(Bi(),Hi())}(E,D,m).pipe((0,Ie.U)(B=>!0===B?V:{...Jr}))):(0,Y.of)(V)}function fs(y,D,m){if(""===D.path)return"full"===D.pathMatch&&(y.hasChildren()||m.length>0)?{...Jr}:{matched:!0,consumedSegments:[],remainingSegments:m,parameters:{},positionalParamSegments:{}};const A=(D.matcher||Kn)(m,y,D);if(!A)return{...Jr};const V={};Object.entries(A.posParams??{}).forEach(([oe,Re])=>{V[oe]=Re.path});const B=A.consumed.length>0?{...V,...A.consumed[A.consumed.length-1].parameters}:V;return{matched:!0,consumedSegments:A.consumed,remainingSegments:m.slice(A.consumed.length),parameters:B,positionalParamSegments:A.posParams??{}}}function Ui(y,D,m,E){return m.length>0&&function ol(y,D,m){return m.some(E=>zi(y,D,E)&&Qt(E)!==Te)}(y,m,E)?{segmentGroup:new St(D,ji(E,new St(m,y.children))),slicedSegments:[]}:0===m.length&&function $i(y,D,m){return m.some(E=>zi(y,D,E))}(y,m,E)?{segmentGroup:new St(y.segments,hs(y,0,m,E,y.children)),slicedSegments:m}:{segmentGroup:new St(y.segments,y.children),slicedSegments:m}}function hs(y,D,m,E,A){const V={};for(const B of E)if(zi(y,m,B)&&!A[Qt(B)]){const oe=new St([],{});V[Qt(B)]=oe}return{...A,...V}}function ji(y,D){const m={};m[Te]=D;for(const E of y)if(""===E.path&&Qt(E)!==Te){const A=new St([],{});m[Qt(E)]=A}return m}function zi(y,D,m){return(!(y.hasChildren()||D.length>0)||"full"!==m.pathMatch)&&""===m.path}class Ma{constructor(D,m,E,A,V,B,oe){this.injector=D,this.configLoader=m,this.rootComponentType=E,this.config=A,this.urlTree=V,this.paramsInheritanceStrategy=B,this.urlSerializer=oe,this.allowRedirects=!0,this.applyRedirects=new cs(this.urlSerializer,this.urlTree)}noMatchError(D){return new d.vHH(4002,!1)}recognize(){const D=Ui(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,D,Te).pipe((0,ye.K)(m=>{if(m instanceof oo)return this.allowRedirects=!1,this.urlTree=m.urlTree,this.match(m.urlTree);throw m instanceof _i?this.noMatchError(m):m}),(0,Ie.U)(m=>{const E=new pr([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Te,this.rootComponentType,null,{}),A=new rr(E,m),V=new xt("",A),B=function Tt(y,D,m=null,E=null){return fn(wt(y),D,m,E)}(E,[],this.urlTree.queryParams,this.urlTree.fragment);return B.queryParams=this.urlTree.queryParams,V.url=this.urlSerializer.serialize(B),this.inheritParamsAndData(V._root),{state:V,tree:B}}))}match(D){return this.processSegmentGroup(this.injector,this.config,D.root,Te).pipe((0,ye.K)(E=>{throw E instanceof _i?this.noMatchError(E):E}))}inheritParamsAndData(D){const m=D.value,E=mn(m,this.paramsInheritanceStrategy);m.params=Object.freeze(E.params),m.data=Object.freeze(E.data),D.children.forEach(A=>this.inheritParamsAndData(A))}processSegmentGroup(D,m,E,A){return 0===E.segments.length&&E.hasChildren()?this.processChildren(D,m,E):this.processSegment(D,m,E,E.segments,A,!0)}processChildren(D,m,E){const A=[];for(const V of Object.keys(E.children))"primary"===V?A.unshift(V):A.push(V);return(0,le.D)(A).pipe((0,H.b)(V=>{const B=E.children[V],oe=function yr(y,D){const m=y.filter(E=>Qt(E)===D);return m.push(...y.filter(E=>Qt(E)!==D)),m}(m,V);return this.processSegmentGroup(D,oe,B,V)}),function ft(y,D){return(0,he.e)(function Ue(y,D,m,E,A){return(V,B)=>{let oe=m,Re=D,ot=0;V.subscribe((0,Ae.x)(B,yt=>{const on=ot++;Re=oe?y(Re,yt,on):(oe=!0,yt),E&&B.next(Re)},A&&(()=>{oe&&B.next(Re),B.complete()})))}}(y,D,arguments.length>=2,!0))}((V,B)=>(V.push(...B),V)),ce(null),function Et(y,D){const m=arguments.length>=2;return E=>E.pipe(y?(0,gn.h)((A,V)=>y(A,V,E)):Se.y,et(1),m?ce(D):de(()=>new Ct))}(),(0,sn.z)(V=>{if(null===V)return Eo(E);const B=wo(V);return function qr(y){y.sort((D,m)=>D.value.outlet===Te?-1:m.value.outlet===Te?1:D.value.outlet.localeCompare(m.value.outlet))}(B),(0,Y.of)(B)}))}processSegment(D,m,E,A,V,B){return(0,le.D)(m).pipe((0,H.b)(oe=>this.processSegmentAgainstRoute(oe._injector??D,m,oe,E,A,V,B).pipe((0,ye.K)(Re=>{if(Re instanceof _i)return(0,Y.of)(null);throw Re}))),Q(oe=>!!oe),(0,ye.K)(oe=>{if(yi(oe))return function sl(y,D,m){return 0===D.length&&!y.children[m]}(E,A,V)?(0,Y.of)([]):Eo(E);throw oe}))}processSegmentAgainstRoute(D,m,E,A,V,B,oe){return function il(y,D,m,E){return!!(Qt(y)===E||E!==Te&&zi(D,m,y))&&("**"===y.path||fs(D,y,m).matched)}(E,A,V,B)?void 0===E.redirectTo?this.matchSegmentAgainstRoute(D,A,E,V,B,oe):oe&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(D,A,m,E,V,B):Eo(A):Eo(A)}expandSegmentAgainstRouteUsingRedirect(D,m,E,A,V,B){return"**"===A.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(D,E,A,B):this.expandRegularSegmentAgainstRouteUsingRedirect(D,m,E,A,V,B)}expandWildCardWithParamsAgainstRouteUsingRedirect(D,m,E,A){const V=this.applyRedirects.applyRedirectCommands([],E.redirectTo,{});return E.redirectTo.startsWith("/")?Nn(V):this.applyRedirects.lineralizeSegments(E,V).pipe((0,sn.z)(B=>{const oe=new St(B,{});return this.processSegment(D,m,oe,B,A,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(D,m,E,A,V,B){const{matched:oe,consumedSegments:Re,remainingSegments:ot,positionalParamSegments:yt}=fs(m,A,V);if(!oe)return Eo(m);const on=this.applyRedirects.applyRedirectCommands(Re,A.redirectTo,yt);return A.redirectTo.startsWith("/")?Nn(on):this.applyRedirects.lineralizeSegments(A,on).pipe((0,sn.z)(_r=>this.processSegment(D,E,m,_r.concat(ot),B,!1)))}matchSegmentAgainstRoute(D,m,E,A,V,B){let oe;if("**"===E.path){const Re=A.length>0?cn(A).parameters:{},ot=new pr(A,Re,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,bi(E),Qt(E),E.component??E._loadedComponent??null,E,Bs(E));oe=(0,Y.of)({snapshot:ot,consumedSegments:[],remainingSegments:[]}),m.children={}}else oe=ds(m,E,A,D).pipe((0,Ie.U)(({matched:Re,consumedSegments:ot,remainingSegments:yt,parameters:on})=>Re?{snapshot:new pr(ot,on,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,bi(E),Qt(E),E.component??E._loadedComponent??null,E,Bs(E)),consumedSegments:ot,remainingSegments:yt}:null));return oe.pipe((0,tn.w)(Re=>null===Re?Eo(m):this.getChildConfig(D=E._injector??D,E,A).pipe((0,tn.w)(({routes:ot})=>{const yt=E._loadedInjector??D,{snapshot:on,consumedSegments:_r,remainingSegments:Gi}=Re,{segmentGroup:Mi,slicedSegments:Wi}=Ui(m,_r,Gi,ot);if(0===Wi.length&&Mi.hasChildren())return this.processChildren(yt,ot,Mi).pipe((0,Ie.U)(Cs=>null===Cs?null:[new rr(on,Cs)]));if(0===ot.length&&0===Wi.length)return(0,Y.of)([new rr(on,[])]);const Zi=Qt(E)===V;return this.processSegment(yt,ot,Mi,Wi,Zi?Te:V,!0).pipe((0,Ie.U)(Cs=>[new rr(on,Cs)]))}))))}getChildConfig(D,m,E){return m.children?(0,Y.of)({routes:m.children,injector:D}):m.loadChildren?void 0!==m._loadedRoutes?(0,Y.of)({routes:m._loadedRoutes,injector:m._loadedInjector}):function rl(y,D,m,E){const A=D.canLoad;if(void 0===A||0===A.length)return(0,Y.of)(!0);const V=A.map(B=>{const oe=Co(B,y);return ht(function ue(y){return y&&w(y.canLoad)}(oe)?oe.canLoad(D,m):y.runInContext(()=>oe(D,m)))});return(0,Y.of)(V).pipe(Bi(),Hi())}(D,m,E).pipe((0,sn.z)(A=>A?this.configLoader.loadChildren(D,m).pipe((0,Z.b)(V=>{m._loadedRoutes=V.routes,m._loadedInjector=V.injector})):function Cu(y){return(0,Pe._)(ir(!1,3))}())):(0,Y.of)({routes:[],injector:D})}}function Sa(y){const D=y.value.routeConfig;return D&&""===D.path}function wo(y){const D=[],m=new Set;for(const E of y){if(!Sa(E)){D.push(E);continue}const A=D.find(V=>E.value.routeConfig===V.value.routeConfig);void 0!==A?(A.children.push(...E.children),m.add(A)):D.push(E)}for(const E of m){const A=wo(E.children);D.push(new rr(E.value,A))}return D.filter(E=>!m.has(E))}function bi(y){return y.data||{}}function Bs(y){return y.resolve||{}}function me(y){return"string"==typeof y.title||null===y.title}function xe(y){return(0,tn.w)(D=>{const m=y(D);return m?(0,le.D)(m).pipe((0,Ie.U)(()=>D)):(0,Y.of)(D)})}const We=new d.OlP("ROUTES");let Zt=(()=>{class y{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,d.f3M)(d.Sil)}loadComponent(m){if(this.componentLoaders.get(m))return this.componentLoaders.get(m);if(m._loadedComponent)return(0,Y.of)(m._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(m);const E=ht(m.loadComponent()).pipe((0,Ie.U)(Ot),(0,Z.b)(V=>{this.onLoadEndListener&&this.onLoadEndListener(m),m._loadedComponent=V}),(0,pt.x)(()=>{this.componentLoaders.delete(m)})),A=new ut(E,()=>new Ke.x).pipe(ie());return this.componentLoaders.set(m,A),A}loadChildren(m,E){if(this.childrenLoaders.get(E))return this.childrenLoaders.get(E);if(E._loadedRoutes)return(0,Y.of)({routes:E._loadedRoutes,injector:E._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(E);const V=this.loadModuleFactoryOrRoutes(E.loadChildren).pipe((0,Ie.U)(oe=>{this.onLoadEndListener&&this.onLoadEndListener(E);let Re,ot;return Array.isArray(oe)?ot=oe:(Re=oe.create(m).injector,ot=Re.get(We,[],d.XFs.Self|d.XFs.Optional).flat()),{routes:ot.map(Vi),injector:Re}}),(0,pt.x)(()=>{this.childrenLoaders.delete(E)})),B=new ut(V,()=>new Ke.x).pipe(ie());return this.childrenLoaders.set(E,B),B}loadModuleFactoryOrRoutes(m){return ht(m()).pipe((0,Ie.U)(Ot),(0,sn.z)(E=>E instanceof d.YKP||Array.isArray(E)?(0,Y.of)(E):(0,le.D)(this.compiler.compileModuleAsync(E))))}}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=d.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();function Ot(y){return function rn(y){return y&&"object"==typeof y&&"default"in y}(y)?y.default:y}let kt=(()=>{class y{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Ke.x,this.configLoader=(0,d.f3M)(Zt),this.environmentInjector=(0,d.f3M)(d.lqb),this.urlSerializer=(0,d.f3M)(Sn),this.rootContexts=(0,d.f3M)(Ar),this.inputBindingEnabled=null!==(0,d.f3M)(no,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,Y.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=A=>this.events.next(new gi(A)),this.configLoader.onLoadStartListener=A=>this.events.next(new pi(A))}complete(){this.transitions?.complete()}handleNavigationRequest(m){const E=++this.navigationId;this.transitions?.next({...this.transitions.value,...m,id:E})}setupNavigations(m){return this.transitions=new P.X({id:0,currentUrlTree:m.currentUrlTree,currentRawUrl:m.currentUrlTree,extractedUrl:m.urlHandlingStrategy.extract(m.currentUrlTree),urlAfterRedirects:m.urlHandlingStrategy.extract(m.currentUrlTree),rawUrl:m.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Gr,restoredState:null,currentSnapshot:m.routerState.snapshot,targetSnapshot:null,currentRouterState:m.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,gn.h)(E=>0!==E.id),(0,Ie.U)(E=>({...E,extractedUrl:m.urlHandlingStrategy.extract(E.rawUrl)})),(0,tn.w)(E=>{let A=!1,V=!1;return(0,Y.of)(E).pipe((0,Z.b)(B=>{this.currentNavigation={id:B.id,initialUrl:B.rawUrl,extractedUrl:B.extractedUrl,trigger:B.source,extras:B.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,tn.w)(B=>{const oe=m.browserUrlTree.toString(),Re=!m.navigated||B.extractedUrl.toString()!==oe||oe!==m.currentUrlTree.toString();if(!Re&&"reload"!==(B.extras.onSameUrlNavigation??m.onSameUrlNavigation)){const yt="";return this.events.next(new Zr(B.id,m.serializeUrl(E.rawUrl),yt,0)),m.rawUrlTree=B.rawUrl,B.resolve(null),Ye.E}if(m.urlHandlingStrategy.shouldProcessUrl(B.rawUrl))return xn(B.source)&&(m.browserUrlTree=B.extractedUrl),(0,Y.of)(B).pipe((0,tn.w)(yt=>{const on=this.transitions?.getValue();return this.events.next(new ki(yt.id,this.urlSerializer.serialize(yt.extractedUrl),yt.source,yt.restoredState)),on!==this.transitions?.getValue()?Ye.E:Promise.resolve(yt)}),function Ei(y,D,m,E,A,V){return(0,sn.z)(B=>function wa(y,D,m,E,A,V,B="emptyOnly"){return new Ma(y,D,m,E,A,B,V).recognize()}(y,D,m,E,B.extractedUrl,A,V).pipe((0,Ie.U)(({state:oe,tree:Re})=>({...B,targetSnapshot:oe,urlAfterRedirects:Re}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,m.config,this.urlSerializer,m.paramsInheritanceStrategy),(0,Z.b)(yt=>{if(E.targetSnapshot=yt.targetSnapshot,E.urlAfterRedirects=yt.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:yt.urlAfterRedirects},"eager"===m.urlUpdateStrategy){if(!yt.extras.skipLocationChange){const _r=m.urlHandlingStrategy.merge(yt.urlAfterRedirects,yt.rawUrl);m.setBrowserUrl(_r,yt)}m.browserUrlTree=yt.urlAfterRedirects}const on=new ss(yt.id,this.urlSerializer.serialize(yt.extractedUrl),this.urlSerializer.serialize(yt.urlAfterRedirects),yt.targetSnapshot);this.events.next(on)}));if(Re&&m.urlHandlingStrategy.shouldProcessUrl(m.rawUrlTree)){const{id:yt,extractedUrl:on,source:_r,restoredState:Gi,extras:Mi}=B,Wi=new ki(yt,this.urlSerializer.serialize(on),_r,Gi);this.events.next(Wi);const Zi=En(0,this.rootComponentType).snapshot;return E={...B,targetSnapshot:Zi,urlAfterRedirects:on,extras:{...Mi,skipLocationChange:!1,replaceUrl:!1}},(0,Y.of)(E)}{const yt="";return this.events.next(new Zr(B.id,m.serializeUrl(E.extractedUrl),yt,1)),m.rawUrlTree=B.rawUrl,B.resolve(null),Ye.E}}),(0,Z.b)(B=>{const oe=new as(B.id,this.urlSerializer.serialize(B.extractedUrl),this.urlSerializer.serialize(B.urlAfterRedirects),B.targetSnapshot);this.events.next(oe)}),(0,Ie.U)(B=>E={...B,guards:ls(B.targetSnapshot,B.currentSnapshot,this.rootContexts)}),function si(y,D){return(0,sn.z)(m=>{const{targetSnapshot:E,currentSnapshot:A,guards:{canActivateChecks:V,canDeactivateChecks:B}}=m;return 0===B.length&&0===V.length?(0,Y.of)({...m,guardsResult:!0}):function Du(y,D,m,E){return(0,le.D)(y).pipe((0,sn.z)(A=>function Ci(y,D,m,E,A){const V=D&&D.routeConfig?D.routeConfig.canDeactivate:null;if(!V||0===V.length)return(0,Y.of)(!0);const B=V.map(oe=>{const Re=Do(D)??A,ot=Co(oe,Re);return ht(function Dr(y){return y&&w(y.canDeactivate)}(ot)?ot.canDeactivate(y,D,m,E):Re.runInContext(()=>ot(y,D,m,E))).pipe(Q())});return(0,Y.of)(B).pipe(Bi())}(A.component,A.route,m,D,E)),Q(A=>!0!==A,!0))}(B,E,A,y).pipe((0,sn.z)(oe=>oe&&function L(y){return"boolean"==typeof y}(oe)?function bo(y,D,m,E){return(0,le.D)(D).pipe((0,H.b)(A=>(0,rt.z)(function ba(y,D){return null!==y&&D&&D(new jo(y)),(0,Y.of)(!0)}(A.route.parent,E),function Ls(y,D){return null!==y&&D&&D(new ni(y)),(0,Y.of)(!0)}(A.route,E),function Wo(y,D,m){const E=D[D.length-1],V=D.slice(0,D.length-1).reverse().map(B=>function Bo(y){const D=y.routeConfig?y.routeConfig.canActivateChild:null;return D&&0!==D.length?{node:y,guards:D}:null}(B)).filter(B=>null!==B).map(B=>(0,be.P)(()=>{const oe=B.guards.map(Re=>{const ot=Do(B.node)??m,yt=Co(Re,ot);return ht(function en(y){return y&&w(y.canActivateChild)}(yt)?yt.canActivateChild(E,y):ot.runInContext(()=>yt(E,y))).pipe(Q())});return(0,Y.of)(oe).pipe(Bi())}));return(0,Y.of)(V).pipe(Bi())}(y,A.path,m),function Di(y,D,m){const E=D.routeConfig?D.routeConfig.canActivate:null;if(!E||0===E.length)return(0,Y.of)(!0);const A=E.map(V=>(0,be.P)(()=>{const B=Do(D)??m,oe=Co(V,B);return ht(function qe(y){return y&&w(y.canActivate)}(oe)?oe.canActivate(D,y):B.runInContext(()=>oe(D,y))).pipe(Q())}));return(0,Y.of)(A).pipe(Bi())}(y,A.route,m))),Q(A=>!0!==A,!0))}(E,V,y,D):(0,Y.of)(oe)),(0,Ie.U)(oe=>({...m,guardsResult:oe})))})}(this.environmentInjector,B=>this.events.next(B)),(0,Z.b)(B=>{if(E.guardsResult=B.guardsResult,Me(B.guardsResult))throw mi(0,B.guardsResult);const oe=new Jn(B.id,this.urlSerializer.serialize(B.extractedUrl),this.urlSerializer.serialize(B.urlAfterRedirects),B.targetSnapshot,!!B.guardsResult);this.events.next(oe)}),(0,gn.h)(B=>!!B.guardsResult||(m.restoreHistory(B),this.cancelNavigationTransition(B,"",3),!1)),xe(B=>{if(B.guards.canActivateChecks.length)return(0,Y.of)(B).pipe((0,Z.b)(oe=>{const Re=new Fi(oe.id,this.urlSerializer.serialize(oe.extractedUrl),this.urlSerializer.serialize(oe.urlAfterRedirects),oe.targetSnapshot);this.events.next(Re)}),(0,tn.w)(oe=>{let Re=!1;return(0,Y.of)(oe).pipe(function b(y,D){return(0,sn.z)(m=>{const{targetSnapshot:E,guards:{canActivateChecks:A}}=m;if(!A.length)return(0,Y.of)(m);let V=0;return(0,le.D)(A).pipe((0,H.b)(B=>function O(y,D,m,E){const A=y.routeConfig,V=y._resolve;return void 0!==A?.title&&!me(A)&&(V[De]=A.title),function M(y,D,m,E){const A=function k(y){return[...Object.keys(y),...Object.getOwnPropertySymbols(y)]}(y);if(0===A.length)return(0,Y.of)({});const V={};return(0,le.D)(A).pipe((0,sn.z)(B=>function z(y,D,m,E){const A=Do(D)??E,V=Co(y,A);return ht(V.resolve?V.resolve(D,m):A.runInContext(()=>V(D,m)))}(y[B],D,m,E).pipe(Q(),(0,Z.b)(oe=>{V[B]=oe}))),et(1),function Ut(y){return(0,Ie.U)(()=>y)}(V),(0,ye.K)(B=>yi(B)?Ye.E:(0,Pe._)(B)))}(V,y,D,E).pipe((0,Ie.U)(B=>(y._resolvedData=B,y.data=mn(y,m).resolve,A&&me(A)&&(y.data[De]=A.title),null)))}(B.route,E,y,D)),(0,Z.b)(()=>V++),et(1),(0,sn.z)(B=>V===A.length?(0,Y.of)(m):Ye.E))})}(m.paramsInheritanceStrategy,this.environmentInjector),(0,Z.b)({next:()=>Re=!0,complete:()=>{Re||(m.restoreHistory(oe),this.cancelNavigationTransition(oe,"",2))}}))}),(0,Z.b)(oe=>{const Re=new hi(oe.id,this.urlSerializer.serialize(oe.extractedUrl),this.urlSerializer.serialize(oe.urlAfterRedirects),oe.targetSnapshot);this.events.next(Re)}))}),xe(B=>{const oe=Re=>{const ot=[];Re.routeConfig?.loadComponent&&!Re.routeConfig._loadedComponent&&ot.push(this.configLoader.loadComponent(Re.routeConfig).pipe((0,Z.b)(yt=>{Re.component=yt}),(0,Ie.U)(()=>{})));for(const yt of Re.children)ot.push(...oe(yt));return ot};return Fe(oe(B.targetSnapshot.root)).pipe(ce(),(0,st.q)(1))}),xe(()=>this.afterPreactivation()),(0,Ie.U)(B=>{const oe=function _n(y,D,m){const E=Nr(y,D._root,m?m._root:void 0);return new vo(E,D)}(m.routeReuseStrategy,B.targetSnapshot,B.currentRouterState);return E={...B,targetRouterState:oe}}),(0,Z.b)(B=>{m.currentUrlTree=B.urlAfterRedirects,m.rawUrlTree=m.urlHandlingStrategy.merge(B.urlAfterRedirects,B.rawUrl),m.routerState=B.targetRouterState,"deferred"===m.urlUpdateStrategy&&(B.extras.skipLocationChange||m.setBrowserUrl(m.rawUrlTree,B),m.browserUrlTree=B.urlAfterRedirects)}),((y,D,m,E)=>(0,Ie.U)(A=>(new Fr(D,A.targetRouterState,A.currentRouterState,m,E).activate(y),A)))(this.rootContexts,m.routeReuseStrategy,B=>this.events.next(B),this.inputBindingEnabled),(0,st.q)(1),(0,Z.b)({next:B=>{A=!0,this.lastSuccessfulNavigation=this.currentNavigation,m.navigated=!0,this.events.next(new wr(B.id,this.urlSerializer.serialize(B.extractedUrl),this.urlSerializer.serialize(m.currentUrlTree))),m.titleStrategy?.updateTitle(B.targetRouterState.snapshot),B.resolve(!0)},complete:()=>{A=!0}}),(0,pt.x)(()=>{A||V||this.cancelNavigationTransition(E,"",1),this.currentNavigation?.id===E.id&&(this.currentNavigation=null)}),(0,ye.K)(B=>{if(V=!0,$o(B)){Zn(B)||(m.navigated=!0,m.restoreHistory(E,!0));const oe=new ti(E.id,this.urlSerializer.serialize(E.extractedUrl),B.message,B.cancellationCode);if(this.events.next(oe),Zn(B)){const Re=m.urlHandlingStrategy.merge(B.url,m.rawUrlTree),ot={skipLocationChange:E.extras.skipLocationChange,replaceUrl:"eager"===m.urlUpdateStrategy||xn(E.source)};m.scheduleNavigation(Re,Gr,null,ot,{resolve:E.resolve,reject:E.reject,promise:E.promise})}else E.resolve(!1)}else{m.restoreHistory(E,!0);const oe=new Vo(E.id,this.urlSerializer.serialize(E.extractedUrl),B,E.targetSnapshot??void 0);this.events.next(oe);try{E.resolve(m.errorHandler(B))}catch(Re){E.reject(Re)}}return Ye.E}))}))}cancelNavigationTransition(m,E,A){const V=new ti(m.id,this.urlSerializer.serialize(m.extractedUrl),E,A);this.events.next(V),m.resolve(!1)}}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=d.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();function xn(y){return y!==Gr}let Kt=(()=>{class y{buildTitle(m){let E,A=m.root;for(;void 0!==A;)E=this.getResolvedTitleForRoute(A)??E,A=A.children.find(V=>V.outlet===Te);return E}getResolvedTitleForRoute(m){return m.data[De]}}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=d.Yz7({token:y,factory:function(){return(0,d.f3M)(ln)},providedIn:"root"}),y})(),ln=(()=>{class y extends Kt{constructor(m){super(),this.title=m}updateTitle(m){const E=this.buildTitle(m);void 0!==E&&this.title.setTitle(E)}}return y.\u0275fac=function(m){return new(m||y)(d.LFG(Ee.Dx))},y.\u0275prov=d.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})(),Ho=(()=>{class y{}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=d.Yz7({token:y,factory:function(){return(0,d.f3M)(ai)},providedIn:"root"}),y})();class So{shouldDetach(D){return!1}store(D,m){}shouldAttach(D){return!1}retrieve(D){return null}shouldReuseRoute(D,m){return D.routeConfig===m.routeConfig}}let ai=(()=>{class y extends So{}return y.\u0275fac=function(){let D;return function(E){return(D||(D=d.n5z(y)))(E||y)}}(),y.\u0275prov=d.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();const An=new d.OlP("",{providedIn:"root",factory:()=>({})});let Uo=(()=>{class y{}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=d.Yz7({token:y,factory:function(){return(0,d.f3M)(Zo)},providedIn:"root"}),y})(),Zo=(()=>{class y{shouldProcessUrl(m){return!0}extract(m){return m}merge(m,E){return m}}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=d.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();var Fn=(()=>((Fn=Fn||{})[Fn.COMPLETE=0]="COMPLETE",Fn[Fn.FAILED=1]="FAILED",Fn[Fn.REDIRECTING=2]="REDIRECTING",Fn))();function ps(y,D){y.events.pipe((0,gn.h)(m=>m instanceof wr||m instanceof ti||m instanceof Vo||m instanceof Zr),(0,Ie.U)(m=>m instanceof wr||m instanceof Zr?Fn.COMPLETE:m instanceof ti&&(0===m.code||1===m.code)?Fn.REDIRECTING:Fn.FAILED),(0,gn.h)(m=>m!==Fn.REDIRECTING),(0,st.q)(1)).subscribe(()=>{D()})}function Hs(y){throw y}function al(y,D,m){return D.parse("/")}const bt={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},xa={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Xr=(()=>{class y{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,d.f3M)(d.c2e),this.isNgZoneEnabled=!1,this.options=(0,d.f3M)(An,{optional:!0})||{},this.pendingTasks=(0,d.f3M)(d.HDt),this.errorHandler=this.options.errorHandler||Hs,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||al,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,d.f3M)(Uo),this.routeReuseStrategy=(0,d.f3M)(Ho),this.titleStrategy=(0,d.f3M)(Kt),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,d.f3M)(We,{optional:!0})?.flat()??[],this.navigationTransitions=(0,d.f3M)(kt),this.urlSerializer=(0,d.f3M)(Sn),this.location=(0,d.f3M)(Ht.Ye),this.componentInputBindingEnabled=!!(0,d.f3M)(no,{optional:!0}),this.isNgZoneEnabled=(0,d.f3M)(d.R0b)instanceof d.R0b&&d.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Nt,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=En(0,null),this.navigationTransitions.setupNavigations(this).subscribe(m=>{this.lastSuccessfulId=m.id,this.currentPageId=this.browserPageId??0},m=>{this.console.warn(`Unhandled Navigation Error: ${m}`)})}resetRootComponentType(m){this.routerState.root.component=m,this.navigationTransitions.rootComponentType=m}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const m=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Gr,m)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(m=>{const E="popstate"===m.type?"popstate":"hashchange";"popstate"===E&&setTimeout(()=>{this.navigateToSyncWithBrowser(m.url,E,m.state)},0)}))}navigateToSyncWithBrowser(m,E,A){const V={replaceUrl:!0},B=A?.navigationId?A:null;if(A){const Re={...A};delete Re.navigationId,delete Re.\u0275routerPageId,0!==Object.keys(Re).length&&(V.state=Re)}const oe=this.parseUrl(m);this.scheduleNavigation(oe,E,B,V)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(m){this.config=m.map(Vi),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(m,E={}){const{relativeTo:A,queryParams:V,fragment:B,queryParamsHandling:oe,preserveFragment:Re}=E,ot=Re?this.currentUrlTree.fragment:B;let on,yt=null;switch(oe){case"merge":yt={...this.currentUrlTree.queryParams,...V};break;case"preserve":yt=this.currentUrlTree.queryParams;break;default:yt=V||null}null!==yt&&(yt=this.removeEmptyProps(yt));try{on=wt(A?A.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof m[0]||!m[0].startsWith("/"))&&(m=[]),on=this.currentUrlTree.root}return fn(on,m,yt,ot??null)}navigateByUrl(m,E={skipLocationChange:!1}){const A=Me(m)?m:this.parseUrl(m),V=this.urlHandlingStrategy.merge(A,this.rawUrlTree);return this.scheduleNavigation(V,Gr,null,E)}navigate(m,E={skipLocationChange:!1}){return function Ia(y){for(let D=0;D<y.length;D++)if(null==y[D])throw new d.vHH(4008,!1)}(m),this.navigateByUrl(this.createUrlTree(m,E),E)}serializeUrl(m){return this.urlSerializer.serialize(m)}parseUrl(m){let E;try{E=this.urlSerializer.parse(m)}catch(A){E=this.malformedUriErrorHandler(A,this.urlSerializer,m)}return E}isActive(m,E){let A;if(A=!0===E?{...bt}:!1===E?{...xa}:E,Me(m))return Ur(this.currentUrlTree,m,A);const V=this.parseUrl(m);return Ur(this.currentUrlTree,V,A)}removeEmptyProps(m){return Object.keys(m).reduce((E,A)=>{const V=m[A];return null!=V&&(E[A]=V),E},{})}scheduleNavigation(m,E,A,V,B){if(this.disposed)return Promise.resolve(!1);let oe,Re,ot;B?(oe=B.resolve,Re=B.reject,ot=B.promise):ot=new Promise((on,_r)=>{oe=on,Re=_r});const yt=this.pendingTasks.add();return ps(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(yt))}),this.navigationTransitions.handleNavigationRequest({source:E,restoredState:A,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:m,extras:V,resolve:oe,reject:Re,promise:ot,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),ot.catch(on=>Promise.reject(on))}setBrowserUrl(m,E){const A=this.urlSerializer.serialize(m);if(this.location.isCurrentPathEqualTo(A)||E.extras.replaceUrl){const B={...E.extras.state,...this.generateNgRouterState(E.id,this.browserPageId)};this.location.replaceState(A,"",B)}else{const V={...E.extras.state,...this.generateNgRouterState(E.id,(this.browserPageId??0)+1)};this.location.go(A,"",V)}}restoreHistory(m,E=!1){if("computed"===this.canceledNavigationResolution){const V=this.currentPageId-(this.browserPageId??this.currentPageId);0!==V?this.location.historyGo(V):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===V&&(this.resetState(m),this.browserUrlTree=m.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(E&&this.resetState(m),this.resetUrlToCurrentUrlTree())}resetState(m){this.routerState=m.currentRouterState,this.currentUrlTree=m.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,m.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(m,E){return"computed"===this.canceledNavigationResolution?{navigationId:m,\u0275routerPageId:E}:{navigationId:m}}}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=d.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})(),gs=(()=>{class y{constructor(m,E,A,V,B,oe){this.router=m,this.route=E,this.tabIndexAttribute=A,this.renderer=V,this.el=B,this.locationStrategy=oe,this.href=null,this.commands=null,this.onChanges=new Ke.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const Re=B.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Re||"area"===Re,this.isAnchorElement?this.subscription=m.events.subscribe(ot=>{ot instanceof wr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(m){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",m)}ngOnChanges(m){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(m){null!=m?(this.commands=Array.isArray(m)?m:[m],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(m,E,A,V,B){return!!(null===this.urlTree||this.isAnchorElement&&(0!==m||E||A||V||B||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const m=null===this.href?null:(0,d.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",m)}applyAttributeValue(m,E){const A=this.renderer,V=this.el.nativeElement;null!==E?A.setAttribute(V,m,E):A.removeAttribute(V,m)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return y.\u0275fac=function(m){return new(m||y)(d.Y36(Xr),d.Y36(Je),d.$8M("tabindex"),d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(Ht.S$))},y.\u0275dir=d.lG2({type:y,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(m,E){1&m&&d.NdJ("click",function(V){return E.onClick(V.button,V.ctrlKey,V.shiftKey,V.altKey,V.metaKey)}),2&m&&d.uIk("target",E.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",d.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",d.VuI],replaceUrl:["replaceUrl","replaceUrl",d.VuI],routerLink:"routerLink"},standalone:!0,features:[d.Xq5,d.TTD]}),y})();class li{}let cl=(()=>{class y{constructor(m,E,A,V,B){this.router=m,this.injector=A,this.preloadingStrategy=V,this.loader=B}setUpPreloading(){this.subscription=this.router.events.pipe((0,gn.h)(m=>m instanceof wr),(0,H.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(m,E){const A=[];for(const V of E){V.providers&&!V._injector&&(V._injector=(0,d.MMx)(V.providers,m,`Route: ${V.path}`));const B=V._injector??m,oe=V._loadedInjector??B;(V.loadChildren&&!V._loadedRoutes&&void 0===V.canLoad||V.loadComponent&&!V._loadedComponent)&&A.push(this.preloadConfig(B,V)),(V.children||V._loadedRoutes)&&A.push(this.processRoutes(oe,V.children??V._loadedRoutes))}return(0,le.D)(A).pipe((0,Yt.J)())}preloadConfig(m,E){return this.preloadingStrategy.preload(E,()=>{let A;A=E.loadChildren&&void 0===E.canLoad?this.loader.loadChildren(m,E):(0,Y.of)(null);const V=A.pipe((0,sn.z)(B=>null===B?(0,Y.of)(void 0):(E._loadedRoutes=B.routes,E._loadedInjector=B.injector,this.processRoutes(B.injector??m,B.routes))));if(E.loadComponent&&!E._loadedComponent){const B=this.loader.loadComponent(E);return(0,le.D)([V,B]).pipe((0,Yt.J)())}return V})}}return y.\u0275fac=function(m){return new(m||y)(d.LFG(Xr),d.LFG(d.Sil),d.LFG(d.lqb),d.LFG(li),d.LFG(Zt))},y.\u0275prov=d.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();const Us=new d.OlP("");let dl=(()=>{class y{constructor(m,E,A,V,B={}){this.urlSerializer=m,this.transitions=E,this.viewportScroller=A,this.zone=V,this.options=B,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},B.scrollPositionRestoration=B.scrollPositionRestoration||"disabled",B.anchorScrolling=B.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(m=>{m instanceof ki?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=m.navigationTrigger,this.restoredId=m.restoredState?m.restoredState.navigationId:0):m instanceof wr?(this.lastId=m.id,this.scheduleScrollEvent(m,this.urlSerializer.parse(m.urlAfterRedirects).fragment)):m instanceof Zr&&0===m.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(m,this.urlSerializer.parse(m.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(m=>{m instanceof Wt&&(m.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(m.position):m.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(m.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(m,E){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Wt(m,"popstate"===this.lastSource?this.store[this.restoredId]:null,E))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return y.\u0275fac=function(m){d.$Z()},y.\u0275prov=d.Yz7({token:y,factory:y.\u0275fac}),y})();function xo(y,D){return{\u0275kind:y,\u0275providers:D}}function io(){const y=(0,d.f3M)(d.zs3);return D=>{const m=y.get(d.z2F);if(D!==m.components[0])return;const E=y.get(Xr),A=y.get(vs);1===y.get(wi)&&E.initialNavigation(),y.get(lr,null,d.XFs.Optional)?.setUpPreloading(),y.get(Us,null,d.XFs.Optional)?.init(),E.resetRootComponentType(m.componentTypes[0]),A.closed||(A.next(),A.complete(),A.unsubscribe())}}const vs=new d.OlP("",{factory:()=>new Ke.x}),wi=new d.OlP("",{providedIn:"root",factory:()=>1}),lr=new d.OlP("");function Ko(y){return xo(0,[{provide:lr,useExisting:cl},{provide:li,useExisting:y}])}const gl=new d.OlP("ROUTER_FORROOT_GUARD"),ml=[Ht.Ye,{provide:Sn,useClass:to},Xr,Ar,{provide:Je,useFactory:function jt(y){return y.routerState.root},deps:[Xr]},Zt,[]];function $s(){return new d.PXZ("Router",Xr)}let zs=(()=>{class y{constructor(m){}static forRoot(m,E){return{ngModule:y,providers:[ml,[],{provide:We,multi:!0,useValue:m},{provide:gl,useFactory:Ta,deps:[[Xr,new d.FiY,new d.tp0]]},{provide:An,useValue:E||{}},E?.useHash?{provide:Ht.S$,useClass:Ht.Do}:{provide:Ht.S$,useClass:Ht.b0},{provide:Us,useFactory:()=>{const y=(0,d.f3M)(Ht.EM),D=(0,d.f3M)(d.R0b),m=(0,d.f3M)(An),E=(0,d.f3M)(kt),A=(0,d.f3M)(Sn);return m.scrollOffset&&y.setOffset(m.scrollOffset),new dl(A,E,y,D,m)}},E?.preloadingStrategy?Ko(E.preloadingStrategy).\u0275providers:[],{provide:d.PXZ,multi:!0,useFactory:$s},E?.initialNavigation?Zs(E):[],E?.bindToComponentInputs?xo(8,[ro,{provide:no,useExisting:ro}]).\u0275providers:[],[{provide:Aa,useFactory:io},{provide:d.tb,multi:!0,useExisting:Aa}]]}}static forChild(m){return{ngModule:y,providers:[{provide:We,multi:!0,useValue:m}]}}}return y.\u0275fac=function(m){return new(m||y)(d.LFG(gl,8))},y.\u0275mod=d.oAB({type:y}),y.\u0275inj=d.cJS({}),y})();function Ta(y){return"guarded"}function Zs(y){return["disabled"===y.initialNavigation?xo(3,[{provide:d.ip1,multi:!0,useFactory:()=>{const D=(0,d.f3M)(Xr);return()=>{D.setUpLocationChangeListener()}}},{provide:wi,useValue:2}]).\u0275providers:[],"enabledBlocking"===y.initialNavigation?xo(2,[{provide:wi,useValue:0},{provide:d.ip1,multi:!0,deps:[d.zs3],useFactory:D=>{const m=D.get(Ht.V_,Promise.resolve());return()=>m.then(()=>new Promise(E=>{const A=D.get(Xr),V=D.get(vs);ps(A,()=>{E(!0)}),D.get(kt).afterPreactivation=()=>(E(!0),V.closed?(0,Y.of)(void 0):V),A.initialNavigation()}))}}]).\u0275providers:[]]}const Aa=new d.OlP("")},3911:(dt,Ce,R)=>{R.d(Ce,{Zw:()=>it,aw:()=>de,X$:()=>ce,sK:()=>gn});var d=R(1180),G=R(9291),le=R(2096),Y=R(2664),P=R(9315),ve=R(5211),ne=R(4911),Se=R(8180),we=R(8645);const _e={now:()=>(_e.delegate||Date).now(),delegate:void 0};class pe extends we.x{constructor(Q=1/0,H=1/0,Z=_e){super(),this._bufferSize=Q,this._windowTime=H,this._timestampProvider=Z,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=H===1/0,this._bufferSize=Math.max(1,Q),this._windowTime=Math.max(1,H)}next(Q){const{isStopped:H,_buffer:Z,_infiniteTimeWindow:ye,_timestampProvider:Ue,_windowTime:ft}=this;H||(Z.push(Q),!ye&&Z.push(Ue.now()+ft)),this._trimBuffer(),super.next(Q)}_subscribe(Q){this._throwIfClosed(),this._trimBuffer();const H=this._innerSubscribe(Q),{_infiniteTimeWindow:Z,_buffer:ye}=this,Ue=ye.slice();for(let ft=0;ft<Ue.length&&!Q.closed;ft+=Z?1:2)Q.next(Ue[ft]);return this._checkFinalizedStatuses(Q),H}_trimBuffer(){const{_bufferSize:Q,_timestampProvider:H,_buffer:Z,_infiniteTimeWindow:ye}=this,Ue=(ye?1:2)*Q;if(Q<1/0&&Ue<Z.length&&Z.splice(0,Z.length-Ue),!ye){const ft=H.now();let et=0;for(let Et=1;Et<Z.length&&Z[Et]<=ft;Et+=2)et=Et;et&&Z.splice(0,et+1)}}}var Ae=R(3020);function Qe(K,Q,H){let Z,ye=!1;return K&&"object"==typeof K?({bufferSize:Z=1/0,windowTime:Q=1/0,refCount:ye=!1,scheduler:H}=K):Z=K??1/0,(0,Ae.B)({connector:()=>new pe(Z,Q,H),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:ye})}var Fe=R(7398),$e=R(6328),lt=R(4664);class it{}let Ct=(()=>{class K extends it{getTranslation(H){return(0,le.of)({})}}return(0,d.Z)(K,"\u0275fac",function(){let Q;return function(Z){return(Q||(Q=G.n5z(K)))(Z||K)}}()),(0,d.Z)(K,"\u0275prov",G.Yz7({token:K,factory:K.\u0275fac})),K})();class rt{}let be=(()=>{class K{handle(H){return H.key}}return(0,d.Z)(K,"\u0275fac",function(H){return new(H||K)}),(0,d.Z)(K,"\u0275prov",G.Yz7({token:K,factory:K.\u0275fac})),K})();function ke(K,Q){if(K===Q)return!0;if(null===K||null===Q)return!1;if(K!=K&&Q!=Q)return!0;let ye,Ue,ft,H=typeof K;if(H==typeof Q&&"object"==H){if(!Array.isArray(K)){if(Array.isArray(Q))return!1;for(Ue in ft=Object.create(null),K){if(!ke(K[Ue],Q[Ue]))return!1;ft[Ue]=!0}for(Ue in Q)if(!(Ue in ft)&&typeof Q[Ue]<"u")return!1;return!0}if(!Array.isArray(Q))return!1;if((ye=K.length)==Q.length){for(Ue=0;Ue<ye;Ue++)if(!ke(K[Ue],Q[Ue]))return!1;return!0}}return!1}function Pe(K){return typeof K<"u"&&null!==K}function Ye(K){return K&&"object"==typeof K&&!Array.isArray(K)}function ze(K,Q){let H=Object.assign({},K);return Ye(K)&&Ye(Q)&&Object.keys(Q).forEach(Z=>{Ye(Q[Z])?Z in K?H[Z]=ze(K[Z],Q[Z]):Object.assign(H,{[Z]:Q[Z]}):Object.assign(H,{[Z]:Q[Z]})}),H}class he{}let ie=(()=>{class K extends he{constructor(...H){super(...H),(0,d.Z)(this,"templateMatcher",/{{\s?([^{}\s]*)\s?}}/g)}interpolate(H,Z){let ye;return ye="string"==typeof H?this.interpolateString(H,Z):"function"==typeof H?this.interpolateFunction(H,Z):H,ye}getValue(H,Z){let ye="string"==typeof Z?Z.split("."):[Z];Z="";do{Z+=ye.shift(),!Pe(H)||!Pe(H[Z])||"object"!=typeof H[Z]&&ye.length?ye.length?Z+=".":H=void 0:(H=H[Z],Z="")}while(ye.length);return H}interpolateFunction(H,Z){return H(Z)}interpolateString(H,Z){return Z?H.replace(this.templateMatcher,(ye,Ue)=>{let ft=this.getValue(Z,Ue);return Pe(ft)?ft:ye}):H}}return(0,d.Z)(K,"\u0275fac",function(){let Q;return function(Z){return(Q||(Q=G.n5z(K)))(Z||K)}}()),(0,d.Z)(K,"\u0275prov",G.Yz7({token:K,factory:K.\u0275fac})),K})();class ut{}let Ke=(()=>{class K extends ut{compile(H,Z){return H}compileTranslations(H,Z){return H}}return(0,d.Z)(K,"\u0275fac",function(){let Q;return function(Z){return(Q||(Q=G.n5z(K)))(Z||K)}}()),(0,d.Z)(K,"\u0275prov",G.Yz7({token:K,factory:K.\u0275fac})),K})();class Ht{constructor(){(0,d.Z)(this,"defaultLang",void 0),(0,d.Z)(this,"currentLang",this.defaultLang),(0,d.Z)(this,"translations",{}),(0,d.Z)(this,"langs",[]),(0,d.Z)(this,"onTranslationChange",new G.vpe),(0,d.Z)(this,"onLangChange",new G.vpe),(0,d.Z)(this,"onDefaultLangChange",new G.vpe)}}const Ie=new G.OlP("USE_STORE"),tn=new G.OlP("USE_DEFAULT_LANG"),st=new G.OlP("DEFAULT_LANGUAGE"),vt=new G.OlP("USE_EXTEND");let gn=(()=>{class K{get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(H){this.isolate?this._defaultLang=H:this.store.defaultLang=H}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(H){this.isolate?this._currentLang=H:this.store.currentLang=H}get langs(){return this.isolate?this._langs:this.store.langs}set langs(H){this.isolate?this._langs=H:this.store.langs=H}get translations(){return this.isolate?this._translations:this.store.translations}set translations(H){this.isolate?this._translations=H:this.store.translations=H}constructor(H,Z,ye,Ue,ft,et=!0,Et=!1,Ut=!1,pt){(0,d.Z)(this,"store",void 0),(0,d.Z)(this,"currentLoader",void 0),(0,d.Z)(this,"compiler",void 0),(0,d.Z)(this,"parser",void 0),(0,d.Z)(this,"missingTranslationHandler",void 0),(0,d.Z)(this,"useDefaultLang",void 0),(0,d.Z)(this,"isolate",void 0),(0,d.Z)(this,"extend",void 0),(0,d.Z)(this,"loadingTranslations",void 0),(0,d.Z)(this,"pending",!1),(0,d.Z)(this,"_onTranslationChange",new G.vpe),(0,d.Z)(this,"_onLangChange",new G.vpe),(0,d.Z)(this,"_onDefaultLangChange",new G.vpe),(0,d.Z)(this,"_defaultLang",void 0),(0,d.Z)(this,"_currentLang",void 0),(0,d.Z)(this,"_langs",[]),(0,d.Z)(this,"_translations",{}),(0,d.Z)(this,"_translationRequests",{}),this.store=H,this.currentLoader=Z,this.compiler=ye,this.parser=Ue,this.missingTranslationHandler=ft,this.useDefaultLang=et,this.isolate=Et,this.extend=Ut,pt&&this.setDefaultLang(pt)}setDefaultLang(H){if(H===this.defaultLang)return;let Z=this.retrieveTranslations(H);typeof Z<"u"?(null==this.defaultLang&&(this.defaultLang=H),Z.pipe((0,Se.q)(1)).subscribe(ye=>{this.changeDefaultLang(H)})):this.changeDefaultLang(H)}getDefaultLang(){return this.defaultLang}use(H){if(H===this.currentLang)return(0,le.of)(this.translations[H]);let Z=this.retrieveTranslations(H);return typeof Z<"u"?(this.currentLang||(this.currentLang=H),Z.pipe((0,Se.q)(1)).subscribe(ye=>{this.changeLang(H)}),Z):(this.changeLang(H),(0,le.of)(this.translations[H]))}retrieveTranslations(H){let Z;return(typeof this.translations[H]>"u"||this.extend)&&(this._translationRequests[H]=this._translationRequests[H]||this.getTranslation(H),Z=this._translationRequests[H]),Z}getTranslation(H){this.pending=!0;const Z=this.currentLoader.getTranslation(H).pipe(Qe(1),(0,Se.q)(1));return this.loadingTranslations=Z.pipe((0,Fe.U)(ye=>this.compiler.compileTranslations(ye,H)),Qe(1),(0,Se.q)(1)),this.loadingTranslations.subscribe({next:ye=>{this.translations[H]=this.extend&&this.translations[H]?{...ye,...this.translations[H]}:ye,this.updateLangs(),this.pending=!1},error:ye=>{this.pending=!1}}),Z}setTranslation(H,Z,ye=!1){Z=this.compiler.compileTranslations(Z,H),this.translations[H]=(ye||this.extend)&&this.translations[H]?ze(this.translations[H],Z):Z,this.updateLangs(),this.onTranslationChange.emit({lang:H,translations:this.translations[H]})}getLangs(){return this.langs}addLangs(H){H.forEach(Z=>{-1===this.langs.indexOf(Z)&&this.langs.push(Z)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(H,Z,ye){let Ue;if(Z instanceof Array){let ft={},et=!1;for(let Et of Z)ft[Et]=this.getParsedResult(H,Et,ye),(0,Y.b)(ft[Et])&&(et=!0);if(et){const Et=Z.map(Ut=>(0,Y.b)(ft[Ut])?ft[Ut]:(0,le.of)(ft[Ut]));return(0,P.D)(Et).pipe((0,Fe.U)(Ut=>{let pt={};return Ut.forEach((Yt,Ee)=>{pt[Z[Ee]]=Yt}),pt}))}return ft}if(H&&(Ue=this.parser.interpolate(this.parser.getValue(H,Z),ye)),typeof Ue>"u"&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(Ue=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],Z),ye)),typeof Ue>"u"){let ft={key:Z,translateService:this};typeof ye<"u"&&(ft.interpolateParams=ye),Ue=this.missingTranslationHandler.handle(ft)}return typeof Ue<"u"?Ue:Z}get(H,Z){if(!Pe(H)||!H.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe((0,$e.b)(ye=>(ye=this.getParsedResult(ye,H,Z),(0,Y.b)(ye)?ye:(0,le.of)(ye))));{let ye=this.getParsedResult(this.translations[this.currentLang],H,Z);return(0,Y.b)(ye)?ye:(0,le.of)(ye)}}getStreamOnTranslationChange(H,Z){if(!Pe(H)||!H.length)throw new Error('Parameter "key" required');return(0,ve.z)((0,ne.P)(()=>this.get(H,Z)),this.onTranslationChange.pipe((0,lt.w)(ye=>{const Ue=this.getParsedResult(ye.translations,H,Z);return"function"==typeof Ue.subscribe?Ue:(0,le.of)(Ue)})))}stream(H,Z){if(!Pe(H)||!H.length)throw new Error('Parameter "key" required');return(0,ve.z)((0,ne.P)(()=>this.get(H,Z)),this.onLangChange.pipe((0,lt.w)(ye=>{const Ue=this.getParsedResult(ye.translations,H,Z);return(0,Y.b)(Ue)?Ue:(0,le.of)(Ue)})))}instant(H,Z){if(!Pe(H)||!H.length)throw new Error('Parameter "key" required');let ye=this.getParsedResult(this.translations[this.currentLang],H,Z);if((0,Y.b)(ye)){if(H instanceof Array){let Ue={};return H.forEach((ft,et)=>{Ue[H[et]]=H[et]}),Ue}return H}return ye}set(H,Z,ye=this.currentLang){this.translations[ye][H]=this.compiler.compile(Z,ye),this.updateLangs(),this.onTranslationChange.emit({lang:ye,translations:this.translations[ye]})}changeLang(H){this.currentLang=H,this.onLangChange.emit({lang:H,translations:this.translations[H]}),null==this.defaultLang&&this.changeDefaultLang(H)}changeDefaultLang(H){this.defaultLang=H,this.onDefaultLangChange.emit({lang:H,translations:this.translations[H]})}reloadLang(H){return this.resetLang(H),this.getTranslation(H)}resetLang(H){this._translationRequests[H]=void 0,this.translations[H]=void 0}getBrowserLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let H=window.navigator.languages?window.navigator.languages[0]:null;return H=H||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,typeof H>"u"?void 0:(-1!==H.indexOf("-")&&(H=H.split("-")[0]),-1!==H.indexOf("_")&&(H=H.split("_")[0]),H)}getBrowserCultureLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let H=window.navigator.languages?window.navigator.languages[0]:null;return H=H||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,H}}return(0,d.Z)(K,"\u0275fac",function(H){return new(H||K)(G.LFG(Ht),G.LFG(it),G.LFG(ut),G.LFG(he),G.LFG(rt),G.LFG(tn),G.LFG(Ie),G.LFG(vt),G.LFG(st))}),(0,d.Z)(K,"\u0275prov",G.Yz7({token:K,factory:K.\u0275fac})),K})(),ce=(()=>{class K{constructor(H,Z){(0,d.Z)(this,"translate",void 0),(0,d.Z)(this,"_ref",void 0),(0,d.Z)(this,"value",""),(0,d.Z)(this,"lastKey",null),(0,d.Z)(this,"lastParams",[]),(0,d.Z)(this,"onTranslationChange",void 0),(0,d.Z)(this,"onLangChange",void 0),(0,d.Z)(this,"onDefaultLangChange",void 0),this.translate=H,this._ref=Z}updateValue(H,Z,ye){let Ue=ft=>{this.value=void 0!==ft?ft:H,this.lastKey=H,this._ref.markForCheck()};if(ye){let ft=this.translate.getParsedResult(ye,H,Z);(0,Y.b)(ft.subscribe)?ft.subscribe(Ue):Ue(ft)}this.translate.get(H,Z).subscribe(Ue)}transform(H,...Z){if(!H||!H.length)return H;if(ke(H,this.lastKey)&&ke(Z,this.lastParams))return this.value;let ye;if(Pe(Z[0])&&Z.length)if("string"==typeof Z[0]&&Z[0].length){let Ue=Z[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{ye=JSON.parse(Ue)}catch{throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${Z[0]}`)}}else"object"==typeof Z[0]&&!Array.isArray(Z[0])&&(ye=Z[0]);return this.lastKey=H,this.lastParams=Z,this.updateValue(H,ye),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(Ue=>{this.lastKey&&Ue.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(H,ye,Ue.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(Ue=>{this.lastKey&&(this.lastKey=null,this.updateValue(H,ye,Ue.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(H,ye))})),this.value}_dispose(){typeof this.onTranslationChange<"u"&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),typeof this.onLangChange<"u"&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),typeof this.onDefaultLangChange<"u"&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}}return(0,d.Z)(K,"\u0275fac",function(H){return new(H||K)(G.Y36(gn,16),G.Y36(G.sBO,16))}),(0,d.Z)(K,"\u0275pipe",G.Yjl({name:"translate",type:K,pure:!1})),(0,d.Z)(K,"\u0275prov",G.Yz7({token:K,factory:K.\u0275fac})),K})(),de=(()=>{class K{static forRoot(H={}){return{ngModule:K,providers:[H.loader||{provide:it,useClass:Ct},H.compiler||{provide:ut,useClass:Ke},H.parser||{provide:he,useClass:ie},H.missingTranslationHandler||{provide:rt,useClass:be},Ht,{provide:Ie,useValue:H.isolate},{provide:tn,useValue:H.useDefaultLang},{provide:vt,useValue:H.extend},{provide:st,useValue:H.defaultLanguage},gn]}}static forChild(H={}){return{ngModule:K,providers:[H.loader||{provide:it,useClass:Ct},H.compiler||{provide:ut,useClass:Ke},H.parser||{provide:he,useClass:ie},H.missingTranslationHandler||{provide:rt,useClass:be},{provide:Ie,useValue:H.isolate},{provide:tn,useValue:H.useDefaultLang},{provide:vt,useValue:H.extend},{provide:st,useValue:H.defaultLanguage},gn]}}}return(0,d.Z)(K,"\u0275fac",function(H){return new(H||K)}),(0,d.Z)(K,"\u0275mod",G.oAB({type:K})),(0,d.Z)(K,"\u0275inj",G.cJS({})),K})()},7629:(dt,Ce,R)=>{R.d(Ce,{ML:()=>Sp,Mn:()=>hp,tP:()=>Wh,FP:()=>vp});var d=R(9291),G=R(6223),le=R(8645),Y=R(2664),P=R(2096),ve=R(9360),ne=R(8251),Se=R(4829),we=R(2420);const Fe=s=>{const t=(s=>{const t={};return Object.keys(s).forEach(r=>{s[r]&&(t[r]=s[r])}),t})(s);return Object.entries(t).map(([r,i])=>`${(s=>s.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`))(r)}:${i}`).join(";")};class $e extends Error{constructor(t){super(t),this.name=this.constructor.name}}function lt(s){this.content=s}lt.prototype={constructor:lt,find:function(s){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===s)return t;return-1},get:function(s){var t=this.find(s);return-1==t?void 0:this.content[t+1]},update:function(s,t,r){var i=r&&r!=s?this.remove(r):this,l=i.find(s),c=i.content.slice();return-1==l?c.push(r||s,t):(c[l+1]=t,r&&(c[l]=r)),new lt(c)},remove:function(s){var t=this.find(s);if(-1==t)return this;var r=this.content.slice();return r.splice(t,2),new lt(r)},addToStart:function(s,t){return new lt([s,t].concat(this.remove(s).content))},addToEnd:function(s,t){var r=this.remove(s).content.slice();return r.push(s,t),new lt(r)},addBefore:function(s,t,r){var i=this.remove(t),l=i.content.slice(),c=i.find(s);return l.splice(-1==c?l.length:c,0,t,r),new lt(l)},forEach:function(s){for(var t=0;t<this.content.length;t+=2)s(this.content[t],this.content[t+1])},prepend:function(s){return(s=lt.from(s)).size?new lt(s.content.concat(this.subtract(s).content)):this},append:function(s){return(s=lt.from(s)).size?new lt(this.subtract(s).content.concat(s.content)):this},subtract:function(s){var t=this;s=lt.from(s);for(var r=0;r<s.content.length;r+=2)t=t.remove(s.content[r]);return t},toObject:function(){var s={};return this.forEach(function(t,r){s[t]=r}),s},get size(){return this.content.length>>1}},lt.from=function(s){if(s instanceof lt)return s;var t=[];if(s)for(var r in s)t.push(r,s[r]);return new lt(t)};const it=lt;function Ct(s,t,r){for(let i=0;;i++){if(i==s.childCount||i==t.childCount)return s.childCount==t.childCount?null:r;let l=s.child(i),c=t.child(i);if(l!=c){if(!l.sameMarkup(c))return r;if(l.isText&&l.text!=c.text){for(let h=0;l.text[h]==c.text[h];h++)r++;return r}if(l.content.size||c.content.size){let h=Ct(l.content,c.content,r+1);if(null!=h)return h}r+=l.nodeSize}else r+=l.nodeSize}}function rt(s,t,r,i){for(let l=s.childCount,c=t.childCount;;){if(0==l||0==c)return l==c?null:{a:r,b:i};let h=s.child(--l),g=t.child(--c),C=h.nodeSize;if(h!=g){if(!h.sameMarkup(g))return{a:r,b:i};if(h.isText&&h.text!=g.text){let I=0,N=Math.min(h.text.length,g.text.length);for(;I<N&&h.text[h.text.length-I-1]==g.text[g.text.length-I-1];)I++,r--,i--;return{a:r,b:i}}if(h.content.size||g.content.size){let I=rt(h.content,g.content,r-1,i-1);if(I)return I}r-=C,i-=C}else r-=C,i-=C}}class be{constructor(t,r){if(this.content=t,this.size=r||0,null==r)for(let i=0;i<t.length;i++)this.size+=t[i].nodeSize}nodesBetween(t,r,i,l=0,c){for(let h=0,g=0;g<r;h++){let C=this.content[h],I=g+C.nodeSize;if(I>t&&!1!==i(C,l+g,c||null,h)&&C.content.size){let N=g+1;C.nodesBetween(Math.max(0,t-N),Math.min(C.content.size,r-N),i,l+N)}g=I}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,r,i,l){let c="",h=!0;return this.nodesBetween(t,r,(g,C)=>{g.isText?(c+=g.text.slice(Math.max(t,C)-C,r-C),h=!i):g.isLeaf?(l?c+="function"==typeof l?l(g):l:g.type.spec.leafText&&(c+=g.type.spec.leafText(g)),h=!i):!h&&g.isBlock&&(c+=i,h=!0)},0),c}append(t){if(!t.size)return this;if(!this.size)return t;let r=this.lastChild,i=t.firstChild,l=this.content.slice(),c=0;for(r.isText&&r.sameMarkup(i)&&(l[l.length-1]=r.withText(r.text+i.text),c=1);c<t.content.length;c++)l.push(t.content[c]);return new be(l,this.size+t.size)}cut(t,r=this.size){if(0==t&&r==this.size)return this;let i=[],l=0;if(r>t)for(let c=0,h=0;h<r;c++){let g=this.content[c],C=h+g.nodeSize;C>t&&((h<t||C>r)&&(g=g.isText?g.cut(Math.max(0,t-h),Math.min(g.text.length,r-h)):g.cut(Math.max(0,t-h-1),Math.min(g.content.size,r-h-1))),i.push(g),l+=g.nodeSize),h=C}return new be(i,l)}cutByIndex(t,r){return t==r?be.empty:0==t&&r==this.content.length?this:new be(this.content.slice(t,r))}replaceChild(t,r){let i=this.content[t];if(i==r)return this;let l=this.content.slice(),c=this.size+r.nodeSize-i.nodeSize;return l[t]=r,new be(l,c)}addToStart(t){return new be([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new be(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let r=0;r<this.content.length;r++)if(!this.content[r].eq(t.content[r]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let r=this.content[t];if(!r)throw new RangeError("Index "+t+" out of range for "+this);return r}maybeChild(t){return this.content[t]||null}forEach(t){for(let r=0,i=0;r<this.content.length;r++){let l=this.content[r];t(l,i,r),i+=l.nodeSize}}findDiffStart(t,r=0){return Ct(this,t,r)}findDiffEnd(t,r=this.size,i=t.size){return rt(this,t,r,i)}findIndex(t,r=-1){if(0==t)return Pe(0,t);if(t==this.size)return Pe(this.content.length,t);if(t>this.size||t<0)throw new RangeError(`Position ${t} outside of fragment (${this})`);for(let i=0,l=0;;i++){let h=l+this.child(i).nodeSize;if(h>=t)return h==t||r>0?Pe(i+1,h):Pe(i,l);l=h}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(t=>t.toJSON()):null}static fromJSON(t,r){if(!r)return be.empty;if(!Array.isArray(r))throw new RangeError("Invalid input for Fragment.fromJSON");return new be(r.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return be.empty;let r,i=0;for(let l=0;l<t.length;l++){let c=t[l];i+=c.nodeSize,l&&c.isText&&t[l-1].sameMarkup(c)?(r||(r=t.slice(0,l)),r[r.length-1]=c.withText(r[r.length-1].text+c.text)):r&&r.push(c)}return new be(r||t,i)}static from(t){if(!t)return be.empty;if(t instanceof be)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new be([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}be.empty=new be([],0);const ke={index:0,offset:0};function Pe(s,t){return ke.index=s,ke.offset=t,ke}function Ye(s,t){if(s===t)return!0;if(!s||"object"!=typeof s||!t||"object"!=typeof t)return!1;let r=Array.isArray(s);if(Array.isArray(t)!=r)return!1;if(r){if(s.length!=t.length)return!1;for(let i=0;i<s.length;i++)if(!Ye(s[i],t[i]))return!1}else{for(let i in s)if(!(i in t)||!Ye(s[i],t[i]))return!1;for(let i in t)if(!(i in s))return!1}return!0}let ze=(()=>{class s{constructor(r,i){this.type=r,this.attrs=i}addToSet(r){let i,l=!1;for(let c=0;c<r.length;c++){let h=r[c];if(this.eq(h))return r;if(this.type.excludes(h.type))i||(i=r.slice(0,c));else{if(h.type.excludes(this.type))return r;!l&&h.type.rank>this.type.rank&&(i||(i=r.slice(0,c)),i.push(this),l=!0),i&&i.push(h)}}return i||(i=r.slice()),l||i.push(this),i}removeFromSet(r){for(let i=0;i<r.length;i++)if(this.eq(r[i]))return r.slice(0,i).concat(r.slice(i+1));return r}isInSet(r){for(let i=0;i<r.length;i++)if(this.eq(r[i]))return!0;return!1}eq(r){return this==r||this.type==r.type&&Ye(this.attrs,r.attrs)}toJSON(){let r={type:this.type.name};for(let i in this.attrs){r.attrs=this.attrs;break}return r}static fromJSON(r,i){if(!i)throw new RangeError("Invalid input for Mark.fromJSON");let l=r.marks[i.type];if(!l)throw new RangeError(`There is no mark type ${i.type} in this schema`);return l.create(i.attrs)}static sameSet(r,i){if(r==i)return!0;if(r.length!=i.length)return!1;for(let l=0;l<r.length;l++)if(!r[l].eq(i[l]))return!1;return!0}static setFrom(r){if(!r||Array.isArray(r)&&0==r.length)return s.none;if(r instanceof s)return[r];let i=r.slice();return i.sort((l,c)=>l.type.rank-c.type.rank),i}}return s.none=[],s})();class he extends Error{}class ie{constructor(t,r,i){this.content=t,this.openStart=r,this.openEnd=i}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,r){let i=Ke(this.content,t+this.openStart,r);return i&&new ie(i,this.openStart,this.openEnd)}removeBetween(t,r){return new ie(ut(this.content,t+this.openStart,r+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,r){if(!r)return ie.empty;let i=r.openStart||0,l=r.openEnd||0;if("number"!=typeof i||"number"!=typeof l)throw new RangeError("Invalid input for Slice.fromJSON");return new ie(be.fromJSON(t,r.content),i,l)}static maxOpen(t,r=!0){let i=0,l=0;for(let c=t.firstChild;c&&!c.isLeaf&&(r||!c.type.spec.isolating);c=c.firstChild)i++;for(let c=t.lastChild;c&&!c.isLeaf&&(r||!c.type.spec.isolating);c=c.lastChild)l++;return new ie(t,i,l)}}function ut(s,t,r){let{index:i,offset:l}=s.findIndex(t),c=s.maybeChild(i),{index:h,offset:g}=s.findIndex(r);if(l==t||c.isText){if(g!=r&&!s.child(h).isText)throw new RangeError("Removing non-flat range");return s.cut(0,t).append(s.cut(r))}if(i!=h)throw new RangeError("Removing non-flat range");return s.replaceChild(i,c.copy(ut(c.content,t-l-1,r-l-1)))}function Ke(s,t,r,i){let{index:l,offset:c}=s.findIndex(t),h=s.maybeChild(l);if(c==t||h.isText)return i&&!i.canReplace(l,l,r)?null:s.cut(0,t).append(r).append(s.cut(t));let g=Ke(h.content,t-c-1,r);return g&&s.replaceChild(l,h.copy(g))}function Ht(s,t,r){if(r.openStart>s.depth)throw new he("Inserted content deeper than insertion position");if(s.depth-r.openStart!=t.depth-r.openEnd)throw new he("Inconsistent open depths");return Ie(s,t,r,0)}function Ie(s,t,r,i){let l=s.index(i),c=s.node(i);if(l==t.index(i)&&i<s.depth-r.openStart){let h=Ie(s,t,r,i+1);return c.copy(c.content.replaceChild(l,h))}if(r.content.size){if(r.openStart||r.openEnd||s.depth!=i||t.depth!=i){let{start:h,end:g}=function K(s,t){let r=t.depth-s.openStart,l=t.node(r).copy(s.content);for(let c=r-1;c>=0;c--)l=t.node(c).copy(be.from(l));return{start:l.resolveNoCache(s.openStart+r),end:l.resolveNoCache(l.content.size-s.openEnd-r)}}(r,s);return sn(c,ce(s,h,g,t,i))}{let h=s.parent,g=h.content;return sn(h,g.cut(0,s.parentOffset).append(r.content).append(g.cut(t.parentOffset)))}}return sn(c,de(s,t,i))}function tn(s,t){if(!t.type.compatibleContent(s.type))throw new he("Cannot join "+t.type.name+" onto "+s.type.name)}function st(s,t,r){let i=s.node(r);return tn(i,t.node(r)),i}function vt(s,t){let r=t.length-1;r>=0&&s.isText&&s.sameMarkup(t[r])?t[r]=s.withText(t[r].text+s.text):t.push(s)}function gn(s,t,r,i){let l=(t||s).node(r),c=0,h=t?t.index(r):l.childCount;s&&(c=s.index(r),s.depth>r?c++:s.textOffset&&(vt(s.nodeAfter,i),c++));for(let g=c;g<h;g++)vt(l.child(g),i);t&&t.depth==r&&t.textOffset&&vt(t.nodeBefore,i)}function sn(s,t){return s.type.checkContent(t),s.copy(t)}function ce(s,t,r,i,l){let c=s.depth>l&&st(s,t,l+1),h=i.depth>l&&st(r,i,l+1),g=[];return gn(null,s,l,g),c&&h&&t.index(l)==r.index(l)?(tn(c,h),vt(sn(c,ce(s,t,r,i,l+1)),g)):(c&&vt(sn(c,de(s,t,l+1)),g),gn(t,r,l,g),h&&vt(sn(h,de(r,i,l+1)),g)),gn(i,null,l,g),new be(g)}function de(s,t,r){let i=[];return gn(null,s,r,i),s.depth>r&&vt(sn(st(s,t,r+1),de(s,t,r+1)),i),gn(t,null,r,i),new be(i)}ie.empty=new ie(be.empty,0,0);class Q{constructor(t,r,i){this.pos=t,this.path=r,this.parentOffset=i,this.depth=r.length/3-1}resolveDepth(t){return null==t?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[3*this.resolveDepth(t)]}index(t){return this.path[3*this.resolveDepth(t)+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t!=this.depth||this.textOffset?1:0)}start(t){return 0==(t=this.resolveDepth(t))?0:this.path[3*t-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(!(t=this.resolveDepth(t)))throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]}after(t){if(!(t=this.resolveDepth(t)))throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]+this.path[3*t].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,r=this.index(this.depth);if(r==t.childCount)return null;let i=this.pos-this.path[this.path.length-1],l=t.child(r);return i?t.child(r).cut(i):l}get nodeBefore(){let t=this.index(this.depth),r=this.pos-this.path[this.path.length-1];return r?this.parent.child(t).cut(0,r):0==t?null:this.parent.child(t-1)}posAtIndex(t,r){r=this.resolveDepth(r);let i=this.path[3*r],l=0==r?0:this.path[3*r-1]+1;for(let c=0;c<t;c++)l+=i.child(c).nodeSize;return l}marks(){let t=this.parent,r=this.index();if(0==t.content.size)return ze.none;if(this.textOffset)return t.child(r).marks;let i=t.maybeChild(r-1),l=t.maybeChild(r);if(!i){let g=i;i=l,l=g}let c=i.marks;for(var h=0;h<c.length;h++)!1===c[h].type.spec.inclusive&&(!l||!c[h].isInSet(l.marks))&&(c=c[h--].removeFromSet(c));return c}marksAcross(t){let r=this.parent.maybeChild(this.index());if(!r||!r.isInline)return null;let i=r.marks,l=t.parent.maybeChild(t.index());for(var c=0;c<i.length;c++)!1===i[c].type.spec.inclusive&&(!l||!i[c].isInSet(l.marks))&&(i=i[c--].removeFromSet(i));return i}sharedDepth(t){for(let r=this.depth;r>0;r--)if(this.start(r)<=t&&this.end(r)>=t)return r;return 0}blockRange(t=this,r){if(t.pos<this.pos)return t.blockRange(this);for(let i=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);i>=0;i--)if(t.pos<=this.end(i)&&(!r||r(this.node(i))))return new Ue(this,t,i);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let r=1;r<=this.depth;r++)t+=(t?"/":"")+this.node(r).type.name+"_"+this.index(r-1);return t+":"+this.parentOffset}static resolve(t,r){if(!(r>=0&&r<=t.content.size))throw new RangeError("Position "+r+" out of range");let i=[],l=0,c=r;for(let h=t;;){let{index:g,offset:C}=h.content.findIndex(c),I=c-C;if(i.push(h,g,l+C),!I||(h=h.child(g),h.isText))break;c=I-1,l+=C+1}return new Q(r,i,c)}static resolveCached(t,r){for(let l=0;l<H.length;l++){let c=H[l];if(c.pos==r&&c.doc==t)return c}let i=H[Z]=Q.resolve(t,r);return Z=(Z+1)%ye,i}}let H=[],Z=0,ye=12;class Ue{constructor(t,r,i){this.$from=t,this.$to=r,this.depth=i}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const ft=Object.create(null);class et{constructor(t,r,i,l=ze.none){this.type=t,this.attrs=r,this.marks=l,this.content=i||be.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,r,i,l=0){this.content.nodesBetween(t,r,i,l,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(t,r,i,l){return this.content.textBetween(t,r,i,l)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,r,i){return this.type==t&&Ye(this.attrs,r||t.defaultAttrs||ft)&&ze.sameSet(this.marks,i||ze.none)}copy(t=null){return t==this.content?this:new et(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new et(this.type,this.attrs,this.content,t)}cut(t,r=this.content.size){return 0==t&&r==this.content.size?this:this.copy(this.content.cut(t,r))}slice(t,r=this.content.size,i=!1){if(t==r)return ie.empty;let l=this.resolve(t),c=this.resolve(r),h=i?0:l.sharedDepth(r),g=l.start(h),I=l.node(h).content.cut(l.pos-g,c.pos-g);return new ie(I,l.depth-h,c.depth-h)}replace(t,r,i){return Ht(this.resolve(t),this.resolve(r),i)}nodeAt(t){for(let r=this;;){let{index:i,offset:l}=r.content.findIndex(t);if(r=r.maybeChild(i),!r)return null;if(l==t||r.isText)return r;t-=l+1}}childAfter(t){let{index:r,offset:i}=this.content.findIndex(t);return{node:this.content.maybeChild(r),index:r,offset:i}}childBefore(t){if(0==t)return{node:null,index:0,offset:0};let{index:r,offset:i}=this.content.findIndex(t);if(i<t)return{node:this.content.child(r),index:r,offset:i};let l=this.content.child(r-1);return{node:l,index:r-1,offset:i-l.nodeSize}}resolve(t){return Q.resolveCached(this,t)}resolveNoCache(t){return Q.resolve(this,t)}rangeHasMark(t,r,i){let l=!1;return r>t&&this.nodesBetween(t,r,c=>(i.isInSet(c.marks)&&(l=!0),!l)),l}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),Ut(this.marks,t)}contentMatchAt(t){let r=this.type.contentMatch.matchFragment(this.content,0,t);if(!r)throw new Error("Called contentMatchAt on a node with invalid content");return r}canReplace(t,r,i=be.empty,l=0,c=i.childCount){let h=this.contentMatchAt(t).matchFragment(i,l,c),g=h&&h.matchFragment(this.content,r);if(!g||!g.validEnd)return!1;for(let C=l;C<c;C++)if(!this.type.allowsMarks(i.child(C).marks))return!1;return!0}canReplaceWith(t,r,i,l){if(l&&!this.type.allowsMarks(l))return!1;let c=this.contentMatchAt(t).matchType(i),h=c&&c.matchFragment(this.content,r);return!!h&&h.validEnd}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){this.type.checkContent(this.content);let t=ze.none;for(let r=0;r<this.marks.length;r++)t=this.marks[r].addToSet(t);if(!ze.sameSet(t,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(r=>r.type.name)}`);this.content.forEach(r=>r.check())}toJSON(){let t={type:this.type.name};for(let r in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(r=>r.toJSON())),t}static fromJSON(t,r){if(!r)throw new RangeError("Invalid input for Node.fromJSON");let i=null;if(r.marks){if(!Array.isArray(r.marks))throw new RangeError("Invalid mark data for Node.fromJSON");i=r.marks.map(t.markFromJSON)}if("text"==r.type){if("string"!=typeof r.text)throw new RangeError("Invalid text node in JSON");return t.text(r.text,i)}let l=be.fromJSON(t,r.content);return t.nodeType(r.type).create(r.attrs,l,i)}}et.prototype.text=void 0;class Et extends et{constructor(t,r,i,l){if(super(t,r,null,l),!i)throw new RangeError("Empty text nodes are not allowed");this.text=i}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):Ut(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(t,r){return this.text.slice(t,r)}get nodeSize(){return this.text.length}mark(t){return t==this.marks?this:new Et(this.type,this.attrs,this.text,t)}withText(t){return t==this.text?this:new Et(this.type,this.attrs,t,this.marks)}cut(t=0,r=this.text.length){return 0==t&&r==this.text.length?this:this.withText(this.text.slice(t,r))}eq(t){return this.sameMarkup(t)&&this.text==t.text}toJSON(){let t=super.toJSON();return t.text=this.text,t}}function Ut(s,t){for(let r=s.length-1;r>=0;r--)t=s[r].type.name+"("+t+")";return t}class pt{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,r){let i=new Yt(t,r);if(null==i.next)return pt.empty;let l=Ee(i);i.next&&i.err("Unexpected trailing text");let c=function ht(s){let t=Object.create(null);return function r(i){let l=[];i.forEach(h=>{s[h].forEach(({term:g,to:C})=>{if(!g)return;let I;for(let N=0;N<l.length;N++)l[N][0]==g&&(I=l[N][1]);cn(s,C).forEach(N=>{I||l.push([g,I=[]]),-1==I.indexOf(N)&&I.push(N)})})});let c=t[i.join(",")]=new pt(i.indexOf(s.length-1)>-1);for(let h=0;h<l.length;h++){let g=l[h][1].sort(Tn);c.next.push({type:l[h][0],next:t[g.join(",")]||r(g)})}return c}(cn(s,0))}(function Mn(s){let t=[[]];return l(function c(h,g){if("choice"==h.type)return h.exprs.reduce((C,I)=>C.concat(c(I,g)),[]);if("seq"!=h.type){if("star"==h.type){let C=r();return i(g,C),l(c(h.expr,C),C),[i(C)]}if("plus"==h.type){let C=r();return l(c(h.expr,g),C),l(c(h.expr,C),C),[i(C)]}if("opt"==h.type)return[i(g)].concat(c(h.expr,g));if("range"==h.type){let C=g;for(let I=0;I<h.min;I++){let N=r();l(c(h.expr,C),N),C=N}if(-1==h.max)l(c(h.expr,C),C);else for(let I=h.min;I<h.max;I++){let N=r();i(C,N),l(c(h.expr,C),N),C=N}return[i(C)]}if("name"==h.type)return[i(g,void 0,h.value)];throw new Error("Unknown expr type")}for(let C=0;;C++){let I=c(h.exprs[C],g);if(C==h.exprs.length-1)return I;l(I,g=r())}}(s,0),r()),t;function r(){return t.push([])-1}function i(h,g,C){let I={term:C,to:g};return t[h].push(I),I}function l(h,g){h.forEach(C=>C.to=g)}}(l));return function Mt(s,t){for(let r=0,i=[s];r<i.length;r++){let l=i[r],c=!l.validEnd,h=[];for(let g=0;g<l.next.length;g++){let{type:C,next:I}=l.next[g];h.push(C.name),c&&!(C.isText||C.hasRequiredAttrs())&&(c=!1),-1==i.indexOf(I)&&i.push(I)}c&&t.err("Only non-generatable nodes ("+h.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}(c,i),c}matchType(t){for(let r=0;r<this.next.length;r++)if(this.next[r].type==t)return this.next[r].next;return null}matchFragment(t,r=0,i=t.childCount){let l=this;for(let c=r;l&&c<i;c++)l=l.matchType(t.child(c).type);return l}get inlineContent(){return 0!=this.next.length&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:r}=this.next[t];if(!r.isText&&!r.hasRequiredAttrs())return r}return null}compatible(t){for(let r=0;r<this.next.length;r++)for(let i=0;i<t.next.length;i++)if(this.next[r].type==t.next[i].type)return!0;return!1}fillBefore(t,r=!1,i=0){let l=[this];return function c(h,g){let C=h.matchFragment(t,i);if(C&&(!r||C.validEnd))return be.from(g.map(I=>I.createAndFill()));for(let I=0;I<h.next.length;I++){let{type:N,next:U}=h.next[I];if(!N.isText&&!N.hasRequiredAttrs()&&-1==l.indexOf(U)){l.push(U);let J=c(U,g.concat(N));if(J)return J}}return null}(this,[])}findWrapping(t){for(let i=0;i<this.wrapCache.length;i+=2)if(this.wrapCache[i]==t)return this.wrapCache[i+1];let r=this.computeWrapping(t);return this.wrapCache.push(t,r),r}computeWrapping(t){let r=Object.create(null),i=[{match:this,type:null,via:null}];for(;i.length;){let l=i.shift(),c=l.match;if(c.matchType(t)){let h=[];for(let g=l;g.type;g=g.via)h.push(g.type);return h.reverse()}for(let h=0;h<c.next.length;h++){let{type:g,next:C}=c.next[h];!g.isLeaf&&!g.hasRequiredAttrs()&&!(g.name in r)&&(!l.type||C.validEnd)&&(i.push({match:g.contentMatch,type:g,via:l}),r[g.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw new RangeError(`There's no ${t}th edge in this content match`);return this.next[t]}toString(){let t=[];return function r(i){t.push(i);for(let l=0;l<i.next.length;l++)-1==t.indexOf(i.next[l].next)&&r(i.next[l].next)}(this),t.map((i,l)=>{let c=l+(i.validEnd?"*":" ")+" ";for(let h=0;h<i.next.length;h++)c+=(h?", ":"")+i.next[h].type.name+"->"+t.indexOf(i.next[h].next);return c}).join("\n")}}pt.empty=new pt(!0);class Yt{constructor(t,r){this.string=t,this.nodeTypes=r,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(t){return this.next==t&&(this.pos++||!0)}err(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")}}function Ee(s){let t=[];do{t.push(Te(s))}while(s.eat("|"));return 1==t.length?t[0]:{type:"choice",exprs:t}}function Te(s){let t=[];do{t.push(De(s))}while(s.next&&")"!=s.next&&"|"!=s.next);return 1==t.length?t[0]:{type:"seq",exprs:t}}function De(s){let t=function an(s){if(s.eat("(")){let t=Ee(s);return s.eat(")")||s.err("Missing closing paren"),t}if(!/\W/.test(s.next)){let t=function Kn(s,t){let r=s.nodeTypes,i=r[t];if(i)return[i];let l=[];for(let c in r){let h=r[c];h.groups.indexOf(t)>-1&&l.push(h)}return 0==l.length&&s.err("No node type or group '"+t+"' found"),l}(s,s.next).map(r=>(null==s.inline?s.inline=r.isInline:s.inline!=r.isInline&&s.err("Mixing inline and block content"),{type:"name",value:r}));return s.pos++,1==t.length?t[0]:{type:"choice",exprs:t}}s.err("Unexpected token '"+s.next+"'")}(s);for(;;)if(s.eat("+"))t={type:"plus",expr:t};else if(s.eat("*"))t={type:"star",expr:t};else if(s.eat("?"))t={type:"opt",expr:t};else{if(!s.eat("{"))break;t=qt(s,t)}return t}function Ft(s){/\D/.test(s.next)&&s.err("Expected number, got '"+s.next+"'");let t=Number(s.next);return s.pos++,t}function qt(s,t){let r=Ft(s),i=r;return s.eat(",")&&(i="}"!=s.next?Ft(s):-1),s.eat("}")||s.err("Unclosed braced range"),{type:"range",min:r,max:i,expr:t}}function Tn(s,t){return t-s}function cn(s,t){let r=[];return function i(l){let c=s[l];if(1==c.length&&!c[0].term)return i(c[0].to);r.push(l);for(let h=0;h<c.length;h++){let{term:g,to:C}=c[h];!g&&-1==r.indexOf(C)&&i(C)}}(t),r.sort(Tn)}function Ro(s){let t=Object.create(null);for(let r in s){let i=s[r];if(!i.hasDefault)return null;t[r]=i.default}return t}function Ur(s,t){let r=Object.create(null);for(let i in s){let l=t&&t[i];if(void 0===l){let c=s[i];if(!c.hasDefault)throw new RangeError("No value supplied for attribute "+i);l=c.default}r[i]=l}return r}function Gn(s){let t=Object.create(null);if(s)for(let r in s)t[r]=new Pn(s[r]);return t}class tr{constructor(t,r,i){this.name=t,this.schema=r,this.spec=i,this.markSet=null,this.groups=i.group?i.group.split(" "):[],this.attrs=Gn(i.attrs),this.defaultAttrs=Ro(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(i.inline||"text"==t),this.isText="text"==t}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==pt.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1}compatibleContent(t){return this==t||this.contentMatch.compatible(t.contentMatch)}computeAttrs(t){return!t&&this.defaultAttrs?this.defaultAttrs:Ur(this.attrs,t)}create(t=null,r,i){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new et(this,this.computeAttrs(t),be.from(r),ze.setFrom(i))}createChecked(t=null,r,i){return r=be.from(r),this.checkContent(r),new et(this,this.computeAttrs(t),r,ze.setFrom(i))}createAndFill(t=null,r,i){if(t=this.computeAttrs(t),(r=be.from(r)).size){let h=this.contentMatch.fillBefore(r);if(!h)return null;r=h.append(r)}let l=this.contentMatch.matchFragment(r),c=l&&l.fillBefore(be.empty,!0);return c?new et(this,t,r.append(c),ze.setFrom(i)):null}validContent(t){let r=this.contentMatch.matchFragment(t);if(!r||!r.validEnd)return!1;for(let i=0;i<t.childCount;i++)if(!this.allowsMarks(t.child(i).marks))return!1;return!0}checkContent(t){if(!this.validContent(t))throw new RangeError(`Invalid content for node ${this.name}: ${t.toString().slice(0,50)}`)}allowsMarkType(t){return null==this.markSet||this.markSet.indexOf(t)>-1}allowsMarks(t){if(null==this.markSet)return!0;for(let r=0;r<t.length;r++)if(!this.allowsMarkType(t[r].type))return!1;return!0}allowedMarks(t){if(null==this.markSet)return t;let r;for(let i=0;i<t.length;i++)this.allowsMarkType(t[i].type)?r&&r.push(t[i]):r||(r=t.slice(0,i));return r?r.length?r:ze.none:t}static compile(t,r){let i=Object.create(null);t.forEach((c,h)=>i[c]=new tr(c,r,h));let l=r.spec.topNode||"doc";if(!i[l])throw new RangeError("Schema is missing its top node type ('"+l+"')");if(!i.text)throw new RangeError("Every schema needs a 'text' type");for(let c in i.text.attrs)throw new RangeError("The text node type should not have attributes");return i}}class Pn{constructor(t){this.hasDefault=Object.prototype.hasOwnProperty.call(t,"default"),this.default=t.default}get isRequired(){return!this.hasDefault}}class eo{constructor(t,r,i,l){this.name=t,this.rank=r,this.schema=i,this.spec=l,this.attrs=Gn(l.attrs),this.excluded=null;let c=Ro(this.attrs);this.instance=c?new ze(this,c):null}create(t=null){return!t&&this.instance?this.instance:new ze(this,Ur(this.attrs,t))}static compile(t,r){let i=Object.create(null),l=0;return t.forEach((c,h)=>i[c]=new eo(c,l++,r,h)),i}removeFromSet(t){for(var r=0;r<t.length;r++)t[r].type==this&&(t=t.slice(0,r).concat(t.slice(r+1)),r--);return t}isInSet(t){for(let r=0;r<t.length;r++)if(t[r].type==this)return t[r]}excludes(t){return this.excluded.indexOf(t)>-1}}function jr(s,t){let r=[];for(let i=0;i<t.length;i++){let l=t[i],c=s.marks[l],h=c;if(c)r.push(c);else for(let g in s.marks){let C=s.marks[g];("_"==l||C.spec.group&&C.spec.group.split(" ").indexOf(l)>-1)&&r.push(h=C)}if(!h)throw new SyntaxError("Unknown mark type: '"+t[i]+"'")}return r}class Nt{constructor(t,r){this.schema=t,this.rules=r,this.tags=[],this.styles=[],r.forEach(i=>{i.tag?this.tags.push(i):i.style&&this.styles.push(i)}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let l=t.nodes[i.node];return l.contentMatch.matchType(l)})}parse(t,r={}){let i=new nr(this,r,!1);return i.addAll(t,r.from,r.to),i.finish()}parseSlice(t,r={}){let i=new nr(this,r,!0);return i.addAll(t,r.from,r.to),ie.maxOpen(i.finish())}matchTag(t,r,i){for(let l=i?this.tags.indexOf(i)+1:0;l<this.tags.length;l++){let c=this.tags[l];if(ko(t,c.tag)&&(void 0===c.namespace||t.namespaceURI==c.namespace)&&(!c.context||r.matchesContext(c.context))){if(c.getAttrs){let h=c.getAttrs(t);if(!1===h)continue;c.attrs=h||void 0}return c}}}matchStyle(t,r,i,l){for(let c=l?this.styles.indexOf(l)+1:0;c<this.styles.length;c++){let h=this.styles[c],g=h.style;if(!(0!=g.indexOf(t)||h.context&&!i.matchesContext(h.context)||g.length>t.length&&(61!=g.charCodeAt(t.length)||g.slice(t.length+1)!=r))){if(h.getAttrs){let C=h.getAttrs(r);if(!1===C)continue;h.attrs=C||void 0}return h}}}static schemaRules(t){let r=[];function i(l){let c=null==l.priority?50:l.priority,h=0;for(;h<r.length;h++){let g=r[h];if((null==g.priority?50:g.priority)<c)break}r.splice(h,0,l)}for(let l in t.marks){let c=t.marks[l].spec.parseDOM;c&&c.forEach(h=>{i(h=po(h)),h.mark||h.ignore||h.clearMark||(h.mark=l)})}for(let l in t.nodes){let c=t.nodes[l].spec.parseDOM;c&&c.forEach(h=>{i(h=po(h)),h.node||h.ignore||h.mark||(h.node=l)})}return r}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new Nt(t,Nt.schemaRules(t)))}}const St={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Vn={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},$r={ol:!0,ul:!0};function to(s,t,r){return null!=t?(t?1:0)|("full"===t?2:0):s&&"pre"==s.whitespace?3:-5&r}class Wn{constructor(t,r,i,l,c,h,g){this.type=t,this.attrs=r,this.marks=i,this.pendingMarks=l,this.solid=c,this.options=g,this.content=[],this.activeMarks=ze.none,this.stashMarks=[],this.match=h||(4&g?null:t.contentMatch)}findWrapping(t){if(!this.match){if(!this.type)return[];let r=this.type.contentMatch.fillBefore(be.from(t));if(!r){let l,i=this.type.contentMatch;return(l=i.findWrapping(t.type))?(this.match=i,l):null}this.match=this.type.contentMatch.matchFragment(r)}return this.match.findWrapping(t.type)}finish(t){if(!(1&this.options)){let l,i=this.content[this.content.length-1];if(i&&i.isText&&(l=/[ \t\r\n\u000c]+$/.exec(i.text))){let c=i;i.text.length==l[0].length?this.content.pop():this.content[this.content.length-1]=c.withText(c.text.slice(0,c.text.length-l[0].length))}}let r=be.from(this.content);return!t&&this.match&&(r=r.append(this.match.fillBefore(be.empty,!0))),this.type?this.type.create(this.attrs,r,this.marks):r}popFromStashMark(t){for(let r=this.stashMarks.length-1;r>=0;r--)if(t.eq(this.stashMarks[r]))return this.stashMarks.splice(r,1)[0]}applyPending(t){for(let r=0,i=this.pendingMarks;r<i.length;r++){let l=i[r];(this.type?this.type.allowsMarkType(l.type):fe(l.type,t))&&!l.isInSet(this.activeMarks)&&(this.activeMarks=l.addToSet(this.activeMarks),this.pendingMarks=l.removeFromSet(this.pendingMarks))}}inlineContext(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!St.hasOwnProperty(t.parentNode.nodeName.toLowerCase())}}class nr{constructor(t,r,i){this.parser=t,this.options=r,this.isOpen=i,this.open=0;let c,l=r.topNode,h=to(null,r.preserveWhitespace,0)|(i?4:0);c=l?new Wn(l.type,l.attrs,ze.none,ze.none,!0,r.topMatch||l.type.contentMatch,h):new Wn(i?null:t.schema.topNodeType,null,ze.none,ze.none,!0,null,h),this.nodes=[c],this.find=r.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(t){3==t.nodeType?this.addTextNode(t):1==t.nodeType&&this.addElement(t)}withStyleRules(t,r){let i=t.getAttribute("style");if(!i)return r();let l=this.readStyles(function ho(s){let r,t=/\s*([\w-]+)\s*:\s*([^;]+)/g,i=[];for(;r=t.exec(s);)i.push(r[1],r[2].trim());return i}(i));if(!l)return;let[c,h]=l,g=this.top;for(let C=0;C<h.length;C++)this.removePendingMark(h[C],g);for(let C=0;C<c.length;C++)this.addPendingMark(c[C]);r();for(let C=0;C<c.length;C++)this.removePendingMark(c[C],g);for(let C=0;C<h.length;C++)this.addPendingMark(h[C])}addTextNode(t){let r=t.nodeValue,i=this.top;if(2&i.options||i.inlineContext(t)||/[^ \t\r\n\u000c]/.test(r)){if(1&i.options)r=2&i.options?r.replace(/\r\n?/g,"\n"):r.replace(/\r?\n|\r/g," ");else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let l=i.content[i.content.length-1],c=t.previousSibling;(!l||c&&"BR"==c.nodeName||l.isText&&/[ \t\r\n\u000c]$/.test(l.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r)),this.findInText(t)}else this.findInside(t)}addElement(t,r){let l,i=t.nodeName.toLowerCase();$r.hasOwnProperty(i)&&this.parser.normalizeLists&&function Yn(s){for(let t=s.firstChild,r=null;t;t=t.nextSibling){let i=1==t.nodeType?t.nodeName.toLowerCase():null;i&&$r.hasOwnProperty(i)&&r?(r.appendChild(t),t=r):"li"==i?r=t:i&&(r=null)}}(t);let c=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(l=this.parser.matchTag(t,this,r));if(c?c.ignore:Vn.hasOwnProperty(i))this.findInside(t),this.ignoreFallback(t);else if(!c||c.skip||c.closeParent){c&&c.closeParent?this.open=Math.max(0,this.open-1):c&&c.skip.nodeType&&(t=c.skip);let h,g=this.top,C=this.needsBlock;if(St.hasOwnProperty(i))g.content.length&&g.content[0].isInline&&this.open&&(this.open--,g=this.top),h=!0,g.type||(this.needsBlock=!0);else if(!t.firstChild)return void this.leafFallback(t);c&&c.skip?this.addAll(t):this.withStyleRules(t,()=>this.addAll(t)),h&&this.sync(g),this.needsBlock=C}else this.withStyleRules(t,()=>{this.addElementByRule(t,c,!1===c.consuming?l:void 0)})}leafFallback(t){"BR"==t.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode("\n"))}ignoreFallback(t){"BR"==t.nodeName&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))}readStyles(t){let r=ze.none,i=ze.none;for(let l=0;l<t.length;l+=2)for(let c;;){let h=this.parser.matchStyle(t[l],t[l+1],this,c);if(!h)break;if(h.ignore)return null;if(h.clearMark?this.top.pendingMarks.concat(this.top.activeMarks).forEach(g=>{h.clearMark(g)&&(i=g.addToSet(i))}):r=this.parser.schema.marks[h.mark].create(h.attrs).addToSet(r),!1!==h.consuming)break;c=h}return[r,i]}addElementByRule(t,r,i){let l,c,h;r.node?(c=this.parser.schema.nodes[r.node],c.isLeaf?this.insertNode(c.create(r.attrs))||this.leafFallback(t):l=this.enter(c,r.attrs||null,r.preserveWhitespace)):(h=this.parser.schema.marks[r.mark].create(r.attrs),this.addPendingMark(h));let g=this.top;if(c&&c.isLeaf)this.findInside(t);else if(i)this.addElement(t,i);else if(r.getContent)this.findInside(t),r.getContent(t,this.parser.schema).forEach(C=>this.insertNode(C));else{let C=t;"string"==typeof r.contentElement?C=t.querySelector(r.contentElement):"function"==typeof r.contentElement?C=r.contentElement(t):r.contentElement&&(C=r.contentElement),this.findAround(t,C,!0),this.addAll(C)}l&&this.sync(g)&&this.open--,h&&this.removePendingMark(h,g)}addAll(t,r,i){let l=r||0;for(let c=r?t.childNodes[r]:t.firstChild,h=null==i?null:t.childNodes[i];c!=h;c=c.nextSibling,++l)this.findAtPoint(t,l),this.addDOM(c);this.findAtPoint(t,l)}findPlace(t){let r,i;for(let l=this.open;l>=0;l--){let c=this.nodes[l],h=c.findWrapping(t);if(h&&(!r||r.length>h.length)&&(r=h,i=c,!h.length)||c.solid)break}if(!r)return!1;this.sync(i);for(let l=0;l<r.length;l++)this.enterInner(r[l],null,!1);return!0}insertNode(t){if(t.isInline&&this.needsBlock&&!this.top.type){let r=this.textblockFromContext();r&&this.enterInner(r)}if(this.findPlace(t)){this.closeExtra();let r=this.top;r.applyPending(t.type),r.match&&(r.match=r.match.matchType(t.type));let i=r.activeMarks;for(let l=0;l<t.marks.length;l++)(!r.type||r.type.allowsMarkType(t.marks[l].type))&&(i=t.marks[l].addToSet(i));return r.content.push(t.mark(i)),!0}return!1}enter(t,r,i){let l=this.findPlace(t.create(r));return l&&this.enterInner(t,r,!0,i),l}enterInner(t,r=null,i=!1,l){this.closeExtra();let c=this.top;c.applyPending(t),c.match=c.match&&c.match.matchType(t);let h=to(t,l,c.options);4&c.options&&0==c.content.length&&(h|=4),this.nodes.push(new Wn(t,r,c.activeMarks,c.pendingMarks,i,null,h)),this.open++}closeExtra(t=!1){let r=this.nodes.length-1;if(r>this.open){for(;r>this.open;r--)this.nodes[r-1].content.push(this.nodes[r].finish(t));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(t){for(let r=this.open;r>=0;r--)if(this.nodes[r]==t)return this.open=r,!0;return!1}get currentPos(){this.closeExtra();let t=0;for(let r=this.open;r>=0;r--){let i=this.nodes[r].content;for(let l=i.length-1;l>=0;l--)t+=i[l].nodeSize;r&&t++}return t}findAtPoint(t,r){if(this.find)for(let i=0;i<this.find.length;i++)this.find[i].node==t&&this.find[i].offset==r&&(this.find[i].pos=this.currentPos)}findInside(t){if(this.find)for(let r=0;r<this.find.length;r++)null==this.find[r].pos&&1==t.nodeType&&t.contains(this.find[r].node)&&(this.find[r].pos=this.currentPos)}findAround(t,r,i){if(t!=r&&this.find)for(let l=0;l<this.find.length;l++)null==this.find[l].pos&&1==t.nodeType&&t.contains(this.find[l].node)&&r.compareDocumentPosition(this.find[l].node)&(i?2:4)&&(this.find[l].pos=this.currentPos)}findInText(t){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==t&&(this.find[r].pos=this.currentPos-(t.nodeValue.length-this.find[r].offset))}matchesContext(t){if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);let r=t.split("/"),i=this.options.context,l=!(this.isOpen||i&&i.parent.type!=this.nodes[0].type),c=(l?0:1)-(i?i.depth+1:0),h=(g,C)=>{for(;g>=0;g--){let I=r[g];if(""==I){if(g==r.length-1||0==g)continue;for(;C>=c;C--)if(h(g-1,C))return!0;return!1}{let N=C>0||0==C&&l?this.nodes[C].type:i&&C>=c?i.node(C-c).type:null;if(!N||N.name!=I&&-1==N.groups.indexOf(I))return!1;C--}}return!0};return h(r.length-1,this.open)}textblockFromContext(){let t=this.options.context;if(t)for(let r=t.depth;r>=0;r--){let i=t.node(r).contentMatchAt(t.indexAfter(r)).defaultType;if(i&&i.isTextblock&&i.defaultAttrs)return i}for(let r in this.parser.schema.nodes){let i=this.parser.schema.nodes[r];if(i.isTextblock&&i.defaultAttrs)return i}}addPendingMark(t){let r=function re(s,t){for(let r=0;r<t.length;r++)if(s.eq(t[r]))return t[r]}(t,this.top.pendingMarks);r&&this.top.stashMarks.push(r),this.top.pendingMarks=t.addToSet(this.top.pendingMarks)}removePendingMark(t,r){for(let i=this.open;i>=0;i--){let l=this.nodes[i];if(l.pendingMarks.lastIndexOf(t)>-1)l.pendingMarks=t.removeFromSet(l.pendingMarks);else{l.activeMarks=t.removeFromSet(l.activeMarks);let h=l.popFromStashMark(t);h&&l.type&&l.type.allowsMarkType(h.type)&&(l.activeMarks=h.addToSet(l.activeMarks))}if(l==r)break}}}function ko(s,t){return(s.matches||s.msMatchesSelector||s.webkitMatchesSelector||s.mozMatchesSelector).call(s,t)}function po(s){let t={};for(let r in s)t[r]=s[r];return t}function fe(s,t){let r=t.schema.nodes;for(let i in r){let l=r[i];if(!l.allowsMarkType(s))continue;let c=[],h=g=>{c.push(g);for(let C=0;C<g.edgeCount;C++){let{type:I,next:N}=g.edge(C);if(I==t||c.indexOf(N)<0&&h(N))return!0}};if(h(l.contentMatch))return!0}}class ${constructor(t,r){this.nodes=t,this.marks=r}serializeFragment(t,r={},i){i||(i=Le(r).createDocumentFragment());let l=i,c=[];return t.forEach(h=>{if(c.length||h.marks.length){let g=0,C=0;for(;g<c.length&&C<h.marks.length;){let I=h.marks[C];if(this.marks[I.type.name]){if(!I.eq(c[g][0])||!1===I.type.spec.spanning)break;g++,C++}else C++}for(;g<c.length;)l=c.pop()[1];for(;C<h.marks.length;){let I=h.marks[C++],N=this.serializeMark(I,h.isInline,r);N&&(c.push([I,l]),l.appendChild(N.dom),l=N.contentDOM||N.dom)}}l.appendChild(this.serializeNodeInner(h,r))}),i}serializeNodeInner(t,r){let{dom:i,contentDOM:l}=$.renderSpec(Le(r),this.nodes[t.type.name](t));if(l){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,r,l)}return i}serializeNode(t,r={}){let i=this.serializeNodeInner(t,r);for(let l=t.marks.length-1;l>=0;l--){let c=this.serializeMark(t.marks[l],t.isInline,r);c&&((c.contentDOM||c.dom).appendChild(i),i=c.dom)}return i}serializeMark(t,r,i={}){let l=this.marks[t.type.name];return l&&$.renderSpec(Le(i),l(t,r))}static renderSpec(t,r,i=null){if("string"==typeof r)return{dom:t.createTextNode(r)};if(null!=r.nodeType)return{dom:r};if(r.dom&&null!=r.dom.nodeType)return r;let l=r[0],c=l.indexOf(" ");c>0&&(i=l.slice(0,c),l=l.slice(c+1));let h,g=i?t.createElementNS(i,l):t.createElement(l),C=r[1],I=1;if(C&&"object"==typeof C&&null==C.nodeType&&!Array.isArray(C)){I=2;for(let N in C)if(null!=C[N]){let U=N.indexOf(" ");U>0?g.setAttributeNS(N.slice(0,U),N.slice(U+1),C[N]):g.setAttribute(N,C[N])}}for(let N=I;N<r.length;N++){let U=r[N];if(0===U){if(N<r.length-1||N>I)throw new RangeError("Content hole must be the only child of its parent node");return{dom:g,contentDOM:g}}{let{dom:J,contentDOM:q}=$.renderSpec(t,U,i);if(g.appendChild(J),q){if(h)throw new RangeError("Multiple content holes");h=q}}}return{dom:g,contentDOM:h}}static fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new $(this.nodesFromSchema(t),this.marksFromSchema(t)))}static nodesFromSchema(t){let r=te(t.nodes);return r.text||(r.text=i=>i.text),r}static marksFromSchema(t){return te(t.marks)}}function te(s){let t={};for(let r in s){let i=s[r].spec.toDOM;i&&(t[r]=i)}return t}function Le(s){return s.document||window.document}const gt=Math.pow(2,16);function mt(s,t){return s+t*gt}function Lt(s){return 65535&s}class X{constructor(t,r,i){this.pos=t,this.delInfo=r,this.recover=i}get deleted(){return(8&this.delInfo)>0}get deletedBefore(){return(5&this.delInfo)>0}get deletedAfter(){return(6&this.delInfo)>0}get deletedAcross(){return(4&this.delInfo)>0}}class Oe{constructor(t,r=!1){if(this.ranges=t,this.inverted=r,!t.length&&Oe.empty)return Oe.empty}recover(t){let r=0,i=Lt(t);if(!this.inverted)for(let l=0;l<i;l++)r+=this.ranges[3*l+2]-this.ranges[3*l+1];return this.ranges[3*i]+r+function yn(s){return(s-(65535&s))/gt}(t)}mapResult(t,r=1){return this._map(t,r,!1)}map(t,r=1){return this._map(t,r,!0)}_map(t,r,i){let l=0,c=this.inverted?2:1,h=this.inverted?1:2;for(let g=0;g<this.ranges.length;g+=3){let C=this.ranges[g]-(this.inverted?l:0);if(C>t)break;let I=this.ranges[g+c],N=this.ranges[g+h],U=C+I;if(t<=U){let q=C+l+((I?t==C?-1:t==U?1:r:r)<0?0:N);if(i)return q;let se=t==(r<0?C:U)?null:mt(g/3,t-C),Ve=t==C?2:t==U?1:4;return(r<0?t!=C:t!=U)&&(Ve|=8),new X(q,Ve,se)}l+=N-I}return i?t+l:new X(t+l,0,null)}touches(t,r){let i=0,l=Lt(r),c=this.inverted?2:1,h=this.inverted?1:2;for(let g=0;g<this.ranges.length;g+=3){let C=this.ranges[g]-(this.inverted?i:0);if(C>t)break;let I=this.ranges[g+c];if(t<=C+I&&g==3*l)return!0;i+=this.ranges[g+h]-I}return!1}forEach(t){let r=this.inverted?2:1,i=this.inverted?1:2;for(let l=0,c=0;l<this.ranges.length;l+=3){let h=this.ranges[l],g=h-(this.inverted?c:0),C=h+(this.inverted?0:c),I=this.ranges[l+r],N=this.ranges[l+i];t(g,g+I,C,C+N),c+=N-I}}invert(){return new Oe(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return 0==t?Oe.empty:new Oe(t<0?[0,-t,0]:[0,0,t])}}Oe.empty=new Oe([]);class je{constructor(t=[],r,i=0,l=t.length){this.maps=t,this.mirror=r,this.from=i,this.to=l}slice(t=0,r=this.maps.length){return new je(this.maps,this.mirror,t,r)}copy(){return new je(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(t,r){this.to=this.maps.push(t),null!=r&&this.setMirror(this.maps.length-1,r)}appendMapping(t){for(let r=0,i=this.maps.length;r<t.maps.length;r++){let l=t.getMirror(r);this.appendMap(t.maps[r],null!=l&&l<r?i+l:void 0)}}getMirror(t){if(this.mirror)for(let r=0;r<this.mirror.length;r++)if(this.mirror[r]==t)return this.mirror[r+(r%2?-1:1)]}setMirror(t,r){this.mirror||(this.mirror=[]),this.mirror.push(t,r)}appendMappingInverted(t){for(let r=t.maps.length-1,i=this.maps.length+t.maps.length;r>=0;r--){let l=t.getMirror(r);this.appendMap(t.maps[r].invert(),null!=l&&l>r?i-l-1:void 0)}}invert(){let t=new je;return t.appendMappingInverted(this),t}map(t,r=1){if(this.mirror)return this._map(t,r,!0);for(let i=this.from;i<this.to;i++)t=this.maps[i].map(t,r);return t}mapResult(t,r=1){return this._map(t,r,!1)}_map(t,r,i){let l=0;for(let c=this.from;c<this.to;c++){let g=this.maps[c].mapResult(t,r);if(null!=g.recover){let C=this.getMirror(c);if(null!=C&&C>c&&C<this.to){c=C,t=this.maps[C].recover(g.recover);continue}}l|=g.delInfo,t=g.pos}return i?t:new X(t,l,null)}}const Xe=Object.create(null);class Me{getMap(){return Oe.empty}merge(t){return null}static fromJSON(t,r){if(!r||!r.stepType)throw new RangeError("Invalid input for Step.fromJSON");let i=Xe[r.stepType];if(!i)throw new RangeError(`No step type ${r.stepType} defined`);return i.fromJSON(t,r)}static jsonID(t,r){if(t in Xe)throw new RangeError("Duplicate use of step JSON ID "+t);return Xe[t]=r,r.prototype.jsonID=t,r}}class Tt{constructor(t,r){this.doc=t,this.failed=r}static ok(t){return new Tt(t,null)}static fail(t){return new Tt(null,t)}static fromReplace(t,r,i,l){try{return Tt.ok(t.replace(r,i,l))}catch(c){if(c instanceof he)return Tt.fail(c.message);throw c}}}function wt(s,t,r){let i=[];for(let l=0;l<s.childCount;l++){let c=s.child(l);c.content.size&&(c=c.copy(wt(c.content,t,c))),c.isInline&&(c=t(c,r,l)),i.push(c)}return be.fromArray(i)}class fn extends Me{constructor(t,r,i){super(),this.from=t,this.to=r,this.mark=i}apply(t){let r=t.slice(this.from,this.to),i=t.resolve(this.from),l=i.node(i.sharedDepth(this.to)),c=new ie(wt(r.content,(h,g)=>h.isAtom&&g.type.allowsMarkType(this.mark.type)?h.mark(this.mark.addToSet(h.marks)):h,l),r.openStart,r.openEnd);return Tt.fromReplace(t,this.from,this.to,c)}invert(){return new Dn(this.from,this.to,this.mark)}map(t){let r=t.mapResult(this.from,1),i=t.mapResult(this.to,-1);return r.deleted&&i.deleted||r.pos>=i.pos?null:new fn(r.pos,i.pos,this.mark)}merge(t){return t instanceof fn&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new fn(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,r){if("number"!=typeof r.from||"number"!=typeof r.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new fn(r.from,r.to,t.markFromJSON(r.mark))}}Me.jsonID("addMark",fn);class Dn extends Me{constructor(t,r,i){super(),this.from=t,this.to=r,this.mark=i}apply(t){let r=t.slice(this.from,this.to),i=new ie(wt(r.content,l=>l.mark(this.mark.removeFromSet(l.marks)),t),r.openStart,r.openEnd);return Tt.fromReplace(t,this.from,this.to,i)}invert(){return new fn(this.from,this.to,this.mark)}map(t){let r=t.mapResult(this.from,1),i=t.mapResult(this.to,-1);return r.deleted&&i.deleted||r.pos>=i.pos?null:new Dn(r.pos,i.pos,this.mark)}merge(t){return t instanceof Dn&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new Dn(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,r){if("number"!=typeof r.from||"number"!=typeof r.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Dn(r.from,r.to,t.markFromJSON(r.mark))}}Me.jsonID("removeMark",Dn);class Jt extends Me{constructor(t,r){super(),this.pos=t,this.mark=r}apply(t){let r=t.nodeAt(this.pos);if(!r)return Tt.fail("No node at mark step's position");let i=r.type.create(r.attrs,null,this.mark.addToSet(r.marks));return Tt.fromReplace(t,this.pos,this.pos+1,new ie(be.from(i),0,r.isLeaf?0:1))}invert(t){let r=t.nodeAt(this.pos);if(r){let i=this.mark.addToSet(r.marks);if(i.length==r.marks.length){for(let l=0;l<r.marks.length;l++)if(!r.marks[l].isInSet(i))return new Jt(this.pos,r.marks[l]);return new Jt(this.pos,this.mark)}}return new bn(this.pos,this.mark)}map(t){let r=t.mapResult(this.pos,1);return r.deletedAfter?null:new Jt(r.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,r){if("number"!=typeof r.pos)throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Jt(r.pos,t.markFromJSON(r.mark))}}Me.jsonID("addNodeMark",Jt);class bn extends Me{constructor(t,r){super(),this.pos=t,this.mark=r}apply(t){let r=t.nodeAt(this.pos);if(!r)return Tt.fail("No node at mark step's position");let i=r.type.create(r.attrs,null,this.mark.removeFromSet(r.marks));return Tt.fromReplace(t,this.pos,this.pos+1,new ie(be.from(i),0,r.isLeaf?0:1))}invert(t){let r=t.nodeAt(this.pos);return r&&this.mark.isInSet(r.marks)?new Jt(this.pos,this.mark):this}map(t){let r=t.mapResult(this.pos,1);return r.deletedAfter?null:new bn(r.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,r){if("number"!=typeof r.pos)throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new bn(r.pos,t.markFromJSON(r.mark))}}Me.jsonID("removeNodeMark",bn);class Cn extends Me{constructor(t,r,i,l=!1){super(),this.from=t,this.to=r,this.slice=i,this.structure=l}apply(t){return this.structure&&Xt(t,this.from,this.to)?Tt.fail("Structure replace would overwrite content"):Tt.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new Oe([this.from,this.to-this.from,this.slice.size])}invert(t){return new Cn(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let r=t.mapResult(this.from,1),i=t.mapResult(this.to,-1);return r.deletedAcross&&i.deletedAcross?null:new Cn(r.pos,Math.max(r.pos,i.pos),this.slice)}merge(t){if(!(t instanceof Cn)||t.structure||this.structure)return null;if(this.from+this.slice.size!=t.from||this.slice.openEnd||t.slice.openStart){if(t.to!=this.from||this.slice.openStart||t.slice.openEnd)return null;{let r=this.slice.size+t.slice.size==0?ie.empty:new ie(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new Cn(t.from,this.to,r,this.structure)}}{let r=this.slice.size+t.slice.size==0?ie.empty:new ie(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new Cn(this.from,this.to+(t.to-t.from),r,this.structure)}}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,r){if("number"!=typeof r.from||"number"!=typeof r.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Cn(r.from,r.to,ie.fromJSON(t,r.slice),!!r.structure)}}Me.jsonID("replace",Cn);class hn extends Me{constructor(t,r,i,l,c,h,g=!1){super(),this.from=t,this.to=r,this.gapFrom=i,this.gapTo=l,this.slice=c,this.insert=h,this.structure=g}apply(t){if(this.structure&&(Xt(t,this.from,this.gapFrom)||Xt(t,this.gapTo,this.to)))return Tt.fail("Structure gap-replace would overwrite content");let r=t.slice(this.gapFrom,this.gapTo);if(r.openStart||r.openEnd)return Tt.fail("Gap is not a flat range");let i=this.slice.insertAt(this.insert,r.content);return i?Tt.fromReplace(t,this.from,this.to,i):Tt.fail("Content does not fit in gap")}getMap(){return new Oe([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let r=this.gapTo-this.gapFrom;return new hn(this.from,this.from+this.slice.size+r,this.from+this.insert,this.from+this.insert+r,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let r=t.mapResult(this.from,1),i=t.mapResult(this.to,-1),l=t.map(this.gapFrom,-1),c=t.map(this.gapTo,1);return r.deletedAcross&&i.deletedAcross||l<r.pos||c>i.pos?null:new hn(r.pos,i.pos,l,c,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,r){if("number"!=typeof r.from||"number"!=typeof r.to||"number"!=typeof r.gapFrom||"number"!=typeof r.gapTo||"number"!=typeof r.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new hn(r.from,r.to,r.gapFrom,r.gapTo,ie.fromJSON(t,r.slice),r.insert,!!r.structure)}}function Xt(s,t,r){let i=s.resolve(t),l=r-t,c=i.depth;for(;l>0&&c>0&&i.indexAfter(c)==i.node(c).childCount;)c--,l--;if(l>0){let h=i.node(c).maybeChild(i.indexAfter(c));for(;l>0;){if(!h||h.isLeaf)return!0;h=h.firstChild,l--}}return!1}function On(s,t,r){return(0==t||s.canReplace(t,s.childCount))&&(r==s.childCount||s.canReplace(0,r))}function Rn(s){let r=s.parent.content.cutByIndex(s.startIndex,s.endIndex);for(let i=s.depth;;--i){let l=s.$from.node(i),c=s.$from.index(i),h=s.$to.indexAfter(i);if(i<s.depth&&l.canReplace(c,h,r))return i;if(0==i||l.type.spec.isolating||!On(l,c,h))break}return null}function go(s,t,r=null,i=s){let l=function Lo(s,t){let{parent:r,startIndex:i,endIndex:l}=s,c=r.contentMatchAt(i).findWrapping(t);return c&&r.canReplaceWith(i,l,c.length?c[0]:t)?c:null}(s,t),c=l&&function fr(s,t){let{parent:r,startIndex:i,endIndex:l}=s,c=r.child(i),h=t.contentMatch.findWrapping(c.type);if(!h)return null;let C=(h.length?h[h.length-1]:t).contentMatch;for(let I=i;C&&I<l;I++)C=C.matchType(r.child(I).type);return C&&C.validEnd?h:null}(i,t);return c?l.map(Fo).concat({type:t,attrs:r}).concat(c.map(Fo)):null}function Fo(s){return{type:s,attrs:null}}function wr(s,t,r=1,i){let l=s.resolve(t),c=l.depth-r,h=i&&i[i.length-1]||l.parent;if(c<0||l.parent.type.spec.isolating||!l.parent.canReplace(l.index(),l.parent.childCount)||!h.type.validContent(l.parent.content.cutByIndex(l.index(),l.parent.childCount)))return!1;for(let I=l.depth-1,N=r-2;I>c;I--,N--){let U=l.node(I),J=l.index(I);if(U.type.spec.isolating)return!1;let q=U.content.cutByIndex(J,U.childCount),se=i&&i[N+1];se&&(q=q.replaceChild(0,se.type.create(se.attrs)));let Ve=i&&i[N]||U;if(!U.canReplace(J+1,U.childCount)||!Ve.type.validContent(q))return!1}let g=l.indexAfter(c),C=i&&i[0];return l.node(c).canReplaceWith(g,g,C?C.type:l.node(c+1).type)}function Zr(s,t){let r=s.resolve(t),i=r.index();return function Vo(s,t){return!(!s||!t||s.isLeaf||!s.canAppend(t))}(r.nodeBefore,r.nodeAfter)&&r.parent.canReplace(i,i+1)}function hi(s,t,r=t,i=ie.empty){if(t==r&&!i.size)return null;let l=s.resolve(t),c=s.resolve(r);return pi(l,c,i)?new Cn(t,r,i):new gi(l,c,i).fit()}function pi(s,t,r){return!r.openStart&&!r.openEnd&&s.start()==t.start()&&s.parent.canReplace(s.index(),t.index(),r.content)}Me.jsonID("replaceAround",hn);class gi{constructor(t,r,i){this.$from=t,this.$to=r,this.unplaced=i,this.frontier=[],this.placed=be.empty;for(let l=0;l<=t.depth;l++){let c=t.node(l);this.frontier.push({type:c.type,match:c.contentMatchAt(t.indexAfter(l))})}for(let l=t.depth;l>0;l--)this.placed=be.from(t.node(l).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let I=this.findFittable();I?this.placeNodes(I):this.openMore()||this.dropNode()}let t=this.mustMoveInline(),r=this.placed.size-this.depth-this.$from.depth,i=this.$from,l=this.close(t<0?this.$to:i.doc.resolve(t));if(!l)return null;let c=this.placed,h=i.depth,g=l.depth;for(;h&&g&&1==c.childCount;)c=c.firstChild.content,h--,g--;let C=new ie(c,h,g);return t>-1?new hn(i.pos,t,this.$to.pos,this.$to.end(),C,r):C.size||i.pos!=this.$to.pos?new Cn(i.pos,l.pos,C):null}findFittable(){let t=this.unplaced.openStart;for(let r=this.unplaced.content,i=0,l=this.unplaced.openEnd;i<t;i++){let c=r.firstChild;if(r.childCount>1&&(l=0),c.type.spec.isolating&&l<=i){t=i;break}r=c.content}for(let r=1;r<=2;r++)for(let i=1==r?t:this.unplaced.openStart;i>=0;i--){let l,c=null;i?(c=ni(this.unplaced.content,i-1).firstChild,l=c.content):l=this.unplaced.content;let h=l.firstChild;for(let g=this.depth;g>=0;g--){let N,{type:C,match:I}=this.frontier[g],U=null;if(1==r&&(h?I.matchType(h.type)||(U=I.fillBefore(be.from(h),!1)):c&&C.compatibleContent(c.type)))return{sliceDepth:i,frontierDepth:g,parent:c,inject:U};if(2==r&&h&&(N=I.findWrapping(h.type)))return{sliceDepth:i,frontierDepth:g,parent:c,wrap:N};if(c&&I.matchType(c.type))break}}}openMore(){let{content:t,openStart:r,openEnd:i}=this.unplaced,l=ni(t,r);return!(!l.childCount||l.firstChild.isLeaf||(this.unplaced=new ie(t,r+1,Math.max(i,l.size+r>=t.size-i?r+1:0)),0))}dropNode(){let{content:t,openStart:r,openEnd:i}=this.unplaced,l=ni(t,r);if(l.childCount<=1&&r>0){let c=t.size-r<=r+l.size;this.unplaced=new ie(jo(t,r-1,1),r-1,c?r-1:i)}else this.unplaced=new ie(jo(t,r,1),r,i)}placeNodes({sliceDepth:t,frontierDepth:r,parent:i,inject:l,wrap:c}){for(;this.depth>r;)this.closeFrontierNode();if(c)for(let Ve=0;Ve<c.length;Ve++)this.openFrontierNode(c[Ve]);let h=this.unplaced,g=i?i.content:h.content,C=h.openStart-t,I=0,N=[],{match:U,type:J}=this.frontier[r];if(l){for(let Ve=0;Ve<l.childCount;Ve++)N.push(l.child(Ve));U=U.matchFragment(l)}let q=g.size+t-(h.content.size-h.openEnd);for(;I<g.childCount;){let Ve=g.child(I),Dt=U.matchType(Ve.type);if(!Dt)break;I++,(I>1||0==C||Ve.content.size)&&(U=Dt,N.push(ri(Ve.mark(J.allowedMarks(Ve.marks)),1==I?C:0,I==g.childCount?q:-1)))}let se=I==g.childCount;se||(q=-1),this.placed=mo(this.placed,r,be.from(N)),this.frontier[r].match=U,se&&q<0&&i&&i.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let Ve=0,Dt=g;Ve<q;Ve++){let Pt=Dt.lastChild;this.frontier.push({type:Pt.type,match:Pt.contentMatchAt(Pt.childCount)}),Dt=Pt.content}this.unplaced=se?0==t?ie.empty:new ie(jo(h.content,t-1,1),t-1,q<0?h.openEnd:t-1):new ie(jo(h.content,t,I),h.openStart,h.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let r,t=this.frontier[this.depth];if(!t.type.isTextblock||!Wt(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(r=this.findCloseLevel(this.$to))&&r.depth==this.depth)return-1;let{depth:i}=this.$to,l=this.$to.after(i);for(;i>1&&l==this.$to.end(--i);)++l;return l}findCloseLevel(t){e:for(let r=Math.min(this.depth,t.depth);r>=0;r--){let{match:i,type:l}=this.frontier[r],c=r<t.depth&&t.end(r+1)==t.pos+(t.depth-(r+1)),h=Wt(t,r,l,i,c);if(h){for(let g=r-1;g>=0;g--){let{match:C,type:I}=this.frontier[g],N=Wt(t,g,I,C,!0);if(!N||N.childCount)continue e}return{depth:r,fit:h,move:c?t.doc.resolve(t.after(r+1)):t}}}}close(t){let r=this.findCloseLevel(t);if(!r)return null;for(;this.depth>r.depth;)this.closeFrontierNode();r.fit.childCount&&(this.placed=mo(this.placed,r.depth,r.fit)),t=r.move;for(let i=r.depth+1;i<=t.depth;i++){let l=t.node(i),c=l.type.contentMatch.fillBefore(l.content,!0,t.index(i));this.openFrontierNode(l.type,l.attrs,c)}return t}openFrontierNode(t,r=null,i){let l=this.frontier[this.depth];l.match=l.match.matchType(t),this.placed=mo(this.placed,this.depth,be.from(t.create(r,i))),this.frontier.push({type:t,match:t.contentMatch})}closeFrontierNode(){let r=this.frontier.pop().match.fillBefore(be.empty,!0);r.childCount&&(this.placed=mo(this.placed,this.frontier.length,r))}}function jo(s,t,r){return 0==t?s.cutByIndex(r,s.childCount):s.replaceChild(0,s.firstChild.copy(jo(s.firstChild.content,t-1,r)))}function mo(s,t,r){return 0==t?s.append(r):s.replaceChild(s.childCount-1,s.lastChild.copy(mo(s.lastChild.content,t-1,r)))}function ni(s,t){for(let r=0;r<t;r++)s=s.firstChild.content;return s}function ri(s,t,r){if(t<=0)return s;let i=s.content;return t>1&&(i=i.replaceChild(0,ri(i.firstChild,t-1,1==i.childCount?r-1:0))),t>0&&(i=s.type.contentMatch.fillBefore(i).append(i),r<=0&&(i=i.append(s.type.contentMatch.matchFragment(i).fillBefore(be.empty,!0)))),s.copy(i)}function Wt(s,t,r,i,l){let c=s.node(t),h=l?s.indexAfter(t):s.index(t);if(h==c.childCount&&!r.compatibleContent(c.type))return null;let g=i.fillBefore(c.content,!0,h);return g&&!function Bn(s,t,r){for(let i=r;i<t.childCount;i++)if(!s.allowsMarks(t.child(i).marks))return!0;return!1}(r,c.content,h)?g:null}function Hn(s){return s.spec.defining||s.spec.definingForContent}function Un(s,t,r,i,l){if(t<r){let c=s.firstChild;s=s.replaceChild(0,c.copy(Un(c.content,t+1,r,i,c)))}if(t>i){let c=l.contentMatchAt(0),h=c.fillBefore(s).append(s);s=h.append(c.matchFragment(h).fillBefore(be.empty,!0))}return s}function rr(s,t){let r=[];for(let l=Math.min(s.depth,t.depth);l>=0;l--){let c=s.start(l);if(c<s.pos-(s.depth-l)||t.end(l)>t.pos+(t.depth-l)||s.node(l).type.spec.isolating||t.node(l).type.spec.isolating)break;(c==t.start(l)||l==s.depth&&l==t.depth&&s.parent.inlineContent&&t.parent.inlineContent&&l&&t.start(l-1)==c-1)&&r.push(l)}return r}class or extends Me{constructor(t,r,i){super(),this.pos=t,this.attr=r,this.value=i}apply(t){let r=t.nodeAt(this.pos);if(!r)return Tt.fail("No node at attribute step's position");let i=Object.create(null);for(let c in r.attrs)i[c]=r.attrs[c];i[this.attr]=this.value;let l=r.type.create(i,null,r.marks);return Tt.fromReplace(t,this.pos,this.pos+1,new ie(be.from(l),0,r.isLeaf?0:1))}getMap(){return Oe.empty}invert(t){return new or(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let r=t.mapResult(this.pos,1);return r.deletedAfter?null:new or(r.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,r){if("number"!=typeof r.pos||"string"!=typeof r.attr)throw new RangeError("Invalid input for AttrStep.fromJSON");return new or(r.pos,r.attr,r.value)}}Me.jsonID("attr",or);let vo=class extends Error{};vo=function s(t){let r=Error.call(this,t);return r.__proto__=s.prototype,r},(vo.prototype=Object.create(Error.prototype)).constructor=vo,vo.prototype.name="TransformError";class En{constructor(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new je}get before(){return this.docs.length?this.docs[0]:this.doc}step(t){let r=this.maybeStep(t);if(r.failed)throw new vo(r.failed);return this}maybeStep(t){let r=t.apply(this.doc);return r.failed||this.addStep(t,r.doc),r}get docChanged(){return this.steps.length>0}addStep(t,r){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=r}replace(t,r=t,i=ie.empty){let l=hi(this.doc,t,r,i);return l&&this.step(l),this}replaceWith(t,r,i){return this.replace(t,r,new ie(be.from(i),0,0))}delete(t,r){return this.replace(t,r,ie.empty)}insert(t,r){return this.replaceWith(t,t,r)}replaceRange(t,r,i){return function Ar(s,t,r,i){if(!i.size)return s.deleteRange(t,r);let l=s.doc.resolve(t),c=s.doc.resolve(r);if(pi(l,c,i))return s.step(new Cn(t,r,i));let h=rr(l,s.doc.resolve(r));0==h[h.length-1]&&h.pop();let g=-(l.depth+1);h.unshift(g);for(let J=l.depth,q=l.pos-1;J>0;J--,q--){let se=l.node(J).type.spec;if(se.defining||se.definingAsContext||se.isolating)break;h.indexOf(J)>-1?g=J:l.before(J)==q&&h.splice(1,0,-J)}let C=h.indexOf(g),I=[],N=i.openStart;for(let J=i.content,q=0;;q++){let se=J.firstChild;if(I.push(se),q==i.openStart)break;J=se.content}for(let J=N-1;J>=0;J--){let q=I[J].type,se=Hn(q);if(se&&l.node(C).type!=q)N=J;else if(se||!q.isTextblock)break}for(let J=i.openStart;J>=0;J--){let q=(J+N+1)%(i.openStart+1),se=I[q];if(se)for(let Ve=0;Ve<h.length;Ve++){let Dt=h[(Ve+C)%h.length],Pt=!0;Dt<0&&(Pt=!1,Dt=-Dt);let Hr=l.node(Dt-1),cr=l.index(Dt-1);if(Hr.canReplaceWith(cr,cr,se.type,se.marks))return s.replace(l.before(Dt),Pt?c.after(Dt):r,new ie(Un(i.content,0,i.openStart,q),q,i.openEnd))}}let U=s.steps.length;for(let J=h.length-1;J>=0&&(s.replace(t,r,i),!(s.steps.length>U));J--){let q=h[J];q<0||(t=l.before(q),r=c.after(q))}}(this,t,r,i),this}replaceRangeWith(t,r,i){return function oi(s,t,r,i){if(!i.isInline&&t==r&&s.doc.resolve(t).parent.content.size){let l=function Jn(s,t,r){let i=s.resolve(t);if(i.parent.canReplaceWith(i.index(),i.index(),r))return t;if(0==i.parentOffset)for(let l=i.depth-1;l>=0;l--){let c=i.index(l);if(i.node(l).canReplaceWith(c,c,r))return i.before(l+1);if(c>0)return null}if(i.parentOffset==i.parent.content.size)for(let l=i.depth-1;l>=0;l--){let c=i.indexAfter(l);if(i.node(l).canReplaceWith(c,c,r))return i.after(l+1);if(c<i.node(l).childCount)return null}return null}(s.doc,t,i.type);null!=l&&(t=r=l)}s.replaceRange(t,r,new ie(be.from(i),0,0))}(this,t,r,i),this}deleteRange(t,r){return function yo(s,t,r){let i=s.doc.resolve(t),l=s.doc.resolve(r),c=rr(i,l);for(let h=0;h<c.length;h++){let g=c[h],C=h==c.length-1;if(C&&0==g||i.node(g).type.contentMatch.validEnd)return s.delete(i.start(g),l.end(g));if(g>0&&(C||i.node(g-1).canReplace(i.index(g-1),l.indexAfter(g-1))))return s.delete(i.before(g),l.after(g))}for(let h=1;h<=i.depth&&h<=l.depth;h++)if(t-i.start(h)==i.depth-h&&r>i.end(h)&&l.end(h)-r!=l.depth-h)return s.delete(i.before(h),r);s.delete(t,r)}(this,t,r),this}lift(t,r){return function dr(s,t,r){let{$from:i,$to:l,depth:c}=t,h=i.before(c+1),g=l.after(c+1),C=h,I=g,N=be.empty,U=0;for(let se=c,Ve=!1;se>r;se--)Ve||i.index(se)>0?(Ve=!0,N=be.from(i.node(se).copy(N)),U++):C--;let J=be.empty,q=0;for(let se=c,Ve=!1;se>r;se--)Ve||l.after(se+1)<l.end(se)?(Ve=!0,J=be.from(l.node(se).copy(J)),q++):I++;s.step(new hn(C,I,h,g,new ie(N.append(J),U,q),N.size-U,!0))}(this,t,r),this}join(t,r=1){return function as(s,t,r){let i=new Cn(t-r,t+r,ie.empty,!0);s.step(i)}(this,t,r),this}wrap(t,r){return function ei(s,t,r){let i=be.empty;for(let h=r.length-1;h>=0;h--){if(i.size){let g=r[h].type.contentMatch.matchFragment(i);if(!g||!g.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}i=be.from(r[h].type.create(r[h].attrs,i))}let l=t.start,c=t.end;s.step(new hn(l,c,l,c,new ie(i,0,0),r.length,!0))}(this,t,r),this}setBlockType(t,r=t,i,l=null){return function Gr(s,t,r,i,l){if(!i.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let c=s.steps.length;s.doc.nodesBetween(t,r,(h,g)=>{if(h.isTextblock&&!h.hasMarkup(i,l)&&function Wr(s,t,r){let i=s.resolve(t),l=i.index();return i.parent.canReplaceWith(l,l+1,r)}(s.doc,s.mapping.slice(c).map(g),i)){s.clearIncompatible(s.mapping.slice(c).map(g,1),i);let C=s.mapping.slice(c),I=C.map(g,1),N=C.map(g+h.nodeSize,1);return s.step(new hn(I,N,I+1,N-1,new ie(be.from(i.create(l,null,h.marks)),0,0),1,!0)),!1}})}(this,t,r,i,l),this}setNodeMarkup(t,r,i=null,l){return function ki(s,t,r,i,l){let c=s.doc.nodeAt(t);if(!c)throw new RangeError("No node at given position");r||(r=c.type);let h=r.create(i,null,l||c.marks);if(c.isLeaf)return s.replaceWith(t,t+c.nodeSize,h);if(!r.validContent(c.content))throw new RangeError("Invalid content for node type "+r.name);s.step(new hn(t,t+c.nodeSize,t+1,t+c.nodeSize-1,new ie(be.from(h),0,0),1,!0))}(this,t,r,i,l),this}setNodeAttribute(t,r,i){return this.step(new or(t,r,i)),this}addNodeMark(t,r){return this.step(new Jt(t,r)),this}removeNodeMark(t,r){if(!(r instanceof ze)){let i=this.doc.nodeAt(t);if(!i)throw new RangeError("No node at position "+t);if(!(r=r.isInSet(i.marks)))return this}return this.step(new bn(t,r)),this}split(t,r=1,i){return function ti(s,t,r=1,i){let l=s.doc.resolve(t),c=be.empty,h=be.empty;for(let g=l.depth,C=l.depth-r,I=r-1;g>C;g--,I--){c=be.from(l.node(g).copy(c));let N=i&&i[I];h=be.from(N?N.type.create(N.attrs,h):l.node(g).copy(h))}s.step(new Cn(t,t,new ie(c.append(h),r,r),!0))}(this,t,r,i),this}addMark(t,r,i){return function nn(s,t,r,i){let h,g,l=[],c=[];s.doc.nodesBetween(t,r,(C,I,N)=>{if(!C.isInline)return;let U=C.marks;if(!i.isInSet(U)&&N.type.allowsMarkType(i.type)){let J=Math.max(I,t),q=Math.min(I+C.nodeSize,r),se=i.addToSet(U);for(let Ve=0;Ve<U.length;Ve++)U[Ve].isInSet(se)||(h&&h.to==J&&h.mark.eq(U[Ve])?h.to=q:l.push(h=new Dn(J,q,U[Ve])));g&&g.to==J?g.to=q:c.push(g=new fn(J,q,i))}}),l.forEach(C=>s.step(C)),c.forEach(C=>s.step(C))}(this,t,r,i),this}removeMark(t,r,i){return function Tr(s,t,r,i){let l=[],c=0;s.doc.nodesBetween(t,r,(h,g)=>{if(!h.isInline)return;c++;let C=null;if(i instanceof eo){let N,I=h.marks;for(;N=i.isInSet(I);)(C||(C=[])).push(N),I=N.removeFromSet(I)}else i?i.isInSet(h.marks)&&(C=[i]):C=h.marks;if(C&&C.length){let I=Math.min(g+h.nodeSize,r);for(let N=0;N<C.length;N++){let J,U=C[N];for(let q=0;q<l.length;q++){let se=l[q];se.step==c-1&&U.eq(l[q].style)&&(J=se)}J?(J.to=I,J.step=c):l.push({style:U,from:Math.max(g,t),to:I,step:c})}}}),l.forEach(h=>s.step(new Dn(h.from,h.to,h.style)))}(this,t,r,i),this}clearIncompatible(t,r,i){return function zr(s,t,r,i=r.contentMatch){let l=s.doc.nodeAt(t),c=[],h=t+1;for(let g=0;g<l.childCount;g++){let C=l.child(g),I=h+C.nodeSize,N=i.matchType(C.type);if(N){i=N;for(let U=0;U<C.marks.length;U++)r.allowsMarkType(C.marks[U].type)||s.step(new Dn(h,I,C.marks[U]));if(C.isText&&!r.spec.code){let U,q,J=/\r?\n|\r/g;for(;U=J.exec(C.text);)q||(q=new ie(be.from(r.schema.text(" ",r.allowedMarks(C.marks))),0,0)),c.push(new Cn(h+U.index,h+U.index+U[0].length,q))}}else c.push(new Cn(h,I,ie.empty));h=I}if(!i.validEnd){let g=i.fillBefore(be.empty,!0);s.replace(h,h,new ie(g,0,0))}for(let g=c.length-1;g>=0;g--)s.step(c[g])}(this,t,r,i),this}}const tt=Object.create(null);class Je{constructor(t,r,i){this.$anchor=t,this.$head=r,this.ranges=i||[new mn(t.min(r),t.max(r))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let t=this.ranges;for(let r=0;r<t.length;r++)if(t[r].$from.pos!=t[r].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t,r=ie.empty){let i=r.content.lastChild,l=null;for(let g=0;g<r.openEnd;g++)l=i,i=i.lastChild;let c=t.steps.length,h=this.ranges;for(let g=0;g<h.length;g++){let{$from:C,$to:I}=h[g],N=t.mapping.slice(c);t.replaceRange(N.map(C.pos),N.map(I.pos),g?ie.empty:r),0==g&&no(t,c,(i?i.isInline:l&&l.isTextblock)?-1:1)}}replaceWith(t,r){let i=t.steps.length,l=this.ranges;for(let c=0;c<l.length;c++){let{$from:h,$to:g}=l[c],C=t.mapping.slice(i),I=C.map(h.pos),N=C.map(g.pos);c?t.deleteRange(I,N):(t.replaceRangeWith(I,N,r),no(t,i,r.isInline?-1:1))}}static findFrom(t,r,i=!1){let l=t.parent.inlineContent?new xt(t):Kr(t.node(0),t.parent,t.pos,t.index(),r,i);if(l)return l;for(let c=t.depth-1;c>=0;c--){let h=r<0?Kr(t.node(0),t.node(c),t.before(c+1),t.index(c),r,i):Kr(t.node(0),t.node(c),t.after(c+1),t.index(c)+1,r,i);if(h)return h}return null}static near(t,r=1){return this.findFrom(t,r)||this.findFrom(t,-r)||new wn(t.node(0))}static atStart(t){return Kr(t,t,0,0,1)||new wn(t)}static atEnd(t){return Kr(t,t,t.content.size,t.childCount,-1)||new wn(t)}static fromJSON(t,r){if(!r||!r.type)throw new RangeError("Invalid input for Selection.fromJSON");let i=tt[r.type];if(!i)throw new RangeError(`No selection type ${r.type} defined`);return i.fromJSON(t,r)}static jsonID(t,r){if(t in tt)throw new RangeError("Duplicate use of selection JSON ID "+t);return tt[t]=r,r.prototype.jsonID=t,r}getBookmark(){return xt.between(this.$anchor,this.$head).getBookmark()}}Je.prototype.visible=!0;class mn{constructor(t,r){this.$from=t,this.$to=r}}let hr=!1;function pr(s){!hr&&!s.parent.inlineContent&&(hr=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+s.parent.type.name+")"))}class xt extends Je{constructor(t,r=t){pr(t),pr(r),super(t,r)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,r){let i=t.resolve(r.map(this.head));if(!i.parent.inlineContent)return Je.near(i);let l=t.resolve(r.map(this.anchor));return new xt(l.parent.inlineContent?l:i,i)}replace(t,r=ie.empty){if(super.replace(t,r),r==ie.empty){let i=this.$from.marksAcross(this.$to);i&&t.ensureMarks(i)}}eq(t){return t instanceof xt&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new gr(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,r){if("number"!=typeof r.anchor||"number"!=typeof r.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new xt(t.resolve(r.anchor),t.resolve(r.head))}static create(t,r,i=r){let l=t.resolve(r);return new this(l,i==r?l:t.resolve(i))}static between(t,r,i){let l=t.pos-r.pos;if((!i||l)&&(i=l>=0?1:-1),!r.parent.inlineContent){let c=Je.findFrom(r,i,!0)||Je.findFrom(r,-i,!0);if(!c)return Je.near(r,i);r=c.$head}return t.parent.inlineContent||(0==l||(t=(Je.findFrom(t,-i,!0)||Je.findFrom(t,i,!0)).$anchor).pos<r.pos!=l<0)&&(t=r),new xt(t,r)}}Je.jsonID("text",xt);class gr{constructor(t,r){this.anchor=t,this.head=r}map(t){return new gr(t.map(this.anchor),t.map(this.head))}resolve(t){return xt.between(t.resolve(this.anchor),t.resolve(this.head))}}class ct extends Je{constructor(t){let r=t.nodeAfter,i=t.node(0).resolve(t.pos+r.nodeSize);super(t,i),this.node=r}map(t,r){let{deleted:i,pos:l}=r.mapResult(this.anchor),c=t.resolve(l);return i?Je.near(c):new ct(c)}content(){return new ie(be.from(this.node),0,0)}eq(t){return t instanceof ct&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Or(this.anchor)}static fromJSON(t,r){if("number"!=typeof r.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new ct(t.resolve(r.anchor))}static create(t,r){return new ct(t.resolve(r))}static isSelectable(t){return!t.isText&&!1!==t.type.spec.selectable}}ct.prototype.visible=!1,Je.jsonID("node",ct);class Or{constructor(t){this.anchor=t}map(t){let{deleted:r,pos:i}=t.mapResult(this.anchor);return r?new gr(i,i):new Or(i)}resolve(t){let r=t.resolve(this.anchor),i=r.nodeAfter;return i&&ct.isSelectable(i)?new ct(r):Je.near(r)}}class wn extends Je{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,r=ie.empty){if(r==ie.empty){t.delete(0,t.doc.content.size);let i=Je.atStart(t.doc);i.eq(t.selection)||t.setSelection(i)}else super.replace(t,r)}toJSON(){return{type:"all"}}static fromJSON(t){return new wn(t)}map(t){return new wn(t)}eq(t){return t instanceof wn}getBookmark(){return It}}Je.jsonID("all",wn);const It={map(){return this},resolve:s=>new wn(s)};function Kr(s,t,r,i,l,c=!1){if(t.inlineContent)return xt.create(s,r);for(let h=i-(l>0?0:1);l>0?h<t.childCount:h>=0;h+=l){let g=t.child(h);if(g.isAtom){if(!c&&ct.isSelectable(g))return ct.create(s,r-(l<0?g.nodeSize:0))}else{let C=Kr(s,g,r+l,l<0?g.childCount:0,l,c);if(C)return C}r+=g.nodeSize*l}return null}function no(s,t,r){let i=s.steps.length-1;if(i<t)return;let h,l=s.steps[i];(l instanceof Cn||l instanceof hn)&&(s.mapping.maps[i].forEach((g,C,I,N)=>{null==h&&(h=N)}),s.setSelection(Je.near(s.doc.resolve(h),r)))}class Mr extends En{constructor(t){super(t.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=t.selection,this.storedMarks=t.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=-3&(1|this.updated),this.storedMarks=null,this}get selectionSet(){return(1&this.updated)>0}setStoredMarks(t){return this.storedMarks=t,this.updated|=2,this}ensureMarks(t){return ze.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this}addStoredMark(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(2&this.updated)>0}addStep(t,r){super.addStep(t,r),this.updated=-3&this.updated,this.storedMarks=null}setTime(t){return this.time=t,this}replaceSelection(t){return this.selection.replace(this,t),this}replaceSelectionWith(t,r=!0){let i=this.selection;return r&&(t=t.mark(this.storedMarks||(i.empty?i.$from.marks():i.$from.marksAcross(i.$to)||ze.none))),i.replaceWith(this,t),this}deleteSelection(){return this.selection.replace(this),this}insertText(t,r,i){let l=this.doc.type.schema;if(null==r)return t?this.replaceSelectionWith(l.text(t),!0):this.deleteSelection();{if(null==i&&(i=r),i=i??r,!t)return this.deleteRange(r,i);let c=this.storedMarks;if(!c){let h=this.doc.resolve(r);c=i==r?h.marks():h.marksAcross(this.doc.resolve(i))}return this.replaceRangeWith(r,i,l.text(t,c)),this.selection.empty||this.setSelection(Je.near(this.selection.$to)),this}}setMeta(t,r){return this.meta["string"==typeof t?t:t.key]=r,this}getMeta(t){return this.meta["string"==typeof t?t:t.key]}get isGeneric(){for(let t in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=4,this}get scrolledIntoView(){return(4&this.updated)>0}}function Pr(s,t){return t&&s?s.bind(t):s}class mr{constructor(t,r,i){this.name=t,this.init=Pr(r.init,i),this.apply=Pr(r.apply,i)}}const mi=[new mr("doc",{init:s=>s.doc||s.schema.topNodeType.createAndFill(),apply:s=>s.doc}),new mr("selection",{init:(s,t)=>s.selection||Je.atStart(t.doc),apply:s=>s.selection}),new mr("storedMarks",{init:s=>s.storedMarks||null,apply:(s,t,r,i)=>i.selection.$cursor?s.storedMarks:null}),new mr("scrollToSelection",{init:()=>0,apply:(s,t)=>s.scrolledIntoView?t+1:t})];class ir{constructor(t,r){this.schema=t,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=mi.slice(),r&&r.forEach(i=>{if(this.pluginsByKey[i.key])throw new RangeError("Adding different instances of a keyed plugin ("+i.key+")");this.plugins.push(i),this.pluginsByKey[i.key]=i,i.spec.state&&this.fields.push(new mr(i.key,i.spec.state,i))})}}class Zn{constructor(t){this.config=t}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(t){return this.applyTransaction(t).state}filterTransaction(t,r=-1){for(let i=0;i<this.config.plugins.length;i++)if(i!=r){let l=this.config.plugins[i];if(l.spec.filterTransaction&&!l.spec.filterTransaction.call(l,t,this))return!1}return!0}applyTransaction(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};let r=[t],i=this.applyInner(t),l=null;for(;;){let c=!1;for(let h=0;h<this.config.plugins.length;h++){let g=this.config.plugins[h];if(g.spec.appendTransaction){let C=l?l[h].n:0,I=l?l[h].state:this,N=C<r.length&&g.spec.appendTransaction.call(g,C?r.slice(C):r,I,i);if(N&&i.filterTransaction(N,h)){if(N.setMeta("appendedTransaction",t),!l){l=[];for(let U=0;U<this.config.plugins.length;U++)l.push(U<h?{state:i,n:r.length}:{state:this,n:0})}r.push(N),i=i.applyInner(N),c=!0}l&&(l[h]={state:i,n:r.length})}}if(!c)return{state:i,transactions:r}}}applyInner(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let r=new Zn(this.config),i=this.config.fields;for(let l=0;l<i.length;l++){let c=i[l];r[c.name]=c.apply(t,this[c.name],this,r)}return r}get tr(){return new Mr(this)}static create(t){let r=new ir(t.doc?t.doc.type.schema:t.schema,t.plugins),i=new Zn(r);for(let l=0;l<r.fields.length;l++)i[r.fields[l].name]=r.fields[l].init(t,i);return i}reconfigure(t){let r=new ir(this.schema,t.plugins),i=r.fields,l=new Zn(r);for(let c=0;c<i.length;c++){let h=i[c].name;l[h]=this.hasOwnProperty(h)?this[h]:i[c].init(t,l)}return l}toJSON(t){let r={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(r.storedMarks=this.storedMarks.map(i=>i.toJSON())),t&&"object"==typeof t)for(let i in t){if("doc"==i||"selection"==i)throw new RangeError("The JSON fields `doc` and `selection` are reserved");let l=t[i],c=l.spec.state;c&&c.toJSON&&(r[i]=c.toJSON.call(l,this[l.key]))}return r}static fromJSON(t,r,i){if(!r)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");let l=new ir(t.schema,t.plugins),c=new Zn(l);return l.fields.forEach(h=>{if("doc"==h.name)c.doc=et.fromJSON(t.schema,r.doc);else if("selection"==h.name)c.selection=Je.fromJSON(c.doc,r.selection);else if("storedMarks"==h.name)r.storedMarks&&(c.storedMarks=r.storedMarks.map(t.schema.markFromJSON));else{if(i)for(let g in i){let C=i[g],I=C.spec.state;if(C.key==h.name&&I&&I.fromJSON&&Object.prototype.hasOwnProperty.call(r,g))return void(c[h.name]=I.fromJSON.call(C,t,r[g],c))}c[h.name]=h.init(t,c)}}),c}}function $o(s,t,r){for(let i in s){let l=s[i];l instanceof Function?l=l.bind(t):"handleDOMEvents"==i&&(l=$o(l,t,{})),r[i]=l}return r}class jn{constructor(t){this.spec=t,this.props={},t.props&&$o(t.props,this,this.props),this.key=t.key?t.key.key:Li("plugin")}getState(t){return t[this.key]}}const Vt=Object.create(null);function Li(s){return s in Vt?s+"$"+ ++Vt[s]:(Vt[s]=0,s+"$")}class Rr{constructor(t="key"){this.key=Li(t)}get(t){return t.config.pluginsByKey[this.key]}getState(t){return t[this.key]}}const sr=function(s){for(var t=0;;t++)if(!(s=s.previousSibling))return t},qn=function(s){let t=s.assignedSlot||s.parentNode;return t&&11==t.nodeType?t.host:t};let zo=null;const kn=function(s,t,r){let i=zo||(zo=document.createRange());return i.setEnd(s,r??s.nodeValue.length),i.setStart(s,t||0),i},Sr=function(s,t,r,i){return r&&(Vi(s,t,r,i,-1)||Vi(s,t,r,i,1))},$n=/^(img|br|input|textarea|hr)$/i;function Vi(s,t,r,i,l){for(;;){if(s==r&&t==i)return!0;if(t==(l<0?0:Qt(s))){let c=s.parentNode;if(!c||1!=c.nodeType||Do(s)||$n.test(s.nodeName)||"false"==s.contentEditable)return!1;t=sr(s)+(l<0?0:1),s=c}else{if(1!=s.nodeType)return!1;if("false"==(s=s.childNodes[t+(l<0?-1:0)]).contentEditable)return!1;t=l<0?Qt(s):0}}}function Qt(s){return 3==s.nodeType?s.nodeValue.length:s.childNodes.length}function Do(s){let t;for(let r=s;r&&!(t=r.pmViewDesc);r=r.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==s||t.contentDOM==s)}const kr=function(s){return s.focusNode&&Sr(s.focusNode,s.focusOffset,s.anchorNode,s.anchorOffset)};function Yr(s,t){let r=document.createEvent("Event");return r.initEvent("keydown",!0,!0),r.keyCode=s,r.key=r.code=t,r}const vr=typeof navigator<"u"?navigator:null,ls=typeof document<"u"?document:null,Bo=vr&&vr.userAgent||"",Co=/Edge\/(\d+)/.exec(Bo),Go=/MSIE \d/.exec(Bo),us=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Bo),x=!!(Go||us||Co),S=Go?document.documentMode:us?+us[1]:Co?+Co[1]:0,w=!x&&/gecko\/(\d+)/i.test(Bo);w&&/Firefox\/(\d+)/.exec(Bo);const L=!x&&/Chrome\/(\d+)/.exec(Bo),ue=!!L,qe=L?+L[1]:0,en=!x&&!!vr&&/Apple Computer/.test(vr.vendor),Dr=en&&(/Mobile\/\w+/.test(Bo)||!!vr&&vr.maxTouchPoints>2),ar=Dr||!!vr&&/Mac/.test(vr.platform),Fs=!!vr&&/Win/.test(vr.platform),_o=/Android \d/.test(Bo),yi=!!ls&&"webkitFontSmoothing"in ls.documentElement.style,vi=yi?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function Bi(s){return{left:0,right:s.documentElement.clientWidth,top:0,bottom:s.documentElement.clientHeight}}function si(s,t){return"number"==typeof s?s:s[t]}function Du(s){let t=s.getBoundingClientRect();return{left:t.left,right:t.left+s.clientWidth*(t.width/s.offsetWidth||1),top:t.top,bottom:t.top+s.clientHeight*(t.height/s.offsetHeight||1)}}function bo(s,t,r){let i=s.someProp("scrollThreshold")||0,l=s.someProp("scrollMargin")||5,c=s.dom.ownerDocument;for(let h=r||s.dom;h;h=qn(h)){if(1!=h.nodeType)continue;let g=h,C=g==c.body,I=C?Bi(c):Du(g),N=0,U=0;if(t.top<I.top+si(i,"top")?U=-(I.top-t.top+si(l,"top")):t.bottom>I.bottom-si(i,"bottom")&&(U=t.bottom-I.bottom+si(l,"bottom")),t.left<I.left+si(i,"left")?N=-(I.left-t.left+si(l,"left")):t.right>I.right-si(i,"right")&&(N=t.right-I.right+si(l,"right")),N||U)if(C)c.defaultView.scrollBy(N,U);else{let J=g.scrollLeft,q=g.scrollTop;U&&(g.scrollTop+=U),N&&(g.scrollLeft+=N);let se=g.scrollLeft-J,Ve=g.scrollTop-q;t={left:t.left-se,top:t.top-Ve,right:t.right-se,bottom:t.bottom-Ve}}if(C||/^(fixed|sticky)$/.test(getComputedStyle(h).position))break}}function ba(s){let t=[],r=s.ownerDocument;for(let i=s;i&&(t.push({dom:i,top:i.scrollTop,left:i.scrollLeft}),s!=r);i=qn(i));return t}function Wo(s,t){for(let r=0;r<s.length;r++){let{dom:i,top:l,left:c}=s[r];i.scrollTop!=l+t&&(i.scrollTop=l+t),i.scrollLeft!=c&&(i.scrollLeft=c)}}let Ci=null;function Hi(s,t){let r,l,C,I,i=2e8,c=0,h=t.top,g=t.top;for(let N=s.firstChild,U=0;N;N=N.nextSibling,U++){let J;if(1==N.nodeType)J=N.getClientRects();else{if(3!=N.nodeType)continue;J=kn(N).getClientRects()}for(let q=0;q<J.length;q++){let se=J[q];if(se.top<=h&&se.bottom>=g){h=Math.max(se.bottom,h),g=Math.min(se.top,g);let Ve=se.left>t.left?se.left-t.left:se.right<t.left?t.left-se.right:0;if(Ve<i){r=N,i=Ve,l=Ve&&3==r.nodeType?{left:se.right<t.left?se.right:se.left,top:t.top}:t,1==N.nodeType&&Ve&&(c=U+(t.left>=(se.left+se.right)/2?1:0));continue}}else se.top>t.top&&!C&&se.left<=t.left&&se.right>=t.left&&(C=N,I={left:Math.max(se.left,Math.min(se.right,t.left)),top:se.top});!r&&(t.left>=se.right&&t.top>=se.top||t.left>=se.left&&t.top>=se.bottom)&&(c=U+1)}}return!r&&C&&(r=C,l=I,i=0),r&&3==r.nodeType?function Ea(s,t){let r=s.nodeValue.length,i=document.createRange();for(let l=0;l<r;l++){i.setEnd(s,l+1),i.setStart(s,l);let c=Jr(i,1);if(c.top!=c.bottom&&_i(t,c))return{node:s,offset:l+(t.left>=(c.left+c.right)/2?1:0)}}return{node:s,offset:0}}(r,l):!r||i&&1==r.nodeType?{node:s,offset:c}:Hi(r,l)}function _i(s,t){return s.left>=t.left-1&&s.left<=t.right+1&&s.top>=t.top-1&&s.top<=t.bottom+1}function Vs(s,t,r){let i=s.childNodes.length;if(i&&r.top<r.bottom)for(let l=Math.max(0,Math.min(i-1,Math.floor(i*(t.top-r.top)/(r.bottom-r.top))-2)),c=l;;){let h=s.childNodes[c];if(1==h.nodeType){let g=h.getClientRects();for(let C=0;C<g.length;C++){let I=g[C];if(_i(t,I))return Vs(h,t,I)}}if((c=(c+1)%i)==l)break}return s}function Cu(s,t){let i,r=s.dom.ownerDocument,l=0,c=function ii(s,t,r){if(s.caretPositionFromPoint)try{let i=s.caretPositionFromPoint(t,r);if(i)return{node:i.offsetNode,offset:i.offset}}catch{}if(s.caretRangeFromPoint){let i=s.caretRangeFromPoint(t,r);if(i)return{node:i.startContainer,offset:i.startOffset}}}(r,t.left,t.top);c&&({node:i,offset:l}=c);let g,h=(s.root.elementFromPoint?s.root:r).elementFromPoint(t.left,t.top);if(!h||!s.dom.contains(1!=h.nodeType?h.parentNode:h)){let I=s.dom.getBoundingClientRect();if(!_i(t,I)||(h=Vs(s.dom,t,I),!h))return null}if(en)for(let I=h;i&&I;I=qn(I))I.draggable&&(i=void 0);if(h=function oo(s,t){let r=s.parentNode;return r&&/^li$/i.test(r.nodeName)&&t.left<s.getBoundingClientRect().left?r:s}(h,t),i){if(w&&1==i.nodeType&&(l=Math.min(l,i.childNodes.length),l<i.childNodes.length)){let N,I=i.childNodes[l];"IMG"==I.nodeName&&(N=I.getBoundingClientRect()).right<=t.left&&N.bottom>t.top&&l++}i==s.dom&&l==i.childNodes.length-1&&1==i.lastChild.nodeType&&t.top>i.lastChild.getBoundingClientRect().bottom?g=s.state.doc.content.size:(0==l||1!=i.nodeType||"BR"!=i.childNodes[l-1].nodeName)&&(g=function Nn(s,t,r,i){let l=-1;for(let c=t,h=!1;c!=s.dom;){let g=s.docView.nearestDesc(c,!0);if(!g)return null;if(1==g.dom.nodeType&&(g.node.isBlock&&g.parent&&!h||!g.contentDOM)){let C=g.dom.getBoundingClientRect();if(g.node.isBlock&&g.parent&&!h&&(h=!0,C.left>i.left||C.top>i.top?l=g.posBefore:(C.right<i.left||C.bottom<i.top)&&(l=g.posAfter)),!g.contentDOM&&l<0&&!g.node.isText)return(g.node.isBlock?i.top<(C.top+C.bottom)/2:i.left<(C.left+C.right)/2)?g.posBefore:g.posAfter}c=g.dom.parentNode}return l>-1?l:s.docView.posFromDOM(t,r,-1)}(s,i,l,t))}null==g&&(g=function Eo(s,t,r){let{node:i,offset:l}=Hi(t,r),c=-1;if(1==i.nodeType&&!i.firstChild){let h=i.getBoundingClientRect();c=h.left!=h.right&&r.left>(h.left+h.right)/2?1:-1}return s.docView.posFromDOM(i,l,c)}(s,h,t));let C=s.docView.nearestDesc(h,!0);return{pos:g,inside:C?C.posAtStart-C.border:-1}}function cs(s){return s.top<s.bottom||s.left<s.right}function Jr(s,t){let r=s.getClientRects();if(r.length){let i=r[t<0?0:r.length-1];if(cs(i))return i}return Array.prototype.find.call(r,cs)||s.getBoundingClientRect()}const ds=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function fs(s,t,r){let{node:i,offset:l,atom:c}=s.docView.domFromPos(t,r<0?-1:1),h=yi||w;if(3==i.nodeType){if(!h||!ds.test(i.nodeValue)&&(r<0?l:l!=i.nodeValue.length)){let C=l,I=l,N=r<0?1:-1;return r<0&&!l?(I++,N=-1):r>=0&&l==i.nodeValue.length?(C--,N=1):r<0?C--:I++,Ui(Jr(kn(i,C,I),N),N<0)}{let C=Jr(kn(i,l,l),r);if(w&&l&&/\s/.test(i.nodeValue[l-1])&&l<i.nodeValue.length){let I=Jr(kn(i,l-1,l-1),-1);if(I.top==C.top){let N=Jr(kn(i,l,l+1),-1);if(N.top!=C.top)return Ui(N,N.left<I.left)}}return C}}if(!s.state.doc.resolve(t-(c||0)).parent.inlineContent){if(null==c&&l&&(r<0||l==Qt(i))){let C=i.childNodes[l-1];if(1==C.nodeType)return hs(C.getBoundingClientRect(),!1)}if(null==c&&l<Qt(i)){let C=i.childNodes[l];if(1==C.nodeType)return hs(C.getBoundingClientRect(),!0)}return hs(i.getBoundingClientRect(),r>=0)}if(null==c&&l&&(r<0||l==Qt(i))){let C=i.childNodes[l-1],I=3==C.nodeType?kn(C,Qt(C)-(h?0:1)):1!=C.nodeType||"BR"==C.nodeName&&C.nextSibling?null:C;if(I)return Ui(Jr(I,1),!1)}if(null==c&&l<Qt(i)){let C=i.childNodes[l];for(;C.pmViewDesc&&C.pmViewDesc.ignoreForCoords;)C=C.nextSibling;let I=C?3==C.nodeType?kn(C,0,h?0:1):1==C.nodeType?C:null:null;if(I)return Ui(Jr(I,-1),!0)}return Ui(Jr(3==i.nodeType?kn(i):i,-r),r>=0)}function Ui(s,t){if(0==s.width)return s;let r=t?s.left:s.right;return{top:s.top,bottom:s.bottom,left:r,right:r}}function hs(s,t){if(0==s.height)return s;let r=t?s.top:s.bottom;return{top:r,bottom:r,left:s.left,right:s.right}}function ji(s,t,r){let i=s.state,l=s.root.activeElement;i!=t&&s.updateState(t),l!=s.dom&&s.focus();try{return r()}finally{i!=t&&s.updateState(i),l!=s.dom&&l&&l.focus()}}const $i=/[\u0590-\u08ac]/;let il=null,sl=null,wa=!1;class bi{constructor(t,r,i,l){this.parent=t,this.children=r,this.dom=i,this.contentDOM=l,this.dirty=0,i.pmViewDesc=this}matchesWidget(t){return!1}matchesMark(t){return!1}matchesNode(t,r,i){return!1}matchesHack(t){return!1}parseRule(){return null}stopEvent(t){return!1}get size(){let t=0;for(let r=0;r<this.children.length;r++)t+=this.children[r].size;return t}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let t=0;t<this.children.length;t++)this.children[t].destroy()}posBeforeChild(t){for(let r=0,i=this.posAtStart;;r++){let l=this.children[r];if(l==t)return i;i+=l.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(t,r,i){if(this.contentDOM&&this.contentDOM.contains(1==t.nodeType?t:t.parentNode)){if(i<0){let c,h;if(t==this.contentDOM)c=t.childNodes[r-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;c=t.previousSibling}for(;c&&(!(h=c.pmViewDesc)||h.parent!=this);)c=c.previousSibling;return c?this.posBeforeChild(h)+h.size:this.posAtStart}{let c,h;if(t==this.contentDOM)c=t.childNodes[r];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;c=t.nextSibling}for(;c&&(!(h=c.pmViewDesc)||h.parent!=this);)c=c.nextSibling;return c?this.posBeforeChild(h):this.posAtEnd}}let l;if(t==this.dom&&this.contentDOM)l=r>sr(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))l=2&t.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==r)for(let c=t;;c=c.parentNode){if(c==this.dom){l=!1;break}if(c.previousSibling)break}if(null==l&&r==t.childNodes.length)for(let c=t;;c=c.parentNode){if(c==this.dom){l=!0;break}if(c.nextSibling)break}}return l??i>0?this.posAtEnd:this.posAtStart}nearestDesc(t,r=!1){for(let i=!0,l=t;l;l=l.parentNode){let h,c=this.getDesc(l);if(c&&(!r||c.node)){if(!i||!(h=c.nodeDOM)||(1==h.nodeType?h.contains(1==t.nodeType?t:t.parentNode):h==t))return c;i=!1}}}getDesc(t){let r=t.pmViewDesc;for(let i=r;i;i=i.parent)if(i==this)return r}posFromDOM(t,r,i){for(let l=t;l;l=l.parentNode){let c=this.getDesc(l);if(c)return c.localPosFromDOM(t,r,i)}return-1}descAt(t){for(let r=0,i=0;r<this.children.length;r++){let l=this.children[r],c=i+l.size;if(i==t&&c!=i){for(;!l.border&&l.children.length;)l=l.children[0];return l}if(t<c)return l.descAt(t-i-l.border);i=c}}domFromPos(t,r){if(!this.contentDOM)return{node:this.dom,offset:0,atom:t+1};let i=0,l=0;for(let c=0;i<this.children.length;i++){let h=this.children[i],g=c+h.size;if(g>t||h instanceof z){l=t-c;break}c=g}if(l)return this.children[i].domFromPos(l-this.children[i].border,r);for(let c;i&&!(c=this.children[i-1]).size&&c instanceof Bs&&c.side>=0;i--);if(r<=0){let c,h=!0;for(;c=i?this.children[i-1]:null,c&&c.dom.parentNode!=this.contentDOM;i--,h=!1);return c&&r&&h&&!c.border&&!c.domAtom?c.domFromPos(c.size,r):{node:this.contentDOM,offset:c?sr(c.dom)+1:0}}{let c,h=!0;for(;c=i<this.children.length?this.children[i]:null,c&&c.dom.parentNode!=this.contentDOM;i++,h=!1);return c&&h&&!c.border&&!c.domAtom?c.domFromPos(0,r):{node:this.contentDOM,offset:c?sr(c.dom):this.contentDOM.childNodes.length}}}parseRange(t,r,i=0){if(0==this.children.length)return{node:this.contentDOM,from:t,to:r,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let l=-1,c=-1;for(let h=i,g=0;;g++){let C=this.children[g],I=h+C.size;if(-1==l&&t<=I){let N=h+C.border;if(t>=N&&r<=I-C.border&&C.node&&C.contentDOM&&this.contentDOM.contains(C.contentDOM))return C.parseRange(t,r,N);t=h;for(let U=g;U>0;U--){let J=this.children[U-1];if(J.size&&J.dom.parentNode==this.contentDOM&&!J.emptyChildAt(1)){l=sr(J.dom)+1;break}t-=J.size}-1==l&&(l=0)}if(l>-1&&(I>r||g==this.children.length-1)){r=I;for(let N=g+1;N<this.children.length;N++){let U=this.children[N];if(U.size&&U.dom.parentNode==this.contentDOM&&!U.emptyChildAt(-1)){c=sr(U.dom);break}r+=U.size}-1==c&&(c=this.contentDOM.childNodes.length);break}h=I}return{node:this.contentDOM,from:t,to:r,fromOffset:l,toOffset:c}}emptyChildAt(t){if(this.border||!this.contentDOM||!this.children.length)return!1;let r=this.children[t<0?0:this.children.length-1];return 0==r.size||r.emptyChildAt(t)}domAfterPos(t){let{node:r,offset:i}=this.domFromPos(t,0);if(1!=r.nodeType||i==r.childNodes.length)throw new RangeError("No node after pos "+t);return r.childNodes[i]}setSelection(t,r,i,l=!1){let c=Math.min(t,r),h=Math.max(t,r);for(let J=0,q=0;J<this.children.length;J++){let se=this.children[J],Ve=q+se.size;if(c>q&&h<Ve)return se.setSelection(t-q-se.border,r-q-se.border,i,l);q=Ve}let g=this.domFromPos(t,t?-1:1),C=r==t?g:this.domFromPos(r,r?-1:1),I=i.getSelection(),N=!1;if((w||en)&&t==r){let{node:J,offset:q}=g;if(3==J.nodeType){if(N=!(!q||"\n"!=J.nodeValue[q-1]),N&&q==J.nodeValue.length)for(let Ve,se=J;se;se=se.parentNode){if(Ve=se.nextSibling){"BR"==Ve.nodeName&&(g=C={node:Ve.parentNode,offset:sr(Ve)+1});break}let Dt=se.pmViewDesc;if(Dt&&Dt.node&&Dt.node.isBlock)break}}else{let se=J.childNodes[q-1];N=se&&("BR"==se.nodeName||"false"==se.contentEditable)}}if(w&&I.focusNode&&I.focusNode!=C.node&&1==I.focusNode.nodeType){let J=I.focusNode.childNodes[I.focusOffset];J&&"false"==J.contentEditable&&(l=!0)}if(!(l||N&&en)&&Sr(g.node,g.offset,I.anchorNode,I.anchorOffset)&&Sr(C.node,C.offset,I.focusNode,I.focusOffset))return;let U=!1;if((I.extend||t==r)&&!N){I.collapse(g.node,g.offset);try{t!=r&&I.extend(C.node,C.offset),U=!0}catch{}}if(!U){if(t>r){let q=g;g=C,C=q}let J=document.createRange();J.setEnd(C.node,C.offset),J.setStart(g.node,g.offset),I.removeAllRanges(),I.addRange(J)}}ignoreMutation(t){return!this.contentDOM&&"selection"!=t.type}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(t,r){for(let i=0,l=0;l<this.children.length;l++){let c=this.children[l],h=i+c.size;if(i==h?t<=h&&r>=i:t<h&&r>i){let g=i+c.border,C=h-c.border;if(t>=g&&r<=C)return this.dirty=t==i||r==h?2:1,void(t!=g||r!=C||!c.contentLost&&c.dom.parentNode==this.contentDOM?c.markDirty(t-g,r-g):c.dirty=3);c.dirty=c.dom!=c.contentDOM||c.dom.parentNode!=this.contentDOM||c.children.length?3:2}i=h}this.dirty=2}markParentsDirty(){let t=1;for(let r=this.parent;r;r=r.parent,t++){let i=1==t?2:1;r.dirty<i&&(r.dirty=i)}}get domAtom(){return!1}get ignoreForCoords(){return!1}}class Bs extends bi{constructor(t,r,i,l){let c,h=r.type.toDOM;if("function"==typeof h&&(h=h(i,()=>c?c.parent?c.parent.posBeforeChild(c):void 0:l)),!r.type.spec.raw){if(1!=h.nodeType){let g=document.createElement("span");g.appendChild(h),h=g}h.contentEditable="false",h.classList.add("ProseMirror-widget")}super(t,[],h,null),this.widget=r,this.widget=r,c=this}matchesWidget(t){return 0==this.dirty&&t.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(t){let r=this.widget.spec.stopEvent;return!!r&&r(t)}ignoreMutation(t){return"selection"!=t.type||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class Ei extends bi{constructor(t,r,i,l){super(t,[],r,null),this.textDOM=i,this.text=l}get size(){return this.text.length}localPosFromDOM(t,r){return t!=this.textDOM?this.posAtStart+(r?this.size:0):this.posAtStart+r}domFromPos(t){return{node:this.textDOM,offset:t}}ignoreMutation(t){return"characterData"===t.type&&t.target.nodeValue==t.oldValue}}class b extends bi{constructor(t,r,i,l){super(t,[],i,l),this.mark=r}static create(t,r,i,l){let c=l.nodeViews[r.type.name],h=c&&c(r,l,i);return(!h||!h.dom)&&(h=$.renderSpec(document,r.type.spec.toDOM(r,i))),new b(t,r,h.dom,h.contentDOM||h.dom)}parseRule(){return 3&this.dirty||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(t){return 3!=this.dirty&&this.mark.eq(t)}markDirty(t,r){if(super.markDirty(t,r),0!=this.dirty){let i=this.parent;for(;!i.node;)i=i.parent;i.dirty<this.dirty&&(i.dirty=this.dirty),this.dirty=0}}slice(t,r,i){let l=b.create(this.parent,this.mark,!0,i),c=this.children,h=this.size;r<h&&(c=ps(c,r,h,i)),t>0&&(c=ps(c,0,t,i));for(let g=0;g<c.length;g++)c[g].parent=l;return l.children=c,l}}class O extends bi{constructor(t,r,i,l,c,h,g,C,I){super(t,[],c,h),this.node=r,this.outerDeco=i,this.innerDeco=l,this.nodeDOM=g}static create(t,r,i,l,c,h){let C,g=c.nodeViews[r.type.name],I=g&&g(r,c,()=>C?C.parent?C.parent.posBeforeChild(C):void 0:h,i,l),N=I&&I.dom,U=I&&I.contentDOM;if(r.isText)if(N){if(3!=N.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else N=document.createTextNode(r.text);else N||({dom:N,contentDOM:U}=$.renderSpec(document,r.type.spec.toDOM(r)));!U&&!r.isText&&"BR"!=N.nodeName&&(N.hasAttribute("contenteditable")||(N.contentEditable="false"),r.type.spec.draggable&&(N.draggable=!0));let J=N;return N=xn(N,i,r),I?C=new me(t,r,i,l,N,U||null,J,I,c,h+1):r.isText?new k(t,r,i,l,N,J,c):new O(t,r,i,l,N,U||null,J,c,h+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let t={node:this.node.type.name,attrs:this.node.attrs};if("pre"==this.node.type.whitespace&&(t.preserveWhitespace="full"),this.contentDOM)if(this.contentLost){for(let r=this.children.length-1;r>=0;r--){let i=this.children[r];if(this.dom.contains(i.dom.parentNode)){t.contentElement=i.dom.parentNode;break}}t.contentElement||(t.getContent=()=>be.empty)}else t.contentElement=this.contentDOM;else t.getContent=()=>this.node.content;return t}matchesNode(t,r,i){return 0==this.dirty&&t.eq(this.node)&&Kt(r,this.outerDeco)&&i.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(t,r){let i=this.node.inlineContent,l=r,c=t.composing?this.localCompositionInfo(t,r):null,h=c&&c.pos>-1?c:null,g=c&&c.pos<0,C=new Ho(this,h&&h.node,t);(function An(s,t,r,i){let l=t.locals(s),c=0;if(0==l.length){for(let I=0;I<s.childCount;I++){let N=s.child(I);i(N,l,t.forChild(c,N),I),c+=N.nodeSize}return}let h=0,g=[],C=null;for(let I=0;;){if(h<l.length&&l[h].to==c){let Ve,se=l[h++];for(;h<l.length&&l[h].to==c;)(Ve||(Ve=[se])).push(l[h++]);if(Ve){Ve.sort(ai);for(let Dt=0;Dt<Ve.length;Dt++)r(Ve[Dt],I,!!C)}else r(se,I,!!C)}let N,U;if(C)U=-1,N=C,C=null;else{if(!(I<s.childCount))break;U=I,N=s.child(I++)}for(let se=0;se<g.length;se++)g[se].to<=c&&g.splice(se--,1);for(;h<l.length&&l[h].from<=c&&l[h].to>c;)g.push(l[h++]);let J=c+N.nodeSize;if(N.isText){let se=J;h<l.length&&l[h].from<se&&(se=l[h].from);for(let Ve=0;Ve<g.length;Ve++)g[Ve].to<se&&(se=g[Ve].to);se<J&&(C=N.cut(se-c),N=N.cut(0,se-c),J=se,U=-1)}i(N,N.isInline&&!N.isLeaf?g.filter(se=>!se.inline):g.slice(),t.forChild(c,N),U),c=J}})(this.node,this.innerDeco,(I,N,U)=>{I.spec.marks?C.syncToMarks(I.spec.marks,i,t):I.type.side>=0&&!U&&C.syncToMarks(N==this.node.childCount?ze.none:this.node.child(N).marks,i,t),C.placeWidget(I,t,l)},(I,N,U,J)=>{let q;C.syncToMarks(I.marks,i,t),C.findNodeMatch(I,N,U,J)||g&&t.state.selection.from>l&&t.state.selection.to<l+I.nodeSize&&(q=C.findIndexWithChild(c.node))>-1&&C.updateNodeAt(I,N,U,q,t)||C.updateNextNode(I,N,U,t,J,l)||C.addNode(I,N,U,t,l),l+=I.nodeSize}),C.syncToMarks([],i,t),this.node.isTextblock&&C.addTextblockHacks(),C.destroyRest(),(C.changed||2==this.dirty)&&(h&&this.protectLocalComposition(t,h),xe(this.contentDOM,this.children,t),Dr&&function Uo(s){if("UL"==s.nodeName||"OL"==s.nodeName){let t=s.style.cssText;s.style.cssText=t+"; list-style: square !important",window.getComputedStyle(s),s.style.cssText=t}}(this.dom))}localCompositionInfo(t,r){let{from:i,to:l}=t.state.selection;if(!(t.state.selection instanceof xt)||i<r||l>r+this.node.content.size)return null;let c=t.domSelectionRange(),h=function Zo(s,t){for(;;){if(3==s.nodeType)return s;if(1==s.nodeType&&t>0){if(s.childNodes.length>t&&3==s.childNodes[t].nodeType)return s.childNodes[t];t=Qt(s=s.childNodes[t-1])}else{if(!(1==s.nodeType&&t<s.childNodes.length))return null;s=s.childNodes[t],t=0}}}(c.focusNode,c.focusOffset);if(!h||!this.dom.contains(h.parentNode))return null;if(this.node.inlineContent){let g=h.nodeValue,C=function Fn(s,t,r,i){for(let l=0,c=0;l<s.childCount&&c<=i;){let h=s.child(l++),g=c;if(c+=h.nodeSize,!h.isText)continue;let C=h.text;for(;l<s.childCount;){let I=s.child(l++);if(c+=I.nodeSize,!I.isText)break;C+=I.text}if(c>=r){let I=g<i?C.lastIndexOf(t,i-g-1):-1;if(I>=0&&I+t.length+g>=r)return g+I;if(r==i&&C.length>=i+t.length-g&&C.slice(i-g,i-g+t.length)==t)return i}}return-1}(this.node.content,g,i-r,l-r);return C<0?null:{node:h,pos:C,text:g}}return{node:h,pos:-1,text:""}}protectLocalComposition(t,{node:r,pos:i,text:l}){if(this.getDesc(r))return;let c=r;for(;c.parentNode!=this.contentDOM;c=c.parentNode){for(;c.previousSibling;)c.parentNode.removeChild(c.previousSibling);for(;c.nextSibling;)c.parentNode.removeChild(c.nextSibling);c.pmViewDesc&&(c.pmViewDesc=void 0)}let h=new Ei(this,c,r,l);t.input.compositionNodes.push(h),this.children=ps(this.children,i,i+l.length,t,h)}update(t,r,i,l){return!(3==this.dirty||!t.sameMarkup(this.node)||(this.updateInner(t,r,i,l),0))}updateInner(t,r,i,l){this.updateOuterDeco(r),this.node=t,this.innerDeco=i,this.contentDOM&&this.updateChildren(l,this.posAtStart),this.dirty=0}updateOuterDeco(t){if(Kt(t,this.outerDeco))return;let r=1!=this.nodeDOM.nodeType,i=this.dom;this.dom=Ot(this.dom,this.nodeDOM,rn(this.outerDeco,this.node,r),rn(t,this.node,r)),this.dom!=i&&(i.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=t}selectNode(){1==this.nodeDOM.nodeType&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){1==this.nodeDOM.nodeType&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable")}get domAtom(){return this.node.isAtom}}function M(s,t,r,i,l){xn(i,t,s);let c=new O(void 0,s,t,r,i,i,i,l,0);return c.contentDOM&&c.updateChildren(l,0),c}class k extends O{constructor(t,r,i,l,c,h,g){super(t,r,i,l,c,null,h,g,0)}parseRule(){let t=this.nodeDOM.parentNode;for(;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}}update(t,r,i,l){return!(3==this.dirty||0!=this.dirty&&!this.inParent()||!t.sameMarkup(this.node)||(this.updateOuterDeco(r),(0!=this.dirty||t.text!=this.node.text)&&t.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=t.text,l.trackWrites==this.nodeDOM&&(l.trackWrites=null)),this.node=t,this.dirty=0,0))}inParent(){let t=this.parent.contentDOM;for(let r=this.nodeDOM;r;r=r.parentNode)if(r==t)return!0;return!1}domFromPos(t){return{node:this.nodeDOM,offset:t}}localPosFromDOM(t,r,i){return t==this.nodeDOM?this.posAtStart+Math.min(r,this.node.text.length):super.localPosFromDOM(t,r,i)}ignoreMutation(t){return"characterData"!=t.type&&"selection"!=t.type}slice(t,r,i){let l=this.node.cut(t,r),c=document.createTextNode(l.text);return new k(this.parent,l,this.outerDeco,this.innerDeco,c,c,i)}markDirty(t,r){super.markDirty(t,r),this.dom!=this.nodeDOM&&(0==t||r==this.nodeDOM.nodeValue.length)&&(this.dirty=3)}get domAtom(){return!1}}class z extends bi{parseRule(){return{ignore:!0}}matchesHack(t){return 0==this.dirty&&this.dom.nodeName==t}get domAtom(){return!0}get ignoreForCoords(){return"IMG"==this.dom.nodeName}}class me extends O{constructor(t,r,i,l,c,h,g,C,I,N){super(t,r,i,l,c,h,g,I,N),this.spec=C}update(t,r,i,l){if(3==this.dirty)return!1;if(this.spec.update){let c=this.spec.update(t,r,i);return c&&this.updateInner(t,r,i,l),c}return!(!this.contentDOM&&!t.isLeaf)&&super.update(t,r,i,l)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(t,r,i,l){this.spec.setSelection?this.spec.setSelection(t,r,i):super.setSelection(t,r,i,l)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(t){return!!this.spec.stopEvent&&this.spec.stopEvent(t)}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}}function xe(s,t,r){let i=s.firstChild,l=!1;for(let c=0;c<t.length;c++){let h=t[c],g=h.dom;if(g.parentNode==s){for(;g!=i;)i=ln(i),l=!0;i=i.nextSibling}else l=!0,s.insertBefore(g,i);if(h instanceof b){let C=i?i.previousSibling:s.lastChild;xe(h.contentDOM,h.children,r),i=C?C.nextSibling:s.firstChild}}for(;i;)i=ln(i),l=!0;l&&r.trackWrites==s&&(r.trackWrites=null)}const We=function(s){s&&(this.nodeName=s)};We.prototype=Object.create(null);const Zt=[new We];function rn(s,t,r){if(0==s.length)return Zt;let i=r?Zt[0]:new We,l=[i];for(let c=0;c<s.length;c++){let h=s[c].type.attrs;if(h){h.nodeName&&l.push(i=new We(h.nodeName));for(let g in h){let C=h[g];null!=C&&(r&&1==l.length&&l.push(i=new We(t.isInline?"span":"div")),"class"==g?i.class=(i.class?i.class+" ":"")+C:"style"==g?i.style=(i.style?i.style+";":"")+C:"nodeName"!=g&&(i[g]=C))}}}return l}function Ot(s,t,r,i){if(r==Zt&&i==Zt)return t;let l=t;for(let c=0;c<i.length;c++){let h=i[c],g=r[c];if(c){let C;g&&g.nodeName==h.nodeName&&l!=s&&(C=l.parentNode)&&C.nodeName.toLowerCase()==h.nodeName||(C=document.createElement(h.nodeName),C.pmIsDeco=!0,C.appendChild(l),g=Zt[0]),l=C}kt(l,g||Zt[0],h)}return l}function kt(s,t,r){for(let i in t)"class"!=i&&"style"!=i&&"nodeName"!=i&&!(i in r)&&s.removeAttribute(i);for(let i in r)"class"!=i&&"style"!=i&&"nodeName"!=i&&r[i]!=t[i]&&s.setAttribute(i,r[i]);if(t.class!=r.class){let i=t.class?t.class.split(" ").filter(Boolean):[],l=r.class?r.class.split(" ").filter(Boolean):[];for(let c=0;c<i.length;c++)-1==l.indexOf(i[c])&&s.classList.remove(i[c]);for(let c=0;c<l.length;c++)-1==i.indexOf(l[c])&&s.classList.add(l[c]);0==s.classList.length&&s.removeAttribute("class")}if(t.style!=r.style){if(t.style){let l,i=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;for(;l=i.exec(t.style);)s.style.removeProperty(l[1])}r.style&&(s.style.cssText+=r.style)}}function xn(s,t,r){return Ot(s,s,Zt,rn(t,r,1!=s.nodeType))}function Kt(s,t){if(s.length!=t.length)return!1;for(let r=0;r<s.length;r++)if(!s[r].type.eq(t[r].type))return!1;return!0}function ln(s){let t=s.nextSibling;return s.parentNode.removeChild(s),t}class Ho{constructor(t,r,i){this.lock=r,this.view=i,this.index=0,this.stack=[],this.changed=!1,this.top=t,this.preMatch=function So(s,t){let r=t,i=r.children.length,l=s.childCount,c=new Map,h=[];e:for(;l>0;){let g;for(;;)if(i){let I=r.children[i-1];if(!(I instanceof b)){g=I,i--;break}r=I,i=I.children.length}else{if(r==t)break e;i=r.parent.children.indexOf(r),r=r.parent}let C=g.node;if(C){if(C!=s.child(l-1))break;--l,c.set(g,l),h.push(g)}}return{index:l,matched:c,matches:h.reverse()}}(t.node.content,t)}destroyBetween(t,r){if(t!=r){for(let i=t;i<r;i++)this.top.children[i].destroy();this.top.children.splice(t,r-t),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(t,r,i){let l=0,c=this.stack.length>>1,h=Math.min(c,t.length);for(;l<h&&(l==c-1?this.top:this.stack[l+1<<1]).matchesMark(t[l])&&!1!==t[l].type.spec.spanning;)l++;for(;l<c;)this.destroyRest(),this.top.dirty=0,this.index=this.stack.pop(),this.top=this.stack.pop(),c--;for(;c<t.length;){this.stack.push(this.top,this.index+1);let g=-1;for(let C=this.index;C<Math.min(this.index+3,this.top.children.length);C++){let I=this.top.children[C];if(I.matchesMark(t[c])&&!this.isLocked(I.dom)){g=C;break}}if(g>-1)g>this.index&&(this.changed=!0,this.destroyBetween(this.index,g)),this.top=this.top.children[this.index];else{let C=b.create(this.top,t[c],r,i);this.top.children.splice(this.index,0,C),this.top=C,this.changed=!0}this.index=0,c++}}findNodeMatch(t,r,i,l){let h,c=-1;if(l>=this.preMatch.index&&(h=this.preMatch.matches[l-this.preMatch.index]).parent==this.top&&h.matchesNode(t,r,i))c=this.top.children.indexOf(h,this.index);else for(let g=this.index,C=Math.min(this.top.children.length,g+5);g<C;g++){let I=this.top.children[g];if(I.matchesNode(t,r,i)&&!this.preMatch.matched.has(I)){c=g;break}}return!(c<0||(this.destroyBetween(this.index,c),this.index++,0))}updateNodeAt(t,r,i,l,c){let h=this.top.children[l];return 3==h.dirty&&h.dom==h.contentDOM&&(h.dirty=2),!!h.update(t,r,i,c)&&(this.destroyBetween(this.index,l),this.index++,!0)}findIndexWithChild(t){for(;;){let r=t.parentNode;if(!r)return-1;if(r==this.top.contentDOM){let i=t.pmViewDesc;if(i)for(let l=this.index;l<this.top.children.length;l++)if(this.top.children[l]==i)return l;return-1}t=r}}updateNextNode(t,r,i,l,c,h){for(let g=this.index;g<this.top.children.length;g++){let C=this.top.children[g];if(C instanceof O){let I=this.preMatch.matched.get(C);if(null!=I&&I!=c)return!1;let U,N=C.dom,J=this.isLocked(N)&&!(t.isText&&C.node&&C.node.isText&&C.nodeDOM.nodeValue==t.text&&3!=C.dirty&&Kt(r,C.outerDeco));if(!J&&C.update(t,r,i,l))return this.destroyBetween(this.index,g),C.dom!=N&&(this.changed=!0),this.index++,!0;if(!J&&(U=this.recreateWrapper(C,t,r,i,l,h)))return this.top.children[this.index]=U,U.dirty=2,U.updateChildren(l,h+1),U.dirty=0,this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(t,r,i,l,c,h){if(t.dirty||r.isAtom||!t.children.length||!t.node.content.eq(r.content))return null;let g=O.create(this.top,r,i,l,c,h);if(!g.contentDOM)return null;g.children=t.children,t.children=[],t.destroy();for(let C of g.children)C.parent=g;return g}addNode(t,r,i,l,c){let h=O.create(this.top,t,r,i,l,c);h.contentDOM&&h.updateChildren(l,c+1),this.top.children.splice(this.index++,0,h),this.changed=!0}placeWidget(t,r,i){let l=this.index<this.top.children.length?this.top.children[this.index]:null;if(!l||!l.matchesWidget(t)||t!=l.widget&&l.widget.type.toDOM.parentNode){let c=new Bs(this.top,t,r,i);this.top.children.splice(this.index++,0,c),this.changed=!0}else this.index++}addTextblockHacks(){let t=this.top.children[this.index-1],r=this.top;for(;t instanceof b;)r=t,t=r.children[r.children.length-1];(!t||!(t instanceof k)||/\n$/.test(t.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(t.node.text))&&((en||ue)&&t&&"false"==t.dom.contentEditable&&this.addHackNode("IMG",r),this.addHackNode("BR",this.top))}addHackNode(t,r){if(r==this.top&&this.index<r.children.length&&r.children[this.index].matchesHack(t))this.index++;else{let i=document.createElement(t);"IMG"==t&&(i.className="ProseMirror-separator",i.alt=""),"BR"==t&&(i.className="ProseMirror-trailingBreak");let l=new z(this.top,[],i,null);r!=this.top?r.children.push(l):r.children.splice(this.index++,0,l),this.changed=!0}}isLocked(t){return this.lock&&(t==this.lock||1==t.nodeType&&t.contains(this.lock.parentNode))}}function ai(s,t){return s.type.side-t.type.side}function ps(s,t,r,i,l){let c=[];for(let h=0,g=0;h<s.length;h++){let C=s[h],I=g,N=g+=C.size;I>=r||N<=t?c.push(C):(I<t&&c.push(C.slice(0,t-I,i)),l&&(c.push(l),l=void 0),N>r&&c.push(C.slice(r-I,C.size,i)))}return c}function Hs(s,t=null){let r=s.domSelectionRange(),i=s.state.doc;if(!r.focusNode)return null;let l=s.docView.nearestDesc(r.focusNode),c=l&&0==l.size,h=s.docView.posFromDOM(r.focusNode,r.focusOffset,1);if(h<0)return null;let C,I,g=i.resolve(h);if(kr(r)){for(C=g;l&&!l.node;)l=l.parent;let N=l.node;if(l&&N.isAtom&&ct.isSelectable(N)&&l.parent&&(!N.isInline||!function yr(s,t,r){for(let i=0==t,l=t==Qt(s);i||l;){if(s==r)return!0;let c=sr(s);if(!(s=s.parentNode))return!1;i=i&&0==c,l=l&&c==Qt(s)}}(r.focusNode,r.focusOffset,l.dom))){let U=l.posBefore;I=new ct(h==U?g:i.resolve(U))}}else{let N=s.docView.posFromDOM(r.anchorNode,r.anchorOffset,1);if(N<0)return null;C=i.resolve(N)}return I||(I=ul(s,C,g,"pointer"==t||s.state.selection.head<g.pos&&!c?1:-1)),I}function al(s){return s.editable?s.hasFocus():Us(s)&&document.activeElement&&document.activeElement.contains(s.dom)}function bt(s,t=!1){let r=s.state.selection;if(li(s,r),al(s)){if(!t&&s.input.mouseDown&&s.input.mouseDown.allowDefault&&ue){let i=s.domSelectionRange(),l=s.domObserver.currentSelection;if(i.anchorNode&&l.anchorNode&&Sr(i.anchorNode,i.anchorOffset,l.anchorNode,l.anchorOffset))return s.input.mouseDown.delayedSelectionSync=!0,void s.domObserver.setCurSelection()}if(s.domObserver.disconnectSelection(),s.cursorWrapper)!function ll(s){let t=s.domSelection(),r=document.createRange(),i=s.cursorWrapper.dom,l="IMG"==i.nodeName;l?r.setEnd(i.parentNode,sr(i)+1):r.setEnd(i,0),r.collapse(!1),t.removeAllRanges(),t.addRange(r),!l&&!s.state.selection.visible&&x&&S<=11&&(i.disabled=!0,i.disabled=!1)}(s);else{let c,h,{anchor:i,head:l}=r;xa&&!(r instanceof xt)&&(r.$from.parent.inlineContent||(c=Xr(s,r.from)),!r.empty&&!r.$from.parent.inlineContent&&(h=Xr(s,r.to))),s.docView.setSelection(i,l,s.root,t),xa&&(c&&gs(c),h&&gs(h)),r.visible?s.dom.classList.remove("ProseMirror-hideselection"):(s.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&function _u(s){let t=s.dom.ownerDocument;t.removeEventListener("selectionchange",s.input.hideSelectionGuard);let r=s.domSelectionRange(),i=r.anchorNode,l=r.anchorOffset;t.addEventListener("selectionchange",s.input.hideSelectionGuard=()=>{(r.anchorNode!=i||r.anchorOffset!=l)&&(t.removeEventListener("selectionchange",s.input.hideSelectionGuard),setTimeout(()=>{(!al(s)||s.state.selection.visible)&&s.dom.classList.remove("ProseMirror-hideselection")},20))})}(s))}s.domObserver.setCurSelection(),s.domObserver.connectSelection()}}const xa=en||ue&&qe<63;function Xr(s,t){let{node:r,offset:i}=s.docView.domFromPos(t,0),l=i<r.childNodes.length?r.childNodes[i]:null,c=i?r.childNodes[i-1]:null;if(en&&l&&"false"==l.contentEditable)return Ia(l);if(!(l&&"false"!=l.contentEditable||c&&"false"!=c.contentEditable)){if(l)return Ia(l);if(c)return Ia(c)}}function Ia(s){return s.contentEditable="true",en&&s.draggable&&(s.draggable=!1,s.wasDraggable=!0),s}function gs(s){s.contentEditable="false",s.wasDraggable&&(s.draggable=!0,s.wasDraggable=null)}function li(s,t){if(t instanceof ct){let r=s.docView.descAt(t.from);r!=s.lastSelectedViewDesc&&(bu(s),r&&r.selectNode(),s.lastSelectedViewDesc=r)}else bu(s)}function bu(s){s.lastSelectedViewDesc&&(s.lastSelectedViewDesc.parent&&s.lastSelectedViewDesc.deselectNode(),s.lastSelectedViewDesc=void 0)}function ul(s,t,r,i){return s.someProp("createSelectionBetween",l=>l(s,t,r))||xt.between(t,r,i)}function cl(s){return!(s.editable&&!s.hasFocus())&&Us(s)}function Us(s){let t=s.domSelectionRange();if(!t.anchorNode)return!1;try{return s.dom.contains(3==t.anchorNode.nodeType?t.anchorNode.parentNode:t.anchorNode)&&(s.editable||s.dom.contains(3==t.focusNode.nodeType?t.focusNode.parentNode:t.focusNode))}catch{return!1}}function He(s,t){let{$anchor:r,$head:i}=s.selection,l=t>0?r.max(i):r.min(i),c=l.parent.inlineContent?l.depth?s.doc.resolve(t>0?l.after():l.before()):null:l;return c&&Je.findFrom(c,t)}function jt(s,t){return s.dispatch(s.state.tr.setSelection(t).scrollIntoView()),!0}function xo(s,t,r){let i=s.state.selection;if(!(i instanceof xt)){if(i instanceof ct&&i.node.isInline)return jt(s,new xt(t>0?i.$to:i.$from));{let l=He(s.state,t);return!!l&&jt(s,l)}}if(!i.empty||r.indexOf("s")>-1)return!1;if(s.endOfTextblock(t>0?"forward":"backward")){let l=He(s.state,t);return!!(l&&l instanceof ct)&&jt(s,l)}if(!(ar&&r.indexOf("m")>-1)){let h,l=i.$head,c=l.textOffset?null:t<0?l.nodeBefore:l.nodeAfter;if(!c||c.isText)return!1;let g=t<0?l.pos-c.nodeSize:l.pos;return!!(c.isAtom||(h=s.docView.descAt(g))&&!h.contentDOM)&&(ct.isSelectable(c)?jt(s,new ct(t<0?s.state.doc.resolve(l.pos-c.nodeSize):l)):!!yi&&jt(s,new xt(s.state.doc.resolve(t<0?g:g+c.nodeSize))))}}function ms(s){return 3==s.nodeType?s.nodeValue.length:s.childNodes.length}function zn(s){let t=s.pmViewDesc;return t&&0==t.size&&(s.nextSibling||"BR"!=s.nodeName)}function ys(s,t){return t<0?function js(s){let t=s.domSelectionRange(),r=t.focusNode,i=t.focusOffset;if(!r)return;let l,c,h=!1;for(w&&1==r.nodeType&&i<ms(r)&&zn(r.childNodes[i])&&(h=!0);;)if(i>0){if(1!=r.nodeType)break;{let g=r.childNodes[i-1];if(zn(g))l=r,c=--i;else{if(3!=g.nodeType)break;r=g,i=r.nodeValue.length}}}else{if(vs(r))break;{let g=r.previousSibling;for(;g&&zn(g);)l=r.parentNode,c=sr(g),g=g.previousSibling;if(g)r=g,i=ms(r);else{if(r=r.parentNode,r==s.dom)break;i=0}}}h?wi(s,r,i):l&&wi(s,l,c)}(s):io(s)}function io(s){let t=s.domSelectionRange(),r=t.focusNode,i=t.focusOffset;if(!r)return;let c,h,l=ms(r);for(;;)if(i<l){if(1!=r.nodeType)break;if(!zn(r.childNodes[i]))break;c=r,h=++i}else{if(vs(r))break;{let g=r.nextSibling;for(;g&&zn(g);)c=g.parentNode,h=sr(g)+1,g=g.nextSibling;if(g)r=g,i=0,l=ms(r);else{if(r=r.parentNode,r==s.dom)break;i=l=0}}}c&&wi(s,c,h)}function vs(s){let t=s.pmViewDesc;return t&&t.node&&t.node.isBlock}function wi(s,t,r){let i=s.domSelection();if(kr(i)){let c=document.createRange();c.setEnd(t,r),c.setStart(t,r),i.removeAllRanges(),i.addRange(c)}else i.extend&&i.extend(t,r);s.domObserver.setCurSelection();let{state:l}=s;setTimeout(()=>{s.state==l&&bt(s)},50)}function fl(s,t){let r=s.state.doc.resolve(t);if(!ue&&!Fs&&r.parent.inlineContent){let l=s.coordsAtPos(t);if(t>r.start()){let c=s.coordsAtPos(t-1),h=(c.top+c.bottom)/2;if(h>l.top&&h<l.bottom&&Math.abs(c.left-l.left)>1)return c.left<l.left?"ltr":"rtl"}if(t<r.end()){let c=s.coordsAtPos(t+1),h=(c.top+c.bottom)/2;if(h>l.top&&h<l.bottom&&Math.abs(c.left-l.left)>1)return c.left>l.left?"ltr":"rtl"}}return"rtl"==getComputedStyle(s.dom).direction?"rtl":"ltr"}function Eu(s,t,r){let i=s.state.selection;if(i instanceof xt&&!i.empty||r.indexOf("s")>-1||ar&&r.indexOf("m")>-1)return!1;let{$from:l,$to:c}=i;if(!l.parent.inlineContent||s.endOfTextblock(t<0?"up":"down")){let h=He(s.state,t);if(h&&h instanceof ct)return jt(s,h)}if(!l.parent.inlineContent){let h=t<0?l:c,g=i instanceof wn?Je.near(h,t):Je.findFrom(h,t);return!!g&&jt(s,g)}return!1}function hl(s,t){if(!(s.state.selection instanceof xt))return!0;let{$head:r,$anchor:i,empty:l}=s.state.selection;if(!r.sameParent(i))return!0;if(!l)return!1;if(s.endOfTextblock(t>0?"forward":"backward"))return!0;let c=!r.textOffset&&(t<0?r.nodeBefore:r.nodeAfter);if(c&&!c.isText){let h=s.state.tr;return t<0?h.delete(r.pos-c.nodeSize,r.pos):h.delete(r.pos,r.pos+c.nodeSize),s.dispatch(h),!0}return!1}function lr(s,t,r){s.domObserver.stop(),t.contentEditable=r,s.domObserver.start()}function Yo(s,t){s.someProp("transformCopied",q=>{t=q(t,s)});let r=[],{content:i,openStart:l,openEnd:c}=t;for(;l>1&&c>1&&1==i.childCount&&1==i.firstChild.childCount;){l--,c--;let q=i.firstChild;r.push(q.type.name,q.attrs!=q.type.defaultAttrs?q.attrs:null),i=q.content}let h=s.someProp("clipboardSerializer")||$.fromSchema(s.state.schema),g=Zs(),C=g.createElement("div");C.appendChild(h.serializeFragment(i,{document:g}));let N,I=C.firstChild,U=0;for(;I&&1==I.nodeType&&(N=yl[I.nodeName.toLowerCase()]);){for(let q=N.length-1;q>=0;q--){let se=g.createElement(N[q]);for(;C.firstChild;)se.appendChild(C.firstChild);C.appendChild(se),U++}I=C.firstChild}return I&&1==I.nodeType&&I.setAttribute("data-pm-slice",`${l} ${c}${U?` -${U}`:""} ${JSON.stringify(r)}`),{dom:C,text:s.someProp("clipboardTextSerializer",q=>q(t,s))||t.content.textBetween(0,t.content.size,"\n\n")}}function pl(s,t,r,i,l){let h,g,c=l.parent.type.spec.code;if(!r&&!t)return null;let C=t&&(i||c||!r);if(C){if(s.someProp("transformPastedText",J=>{t=J(t,c||i,s)}),c)return t?new ie(be.from(s.state.schema.text(t.replace(/\r\n?/g,"\n"))),0,0):ie.empty;let U=s.someProp("clipboardTextParser",J=>J(t,l,i,s));if(U)g=U;else{let J=l.marks(),{schema:q}=s.state,se=$.fromSchema(q);h=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(Ve=>{let Dt=h.appendChild(document.createElement("p"));Ve&&Dt.appendChild(se.serializeNode(q.text(Ve,J)))})}}else s.someProp("transformPastedHTML",U=>{r=U(r,s)}),h=function Aa(s){let t=/^(\s*<meta [^>]*>)*/.exec(s);t&&(s=s.slice(t[0].length));let l,r=Zs().createElement("div"),i=/<([a-z][^>\s]+)/i.exec(s);if((l=i&&yl[i[1].toLowerCase()])&&(s=l.map(c=>"<"+c+">").join("")+s+l.map(c=>"</"+c+">").reverse().join("")),r.innerHTML=s,l)for(let c=0;c<l.length;c++)r=r.querySelector(l[c])||r;return r}(r),yi&&function vl(s){let t=s.querySelectorAll(ue?"span:not([class]):not([style])":"span.Apple-converted-space");for(let r=0;r<t.length;r++){let i=t[r];1==i.childNodes.length&&"\xa0"==i.textContent&&i.parentNode&&i.parentNode.replaceChild(s.ownerDocument.createTextNode(" "),i)}}(h);let I=h&&h.querySelector("[data-pm-slice]"),N=I&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(I.getAttribute("data-pm-slice")||"");if(N&&N[3])for(let U=+N[3];U>0;U--){let J=h.firstChild;for(;J&&1!=J.nodeType;)J=J.nextSibling;if(!J)break;h=J}if(g||(g=(s.someProp("clipboardParser")||s.someProp("domParser")||Nt.fromSchema(s.state.schema)).parseSlice(h,{preserveWhitespace:!(!C&&!N),context:l,ruleFromNode:J=>"BR"!=J.nodeName||J.nextSibling||!J.parentNode||Mu.test(J.parentNode.nodeName)?null:{ignore:!0}})),N)g=function Su(s,t){if(!s.size)return s;let i,r=s.content.firstChild.type.schema;try{i=JSON.parse(t)}catch{return s}let{content:l,openStart:c,openEnd:h}=s;for(let g=i.length-2;g>=0;g-=2){let C=r.nodes[i[g]];if(!C||C.hasRequiredAttrs())break;l=be.from(C.create(i[g+1],l)),c++,h++}return new ie(l,c,h)}(Ws(g,+N[1],+N[2]),N[4]);else if(g=ie.maxOpen(function gl(s,t){if(s.childCount<2)return s;for(let r=t.depth;r>=0;r--){let c,l=t.node(r).contentMatchAt(t.index(r)),h=[];if(s.forEach(g=>{if(!h)return;let I,C=l.findWrapping(g.type);if(!C)return h=null;if(I=h.length&&c.length&&$s(C,c,g,h[h.length-1],0))h[h.length-1]=I;else{h.length&&(h[h.length-1]=zs(h[h.length-1],c.length));let N=ml(g,C);h.push(N),l=l.matchType(N.type),c=C}}),h)return be.from(h)}return s}(g.content,l),!0),g.openStart||g.openEnd){let U=0,J=0;for(let q=g.content.firstChild;U<g.openStart&&!q.type.spec.isolating;U++,q=q.firstChild);for(let q=g.content.lastChild;J<g.openEnd&&!q.type.spec.isolating;J++,q=q.lastChild);g=Ws(g,U,J)}return s.someProp("transformPasted",U=>{g=U(g,s)}),g}const Mu=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function ml(s,t,r=0){for(let i=t.length-1;i>=r;i--)s=t[i].create(null,be.from(s));return s}function $s(s,t,r,i,l){if(l<s.length&&l<t.length&&s[l]==t[l]){let c=$s(s,t,r,i.lastChild,l+1);if(c)return i.copy(i.content.replaceChild(i.childCount-1,c));if(i.contentMatchAt(i.childCount).matchType(l==s.length-1?r.type:s[l+1]))return i.copy(i.content.append(be.from(ml(r,s,l+1))))}}function zs(s,t){if(0==t)return s;let r=s.content.replaceChild(s.childCount-1,zs(s.lastChild,t-1)),i=s.contentMatchAt(s.childCount).fillBefore(be.empty,!0);return s.copy(r.append(i))}function Gs(s,t,r,i,l,c){let h=t<0?s.firstChild:s.lastChild,g=h.content;return s.childCount>1&&(c=0),l<i-1&&(g=Gs(g,t,r,i,l+1,c)),l>=r&&(g=t<0?h.contentMatchAt(0).fillBefore(g,c<=l).append(g):g.append(h.contentMatchAt(h.childCount).fillBefore(be.empty,!0))),s.replaceChild(t<0?0:s.childCount-1,h.copy(g))}function Ws(s,t,r){return t<s.openStart&&(s=new ie(Gs(s.content,-1,t,s.openStart,0,s.openEnd),t,s.openEnd)),r<s.openEnd&&(s=new ie(Gs(s.content,1,r,s.openEnd,0,0),s.openStart,r)),s}const yl={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let Ta=null;function Zs(){return Ta||(Ta=document.implementation.createHTMLDocument("title"))}const xr={},Cr={},Fc={touchstart:!0,touchmove:!0};class Lc{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function y(s,t){s.input.lastSelectionOrigin=t,s.input.lastSelectionTime=Date.now()}function m(s){s.someProp("handleDOMEvents",t=>{for(let r in t)s.input.eventHandlers[r]||s.dom.addEventListener(r,s.input.eventHandlers[r]=i=>E(s,i))})}function E(s,t){return s.someProp("handleDOMEvents",r=>{let i=r[t.type];return!!i&&(i(s,t)||t.defaultPrevented)})}function A(s,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let r=t.target;r!=s.dom;r=r.parentNode)if(!r||11==r.nodeType||r.pmViewDesc&&r.pmViewDesc.stopEvent(t))return!1;return!0}function B(s){return{left:s.clientX,top:s.clientY}}function Re(s,t,r,i,l){if(-1==i)return!1;let c=s.state.doc.resolve(i);for(let h=c.depth+1;h>0;h--)if(s.someProp(t,g=>h>c.depth?g(s,r,c.nodeAfter,c.before(h),l,!0):g(s,r,c.node(h),c.before(h),l,!1)))return!0;return!1}function ot(s,t,r){s.focused||s.focus();let i=s.state.tr.setSelection(t);"pointer"==r&&i.setMeta("pointer",!0),s.dispatch(i)}function Gi(s,t,r,i){return Re(s,"handleDoubleClickOn",t,r,i)||s.someProp("handleDoubleClick",l=>l(s,t,i))}function Mi(s,t,r,i){return Re(s,"handleTripleClickOn",t,r,i)||s.someProp("handleTripleClick",l=>l(s,t,i))||function Wi(s,t,r){if(0!=r.button)return!1;let i=s.state.doc;if(-1==t)return!!i.inlineContent&&(ot(s,xt.create(i,0,i.content.size),"pointer"),!0);let l=i.resolve(t);for(let c=l.depth+1;c>0;c--){let h=c>l.depth?l.nodeAfter:l.node(c),g=l.before(c);if(h.inlineContent)ot(s,xt.create(i,g+1,g+1+h.content.size),"pointer");else{if(!ct.isSelectable(h))continue;ot(s,ct.create(i,g),"pointer")}return!0}}(s,r,i)}function Zi(s){return Cl(s)}Cr.keydown=(s,t)=>{let r=t;if(s.input.shiftKey=16==r.keyCode||r.shiftKey,!Ys(s,r)&&(s.input.lastKeyCode=r.keyCode,s.input.lastKeyCodeTime=Date.now(),!_o||!ue||13!=r.keyCode))if(229!=r.keyCode&&s.domObserver.forceFlush(),!Dr||13!=r.keyCode||r.ctrlKey||r.altKey||r.metaKey)s.someProp("handleKeyDown",i=>i(s,r))||function Ds(s,t){let r=t.keyCode,i=function wu(s){let t="";return s.ctrlKey&&(t+="c"),s.metaKey&&(t+="m"),s.altKey&&(t+="a"),s.shiftKey&&(t+="s"),t}(t);if(8==r||ar&&72==r&&"c"==i)return hl(s,-1)||ys(s,-1);if(46==r&&!t.shiftKey||ar&&68==r&&"c"==i)return hl(s,1)||ys(s,1);if(13==r||27==r)return!0;if(37==r||ar&&66==r&&"c"==i){let l=37==r?"ltr"==fl(s,s.state.selection.from)?-1:1:-1;return xo(s,l,i)||ys(s,l)}if(39==r||ar&&70==r&&"c"==i){let l=39==r?"ltr"==fl(s,s.state.selection.from)?1:-1:1;return xo(s,l,i)||ys(s,l)}return 38==r||ar&&80==r&&"c"==i?Eu(s,-1,i)||ys(s,-1):40==r||ar&&78==r&&"c"==i?function Ko(s){if(!en||s.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:r}=s.domSelectionRange();if(t&&1==t.nodeType&&0==r&&t.firstChild&&"false"==t.firstChild.contentEditable){let i=t.firstChild;lr(s,i,"true"),setTimeout(()=>lr(s,i,"false"),20)}return!1}(s)||Eu(s,1,i)||io(s):i==(ar?"m":"c")&&(66==r||73==r||89==r||90==r)}(s,r)?r.preventDefault():y(s,"key");else{let i=Date.now();s.input.lastIOSEnter=i,s.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{s.input.lastIOSEnter==i&&(s.someProp("handleKeyDown",l=>l(s,Yr(13,"Enter"))),s.input.lastIOSEnter=0)},200)}},Cr.keyup=(s,t)=>{16==t.keyCode&&(s.input.shiftKey=!1)},Cr.keypress=(s,t)=>{let r=t;if(Ys(s,r)||!r.charCode||r.ctrlKey&&!r.altKey||ar&&r.metaKey)return;if(s.someProp("handleKeyPress",l=>l(s,r)))return void r.preventDefault();let i=s.state.selection;if(!(i instanceof xt&&i.$from.sameParent(i.$to))){let l=String.fromCharCode(r.charCode);!/[\r\n]/.test(l)&&!s.someProp("handleTextInput",c=>c(s,i.$from.pos,i.$to.pos,l))&&s.dispatch(s.state.tr.insertText(l).scrollIntoView()),r.preventDefault()}};const Cs=ar?"metaKey":"ctrlKey";xr.mousedown=(s,t)=>{let r=t;s.input.shiftKey=r.shiftKey;let i=Zi(s),l=Date.now(),c="singleClick";l-s.input.lastClick.time<500&&function oe(s,t){let r=t.x-s.clientX,i=t.y-s.clientY;return r*r+i*i<100}(r,s.input.lastClick)&&!r[Cs]&&("singleClick"==s.input.lastClick.type?c="doubleClick":"doubleClick"==s.input.lastClick.type&&(c="tripleClick")),s.input.lastClick={time:l,x:r.clientX,y:r.clientY,type:c};let h=s.posAtCoords(B(r));h&&("singleClick"==c?(s.input.mouseDown&&s.input.mouseDown.done(),s.input.mouseDown=new Ks(s,h,r,!!i)):("doubleClick"==c?Gi:Mi)(s,h.pos,h.inside,r)?r.preventDefault():y(s,"pointer"))};class Ks{constructor(t,r,i,l){let c,h;if(this.view=t,this.pos=r,this.event=i,this.flushed=l,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=t.state.doc,this.selectNode=!!i[Cs],this.allowDefault=i.shiftKey,r.inside>-1)c=t.state.doc.nodeAt(r.inside),h=r.inside;else{let N=t.state.doc.resolve(r.pos);c=N.parent,h=N.depth?N.before():0}const g=l?null:i.target,C=g?t.docView.nearestDesc(g,!0):null;this.target=C?C.dom:null;let{selection:I}=t.state;(0==i.button&&c.type.spec.draggable&&!1!==c.type.spec.selectable||I instanceof ct&&I.from<=h&&I.to>h)&&(this.mightDrag={node:c,pos:h,addAttr:!(!this.target||this.target.draggable),setUneditable:!(!this.target||!w||this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),y(t,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>bt(this.view)),this.view.input.mouseDown=null}up(t){if(this.done(),!this.view.dom.contains(t.target))return;let r=this.pos;this.view.state.doc!=this.startDoc&&(r=this.view.posAtCoords(B(t))),this.updateAllowDefault(t),this.allowDefault||!r?y(this.view,"pointer"):function _r(s,t,r,i,l){return Re(s,"handleClickOn",t,r,i)||s.someProp("handleClick",c=>c(s,t,i))||(l?function on(s,t){if(-1==t)return!1;let i,l,r=s.state.selection;r instanceof ct&&(i=r.node);let c=s.state.doc.resolve(t);for(let h=c.depth+1;h>0;h--){let g=h>c.depth?c.nodeAfter:c.node(h);if(ct.isSelectable(g)){l=i&&r.$from.depth>0&&h>=r.$from.depth&&c.before(r.$from.depth+1)==r.$from.pos?c.before(r.$from.depth):c.before(h);break}}return null!=l&&(ot(s,ct.create(s.state.doc,l),"pointer"),!0)}(s,r):function yt(s,t){if(-1==t)return!1;let r=s.state.doc.resolve(t),i=r.nodeAfter;return!!(i&&i.isAtom&&ct.isSelectable(i))&&(ot(s,new ct(r),"pointer"),!0)}(s,r))}(this.view,r.pos,r.inside,t,this.selectNode)?t.preventDefault():0==t.button&&(this.flushed||en&&this.mightDrag&&!this.mightDrag.node.isAtom||ue&&!this.view.state.selection.visible&&Math.min(Math.abs(r.pos-this.view.state.selection.from),Math.abs(r.pos-this.view.state.selection.to))<=2)?(ot(this.view,Je.near(this.view.state.doc.resolve(r.pos)),"pointer"),t.preventDefault()):y(this.view,"pointer")}move(t){this.updateAllowDefault(t),y(this.view,"pointer"),0==t.buttons&&this.done()}updateAllowDefault(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0)}}function Ys(s,t){return!!s.composing||!!(en&&Math.abs(t.timeStamp-s.input.compositionEndedAt)<500)&&(s.input.compositionEndedAt=-2e8,!0)}xr.touchstart=s=>{s.input.lastTouch=Date.now(),Zi(s),y(s,"pointer")},xr.touchmove=s=>{s.input.lastTouch=Date.now(),y(s,"pointer")},xr.contextmenu=s=>Zi(s);const kf=_o?5e3:-1;function Ff(s,t){clearTimeout(s.input.composingTimeout),t>-1&&(s.input.composingTimeout=setTimeout(()=>Cl(s),t))}function Dl(s){for(s.composing&&(s.input.composing=!1,s.input.compositionEndedAt=function Zg(){let s=document.createEvent("Event");return s.initEvent("event",!0,!0),s.timeStamp}());s.input.compositionNodes.length>0;)s.input.compositionNodes.pop().markParentsDirty()}function Cl(s,t=!1){if(!(_o&&s.domObserver.flushingSoon>=0)){if(s.domObserver.forceFlush(),Dl(s),t||s.docView&&s.docView.dirty){let r=Hs(s);return r&&!r.eq(s.state.selection)?s.dispatch(s.state.tr.setSelection(r)):s.updateState(s.state),!0}return!1}}Cr.compositionstart=Cr.compositionupdate=s=>{if(!s.composing){s.domObserver.flush();let{state:t}=s,r=t.selection.$from;if(t.selection.empty&&(t.storedMarks||!r.textOffset&&r.parentOffset&&r.nodeBefore.marks.some(i=>!1===i.type.spec.inclusive)))s.markCursor=s.state.storedMarks||r.marks(),Cl(s,!0),s.markCursor=null;else if(Cl(s),w&&t.selection.empty&&r.parentOffset&&!r.textOffset&&r.nodeBefore.marks.length){let i=s.domSelectionRange();for(let l=i.focusNode,c=i.focusOffset;l&&1==l.nodeType&&0!=c;){let h=c<0?l.lastChild:l.childNodes[c-1];if(!h)break;if(3==h.nodeType){s.domSelection().collapse(h,h.nodeValue.length);break}l=h,c=-1}}s.input.composing=!0}Ff(s,kf)},Cr.compositionend=(s,t)=>{s.composing&&(s.input.composing=!1,s.input.compositionEndedAt=t.timeStamp,s.input.compositionID++,Ff(s,20))};const Oa=x&&S<15||Dr&&vi<604;function Ki(s,t,r,i,l){let c=pl(s,t,r,i,s.state.selection.$from);if(s.someProp("handlePaste",C=>C(s,l,c||ie.empty)))return!0;if(!c)return!1;let h=function Kg(s){return 0==s.openStart&&0==s.openEnd&&1==s.content.childCount?s.content.firstChild:null}(c),g=h?s.state.tr.replaceSelectionWith(h,i):s.state.tr.replaceSelection(c);return s.dispatch(g.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}xr.copy=Cr.cut=(s,t)=>{let r=t,i=s.state.selection,l="cut"==r.type;if(i.empty)return;let c=Oa?null:r.clipboardData,h=i.content(),{dom:g,text:C}=Yo(s,h);c?(r.preventDefault(),c.clearData(),c.setData("text/html",g.innerHTML),c.setData("text/plain",C)):function Lf(s,t){if(!s.dom.parentNode)return;let r=s.dom.parentNode.appendChild(document.createElement("div"));r.appendChild(t),r.style.cssText="position: fixed; left: -10000px; top: 10px";let i=getSelection(),l=document.createRange();l.selectNodeContents(t),s.dom.blur(),i.removeAllRanges(),i.addRange(l),setTimeout(()=>{r.parentNode&&r.parentNode.removeChild(r),s.focus()},50)}(s,g),l&&s.dispatch(s.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))},Cr.paste=(s,t)=>{let r=t;if(s.composing&&!_o)return;let i=Oa?null:r.clipboardData,l=s.input.shiftKey&&45!=s.input.lastKeyCode;i&&Ki(s,i.getData("text/plain"),i.getData("text/html"),l,r)?r.preventDefault():function Vc(s,t){if(!s.dom.parentNode)return;let r=s.input.shiftKey||s.state.selection.$from.parent.type.spec.code,i=s.dom.parentNode.appendChild(document.createElement(r?"textarea":"div"));r||(i.contentEditable="true"),i.style.cssText="position: fixed; left: -10000px; top: 10px",i.focus();let l=s.input.shiftKey&&45!=s.input.lastKeyCode;setTimeout(()=>{s.focus(),i.parentNode&&i.parentNode.removeChild(i),r?Ki(s,i.value,null,l,t):Ki(s,i.textContent,i.innerHTML,l,t)},50)}(s,r)};class Vf{constructor(t,r){this.slice=t,this.move=r}}const Na=ar?"altKey":"ctrlKey";xr.dragstart=(s,t)=>{let r=t,i=s.input.mouseDown;if(i&&i.done(),!r.dataTransfer)return;let l=s.state.selection,c=l.empty?null:s.posAtCoords(B(r));if(!(c&&c.pos>=l.from&&c.pos<=(l instanceof ct?l.to-1:l.to)))if(i&&i.mightDrag)s.dispatch(s.state.tr.setSelection(ct.create(s.state.doc,i.mightDrag.pos)));else if(r.target&&1==r.target.nodeType){let I=s.docView.nearestDesc(r.target,!0);I&&I.node.type.spec.draggable&&I!=s.docView&&s.dispatch(s.state.tr.setSelection(ct.create(s.state.doc,I.posBefore)))}let h=s.state.selection.content(),{dom:g,text:C}=Yo(s,h);r.dataTransfer.clearData(),r.dataTransfer.setData(Oa?"Text":"text/html",g.innerHTML),r.dataTransfer.effectAllowed="copyMove",Oa||r.dataTransfer.setData("text/plain",C),s.dragging=new Vf(h,!r[Na])},xr.dragend=s=>{let t=s.dragging;window.setTimeout(()=>{s.dragging==t&&(s.dragging=null)},50)},Cr.dragover=Cr.dragenter=(s,t)=>t.preventDefault(),Cr.drop=(s,t)=>{let r=t,i=s.dragging;if(s.dragging=null,!r.dataTransfer)return;let l=s.posAtCoords(B(r));if(!l)return;let c=s.state.doc.resolve(l.pos),h=i&&i.slice;h?s.someProp("transformPasted",se=>{h=se(h,s)}):h=pl(s,r.dataTransfer.getData(Oa?"Text":"text/plain"),Oa?null:r.dataTransfer.getData("text/html"),!1,c);let g=!(!i||r[Na]);if(s.someProp("handleDrop",se=>se(s,r,h||ie.empty,g)))return void r.preventDefault();if(!h)return;r.preventDefault();let C=h?function Fi(s,t,r){let i=s.resolve(t);if(!r.content.size)return t;let l=r.content;for(let c=0;c<r.openStart;c++)l=l.firstChild.content;for(let c=1;c<=(0==r.openStart&&r.size?2:1);c++)for(let h=i.depth;h>=0;h--){let g=h==i.depth?0:i.pos<=(i.start(h+1)+i.end(h+1))/2?-1:1,C=i.index(h)+(g>0?1:0),I=i.node(h),N=!1;if(1==c)N=I.canReplace(C,C,l);else{let U=I.contentMatchAt(C).findWrapping(l.firstChild.type);N=U&&I.canReplaceWith(C,C,U[0])}if(N)return 0==g?i.pos:g<0?i.before(h+1):i.after(h+1)}return null}(s.state.doc,c.pos,h):c.pos;null==C&&(C=c.pos);let I=s.state.tr;g&&I.deleteSelection();let N=I.mapping.map(C),U=0==h.openStart&&0==h.openEnd&&1==h.content.childCount,J=I.doc;if(U?I.replaceRangeWith(N,N,h.content.firstChild):I.replaceRange(N,N,h),I.doc.eq(J))return;let q=I.doc.resolve(N);if(U&&ct.isSelectable(h.content.firstChild)&&q.nodeAfter&&q.nodeAfter.sameMarkup(h.content.firstChild))I.setSelection(new ct(q));else{let se=I.mapping.map(C);I.mapping.maps[I.mapping.maps.length-1].forEach((Ve,Dt,Pt,Hr)=>se=Hr),I.setSelection(ul(s,q,I.doc.resolve(se)))}s.focus(),s.dispatch(I.setMeta("uiEvent","drop"))},xr.focus=s=>{s.input.lastFocus=Date.now(),s.focused||(s.domObserver.stop(),s.dom.classList.add("ProseMirror-focused"),s.domObserver.start(),s.focused=!0,setTimeout(()=>{s.docView&&s.hasFocus()&&!s.domObserver.currentSelection.eq(s.domSelectionRange())&&bt(s)},20))},xr.blur=(s,t)=>{let r=t;s.focused&&(s.domObserver.stop(),s.dom.classList.remove("ProseMirror-focused"),s.domObserver.start(),r.relatedTarget&&s.dom.contains(r.relatedTarget)&&s.domObserver.currentSelection.clear(),s.focused=!1)},xr.beforeinput=(s,t)=>{if(ue&&_o&&"deleteContentBackward"==t.inputType){s.domObserver.flushSoon();let{domChangeCount:i}=s.input;setTimeout(()=>{if(s.input.domChangeCount!=i||(s.dom.blur(),s.focus(),s.someProp("handleKeyDown",c=>c(s,Yr(8,"Backspace")))))return;let{$cursor:l}=s.state.selection;l&&l.pos>0&&s.dispatch(s.state.tr.delete(l.pos-1,l.pos).scrollIntoView())},50)}};for(let s in Cr)xr[s]=Cr[s];function _s(s,t){if(s==t)return!0;for(let r in s)if(s[r]!==t[r])return!1;for(let r in t)if(!(r in s))return!1;return!0}class Js{constructor(t,r){this.toDOM=t,this.spec=r||Vr,this.side=this.spec.side||0}map(t,r,i,l){let{pos:c,deleted:h}=t.mapResult(r.from+l,this.side<0?-1:1);return h?null:new Io(c-i,c-i,this)}valid(){return!0}eq(t){return this==t||t instanceof Js&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&_s(this.spec,t.spec))}destroy(t){this.spec.destroy&&this.spec.destroy(t)}}class bs{constructor(t,r){this.attrs=t,this.spec=r||Vr}map(t,r,i,l){let c=t.map(r.from+l,this.spec.inclusiveStart?-1:1)-i,h=t.map(r.to+l,this.spec.inclusiveEnd?1:-1)-i;return c>=h?null:new Io(c,h,this)}valid(t,r){return r.from<r.to}eq(t){return this==t||t instanceof bs&&_s(this.attrs,t.attrs)&&_s(this.spec,t.spec)}static is(t){return t.type instanceof bs}destroy(){}}class _l{constructor(t,r){this.attrs=t,this.spec=r||Vr}map(t,r,i,l){let c=t.mapResult(r.from+l,1);if(c.deleted)return null;let h=t.mapResult(r.to+l,-1);return h.deleted||h.pos<=c.pos?null:new Io(c.pos-i,h.pos-i,this)}valid(t,r){let c,{index:i,offset:l}=t.content.findIndex(r.from);return l==r.from&&!(c=t.child(i)).isText&&l+c.nodeSize==r.to}eq(t){return this==t||t instanceof _l&&_s(this.attrs,t.attrs)&&_s(this.spec,t.spec)}destroy(){}}class Io{constructor(t,r,i){this.from=t,this.to=r,this.type=i}copy(t,r){return new Io(t,r,this.type)}eq(t,r=0){return this.type.eq(t.type)&&this.from+r==t.from&&this.to+r==t.to}map(t,r,i){return this.type.map(t,this,r,i)}static widget(t,r,i){return new Io(t,t,new Js(r,i))}static inline(t,r,i,l){return new Io(t,r,new bs(i,l))}static node(t,r,i,l){return new Io(t,r,new _l(i,l))}get spec(){return this.type.spec}get inline(){return this.type instanceof bs}}const qs=[],Vr={};class Xn{constructor(t,r){this.local=t.length?t:qs,this.children=r.length?r:qs}static create(t,r){return r.length?Pa(r,t,0,Vr):ur}find(t,r,i){let l=[];return this.findInner(t??0,r??1e9,l,0,i),l}findInner(t,r,i,l,c){for(let h=0;h<this.local.length;h++){let g=this.local[h];g.from<=r&&g.to>=t&&(!c||c(g.spec))&&i.push(g.copy(g.from+l,g.to+l))}for(let h=0;h<this.children.length;h+=3)if(this.children[h]<r&&this.children[h+1]>t){let g=this.children[h]+1;this.children[h+2].findInner(t-g,r-g,i,l+g,c)}}map(t,r,i){return this==ur||0==t.maps.length?this:this.mapInner(t,r,0,0,i||Vr)}mapInner(t,r,i,l,c){let h;for(let g=0;g<this.local.length;g++){let C=this.local[g].map(t,i,l);C&&C.type.valid(r,C)?(h||(h=[])).push(C):c.onRemove&&c.onRemove(this.local[g].spec)}return this.children.length?function Bc(s,t,r,i,l,c,h){let g=s.slice();for(let I=0,N=c;I<r.maps.length;I++){let U=0;r.maps[I].forEach((J,q,se,Ve)=>{let Dt=Ve-se-(q-J);for(let Pt=0;Pt<g.length;Pt+=3){let Hr=g[Pt+1];if(Hr<0||J>Hr+N-U)continue;let cr=g[Pt]+N-U;q>=cr?g[Pt+1]=J<=cr?-2:-1:se>=l&&Dt&&(g[Pt]+=Dt,g[Pt+1]+=Dt)}U+=Dt}),N=r.maps[I].map(N,-1)}let C=!1;for(let I=0;I<g.length;I+=3)if(g[I+1]<0){if(-2==g[I+1]){C=!0,g[I+1]=-1;continue}let N=r.map(s[I]+c),U=N-l;if(U<0||U>=i.content.size){C=!0;continue}let q=r.map(s[I+1]+c,-1)-l,{index:se,offset:Ve}=i.content.findIndex(U),Dt=i.maybeChild(se);if(Dt&&Ve==U&&Ve+Dt.nodeSize==q){let Pt=g[I+2].mapInner(r,Dt,N+1,s[I]+c+1,h);Pt!=ur?(g[I]=U,g[I+1]=q,g[I+2]=Pt):(g[I+1]=-2,C=!0)}else C=!0}if(C){let I=function xu(s,t,r,i,l,c,h){function g(C,I){for(let N=0;N<C.local.length;N++){let U=C.local[N].map(i,l,I);U?r.push(U):h.onRemove&&h.onRemove(C.local[N].spec)}for(let N=0;N<C.children.length;N+=3)g(C.children[N+2],C.children[N]+I+1)}for(let C=0;C<s.length;C+=3)-1==s[C+1]&&g(s[C+2],t[C]+c+1);return r}(g,s,t,r,l,c,h),N=Pa(I,i,0,h);t=N.local;for(let U=0;U<g.length;U+=3)g[U+1]<0&&(g.splice(U,3),U-=3);for(let U=0,J=0;U<N.children.length;U+=3){let q=N.children[U];for(;J<g.length&&g[J]<q;)J+=3;g.splice(J,0,N.children[U],N.children[U+1],N.children[U+2])}}return new Xn(t.sort(Yi),g)}(this.children,h||[],t,r,i,l,c):h?new Xn(h.sort(Yi),qs):ur}add(t,r){return r.length?this==ur?Xn.create(t,r):this.addInner(t,r,0):this}addInner(t,r,i){let l,c=0;t.forEach((g,C)=>{let N,I=C+i;if(N=Hc(r,g,I)){for(l||(l=this.children.slice());c<l.length&&l[c]<C;)c+=3;l[c]==C?l[c+2]=l[c+2].addInner(g,N,I+1):l.splice(c,0,C,C+g.nodeSize,Pa(N,g,I+1,Vr)),c+=3}});let h=bl(c?Iu(r):r,-i);for(let g=0;g<h.length;g++)h[g].type.valid(t,h[g])||h.splice(g--,1);return new Xn(h.length?this.local.concat(h).sort(Yi):this.local,l||this.children)}remove(t){return 0==t.length||this==ur?this:this.removeInner(t,0)}removeInner(t,r){let i=this.children,l=this.local;for(let c=0;c<i.length;c+=3){let h,g=i[c]+r,C=i[c+1]+r;for(let U,N=0;N<t.length;N++)(U=t[N])&&U.from>g&&U.to<C&&(t[N]=null,(h||(h=[])).push(U));if(!h)continue;i==this.children&&(i=this.children.slice());let I=i[c+2].removeInner(h,g+1);I!=ur?i[c+2]=I:(i.splice(c,3),c-=3)}if(l.length)for(let h,c=0;c<t.length;c++)if(h=t[c])for(let g=0;g<l.length;g++)l[g].eq(h,r)&&(l==this.local&&(l=this.local.slice()),l.splice(g--,1));return i==this.children&&l==this.local?this:l.length||i.length?new Xn(l,i):ur}forChild(t,r){if(this==ur)return this;if(r.isLeaf)return Xn.empty;let i,l;for(let g=0;g<this.children.length;g+=3)if(this.children[g]>=t){this.children[g]==t&&(i=this.children[g+2]);break}let c=t+1,h=c+r.content.size;for(let g=0;g<this.local.length;g++){let C=this.local[g];if(C.from<h&&C.to>c&&C.type instanceof bs){let I=Math.max(c,C.from)-c,N=Math.min(h,C.to)-c;I<N&&(l||(l=[])).push(C.copy(I,N))}}if(l){let g=new Xn(l.sort(Yi),qs);return i?new ui([g,i]):g}return i||ur}eq(t){if(this==t)return!0;if(!(t instanceof Xn)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let r=0;r<this.local.length;r++)if(!this.local[r].eq(t.local[r]))return!1;for(let r=0;r<this.children.length;r+=3)if(this.children[r]!=t.children[r]||this.children[r+1]!=t.children[r+1]||!this.children[r+2].eq(t.children[r+2]))return!1;return!0}locals(t){return El(this.localsInner(t))}localsInner(t){if(this==ur)return qs;if(t.inlineContent||!this.local.some(bs.is))return this.local;let r=[];for(let i=0;i<this.local.length;i++)this.local[i].type instanceof bs||r.push(this.local[i]);return r}}Xn.empty=new Xn([],[]),Xn.removeOverlap=El;const ur=Xn.empty;class ui{constructor(t){this.members=t}map(t,r){const i=this.members.map(l=>l.map(t,r,Vr));return ui.from(i)}forChild(t,r){if(r.isLeaf)return Xn.empty;let i=[];for(let l=0;l<this.members.length;l++){let c=this.members[l].forChild(t,r);c!=ur&&(c instanceof ui?i=i.concat(c.members):i.push(c))}return ui.from(i)}eq(t){if(!(t instanceof ui)||t.members.length!=this.members.length)return!1;for(let r=0;r<this.members.length;r++)if(!this.members[r].eq(t.members[r]))return!1;return!0}locals(t){let r,i=!0;for(let l=0;l<this.members.length;l++){let c=this.members[l].localsInner(t);if(c.length)if(r){i&&(r=r.slice(),i=!1);for(let h=0;h<c.length;h++)r.push(c[h])}else r=c}return r?El(i?r:r.sort(Yi)):qs}static from(t){switch(t.length){case 0:return ur;case 1:return t[0];default:return new ui(t.every(r=>r instanceof Xn)?t:t.reduce((r,i)=>r.concat(i instanceof Xn?i:i.members),[]))}}}function bl(s,t){if(!t||!s.length)return s;let r=[];for(let i=0;i<s.length;i++){let l=s[i];r.push(new Io(l.from+t,l.to+t,l.type))}return r}function Hc(s,t,r){if(t.isLeaf)return null;let i=r+t.nodeSize,l=null;for(let h,c=0;c<s.length;c++)(h=s[c])&&h.from>r&&h.to<i&&((l||(l=[])).push(h),s[c]=null);return l}function Iu(s){let t=[];for(let r=0;r<s.length;r++)null!=s[r]&&t.push(s[r]);return t}function Pa(s,t,r,i){let l=[],c=!1;t.forEach((g,C)=>{let I=Hc(s,g,C+r);if(I){c=!0;let N=Pa(I,g,r+C+1,i);N!=ur&&l.push(C,C+g.nodeSize,N)}});let h=bl(c?Iu(s):s,-r).sort(Yi);for(let g=0;g<h.length;g++)h[g].type.valid(t,h[g])||(i.onRemove&&i.onRemove(h[g].spec),h.splice(g--,1));return h.length||l.length?new Xn(h,l):ur}function Yi(s,t){return s.from-t.from||s.to-t.to}function El(s){let t=s;for(let r=0;r<t.length-1;r++){let i=t[r];if(i.from!=i.to)for(let l=r+1;l<t.length;l++){let c=t[l];if(c.from!=i.from){c.from<i.to&&(t==s&&(t=s.slice()),t[r]=i.copy(i.from,c.from),Uc(t,l,i.copy(c.from,i.to)));break}c.to!=i.to&&(t==s&&(t=s.slice()),t[l]=c.copy(c.from,i.to),Uc(t,l+1,c.copy(i.to,c.to)))}}return t}function Uc(s,t,r){for(;t<s.length&&Yi(r,s[t])>0;)t++;s.splice(t,0,r)}function Xs(s){let t=[];return s.someProp("decorations",r=>{let i=r(s.state);i&&i!=ur&&t.push(i)}),s.cursorWrapper&&t.push(Xn.create(s.state.doc,[s.cursorWrapper.deco])),ui.from(t)}const Es={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Bf=x&&S<=11;class jc{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset}}class $c{constructor(t,r){this.view=t,this.handleDOMChange=r,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new jc,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver(i=>{for(let l=0;l<i.length;l++)this.queue.push(i[l]);x&&S<=11&&i.some(l=>"childList"==l.type&&l.removedNodes.length||"characterData"==l.type&&l.oldValue.length>l.target.nodeValue.length)?this.flushSoon():this.flush()}),Bf&&(this.onCharData=i=>{this.queue.push({target:i.target,type:"characterData",oldValue:i.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,Es)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let t=this.observer.takeRecords();if(t.length){for(let r=0;r<t.length;r++)this.queue.push(t[r]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(cl(this.view)){if(this.suppressingSelectionUpdates)return bt(this.view);if(x&&S<=11&&!this.view.state.selection.empty){let t=this.view.domSelectionRange();if(t.focusNode&&Sr(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(t){if(!t.focusNode)return!0;let i,r=new Set;for(let c=t.focusNode;c;c=qn(c))r.add(c);for(let c=t.anchorNode;c;c=qn(c))if(r.has(c)){i=c;break}let l=i&&this.view.docView.nearestDesc(i);return l&&l.ignoreMutation({type:"selection",target:3==i.nodeType?i.parentNode:i})?(this.setCurSelection(),!0):void 0}flush(){let{view:t}=this;if(!t.docView||this.flushingSoon>-1)return;let r=this.observer?this.observer.takeRecords():[];this.queue.length&&(r=this.queue.concat(r),this.queue.length=0);let i=t.domSelectionRange(),l=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(i)&&cl(t)&&!this.ignoreSelectionChange(i),c=-1,h=-1,g=!1,C=[];if(t.editable)for(let N=0;N<r.length;N++){let U=this.registerMutation(r[N],C);U&&(c=c<0?U.from:Math.min(U.from,c),h=h<0?U.to:Math.max(U.to,h),U.typeOver&&(g=!0))}if(w&&C.length>1){let N=C.filter(U=>"BR"==U.nodeName);if(2==N.length){let U=N[0],J=N[1];U.parentNode&&U.parentNode.parentNode==J.parentNode?J.remove():U.remove()}}let I=null;c<0&&l&&t.input.lastFocus>Date.now()-200&&Math.max(t.input.lastTouch,t.input.lastClick.time)<Date.now()-300&&kr(i)&&(I=Hs(t))&&I.eq(Je.near(t.state.doc.resolve(0),1))?(t.input.lastFocus=0,bt(t),this.currentSelection.set(i),t.scrollToSelection()):(c>-1||l)&&(c>-1&&(t.docView.markDirty(c,h),function Gc(s){if(!ws.has(s)&&(ws.set(s,null),-1!==["normal","nowrap","pre-line"].indexOf(getComputedStyle(s.dom).whiteSpace))){if(s.requiresGeckoHackNode=w,zc)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),zc=!0}}(t)),this.handleDOMChange(c,h,g,C),t.docView&&t.docView.dirty?t.updateState(t.state):this.currentSelection.eq(i)||bt(t),this.currentSelection.set(i))}registerMutation(t,r){if(r.indexOf(t.target)>-1)return null;let i=this.view.docView.nearestDesc(t.target);if("attributes"==t.type&&(i==this.view.docView||"contenteditable"==t.attributeName||"style"==t.attributeName&&!t.oldValue&&!t.target.getAttribute("style"))||!i||i.ignoreMutation(t))return null;if("childList"==t.type){for(let N=0;N<t.addedNodes.length;N++)r.push(t.addedNodes[N]);if(i.contentDOM&&i.contentDOM!=i.dom&&!i.contentDOM.contains(t.target))return{from:i.posBefore,to:i.posAfter};let l=t.previousSibling,c=t.nextSibling;if(x&&S<=11&&t.addedNodes.length)for(let N=0;N<t.addedNodes.length;N++){let{previousSibling:U,nextSibling:J}=t.addedNodes[N];(!U||Array.prototype.indexOf.call(t.addedNodes,U)<0)&&(l=U),(!J||Array.prototype.indexOf.call(t.addedNodes,J)<0)&&(c=J)}let h=l&&l.parentNode==t.target?sr(l)+1:0,g=i.localPosFromDOM(t.target,h,-1),C=c&&c.parentNode==t.target?sr(c):t.target.childNodes.length;return{from:g,to:i.localPosFromDOM(t.target,C,1)}}return"attributes"==t.type?{from:i.posAtStart-i.border,to:i.posAtEnd+i.border}:{from:i.posAtStart,to:i.posAtEnd,typeOver:t.target.nodeValue==t.oldValue}}}let ws=new WeakMap,zc=!1;function Wc(s){let t=s.pmViewDesc;if(t)return t.parseRule();if("BR"==s.nodeName&&s.parentNode){if(en&&/^(ul|ol)$/i.test(s.parentNode.nodeName)){let r=document.createElement("div");return r.appendChild(document.createElement("li")),{skip:r}}if(s.parentNode.lastChild==s||en&&/^(tr|table)$/i.test(s.parentNode.nodeName))return{ignore:!0}}else if("IMG"==s.nodeName&&s.getAttribute("mark-placeholder"))return{ignore:!0};return null}const Au=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function Ms(s,t,r){return Math.max(r.anchor,r.head)>t.content.size?null:ul(s,t.resolve(r.anchor),t.resolve(r.head))}function Ra(s,t,r){let i=s.depth,l=t?s.end():s.pos;for(;i>0&&(t||s.indexAfter(i)==s.node(i).childCount);)i--,l++,t=!1;if(r){let c=s.node(i).maybeChild(s.indexAfter(i));for(;c&&!c.isLeaf;)c=c.firstChild,l++}return l}class Jg{constructor(t,r){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new Lc,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=r,this.state=r.state,this.directPlugins=r.plugins||[],this.directPlugins.forEach(zf),this.dispatch=this.dispatch.bind(this),this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):"function"==typeof t?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=$f(this),jf(this),this.nodeViews=na(this),this.docView=M(this.state.doc,Uf(this),Xs(this),this.dom,this),this.domObserver=new $c(this,(i,l,c,h)=>function Qs(s,t,r,i,l){if(t<0){let dn=s.input.lastSelectionTime>Date.now()-50?s.input.lastSelectionOrigin:null,Rs=Hs(s,dn);if(Rs&&!s.state.selection.eq(Rs)){if(ue&&_o&&13===s.input.lastKeyCode&&Date.now()-100<s.input.lastKeyCodeTime&&s.someProp("handleKeyDown",ef=>ef(s,Yr(13,"Enter"))))return;let Xa=s.state.tr.setSelection(Rs);"pointer"==dn?Xa.setMeta("pointer",!0):"key"==dn&&Xa.scrollIntoView(),s.composing&&Xa.setMeta("composition",s.input.compositionID),s.dispatch(Xa)}return}let c=s.state.doc.resolve(t),h=c.sharedDepth(r);t=c.before(h+1),r=s.state.doc.resolve(r).after(h+1);let U,J,g=s.state.selection,C=function Hf(s,t,r){let I,{node:i,fromOffset:l,toOffset:c,from:h,to:g}=s.docView.parseRange(t,r),C=s.domSelectionRange(),N=C.anchorNode;if(N&&s.dom.contains(1==N.nodeType?N:N.parentNode)&&(I=[{node:N,offset:C.anchorOffset}],kr(C)||I.push({node:C.focusNode,offset:C.focusOffset})),ue&&8===s.input.lastKeyCode)for(let Dt=c;Dt>l;Dt--){let Pt=i.childNodes[Dt-1],Hr=Pt.pmViewDesc;if("BR"==Pt.nodeName&&!Hr){c=Dt;break}if(!Hr||Hr.size)break}let U=s.state.doc,J=s.someProp("domParser")||Nt.fromSchema(s.state.schema),q=U.resolve(h),se=null,Ve=J.parse(i,{topNode:q.parent,topMatch:q.parent.contentMatchAt(q.index()),topOpen:!0,from:l,to:c,preserveWhitespace:"pre"!=q.parent.type.whitespace||"full",findPositions:I,ruleFromNode:Wc,context:q});if(I&&null!=I[0].pos){let Dt=I[0].pos,Pt=I[1]&&I[1].pos;null==Pt&&(Pt=Dt),se={anchor:Dt+h,head:Pt+h}}return{doc:Ve,sel:se,from:h,to:g}}(s,t,r),I=s.state.doc,N=I.slice(C.from,C.to);8===s.input.lastKeyCode&&Date.now()-100<s.input.lastKeyCodeTime?(U=s.state.selection.to,J="end"):(U=s.state.selection.from,J="start"),s.input.lastKeyCode=null;let q=function ta(s,t,r,i,l){let c=s.findDiffStart(t,r);if(null==c)return null;let{a:h,b:g}=s.findDiffEnd(t,r+s.size,r+t.size);return"end"==l&&(i-=h+Math.max(0,c-Math.min(h,g))-c),h<c&&s.size<t.size?(c-=i<=c&&i>=h?c-i:0,g=c+(g-h),h=c):g<c&&(c-=i<=c&&i>=g?c-i:0,h=c+(h-g),g=c),{start:c,endA:h,endB:g}}(N.content,C.doc.content,C.from,U,J);if((Dr&&s.input.lastIOSEnter>Date.now()-225||_o)&&l.some(dn=>1==dn.nodeType&&!Au.test(dn.nodeName))&&(!q||q.endA>=q.endB)&&s.someProp("handleKeyDown",dn=>dn(s,Yr(13,"Enter"))))return void(s.input.lastIOSEnter=0);if(!q){if(!(i&&g instanceof xt&&!g.empty&&g.$head.sameParent(g.$anchor))||s.composing||C.sel&&C.sel.anchor!=C.sel.head){if(C.sel){let dn=Ms(s,s.state.doc,C.sel);if(dn&&!dn.eq(s.state.selection)){let Rs=s.state.tr.setSelection(dn);s.composing&&Rs.setMeta("composition",s.input.compositionID),s.dispatch(Rs)}}return}q={start:g.from,endA:g.to,endB:g.to}}if(ue&&s.cursorWrapper&&C.sel&&C.sel.anchor==s.cursorWrapper.deco.from&&C.sel.head==C.sel.anchor){let dn=q.endB-q.start;C.sel={anchor:C.sel.anchor+dn,head:C.sel.anchor+dn}}s.input.domChangeCount++,s.state.selection.from<s.state.selection.to&&q.start==q.endB&&s.state.selection instanceof xt&&(q.start>s.state.selection.from&&q.start<=s.state.selection.from+2&&s.state.selection.from>=C.from?q.start=s.state.selection.from:q.endA<s.state.selection.to&&q.endA>=s.state.selection.to-2&&s.state.selection.to<=C.to&&(q.endB+=s.state.selection.to-q.endA,q.endA=s.state.selection.to)),x&&S<=11&&q.endB==q.start+1&&q.endA==q.start&&q.start>C.from&&" \xa0"==C.doc.textBetween(q.start-C.from-1,q.start-C.from+1)&&(q.start--,q.endA--,q.endB--);let Hr,se=C.doc.resolveNoCache(q.start-C.from),Ve=C.doc.resolveNoCache(q.endB-C.from),Dt=I.resolve(q.start),Pt=se.sameParent(Ve)&&se.parent.inlineContent&&Dt.end()>=q.endA;if((Dr&&s.input.lastIOSEnter>Date.now()-225&&(!Pt||l.some(dn=>"DIV"==dn.nodeName||"P"==dn.nodeName))||!Pt&&se.pos<C.doc.content.size&&!se.sameParent(Ve)&&(Hr=Je.findFrom(C.doc.resolve(se.pos+1),1,!0))&&Hr.head==Ve.pos)&&s.someProp("handleKeyDown",dn=>dn(s,Yr(13,"Enter"))))return void(s.input.lastIOSEnter=0);if(s.state.selection.anchor>q.start&&function Zc(s,t,r,i,l){if(!i.parent.isTextblock||r-t<=l.pos-i.pos||Ra(i,!0,!1)<l.pos)return!1;let c=s.resolve(t);if(c.parentOffset<c.parent.content.size||!c.parent.isTextblock)return!1;let h=s.resolve(Ra(c,!0,!0));return!(!h.parent.isTextblock||h.pos>r||Ra(h,!0,!1)<r)&&i.parent.content.cut(i.parentOffset).eq(h.parent.content)}(I,q.start,q.endA,se,Ve)&&s.someProp("handleKeyDown",dn=>dn(s,Yr(8,"Backspace"))))return void(_o&&ue&&s.domObserver.suppressSelectionUpdates());ue&&_o&&q.endB==q.start&&(s.input.lastAndroidDelete=Date.now()),_o&&!Pt&&se.start()!=Ve.start()&&0==Ve.parentOffset&&se.depth==Ve.depth&&C.sel&&C.sel.anchor==C.sel.head&&C.sel.head==q.endA&&(q.endB-=2,Ve=C.doc.resolveNoCache(q.endB-C.from),setTimeout(()=>{s.someProp("handleKeyDown",function(dn){return dn(s,Yr(13,"Enter"))})},20));let uo,Qd,eu,cr=q.start,Qr=q.endA;if(Pt)if(se.pos==Ve.pos)x&&S<=11&&0==se.parentOffset&&(s.domObserver.suppressSelectionUpdates(),setTimeout(()=>bt(s),20)),uo=s.state.tr.delete(cr,Qr),Qd=I.resolve(q.start).marksAcross(I.resolve(q.endA));else if(q.endA==q.endB&&(eu=function ea(s,t){let h,g,C,r=s.firstChild.marks,i=t.firstChild.marks,l=r,c=i;for(let N=0;N<i.length;N++)l=i[N].removeFromSet(l);for(let N=0;N<r.length;N++)c=r[N].removeFromSet(c);if(1==l.length&&0==c.length)g=l[0],h="add",C=N=>N.mark(g.addToSet(N.marks));else{if(0!=l.length||1!=c.length)return null;g=c[0],h="remove",C=N=>N.mark(g.removeFromSet(N.marks))}let I=[];for(let N=0;N<t.childCount;N++)I.push(C(t.child(N)));if(be.from(I).eq(s))return{mark:g,type:h}}(se.parent.content.cut(se.parentOffset,Ve.parentOffset),Dt.parent.content.cut(Dt.parentOffset,q.endA-Dt.start()))))uo=s.state.tr,"add"==eu.type?uo.addMark(cr,Qr,eu.mark):uo.removeMark(cr,Qr,eu.mark);else if(se.parent.child(se.index()).isText&&se.index()==Ve.index()-(Ve.textOffset?0:1)){let dn=se.parent.textBetween(se.parentOffset,Ve.parentOffset);if(s.someProp("handleTextInput",Rs=>Rs(s,cr,Qr,dn)))return;uo=s.state.tr.insertText(dn,cr,Qr)}if(uo||(uo=s.state.tr.replace(cr,Qr,C.doc.slice(q.start-C.from,q.endB-C.from))),C.sel){let dn=Ms(s,uo.doc,C.sel);dn&&!(ue&&_o&&s.composing&&dn.empty&&(q.start!=q.endB||s.input.lastAndroidDelete<Date.now()-100)&&(dn.head==cr||dn.head==uo.mapping.map(Qr)-1)||x&&dn.empty&&dn.head==cr)&&uo.setSelection(dn)}Qd&&uo.ensureMarks(Qd),s.composing&&uo.setMeta("composition",s.input.compositionID),s.dispatch(uo.scrollIntoView())}(this,i,l,c,h)),this.domObserver.start(),function Lr(s){for(let t in xr){let r=xr[t];s.dom.addEventListener(t,s.input.eventHandlers[t]=i=>{A(s,i)&&!E(s,i)&&(s.editable||!(i.type in Cr))&&r(s,i)},Fc[t]?{passive:!0}:void 0)}en&&s.dom.addEventListener("input",()=>null),m(s)}(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let t=this._props;this._props={};for(let r in t)this._props[r]=t[r];this._props.state=this.state}return this._props}update(t){t.handleDOMEvents!=this._props.handleDOMEvents&&m(this);let r=this._props;this._props=t,t.plugins&&(t.plugins.forEach(zf),this.directPlugins=t.plugins),this.updateStateInner(t.state,r)}setProps(t){let r={};for(let i in this._props)r[i]=this._props[i];r.state=this.state;for(let i in t)r[i]=t[i];this.update(r)}updateState(t){this.updateStateInner(t,this._props)}updateStateInner(t,r){let i=this.state,l=!1,c=!1;t.storedMarks&&this.composing&&(Dl(this),c=!0),this.state=t;let h=i.plugins!=t.plugins||this._props.plugins!=r.plugins;if(h||this._props.plugins!=r.plugins||this._props.nodeViews!=r.nodeViews){let J=na(this);(function Xg(s,t){let r=0,i=0;for(let l in s){if(s[l]!=t[l])return!0;r++}for(let l in t)i++;return r!=i})(J,this.nodeViews)&&(this.nodeViews=J,l=!0)}(h||r.handleDOMEvents!=this._props.handleDOMEvents)&&m(this),this.editable=$f(this),jf(this);let g=Xs(this),C=Uf(this),I=i.plugins==t.plugins||i.doc.eq(t.doc)?t.scrollToSelection>i.scrollToSelection?"to selection":"preserve":"reset",N=l||!this.docView.matchesNode(t.doc,C,g);(N||!t.selection.eq(i.selection))&&(c=!0);let U="preserve"==I&&c&&null==this.dom.style.overflowAnchor&&function Ls(s){let i,l,t=s.dom.getBoundingClientRect(),r=Math.max(0,t.top);for(let c=(t.left+t.right)/2,h=r+1;h<Math.min(innerHeight,t.bottom);h+=5){let g=s.root.elementFromPoint(c,h);if(!g||g==s.dom||!s.dom.contains(g))continue;let C=g.getBoundingClientRect();if(C.top>=r-20){i=g,l=C.top;break}}return{refDOM:i,refTop:l,stack:ba(s.dom)}}(this);if(c){this.domObserver.stop();let J=N&&(x||ue)&&!this.composing&&!i.selection.empty&&!t.selection.empty&&function qg(s,t){let r=Math.min(s.$anchor.sharedDepth(s.head),t.$anchor.sharedDepth(t.head));return s.$anchor.start(r)!=t.$anchor.start(r)}(i.selection,t.selection);if(N){let q=ue?this.trackWrites=this.domSelectionRange().focusNode:null;(l||!this.docView.update(t.doc,C,g,this))&&(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=M(t.doc,C,g,this.dom,this)),q&&!this.trackWrites&&(J=!0)}J||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&function dl(s){let t=s.docView.domFromPos(s.state.selection.anchor,0),r=s.domSelectionRange();return Sr(t.node,t.offset,r.anchorNode,r.anchorOffset)}(this))?bt(this,J):(li(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),"reset"==I?this.dom.scrollTop=0:"to selection"==I?this.scrollToSelection():U&&function Di({refDOM:s,refTop:t,stack:r}){let i=s?s.getBoundingClientRect().top:0;Wo(r,0==i?0:i-t)}(U)}scrollToSelection(){let t=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",r=>r(this)))if(this.state.selection instanceof ct){let r=this.docView.domAfterPos(this.state.selection.from);1==r.nodeType&&bo(this,r.getBoundingClientRect(),t)}else bo(this,this.coordsAtPos(this.state.selection.head,1),t)}destroyPluginViews(){let t;for(;t=this.pluginViews.pop();)t.destroy&&t.destroy()}updatePluginViews(t){if(t&&t.plugins==this.state.plugins&&this.directPlugins==this.prevDirectPlugins)for(let r=0;r<this.pluginViews.length;r++){let i=this.pluginViews[r];i.update&&i.update(this,t)}else{this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let r=0;r<this.directPlugins.length;r++){let i=this.directPlugins[r];i.spec.view&&this.pluginViews.push(i.spec.view(this))}for(let r=0;r<this.state.plugins.length;r++){let i=this.state.plugins[r];i.spec.view&&this.pluginViews.push(i.spec.view(this))}}}someProp(t,r){let l,i=this._props&&this._props[t];if(null!=i&&(l=r?r(i):i))return l;for(let h=0;h<this.directPlugins.length;h++){let g=this.directPlugins[h].props[t];if(null!=g&&(l=r?r(g):g))return l}let c=this.state.plugins;if(c)for(let h=0;h<c.length;h++){let g=c[h].props[t];if(null!=g&&(l=r?r(g):g))return l}}hasFocus(){if(x){let t=this.root.activeElement;if(t==this.dom)return!0;if(!t||!this.dom.contains(t))return!1;for(;t&&this.dom!=t&&this.dom.contains(t);){if("false"==t.contentEditable)return!1;t=t.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&function rl(s){if(s.setActive)return s.setActive();if(Ci)return s.focus(Ci);let t=ba(s);s.focus(null==Ci?{get preventScroll(){return Ci={preventScroll:!0},!0}}:void 0),Ci||(Ci=!1,Wo(t,0))}(this.dom),bt(this),this.domObserver.start()}get root(){let t=this._root;if(null==t)for(let r=this.dom.parentNode;r;r=r.parentNode)if(9==r.nodeType||11==r.nodeType&&r.host)return r.getSelection||(Object.getPrototypeOf(r).getSelection=()=>r.ownerDocument.getSelection()),this._root=r;return t||document}posAtCoords(t){return Cu(this,t)}coordsAtPos(t,r=1){return fs(this,t,r)}domAtPos(t,r=0){return this.docView.domFromPos(t,r)}nodeDOM(t){let r=this.docView.descAt(t);return r?r.nodeDOM:null}posAtDOM(t,r,i=-1){let l=this.docView.posFromDOM(t,r,i);if(null==l)throw new RangeError("DOM position not inside the editor");return l}endOfTextblock(t,r){return function Ma(s,t,r){return il==t&&sl==r?wa:(il=t,sl=r,wa="up"==r||"down"==r?function ol(s,t,r){let i=t.selection,l="up"==r?i.$from:i.$to;return ji(s,t,()=>{let{node:c}=s.docView.domFromPos(l.pos,"up"==r?-1:1);for(;;){let g=s.docView.nearestDesc(c,!0);if(!g)break;if(g.node.isBlock){c=g.contentDOM||g.dom;break}c=g.dom.parentNode}let h=fs(s,l.pos,1);for(let g=c.firstChild;g;g=g.nextSibling){let C;if(1==g.nodeType)C=g.getClientRects();else{if(3!=g.nodeType)continue;C=kn(g,0,g.nodeValue.length).getClientRects()}for(let I=0;I<C.length;I++){let N=C[I];if(N.bottom>N.top+1&&("up"==r?h.top-N.top>2*(N.bottom-h.top):N.bottom-h.bottom>2*(h.bottom-N.top)))return!1}}return!0})}(s,t,r):function zi(s,t,r){let{$head:i}=t.selection;if(!i.parent.isTextblock)return!1;let l=i.parentOffset,c=!l,h=l==i.parent.content.size,g=s.domSelection();return $i.test(i.parent.textContent)&&g.modify?ji(s,t,()=>{let{focusNode:C,focusOffset:I,anchorNode:N,anchorOffset:U}=s.domSelectionRange(),J=g.caretBidiLevel;g.modify("move",r,"character");let q=i.depth?s.docView.domAfterPos(i.before()):s.dom,{focusNode:se,focusOffset:Ve}=s.domSelectionRange(),Dt=se&&!q.contains(1==se.nodeType?se:se.parentNode)||C==se&&I==Ve;try{g.collapse(N,U),C&&(C!=N||I!=U)&&g.extend&&g.extend(C,I)}catch{}return null!=J&&(g.caretBidiLevel=J),Dt}):"left"==r||"backward"==r?c:h}(s,t,r))}(this,r||this.state,t)}pasteHTML(t,r){return Ki(this,"",t,!1,r||new ClipboardEvent("paste"))}pasteText(t,r){return Ki(this,t,null,!0,r||new ClipboardEvent("paste"))}destroy(){this.docView&&(function D(s){s.domObserver.stop();for(let t in s.input.eventHandlers)s.dom.removeEventListener(t,s.input.eventHandlers[t]);clearTimeout(s.input.composingTimeout),clearTimeout(s.input.lastIOSEnterFallbackTimeout)}(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Xs(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)}get isDestroyed(){return null==this.docView}dispatchEvent(t){return function V(s,t){!E(s,t)&&xr[t.type]&&(s.editable||!(t.type in Cr))&&xr[t.type](s,t)}(this,t)}dispatch(t){let r=this._props.dispatchTransaction;r?r.call(this,t):this.updateState(this.state.apply(t))}domSelectionRange(){return en&&11===this.root.nodeType&&function Fr(s){let t=s.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}(this.dom.ownerDocument)==this.dom?function Tu(s){let t;function r(C){C.preventDefault(),C.stopImmediatePropagation(),t=C.getTargetRanges()[0]}s.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),s.dom.removeEventListener("beforeinput",r,!0);let i=t.startContainer,l=t.startOffset,c=t.endContainer,h=t.endOffset,g=s.domAtPos(s.state.selection.anchor);return Sr(g.node,g.offset,c,h)&&([i,l,c,h]=[c,h,i,l]),{anchorNode:i,anchorOffset:l,focusNode:c,focusOffset:h}}(this):this.domSelection()}domSelection(){return this.root.getSelection()}}function Uf(s){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(s.editable),s.someProp("attributes",r=>{if("function"==typeof r&&(r=r(s.state)),r)for(let i in r)"class"==i?t.class+=" "+r[i]:"style"==i?t.style=(t.style?t.style+";":"")+r[i]:!t[i]&&"contenteditable"!=i&&"nodeName"!=i&&(t[i]=String(r[i]))}),t.translate||(t.translate="no"),[Io.node(0,s.state.doc.content.size,t)]}function jf(s){if(s.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),s.cursorWrapper={dom:t,deco:Io.widget(s.state.selection.head,t,{raw:!0,marks:s.markCursor})}}else s.cursorWrapper=null}function $f(s){return!s.someProp("editable",t=>!1===t(s.state))}function na(s){let t=Object.create(null);function r(i){for(let l in i)Object.prototype.hasOwnProperty.call(t,l)||(t[l]=i[l])}return s.someProp("nodeViews",r),s.someProp("markViews",r),t}function zf(s){if(s.spec.state||s.spec.filterTransaction||s.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var $t=R(6814);const Gf=["ol",0],ka=["ul",0],Wf=["li",0];function Kf(s,t){return function(r,i){let{$from:l,$to:c,node:h}=r.selection;if(h&&h.isBlock||l.depth<2||!l.sameParent(c))return!1;let g=l.node(-1);if(g.type!=s)return!1;if(0==l.parent.content.size&&l.node(-1).childCount==l.indexAfter(-1)){if(3==l.depth||l.node(-3).type!=s||l.index(-2)!=l.node(-2).childCount-1)return!1;if(i){let U=be.empty,J=l.index(-1)?1:l.index(-2)?2:3;for(let Pt=l.depth-J;Pt>=l.depth-3;Pt--)U=be.from(l.node(Pt).copy(U));let q=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3;U=U.append(be.from(s.createAndFill()));let se=l.before(l.depth-(J-1)),Ve=r.tr.replace(se,l.after(-q),new ie(U,4-J,0)),Dt=-1;Ve.doc.nodesBetween(se,Ve.doc.content.size,(Pt,Hr)=>{if(Dt>-1)return!1;Pt.isTextblock&&0==Pt.content.size&&(Dt=Hr+1)}),Dt>-1&&Ve.setSelection(Je.near(Ve.doc.resolve(Dt))),i(Ve.scrollIntoView())}return!0}let C=c.pos==l.end()?g.contentMatchAt(0).defaultType:null,I=r.tr.delete(l.pos,c.pos),N=C?[t?{type:s,attrs:t}:null,{type:C}]:void 0;return!!wr(I.doc,l.pos,2,N)&&(i&&i(I.split(l.pos,2,N).scrollIntoView()),!0)}}function Yf(s){return function(t,r){let{$from:i,$to:l}=t.selection,c=i.blockRange(l,h=>h.childCount>0&&h.firstChild.type==s);return!!c&&(!r||(i.node(c.depth-1).type==s?function Ao(s,t,r,i){let l=s.tr,c=i.end,h=i.$to.end(i.depth);c<h&&(l.step(new hn(c-1,h,c,h,new ie(be.from(r.create(null,i.parent.copy())),1,0),1,!0)),i=new Ue(l.doc.resolve(i.$from.pos),l.doc.resolve(h),i.depth));const g=Rn(i);if(null==g)return!1;l.lift(i,g);let C=l.mapping.map(c,-1)-1;return Zr(l.doc,C)&&l.join(C),t(l.scrollIntoView()),!0}(t,r,s,c):function Nu(s,t,r){let i=s.tr,l=r.parent;for(let q=r.end,se=r.endIndex-1,Ve=r.startIndex;se>Ve;se--)q-=l.child(se).nodeSize,i.delete(q-1,q+1);let c=i.doc.resolve(r.start),h=c.nodeAfter;if(i.mapping.map(r.end)!=r.start+c.nodeAfter.nodeSize)return!1;let g=0==r.startIndex,C=r.endIndex==l.childCount,I=c.node(-1),N=c.index(-1);if(!I.canReplace(N+(g?0:1),N+1,h.content.append(C?be.empty:be.from(l))))return!1;let U=c.pos,J=U+h.nodeSize;return i.step(new hn(U-(g?1:0),J+(C?1:0),U+1,J-1,new ie((g?be.empty:be.from(l.copy(be.empty))).append(C?be.empty:be.from(l.copy(be.empty))),g?0:1,C?0:1),g?0:1)),t(i.scrollIntoView()),!0}(t,r,c)))}}function Ss(s){return function(t,r){let{$from:i,$to:l}=t.selection,c=i.blockRange(l,I=>I.childCount>0&&I.firstChild.type==s);if(!c)return!1;let h=c.startIndex;if(0==h)return!1;let g=c.parent,C=g.child(h-1);if(C.type!=s)return!1;if(r){let I=C.lastChild&&C.lastChild.type==g.type,N=be.from(I?s.create():null),U=new ie(be.from(s.create(null,be.from(g.type.create(null,N)))),I?3:1,0),J=c.start,q=c.end;r(t.tr.step(new hn(J-(I?3:1),q,J,q,U,1,!0)).scrollIntoView())}return!0}}const Pu={link:{attrs:{href:{},title:{default:null},target:{default:"_blank"}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:s=>({href:s.getAttribute("href"),title:s.getAttribute("title"),target:s.getAttribute("target")})}],toDOM(s){const{href:t,title:r,target:i}=s.attrs;return["a",{href:t,title:r,target:i},0]}},em:{parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"}],toDOM:()=>["em",0]},strong:{parseDOM:[{tag:"strong"},{tag:"b",getAttrs:s=>"normal"!==s.style.fontWeight&&null},{style:"font-weight",getAttrs:s=>/^(?:bold(?:er)?|[5-9]\d{2,})$/.test(s)&&null}],toDOM:()=>["strong",0]},code:{parseDOM:[{tag:"code"}],toDOM:()=>["code",0]},u:{parseDOM:[{tag:"u"},{style:"text-decoration=underline",consuming:!1}],toDOM:()=>["u",0]},s:{parseDOM:[{tag:"s"},{tag:"strike"},{style:"text-decoration=line-through"}],toDOM:()=>["s",0]},text_color:{attrs:{color:{default:null}},parseDOM:[{style:"color",getAttrs:s=>({color:s})}],toDOM(s){const{color:t}=s.attrs;return["span",{style:`color:${t};`},0]}},text_background_color:{attrs:{backgroundColor:{default:null}},parseDOM:[{style:"background-color",getAttrs:s=>({backgroundColor:s})}],toDOM(s){const{backgroundColor:t}=s.attrs;return["span",{style:`background-color:${t};`},0]}}},ia={doc:{content:"block+"},text:{group:"inline"},paragraph:{content:"inline*",group:"block",attrs:{align:{default:null}},parseDOM:[{tag:"p",getAttrs(s){const{textAlign:t}=s.style;return{align:s.getAttribute("align")||t||null}}}],toDOM(s){const{align:t}=s.attrs;return["p",{style:Fe({textAlign:"left"!==t?t:null})||null},0]}},blockquote:{content:"block+",group:"block",defining:!0,parseDOM:[{tag:"blockquote"}],toDOM:()=>["blockquote",0]},horizontal_rule:{group:"block",parseDOM:[{tag:"hr"}],toDOM:()=>["hr"]},heading:{attrs:{level:{default:1},align:{default:null}},content:"inline*",group:"block",defining:!0,parseDOM:[{tag:"h1",getAttrs(s){const{textAlign:t}=s.style;return{level:1,align:s.getAttribute("align")||t||null}}},{tag:"h2",getAttrs(s){const{textAlign:t}=s.style;return{level:2,align:s.getAttribute("align")||t||null}}},{tag:"h3",getAttrs(s){const{textAlign:t}=s.style;return{level:3,align:s.getAttribute("align")||t||null}}},{tag:"h4",getAttrs(s){const{textAlign:t}=s.style;return{level:4,align:s.getAttribute("align")||t||null}}},{tag:"h5",getAttrs(s){const{textAlign:t}=s.style;return{level:5,align:s.getAttribute("align")||t||null}}},{tag:"h6",getAttrs(s){const{textAlign:t}=s.style;return{level:6,align:s.getAttribute("align")||t||null}}}],toDOM(s){const{level:t,align:r}=s.attrs;return[`h${t}`,{style:Fe({textAlign:"left"!==r?r:null})||null},0]}},hard_break:{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM:()=>["br"]},code_block:{content:"text*",marks:"",group:"block",code:!0,defining:!0,parseDOM:[{tag:"pre",preserveWhitespace:"full"}],toDOM:()=>["pre",["code",0]]},image:{inline:!0,attrs:{src:{},alt:{default:null},title:{default:null},width:{default:null}},group:"inline",draggable:!0,parseDOM:[{tag:"img[src]",getAttrs:s=>({src:s.getAttribute("src"),title:s.getAttribute("title"),alt:s.getAttribute("alt"),width:s.getAttribute("width")})}],toDOM(s){const{src:t,alt:r,title:i,width:l}=s.attrs;return["img",{src:t,alt:r,title:i,width:l}]}},list_item:{...{parseDOM:[{tag:"li"}],toDOM:()=>Wf,defining:!0},content:"paragraph block*"},ordered_list:{...{attrs:{order:{default:1}},parseDOM:[{tag:"ol",getAttrs:s=>({order:s.hasAttribute("start")?+s.getAttribute("start"):1})}],toDOM:s=>1==s.attrs.order?Gf:["ol",{start:s.attrs.order},0]},content:"list_item+",group:"block"},bullet_list:{...{parseDOM:[{tag:"ul"}],toDOM:()=>ka},content:"list_item+",group:"block"}},Ji=new class nt{constructor(t){this.cached=Object.create(null);let r=this.spec={};for(let l in t)r[l]=t[l];r.nodes=it.from(t.nodes),r.marks=it.from(t.marks||{}),this.nodes=tr.compile(this.spec.nodes,this),this.marks=eo.compile(this.spec.marks,this);let i=Object.create(null);for(let l in this.nodes){if(l in this.marks)throw new RangeError(l+" can not be both a node and a mark");let c=this.nodes[l],h=c.spec.content||"",g=c.spec.marks;c.contentMatch=i[h]||(i[h]=pt.parse(h,this.nodes)),c.inlineContent=c.contentMatch.inlineContent,c.markSet="_"==g?null:g?jr(this,g.split(" ")):""!=g&&c.inlineContent?null:[]}for(let l in this.marks){let c=this.marks[l],h=c.spec.excludes;c.excluded=null==h?[c]:""==h?[]:jr(this,h.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(t,r=null,i,l){if("string"==typeof t)t=this.nodeType(t);else{if(!(t instanceof tr))throw new RangeError("Invalid node type: "+t);if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}return t.createChecked(r,i,l)}text(t,r){let i=this.nodes.text;return new Et(i,i.defaultAttrs,t,ze.setFrom(r))}mark(t,r){return"string"==typeof t&&(t=this.marks[t]),t.create(r)}nodeFromJSON(t){return et.fromJSON(this,t)}markFromJSON(t){return ze.fromJSON(this,t)}nodeType(t){let r=this.nodes[t];if(!r)throw new RangeError("Unknown node type: "+t);return r}}({marks:Pu,nodes:ia}),Jc=(s,t)=>!s.selection.empty&&(t&&t(s.tr.deleteSelection().scrollIntoView()),!0);function sa(s,t,r=!1){for(let i=s;i;i="start"==t?i.firstChild:i.lastChild){if(i.isTextblock)return!0;if(r&&1!=i.childCount)return!1}return!1}function aa(s){if(!s.parent.type.spec.isolating)for(let t=s.depth-1;t>=0;t--){if(s.index(t)>0)return s.doc.resolve(s.before(t+1));if(s.node(t).type.spec.isolating)break}return null}function ed(s){if(!s.parent.type.spec.isolating)for(let t=s.depth-1;t>=0;t--){let r=s.node(t);if(s.index(t)+1<r.childCount)return s.doc.resolve(s.after(t+1));if(r.type.spec.isolating)break}return null}const td=(s,t)=>{let{$head:r,$anchor:i}=s.selection;return!(!r.parent.type.spec.code||!r.sameParent(i)||(t&&t(s.tr.insertText("\n").scrollIntoView()),0))};function Fa(s){for(let t=0;t<s.edgeCount;t++){let{type:r}=s.edge(t);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}const ah=(s,t)=>{let{$head:r,$anchor:i}=s.selection;if(!r.parent.type.spec.code||!r.sameParent(i))return!1;let l=r.node(-1),c=r.indexAfter(-1),h=Fa(l.contentMatchAt(c));if(!h||!l.canReplaceWith(c,c,h))return!1;if(t){let g=r.after(),C=s.tr.replaceWith(g,g,h.createAndFill());C.setSelection(Je.near(C.doc.resolve(g),1)),t(C.scrollIntoView())}return!0},lh=(s,t)=>{let r=s.selection,{$from:i,$to:l}=r;if(r instanceof wn||i.parent.inlineContent||l.parent.inlineContent)return!1;let c=Fa(l.parent.contentMatchAt(l.indexAfter()));if(!c||!c.isTextblock)return!1;if(t){let h=(!i.parentOffset&&l.index()<l.parent.childCount?i:l).pos,g=s.tr.insert(h,c.createAndFill());g.setSelection(xt.create(g.doc,h+1)),t(g.scrollIntoView())}return!0},Tl=(s,t)=>{let{$cursor:r}=s.selection;if(!r||r.parent.content.size)return!1;if(r.depth>1&&r.after()!=r.end(-1)){let c=r.before();if(wr(s.doc,c))return t&&t(s.tr.split(c).scrollIntoView()),!0}let i=r.blockRange(),l=i&&Rn(i);return null!=l&&(t&&t(s.tr.lift(i,l).scrollIntoView()),!0)},nd=function am(s){return(t,r)=>{let{$from:i,$to:l}=t.selection;if(t.selection instanceof ct&&t.selection.node.isBlock)return!(!i.parentOffset||!wr(t.doc,i.pos)||(r&&r(t.tr.split(i.pos).scrollIntoView()),0));if(!i.parent.isBlock)return!1;if(r){let c=l.parentOffset==l.parent.content.size,h=t.tr;(t.selection instanceof xt||t.selection instanceof wn)&&h.deleteSelection();let g=0==i.depth?null:Fa(i.node(-1).contentMatchAt(i.indexAfter(-1))),C=s&&s(l.parent,c),I=C?[C]:c&&g?[{type:g}]:void 0,N=wr(h.doc,h.mapping.map(i.pos),1,I);if(!I&&!N&&wr(h.doc,h.mapping.map(i.pos),1,g?[{type:g}]:void 0)&&(g&&(I=[{type:g}]),N=!0),N&&(h.split(h.mapping.map(i.pos),1,I),!c&&!i.parentOffset&&i.parent.type!=g)){let U=h.mapping.map(i.before()),J=h.doc.resolve(U);g&&i.node(-1).canReplaceWith(J.index(),J.index()+1,g)&&h.setNodeMarkup(h.mapping.map(i.before()),g)}r(h.scrollIntoView())}return!0}}();function La(s,t,r){let c,h,i=t.nodeBefore,l=t.nodeAfter;if(i.type.spec.isolating||l.type.spec.isolating)return!1;if(function uh(s,t,r){let i=t.nodeBefore,l=t.nodeAfter,c=t.index();return!(!(i&&l&&i.type.compatibleContent(l.type))||(!i.content.size&&t.parent.canReplace(c-1,c)?(r&&r(s.tr.delete(t.pos-i.nodeSize,t.pos).scrollIntoView()),0):!t.parent.canReplace(c,c+1)||!l.isTextblock&&!Zr(s.doc,t.pos)||(r&&r(s.tr.clearIncompatible(t.pos,i.type,i.contentMatchAt(i.childCount)).join(t.pos).scrollIntoView()),0)))}(s,t,r))return!0;let g=t.parent.canReplace(t.index(),t.index()+1);if(g&&(c=(h=i.contentMatchAt(i.childCount)).findWrapping(l.type))&&h.matchType(c[0]||l.type).validEnd){if(r){let U=t.pos+l.nodeSize,J=be.empty;for(let Ve=c.length-1;Ve>=0;Ve--)J=be.from(c[Ve].create(null,J));J=be.from(i.copy(J));let q=s.tr.step(new hn(t.pos-1,U,t.pos,U,new ie(J,1,0),c.length,!0)),se=U+2*c.length;Zr(q.doc,se)&&q.join(se),r(q.scrollIntoView())}return!0}let C=Je.findFrom(t,1),I=C&&C.$from.blockRange(C.$to),N=I&&Rn(I);if(null!=N&&N>=t.depth)return r&&r(s.tr.lift(I,N).scrollIntoView()),!0;if(g&&sa(l,"start",!0)&&sa(i,"end")){let U=i,J=[];for(;J.push(U),!U.isTextblock;)U=U.lastChild;let q=l,se=1;for(;!q.isTextblock;q=q.firstChild)se++;if(U.canReplace(U.childCount,U.childCount,q.content)){if(r){let Ve=be.empty;for(let Pt=J.length-1;Pt>=0;Pt--)Ve=be.from(J[Pt].copy(Ve));r(s.tr.step(new hn(t.pos-J.length,t.pos+l.nodeSize,t.pos+se,t.pos+l.nodeSize-se,new ie(Ve,J.length,0),0,!0)).scrollIntoView())}return!0}}return!1}function Al(s){return function(t,r){let i=t.selection,l=s<0?i.$from:i.$to,c=l.depth;for(;l.node(c).isInline;){if(!c)return!1;c--}return!!l.node(c).isTextblock&&(r&&r(t.tr.setSelection(xt.create(t.doc,s<0?l.start(c):l.end(c)))),!0)}}const rd=Al(-1),od=Al(1);function qi(s,t=null){return function(r,i){let l=!1;for(let c=0;c<r.selection.ranges.length&&!l;c++){let{$from:{pos:h},$to:{pos:g}}=r.selection.ranges[c];r.doc.nodesBetween(h,g,(C,I)=>{if(l)return!1;if(C.isTextblock&&!C.hasMarkup(s,t))if(C.type==s)l=!0;else{let N=r.doc.resolve(I),U=N.index();l=N.parent.canReplaceWith(U,U+1,s)}})}if(!l)return!1;if(i){let c=r.tr;for(let h=0;h<r.selection.ranges.length;h++){let{$from:{pos:g},$to:{pos:C}}=r.selection.ranges[h];c.setBlockType(g,C,s,t)}i(c.scrollIntoView())}return!0}}function xs(s,t=null){return function(r,i){let{empty:l,$cursor:c,ranges:h}=r.selection;if(l&&!c||!function sd(s,t,r){for(let i=0;i<t.length;i++){let{$from:l,$to:c}=t[i],h=0==l.depth&&s.inlineContent&&s.type.allowsMarkType(r);if(s.nodesBetween(l.pos,c.pos,g=>{if(h)return!1;h=g.inlineContent&&g.type.allowsMarkType(r)}),h)return!0}return!1}(r.doc,h,s))return!1;if(i)if(c)s.isInSet(r.storedMarks||c.marks())?i(r.tr.removeStoredMark(s)):i(r.tr.addStoredMark(s.create(t)));else{let g=!1,C=r.tr;for(let I=0;!g&&I<h.length;I++){let{$from:N,$to:U}=h[I];g=r.doc.rangeHasMark(N.pos,U.pos,s)}for(let I=0;I<h.length;I++){let{$from:N,$to:U}=h[I];if(g)C.removeMark(N.pos,U.pos,s);else{let J=N.pos,q=U.pos,se=N.nodeAfter,Ve=U.nodeBefore,Dt=se&&se.isText?/^\s*/.exec(se.text)[0].length:0,Pt=Ve&&Ve.isText?/\s*$/.exec(Ve.text)[0].length:0;J+Dt<q&&(J+=Dt,q-=Pt),C.addMark(J,q,s.create(t))}}i(C.scrollIntoView())}return!0}}function so(...s){return function(t,r,i){for(let l=0;l<s.length;l++)if(s[l](t,r,i))return!0;return!1}}let Lu=so(Jc,(s,t,r)=>{let i=function nh(s,t){let{$cursor:r}=s.selection;return!r||(t?!t.endOfTextblock("backward",s):r.parentOffset>0)?null:r}(s,r);if(!i)return!1;let l=aa(i);if(!l){let h=i.blockRange(),g=h&&Rn(h);return null!=g&&(t&&t(s.tr.lift(h,g).scrollIntoView()),!0)}let c=l.nodeBefore;if(!c.type.spec.isolating&&La(s,l,t))return!0;if(0==i.parent.content.size&&(sa(c,"end")||ct.isSelectable(c))){let h=hi(s.doc,i.before(),i.after(),ie.empty);if(h&&h.slice.size<h.to-h.from){if(t){let g=s.tr.step(h);g.setSelection(sa(c,"end")?Je.findFrom(g.doc.resolve(g.mapping.map(l.pos,-1)),-1):ct.create(g.doc,l.pos-c.nodeSize)),t(g.scrollIntoView())}return!0}}return!(!c.isAtom||l.depth!=i.depth-1||(t&&t(s.tr.delete(l.pos-c.nodeSize,l.pos).scrollIntoView()),0))},(s,t,r)=>{let{$head:i,empty:l}=s.selection,c=i;if(!l)return!1;if(i.parent.isTextblock){if(r?!r.endOfTextblock("backward",s):i.parentOffset>0)return!1;c=aa(i)}let h=c&&c.nodeBefore;return!(!h||!ct.isSelectable(h)||(t&&t(s.tr.setSelection(ct.create(s.doc,c.pos-h.nodeSize)).scrollIntoView()),0))}),ad=so(Jc,(s,t,r)=>{let i=function ku(s,t){let{$cursor:r}=s.selection;return!r||(t?!t.endOfTextblock("forward",s):r.parentOffset<r.parent.content.size)?null:r}(s,r);if(!i)return!1;let l=ed(i);if(!l)return!1;let c=l.nodeAfter;if(La(s,l,t))return!0;if(0==i.parent.content.size&&(sa(c,"start")||ct.isSelectable(c))){let h=hi(s.doc,i.before(),i.after(),ie.empty);if(h&&h.slice.size<h.to-h.from){if(t){let g=s.tr.step(h);g.setSelection(sa(c,"start")?Je.findFrom(g.doc.resolve(g.mapping.map(l.pos)),1):ct.create(g.doc,g.mapping.map(l.pos))),t(g.scrollIntoView())}return!0}}return!(!c.isAtom||l.depth!=i.depth-1||(t&&t(s.tr.delete(l.pos,l.pos+c.nodeSize).scrollIntoView()),0))},(s,t,r)=>{let{$head:i,empty:l}=s.selection,c=i;if(!l)return!1;if(i.parent.isTextblock){if(r?!r.endOfTextblock("forward",s):i.parentOffset<i.parent.content.size)return!1;c=ed(i)}let h=c&&c.nodeAfter;return!(!h||!ct.isSelectable(h)||(t&&t(s.tr.setSelection(ct.create(s.doc,c.pos)).scrollIntoView()),0))});const Si={Enter:so(td,lh,Tl,nd),"Mod-Enter":ah,Backspace:Lu,"Mod-Backspace":Lu,"Shift-Backspace":Lu,Delete:ad,"Mod-Delete":ad,"Mod-a":(s,t)=>(t&&t(s.tr.setSelection(new wn(s.doc))),!0)},Vu={"Ctrl-h":Si.Backspace,"Alt-Backspace":Si["Mod-Backspace"],"Ctrl-d":Si.Delete,"Ctrl-Alt-Backspace":Si["Mod-Delete"],"Alt-Delete":Si["Mod-Delete"],"Alt-d":Si["Mod-Delete"],"Ctrl-a":rd,"Ctrl-e":od};for(let s in Si)Vu[s]=Si[s];const ch=(typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&"darwin"==os.platform())?Vu:Si;class xi{constructor(t,r){this.match=t,this.match=t,this.handler="string"==typeof r?function dh(s){return function(t,r,i,l){let c=s;if(r[1]){let h=r[0].lastIndexOf(r[1]);c+=r[0].slice(h+r[1].length);let g=(i+=h)-l;g>0&&(c=r[0].slice(h-g,h)+c,i=l)}return t.tr.insertText(c,i,l)}}(r):r}}function cd(s,t,r,i,l,c){if(s.composing)return!1;let h=s.state,g=h.doc.resolve(t);if(g.parent.type.spec.code)return!1;let C=g.parent.textBetween(Math.max(0,g.parentOffset-500),g.parentOffset,null,"\ufffc")+i;for(let I=0;I<l.length;I++){let N=l[I].match.exec(C),U=N&&l[I].handler(h,N,t-(N[0].length-i.length),r);if(U)return s.dispatch(U.setMeta(c,{transform:U,from:t,to:r,text:i})),!0}return!1}const Bu=new xi(/--$/,"\u2014"),dd=new xi(/\.\.\.$/,"\u2026"),hd=[new xi(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"\u201c"),new xi(/"$/,"\u201d"),new xi(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"\u2018"),new xi(/'$/,"\u2019")];function Uu(s,t,r=null,i){return new xi(s,(l,c,h,g)=>{let C=r instanceof Function?r(c):r,I=l.tr.delete(h,g),U=I.doc.resolve(h).blockRange(),J=U&&go(U,t,C);if(!J)return null;I.wrap(U,J);let q=I.doc.resolve(h-1).nodeBefore;return q&&q.type==t&&Zr(I.doc,h-1)&&(!i||i(c,q))&&I.join(h-1),I})}function ju(s,t,r=null){return new xi(s,(i,l,c,h)=>{let g=i.doc.resolve(c),C=r instanceof Function?r(l):r;return g.node(-1).canReplaceWith(g.index(-1),g.indexAfter(-1),t)?i.tr.delete(c,h).setBlockType(c,c,t,C):null})}const $u=(s,t)=>{const{from:r,$from:i,to:l,empty:c}=s.selection;return c?!!t.isInSet(s.storedMarks||i.marks()):s.doc.rangeHasMark(r,l,t)},gd=(s,t,r={})=>{const{selection:i}=s,{$from:l,to:c}=i,h=((s,t)=>{for(let r=t.depth;r>0;r-=1)if(t.node(r).type===s)return t.node(r).type;return null})(t,l);return Object.entries(r).length&&h?c<=l.end()&&l.parent.hasMarkup(t,r):!!h},yd=s=>{const t=[],{selection:{from:r,to:i}}=s;return s.doc.nodesBetween(r,i,l=>{t.push(l)}),t},vd=(s,t,r)=>{for(const i of t){const{$from:l,$to:c}=i;let h=0===l.depth&&s.type.allowsMarkType(r);if(s.nodesBetween(l.pos,c.pos,g=>!h&&(h=g.inlineContent&&g.type.allowsMarkType(r),!0)),h)return!0}return!1},Nl=(s,t,r)=>new xi(s,(i,l,c,h)=>{const{tr:g}=i,C=c;let I=h;if(l[2]){const N=c+l[0].indexOf(l[2]),U=N+l[2].length;U<h&&g.delete(U,h),N>c&&g.delete(c,N),I=c+l[2].length}return g.addMark(C,I,t.create(r))}),la=(s,t={})=>(r,i)=>{const{tr:l,selection:c}=r,{empty:h,ranges:g,$from:C,$to:I}=c;if(h&&c instanceof xt){const{$cursor:N}=c;if(!N||!vd(r.doc,g,s)||(l.addStoredMark(s.create(t)),!l.storedMarksSet))return!1;i?.(l)}else{if(l.addMark(C.pos,I.pos,s.create(t)),!l.docChanged)return!1;i?.(l.scrollIntoView())}return!0};for(var gh=R(6593),Ii={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Ba={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Dd=typeof navigator<"u"&&/Mac/.test(navigator.platform),ua=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),Qn=0;Qn<10;Qn++)Ii[48+Qn]=Ii[96+Qn]=String(Qn);for(Qn=1;Qn<=24;Qn++)Ii[Qn+111]="F"+Qn;for(Qn=65;Qn<=90;Qn++)Ii[Qn]=String.fromCharCode(Qn+32),Ba[Qn]=String.fromCharCode(Qn);for(var Pl in Ii)Ba.hasOwnProperty(Pl)||(Ba[Pl]=Ii[Pl]);const Rl=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform);function mh(s){let i,l,c,h,t=s.split(/-(?!$)/),r=t[t.length-1];"Space"==r&&(r=" ");for(let g=0;g<t.length-1;g++){let C=t[g];if(/^(cmd|meta|m)$/i.test(C))h=!0;else if(/^a(lt)?$/i.test(C))i=!0;else if(/^(c|ctrl|control)$/i.test(C))l=!0;else if(/^s(hift)?$/i.test(C))c=!0;else{if(!/^mod$/i.test(C))throw new Error("Unrecognized modifier name: "+C);Rl?h=!0:l=!0}}return i&&(r="Alt-"+r),l&&(r="Ctrl-"+r),h&&(r="Meta-"+r),c&&(r="Shift-"+r),r}function Wu(s,t,r=!0){return t.altKey&&(s="Alt-"+s),t.ctrlKey&&(s="Ctrl-"+s),t.metaKey&&(s="Meta-"+s),r&&t.shiftKey&&(s="Shift-"+s),s}function kl(s){return new jn({props:{handleKeyDown:vh(s)}})}function vh(s){let t=function yh(s){let t=Object.create(null);for(let r in s)t[mh(r)]=s[r];return t}(s);return function(r,i){let c,l=function Gu(s){var r=!(Dd&&s.metaKey&&s.shiftKey&&!s.ctrlKey&&!s.altKey||ua&&s.shiftKey&&s.key&&1==s.key.length||"Unidentified"==s.key)&&s.key||(s.shiftKey?Ba:Ii)[s.keyCode]||s.key||"Unidentified";return"Esc"==r&&(r="Escape"),"Del"==r&&(r="Delete"),"Left"==r&&(r="ArrowLeft"),"Up"==r&&(r="ArrowUp"),"Right"==r&&(r="ArrowRight"),"Down"==r&&(r="ArrowDown"),r}(i),h=t[Wu(l,i)];if(h&&h(r.state,r.dispatch,r))return!0;if(1==l.length&&" "!=l){if(i.shiftKey){let g=t[Wu(l,i,!1)];if(g&&g(r.state,r.dispatch,r))return!0}if((i.shiftKey||i.altKey||i.metaKey||l.charCodeAt(0)>127)&&(c=Ii[i.keyCode])&&c!=l){let g=t[Wu(c,i)];if(g&&g(r.state,r.dispatch,r))return!0}}return!1}}var br=function(){};br.prototype.append=function(t){return t.length?(t=br.from(t),!this.length&&t||t.length<200&&this.leafAppend(t)||this.length<200&&t.leafPrepend(this)||this.appendInner(t)):this},br.prototype.prepend=function(t){return t.length?br.from(t).append(this):this},br.prototype.appendInner=function(t){return new Cd(this,t)},br.prototype.slice=function(t,r){return void 0===t&&(t=0),void 0===r&&(r=this.length),t>=r?br.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,r))},br.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)},br.prototype.forEach=function(t,r,i){void 0===r&&(r=0),void 0===i&&(i=this.length),r<=i?this.forEachInner(t,r,i,0):this.forEachInvertedInner(t,r,i,0)},br.prototype.map=function(t,r,i){void 0===r&&(r=0),void 0===i&&(i=this.length);var l=[];return this.forEach(function(c,h){return l.push(t(c,h))},r,i),l},br.from=function(t){return t instanceof br?t:t&&t.length?new Ll(t):br.empty};var Ll=function(s){function t(i){s.call(this),this.values=i}s&&(t.__proto__=s),(t.prototype=Object.create(s&&s.prototype)).constructor=t;var r={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(l,c){return 0==l&&c==this.length?this:new t(this.values.slice(l,c))},t.prototype.getInner=function(l){return this.values[l]},t.prototype.forEachInner=function(l,c,h,g){for(var C=c;C<h;C++)if(!1===l(this.values[C],g+C))return!1},t.prototype.forEachInvertedInner=function(l,c,h,g){for(var C=c-1;C>=h;C--)if(!1===l(this.values[C],g+C))return!1},t.prototype.leafAppend=function(l){if(this.length+l.length<=200)return new t(this.values.concat(l.flatten()))},t.prototype.leafPrepend=function(l){if(this.length+l.length<=200)return new t(l.flatten().concat(this.values))},r.length.get=function(){return this.values.length},r.depth.get=function(){return 0},Object.defineProperties(t.prototype,r),t}(br);br.empty=new Ll([]);var Cd=function(s){function t(r,i){s.call(this),this.left=r,this.right=i,this.length=r.length+i.length,this.depth=Math.max(r.depth,i.depth)+1}return s&&(t.__proto__=s),(t.prototype=Object.create(s&&s.prototype)).constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(i){return i<this.left.length?this.left.get(i):this.right.get(i-this.left.length)},t.prototype.forEachInner=function(i,l,c,h){var g=this.left.length;if(l<g&&!1===this.left.forEachInner(i,l,Math.min(c,g),h)||c>g&&!1===this.right.forEachInner(i,Math.max(l-g,0),Math.min(this.length,c)-g,h+g))return!1},t.prototype.forEachInvertedInner=function(i,l,c,h){var g=this.left.length;if(l>g&&!1===this.right.forEachInvertedInner(i,l-g,Math.max(c,g)-g,h+g)||c<g&&!1===this.left.forEachInvertedInner(i,Math.min(l,g),c,h))return!1},t.prototype.sliceInner=function(i,l){if(0==i&&l==this.length)return this;var c=this.left.length;return l<=c?this.left.slice(i,l):i>=c?this.right.slice(i-c,l-c):this.left.slice(i,c).append(this.right.slice(0,l-c))},t.prototype.leafAppend=function(i){var l=this.right.leafAppend(i);if(l)return new t(this.left,l)},t.prototype.leafPrepend=function(i){var l=this.left.leafPrepend(i);if(l)return new t(l,this.right)},t.prototype.appendInner=function(i){return this.left.depth>=Math.max(this.right.depth,i.depth)+1?new t(this.left,new t(this.right,i)):new t(this,i)},t}(br);const Vl=br;class Jo{constructor(t,r){this.items=t,this.eventCount=r}popEvent(t,r){if(0==this.eventCount)return null;let l,c,i=this.items.length;for(;;i--)if(this.items.get(i-1).selection){--i;break}r&&(l=this.remapping(i,this.items.length),c=l.maps.length);let g,C,h=t.tr,I=[],N=[];return this.items.forEach((U,J)=>{if(!U.step)return l||(l=this.remapping(i,J+1),c=l.maps.length),c--,void N.push(U);if(l){N.push(new qo(U.map));let se,q=U.step.map(l.slice(c));q&&h.maybeStep(q).doc&&(se=h.mapping.maps[h.mapping.maps.length-1],I.push(new qo(se,void 0,void 0,I.length+N.length))),c--,se&&l.appendMap(se,c)}else h.maybeStep(U.step);return U.selection?(g=l?U.selection.map(l.slice(c)):U.selection,C=new Jo(this.items.slice(0,i).append(N.reverse().concat(I)),this.eventCount-1),!1):void 0},this.items.length,0),{remaining:C,transform:h,selection:g}}addTransform(t,r,i,l){let c=[],h=this.eventCount,g=this.items,C=!l&&g.length?g.get(g.length-1):null;for(let N=0;N<t.steps.length;N++){let q,U=t.steps[N].invert(t.docs[N]),J=new qo(t.mapping.maps[N],U,r);(q=C&&C.merge(J))&&(J=q,N?c.pop():g=g.slice(0,g.length-1)),c.push(J),r&&(h++,r=void 0),l||(C=J)}let I=h-i.depth;return I>_d&&(g=function Zu(s,t){let r;return s.forEach((i,l)=>{if(i.selection&&0==t--)return r=l,!1}),s.slice(r)}(g,I),h-=I),new Jo(g.append(c),h)}remapping(t,r){let i=new je;return this.items.forEach((l,c)=>{i.appendMap(l.map,null!=l.mirrorOffset&&c-l.mirrorOffset>=t?i.maps.length-l.mirrorOffset:void 0)},t,r),i}addMaps(t){return 0==this.eventCount?this:new Jo(this.items.append(t.map(r=>new qo(r))),this.eventCount)}rebased(t,r){if(!this.eventCount)return this;let i=[],l=Math.max(0,this.items.length-r),c=t.mapping,h=t.steps.length,g=this.eventCount;this.items.forEach(J=>{J.selection&&g--},l);let C=r;this.items.forEach(J=>{let q=c.getMirror(--C);if(null==q)return;h=Math.min(h,q);let se=c.maps[q];if(J.step){let Ve=t.steps[q].invert(t.docs[q]),Dt=J.selection&&J.selection.map(c.slice(C+1,q));Dt&&g++,i.push(new qo(se,Ve,Dt))}else i.push(new qo(se))},l);let I=[];for(let J=r;J<h;J++)I.push(new qo(c.maps[J]));let N=this.items.slice(0,l).append(I).append(i),U=new Jo(N,g);return U.emptyItemCount()>500&&(U=U.compress(this.items.length-i.length)),U}emptyItemCount(){let t=0;return this.items.forEach(r=>{r.step||t++}),t}compress(t=this.items.length){let r=this.remapping(0,t),i=r.maps.length,l=[],c=0;return this.items.forEach((h,g)=>{if(g>=t)l.push(h),h.selection&&c++;else if(h.step){let C=h.step.map(r.slice(i)),I=C&&C.getMap();if(i--,I&&r.appendMap(I,i),C){let N=h.selection&&h.selection.map(r.slice(i));N&&c++;let J,U=new qo(I.invert(),C,N),q=l.length-1;(J=l.length&&l[q].merge(U))?l[q]=J:l.push(U)}}else h.map&&i--},this.items.length,0),new Jo(Vl.from(l.reverse()),c)}}Jo.empty=new Jo(Vl.empty,0);class qo{constructor(t,r,i,l){this.map=t,this.step=r,this.selection=i,this.mirrorOffset=l}merge(t){if(this.step&&t.step&&!t.selection){let r=t.step.merge(this.step);if(r)return new qo(r.getMap().invert(),r,this.selection)}}}class ao{constructor(t,r,i,l,c){this.done=t,this.undone=r,this.prevRanges=i,this.prevTime=l,this.prevComposition=c}}const _d=20;function _h(s){let t=[];return s.forEach((r,i,l,c)=>t.push(l,c)),t}function ca(s,t){if(!s)return null;let r=[];for(let i=0;i<s.length;i+=2){let l=t.map(s[i],1),c=t.map(s[i+1],-1);l<=c&&r.push(l,c)}return r}function Ed(s,t,r,i){let l=Ha(t),c=Xo.get(t).spec.config,h=(i?s.undone:s.done).popEvent(t,l);if(!h)return;let g=h.selection.resolve(h.transform.doc),C=(i?s.done:s.undone).addTransform(h.transform,t.selection.getBookmark(),c,l),I=new ao(i?C:h.remaining,i?h.remaining:C,null,0,-1);r(h.transform.setSelection(g).setMeta(Xo,{redo:i,historyState:I}).scrollIntoView())}let Bl=!1,Ku=null;function Ha(s){let t=s.plugins;if(Ku!=t){Bl=!1,Ku=t;for(let r=0;r<t.length;r++)if(t[r].spec.historyPreserveItems){Bl=!0;break}}return Bl}const Xo=new Rr("history"),Ua=new Rr("closeHistory");const Yu=(s,t)=>{let r=Xo.getState(s);return!(!r||0==r.done.eventCount||(t&&Ed(r,s,t,!1),0))},$a=(s,t)=>{let r=Xo.getState(s);return!(!r||0==r.undone.eventCount||(t&&Ed(r,s,t,!0),0))},qu=["imgEl"];function za(s,t){if(1&s){const r=d.EpF();d.TgZ(0,"span",4)(1,"span",5),d.NdJ("mousedown",function(l){d.CHM(r);const c=d.oxw();return d.KtG(c.startResizing(l,"left"))}),d.qZA(),d.TgZ(2,"span",6),d.NdJ("mousedown",function(l){d.CHM(r);const c=d.oxw();return d.KtG(c.startResizing(l,"right"))}),d.qZA(),d.TgZ(3,"span",7),d.NdJ("mousedown",function(l){d.CHM(r);const c=d.oxw();return d.KtG(c.startResizing(l,"left"))}),d.qZA(),d.TgZ(4,"span",8),d.NdJ("mousedown",function(l){d.CHM(r);const c=d.oxw();return d.KtG(c.startResizing(l,"right"))}),d.qZA()()}}const Eh=function(s){return{"NgxEditor__Resizer--Active":s}},Md=["ngxEditor"],wh=["*"];function Mh(s,t){if(1&s&&(d.TgZ(0,"div",12),d._uU(1),d.qZA()),2&s){const r=d.oxw(2);d.xp6(1),d.hij(" ",(null==r.href.errors?null:r.href.errors.pattern)&&"Please enter valid url."," ")}}function Sh(s,t){if(1&s&&(d.TgZ(0,"div",12),d._uU(1),d.qZA()),2&s){const r=d.oxw(2);d.xp6(1),d.hij(" ",(null==r.text.errors?null:r.text.errors.required)&&"This is required"," ")}}function Sd(s,t){if(1&s){const r=d.EpF();d.TgZ(0,"div",2)(1,"form",3),d.NdJ("ngSubmit",function(l){d.CHM(r);const c=d.oxw();return d.KtG(c.insertLink(l))}),d.TgZ(2,"div",4)(3,"div",5)(4,"label",6),d._uU(5),d.ALo(6,"async"),d.qZA(),d._UZ(7,"input",7),d.YNc(8,Mh,2,1,"div",8),d.qZA()(),d.TgZ(9,"div",4)(10,"div",5)(11,"label",6),d._uU(12),d.ALo(13,"async"),d.qZA(),d._UZ(14,"input",9),d.YNc(15,Sh,2,1,"div",8),d.qZA()(),d.TgZ(16,"div",4)(17,"div",5)(18,"label"),d._UZ(19,"input",10),d._uU(20),d.ALo(21,"async"),d.qZA()()(),d.TgZ(22,"button",11),d._uU(23),d.ALo(24,"async"),d.qZA()()()}if(2&s){const r=d.oxw();d.xp6(1),d.Q6J("formGroup",r.form),d.xp6(4),d.Oqu(d.lcZ(6,8,r.getLabel("url"))),d.xp6(3),d.Q6J("ngIf",r.href.touched&&r.href.invalid),d.xp6(4),d.Oqu(d.lcZ(13,10,r.getLabel("text"))),d.xp6(3),d.Q6J("ngIf",r.text.touched&&r.text.invalid),d.xp6(5),d.hij(" ",d.lcZ(21,12,r.getLabel("openInNewTab"))," "),d.xp6(2),d.Q6J("disabled",!r.form.valid),d.xp6(1),d.Oqu(d.lcZ(24,14,r.getLabel("insert")))}}const xd=function(s,t){return{"NgxEditor__Dropdown--Active":s,"NgxEditor--Disabled":t}};function Hl(s,t){if(1&s){const r=d.EpF();d.TgZ(0,"div",4),d.NdJ("mousedown",function(l){const h=d.CHM(r).$implicit,g=d.oxw(2);return d.KtG(g.onClick(l,h))}),d._uU(1),d.ALo(2,"async"),d.qZA()}if(2&s){const r=t.$implicit,i=d.oxw(2);d.Q6J("ngClass",d.WLB(4,xd,r===i.activeItem,i.disabledItems.includes(r))),d.xp6(1),d.hij(" ",d.lcZ(2,2,i.getName(r))," ")}}function Xu(s,t){if(1&s&&(d.TgZ(0,"div",2),d.YNc(1,Hl,3,7,"div",3),d.qZA()),2&s){const r=d.oxw();d.xp6(1),d.Q6J("ngForOf",r.items)("ngForTrackBy",r.trackByIndex)}}function da(s,t){if(1&s&&(d.TgZ(0,"div",12),d._uU(1),d.qZA()),2&s){const r=d.oxw(2);d.xp6(1),d.hij(" ",(null==r.src.errors?null:r.src.errors.pattern)&&"Please enter valid url."," ")}}function xh(s,t){if(1&s){const r=d.EpF();d.TgZ(0,"div",2)(1,"form",3),d.NdJ("ngSubmit",function(l){d.CHM(r);const c=d.oxw();return d.KtG(c.insertLink(l))}),d.TgZ(2,"div",4)(3,"div",5)(4,"label",6),d._uU(5),d.ALo(6,"async"),d.qZA(),d._UZ(7,"input",7),d.YNc(8,da,2,1,"div",8),d.qZA()(),d.TgZ(9,"div",4)(10,"div",5)(11,"label",6),d._uU(12),d.ALo(13,"async"),d.qZA(),d._UZ(14,"input",9),d.qZA()(),d.TgZ(15,"div",4)(16,"div",5)(17,"label",6),d._uU(18),d.ALo(19,"async"),d.qZA(),d._UZ(20,"input",10),d.qZA()(),d.TgZ(21,"button",11),d._uU(22),d.ALo(23,"async"),d.qZA()()()}if(2&s){const r=d.oxw();d.xp6(1),d.Q6J("formGroup",r.form),d.xp6(4),d.Oqu(d.lcZ(6,7,r.getLabel("url"))),d.xp6(3),d.Q6J("ngIf",r.src.touched&&r.src.invalid),d.xp6(4),d.Oqu(d.lcZ(13,9,r.getLabel("altText"))),d.xp6(6),d.Oqu(d.lcZ(19,11,r.getLabel("title"))),d.xp6(3),d.Q6J("disabled",!r.form.valid||!r.form.dirty),d.xp6(1),d.Oqu(d.lcZ(23,13,r.getLabel("insert")))}}const Ih=function(s,t){return{backgroundColor:s,color:t}},um=function(s){return{"NgxEditor__Color--Active":s}};function Th(s,t){if(1&s){const r=d.EpF();d.TgZ(0,"button",7),d.NdJ("mousedown",function(l){const h=d.CHM(r).$implicit,g=d.oxw(3);return d.KtG(g.onColorSelect(l,h))}),d.qZA()}if(2&s){const r=t.$implicit,i=d.oxw(3);d.Q6J("ngStyle",d.WLB(3,Ih,r,i.getContrastYIQ(r)))("title",r)("ngClass",d.VKq(6,um,i.activeColors.includes(r)))}}function Qu(s,t){if(1&s&&(d.TgZ(0,"div",5),d.YNc(1,Th,1,8,"button",6),d.qZA()),2&s){const r=t.$implicit,i=d.oxw(2);d.xp6(1),d.Q6J("ngForOf",r)("ngForTrackBy",i.trackByIndex)}}function Ah(s,t){if(1&s){const r=d.EpF();d.TgZ(0,"div",2),d.YNc(1,Qu,2,2,"div",3),d.TgZ(2,"button",4),d.NdJ("mousedown",function(l){d.CHM(r);const c=d.oxw();return d.KtG(c.remove(l))}),d._uU(3),d.ALo(4,"async"),d.qZA()()}if(2&s){const r=d.oxw();d.xp6(1),d.Q6J("ngForOf",r.presets)("ngForTrackBy",r.trackByIndex),d.xp6(1),d.Q6J("disabled",!r.isActive),d.xp6(1),d.hij(" ",d.lcZ(4,4,r.getLabel("remove"))," ")}}function Ga(s,t){if(1&s&&d._UZ(0,"ngx-toggle-command",7),2&s){const r=d.oxw().$implicit,i=d.oxw(2);d.Tol(i.iconContainerClass),d.Q6J("toolbarItem",r)}}function Ul(s,t){if(1&s&&d._UZ(0,"ngx-insert-command",7),2&s){const r=d.oxw().$implicit,i=d.oxw(2);d.Tol(i.iconContainerClass),d.Q6J("toolbarItem",r)}}function ec(s,t){if(1&s&&d._UZ(0,"ngx-link"),2&s){const r=d.oxw(3);d.Tol(r.iconContainerClass)}}function Id(s,t){if(1&s&&d._UZ(0,"ngx-image"),2&s){const r=d.oxw(3);d.Tol(r.iconContainerClass)}}function Td(s,t){if(1&s&&d._UZ(0,"ngx-dropdown",9),2&s){const r=t.$implicit,i=d.oxw(4);d.Tol(i.dropdownContainerClass),d.Q6J("group",r.key)("items",r.value)}}function Ad(s,t){if(1&s&&(d.ynx(0),d.YNc(1,Td,1,4,"ngx-dropdown",8),d.ALo(2,"keyvalue"),d.BQk()),2&s){const r=d.oxw().$implicit,i=d.oxw(2);d.xp6(1),d.Q6J("ngForOf",d.lcZ(2,2,i.getDropdownItems(r)))("ngForTrackBy",i.trackByIndex)}}function Is(s,t){if(1&s&&d._UZ(0,"ngx-color-picker",10),2&s){const r=d.oxw(3);d.Tol(r.iconContainerClass),d.Q6J("presets",r.presets)}}function Oh(s,t){if(1&s&&d._UZ(0,"ngx-color-picker",11),2&s){const r=d.oxw(3);d.Tol(r.iconContainerClass),d.Q6J("presets",r.presets)}}function Nh(s,t){if(1&s&&d._UZ(0,"div"),2&s){const r=d.oxw(3);d.Tol(r.seperatorClass)}}function Ph(s,t){if(1&s&&(d.ynx(0),d.YNc(1,Ga,1,3,"ngx-toggle-command",3),d.YNc(2,Ul,1,3,"ngx-insert-command",3),d.YNc(3,ec,1,2,"ngx-link",4),d.YNc(4,Id,1,2,"ngx-image",4),d.YNc(5,Ad,3,4,"ng-container",2),d.YNc(6,Is,1,3,"ngx-color-picker",5),d.YNc(7,Oh,1,3,"ngx-color-picker",6),d.YNc(8,Nh,1,2,"div",4),d.BQk()),2&s){const r=t.$implicit,i=t.last,l=d.oxw().last,c=d.oxw();d.xp6(1),d.Q6J("ngIf",c.toggleCommands.includes(r)),d.xp6(1),d.Q6J("ngIf",c.insertCommands.includes(r)),d.xp6(1),d.Q6J("ngIf","link"===r),d.xp6(1),d.Q6J("ngIf","image"===r),d.xp6(1),d.Q6J("ngIf",c.isDropDown(r)),d.xp6(1),d.Q6J("ngIf","text_color"===r),d.xp6(1),d.Q6J("ngIf","background_color"===r),d.xp6(1),d.Q6J("ngIf",i&&!l)}}function Rh(s,t){if(1&s&&(d.ynx(0),d.YNc(1,Ph,9,8,"ng-container",1),d.BQk()),2&s){const r=t.$implicit,i=d.oxw();d.xp6(1),d.Q6J("ngForOf",r)("ngForTrackBy",i.trackByIndex)}}function kh(s,t){if(1&s&&(d.ynx(0),d.GkF(1,12),d.BQk()),2&s){const r=d.oxw();d.xp6(1),d.Q6J("ngTemplateOutlet",r.customMenuRef)}}const Ti=function(s,t){return{"NgxEditor--Disabled":s,"NgxEditor__MenuBar--Reverse":t}},Bh=(s=!0)=>new jn({key:new Rr("editable"),state:{init:()=>s,apply:(t,r)=>t.getMeta("UPDATE_EDITABLE")??r},props:{editable(t){return this.getState(t)},attributes(t){return this.getState(t)?null:{class:"NgxEditor__Content--Disabled"}}}}),Hh=s=>new jn({key:new Rr("placeholder"),state:{init:()=>s??"",apply:(t,r)=>t.getMeta("UPDATE_PLACEHOLDER")??r},props:{decorations(t){const{doc:r}=t,{textContent:i,childCount:l}=r,c=this.getState(t);if(!c||l>1)return Xn.empty;const h=[];return r.descendants((C,I)=>{if(C.type.isBlock&&0===C.childCount&&0===i.length){const J=Io.node(I,I+C.nodeSize,{class:"NgxEditor__Placeholder","data-placeholder":c,"data-align":C.attrs.align??null});h.push(J)}return!1}),Xn.create(r,h)}}});let jl=(()=>{class s{constructor(){this.alt="",this.title="",this.outerWidth="",this.selected=!1,this.imageResize=new d.vpe}startResizing(r,i){r.preventDefault(),this.resizeImage(r,i)}resizeImage(r,i){const l=r.pageX,c=this.imgEl.nativeElement.clientWidth,h="left"===i,{width:g}=window.getComputedStyle(this.view.dom),C=parseInt(g,10),I=U=>{const q=U.pageX-l,se=h?c-q:c+q;se>C||se<20||(this.outerWidth=`${se}px`)},N=U=>{U.preventDefault(),document.removeEventListener("mousemove",I),document.removeEventListener("mouseup",N),this.imageResize.emit()};document.addEventListener("mousemove",I),document.addEventListener("mouseup",N)}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275cmp=d.Xpm({type:s,selectors:[["ngx-image-view"]],viewQuery:function(r,i){if(1&r&&d.Gf(qu,7),2&r){let l;d.iGM(l=d.CRH())&&(i.imgEl=l.first)}},inputs:{src:"src",alt:"alt",title:"title",outerWidth:"outerWidth",selected:"selected",view:"view"},outputs:{imageResize:"imageResize"},decls:4,vars:9,consts:[[1,"NgxEditor__ImageWrapper",3,"ngClass"],["class","NgxEditor__ResizeHandle",4,"ngIf"],[3,"src","alt","title"],["imgEl",""],[1,"NgxEditor__ResizeHandle"],[1,"NgxEditor__ResizeHandle--TL",3,"mousedown"],[1,"NgxEditor__ResizeHandle--TR",3,"mousedown"],[1,"NgxEditor__ResizeHandle--BL",3,"mousedown"],[1,"NgxEditor__ResizeHandle--BR",3,"mousedown"]],template:function(r,i){1&r&&(d.TgZ(0,"span",0),d.YNc(1,za,5,0,"span",1),d._UZ(2,"img",2,3),d.qZA()),2&r&&(d.Udp("width",i.outerWidth),d.Q6J("ngClass",d.VKq(7,Eh,i.selected)),d.xp6(1),d.Q6J("ngIf",i.selected),d.xp6(1),d.Q6J("src",i.src,d.LSH)("alt",i.alt)("title",i.title))},dependencies:[$t.mk,$t.O5],styles:["*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{box-sizing:border-box}img[_ngcontent-%COMP%]{width:100%;height:100%}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]{position:relative;display:inline-block;line-height:0;padding:2px}.NgxEditor__ImageWrapper.NgxEditor__Resizer--Active[_ngcontent-%COMP%]{padding:1px;border:1px solid #1a73e8}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]{position:absolute;height:100%;width:100%}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--TL[_ngcontent-%COMP%], .NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--BL[_ngcontent-%COMP%], .NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--TR[_ngcontent-%COMP%], .NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--BR[_ngcontent-%COMP%]{position:absolute;width:7px;height:7px;background-color:#1a73e8;border:1px solid white}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--BR[_ngcontent-%COMP%]{bottom:-5px;right:-5px;cursor:se-resize}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--TR[_ngcontent-%COMP%]{top:-5px;right:-5px;cursor:ne-resize}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--TL[_ngcontent-%COMP%]{top:-5px;left:-5px;cursor:nw-resize}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--BL[_ngcontent-%COMP%]{bottom:-5px;left:-5px;cursor:sw-resize}"]}),s})();class Ai{constructor(t,r,i,l){this.updating=!1,this.handleResize=()=>{if(this.updating)return;const{state:c,dispatch:h}=this.view,{tr:g}=c,C=g.setNodeMarkup(this.getPos(),void 0,{...this.node.attrs,width:this.imageComponentRef.instance.outerWidth}),I=C.doc.resolve(this.getPos()),N=new ct(I);C.setSelection(N),h(C)},this.applicationRef=l.get(d.z2F),this.imageComponentRef=(0,d.LMc)(jl,{environmentInjector:this.applicationRef.injector}),this.applicationRef.attachView(this.imageComponentRef.hostView),this.setNodeAttributes(t.attrs),this.imageComponentRef.instance.view=r,this.dom=this.imageComponentRef.location.nativeElement,this.view=r,this.node=t,this.getPos=i,this.resizeSubscription=this.imageComponentRef.instance.imageResize.subscribe(()=>{this.handleResize()})}computeChanges(t,r){return JSON.stringify(t)===JSON.stringify(r)}setNodeAttributes(t){this.imageComponentRef.instance.src=t.src,this.imageComponentRef.instance.alt=t.alt,this.imageComponentRef.instance.title=t.title,this.imageComponentRef.instance.outerWidth=t.width}update(t){return t.type===this.node.type&&(this.node=t,this.computeChanges(this.node.attrs,t.attrs)&&(this.updating=!0,this.setNodeAttributes(t.attrs),this.updating=!1),!0)}ignoreMutation(){return!0}selectNode(){this.imageComponentRef.instance.selected=!0}deselectNode(){this.imageComponentRef.instance.selected=!1}destroy(){this.resizeSubscription.unsubscribe(),this.applicationRef.detachView(this.imageComponentRef.hostView)}}const Nd=/(?:https?:\/\/)?[\w-]+(?:\.[\w-]+)+\.?(?:\d+)?(?:\/\S*)?$/,tc=s=>{const t=[];return s.forEach(r=>{if(r.isText){const i=r.text;let l=0;const c=Nd.exec(i);if(c){const h=c.index,g=h+c[0].length,{link:C}=r.type.schema.marks;h>0&&t.push(r.cut(l,h));const I=i.slice(h,g);t.push(r.cut(h,g).mark(C.create({href:I}).addToSet(r.marks))),l=g}l<i.length&&t.push(r.cut(l))}else t.push(r.copy(tc(r.content)))}),be.fromArray(t)},zh=s=>"string"==typeof s,Gh=s=>window.trustedTypes?.isHTML(s)??!1,$l=s=>zh(s)||Gh(s),zl={type:"doc",content:[{type:"paragraph"}]},ha=(s,t)=>{if(!s)return t.nodeFromJSON(zl);if(!$l(s))return t.nodeFromJSON(s);const r=((s,t)=>{const r=t??Ji,i=document.createElement("div");return i.innerHTML=s,Nt.fromSchema(r).parse(i).toJSON()})(s,t);return t.nodeFromJSON(r)};let Wh=(()=>{class s{constructor(r,i,l){this.renderer=r,this.injector=i,this.elementRef=l,this.placeholder="Type Here...",this.focusOut=new d.vpe,this.focusIn=new d.vpe,this.unsubscribe=new le.x,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(r){!this.outputFormat&&$l(r)&&(this.outputFormat="html"),this.editor.setContent(r??zl)}registerOnChange(r){this.onChange=r}registerOnTouched(r){this.onTouched=r}setDisabledState(r){this.setMeta("UPDATE_EDITABLE",!r),this.renderer.setProperty(this.elementRef.nativeElement,"disabled",r)}handleChange(r){if("html"!==this.outputFormat)this.onChange(r);else{const i=((s,t)=>{const r=this.editor.schema??Ji,i=r.nodeFromJSON(s),l=$.fromSchema(r).serializeFragment(i.content),c=document.createElement("div");return c.appendChild(l),c.innerHTML})(r);this.onChange(i)}}setMeta(r,i){const{dispatch:l,state:{tr:c}}=this.editor.view;l(c.setMeta(r,i))}setPlaceholder(r){this.setMeta("UPDATE_PLACEHOLDER",r)}registerPlugins(){this.editor.registerPlugin(Bh()),this.editor.registerPlugin(Hh(this.placeholder)),this.editor.registerPlugin(((s={})=>new jn({key:new Rr("attributes"),props:{attributes:s}}))({class:"NgxEditor__Content"})),this.editor.registerPlugin((s=>new jn({key:new Rr("focus"),props:{handleDOMEvents:{focus:()=>(s(),!1)}}}))(()=>{this.focusIn.emit()})),this.editor.registerPlugin((s=>new jn({key:new Rr("blur"),props:{handleDOMEvents:{blur:()=>(s(),!1)}}}))(()=>{this.focusOut.emit(),this.onTouched()})),this.editor.features.resizeImage&&this.editor.registerPlugin((s=>new jn({key:new Rr("image-resize"),props:{nodeViews:{image:(t,r,i)=>new Ai(t,r,i,s)}}}))(this.injector)),this.editor.features.linkOnPaste&&this.editor.registerPlugin(new jn({key:new Rr("linkify"),props:{transformPasted:s=>new ie(tc(s.content),s.openStart,s.openEnd)}}))}ngOnInit(){if(!this.editor)throw new $e("Required editor instance for initializing editor component");this.registerPlugins(),this.renderer.appendChild(this.ngxEditor.nativeElement,this.editor.view.dom),this.editor.valueChanges.pipe(function _e(s){return(0,ve.e)((t,r)=>{(0,Se.Xf)(s).subscribe((0,ne.x)(r,()=>r.complete(),we.Z)),!r.closed&&t.subscribe(r)})}(this.unsubscribe)).subscribe(r=>{this.handleChange(r)})}ngOnChanges(r){r.placeholder&&!r.placeholder.isFirstChange()&&this.setPlaceholder(r.placeholder.currentValue)}ngOnDestroy(){this.unsubscribe.next(),this.unsubscribe.complete()}}return s.\u0275fac=function(r){return new(r||s)(d.Y36(d.Qsj),d.Y36(d.zs3),d.Y36(d.SBq))},s.\u0275cmp=d.Xpm({type:s,selectors:[["ngx-editor"]],viewQuery:function(r,i){if(1&r&&d.Gf(Md,7),2&r){let l;d.iGM(l=d.CRH())&&(i.ngxEditor=l.first)}},inputs:{editor:"editor",outputFormat:"outputFormat",placeholder:"placeholder"},outputs:{focusOut:"focusOut",focusIn:"focusIn"},features:[d._Bn([{provide:G.JU,useExisting:(0,d.Gpc)(()=>s),multi:!0}]),d.TTD],ngContentSelectors:wh,decls:3,vars:0,consts:[[1,"NgxEditor"],["ngxEditor",""]],template:function(r,i){1&r&&(d.F$t(),d.TgZ(0,"div",0,1),d.Hsn(2),d.qZA())},styles:['.NgxEditor{background:white;color:#000;background-clip:padding-box;border-radius:4px;border:1px solid rgba(0,0,0,.2);position:relative}.NgxEditor--Disabled{opacity:.5;pointer-events:none}.NgxEditor__Placeholder:before{color:#6c757d;opacity:1;-webkit-user-select:none;user-select:none;position:absolute;cursor:text;content:attr(data-placeholder)}.NgxEditor__Placeholder[data-align=right]:before{position:relative}.NgxEditor__Content{padding:8px;white-space:pre-wrap;outline:none;font-variant-ligatures:none;font-feature-settings:"liga" 0}.NgxEditor__Content p{margin:0 0 10px}.NgxEditor__Content blockquote{padding-left:16px;border-left:3px solid #ddd;margin-left:0;margin-right:0}.NgxEditor__Content--Disabled{-webkit-user-select:none;user-select:none;pointer-events:none}.NgxEditor__Wrapper{border:1px solid rgba(0,0,0,.4);border-radius:4px}.NgxEditor__Wrapper .NgxEditor__MenuBar{border-top-left-radius:4px;border-top-right-radius:4px;border-bottom:1px solid rgba(0,0,0,.2)}.NgxEditor__Wrapper .NgxEditor{border-top-left-radius:0;border-top-right-radius:0;border:none}.NgxEditor__MenuBar{display:flex;flex-wrap:wrap;padding:3px;cursor:default;background-color:#fff}.NgxEditor__MenuItem{border-radius:2px;display:flex;align-items:center;justify-content:center;position:relative;flex-shrink:0}.NgxEditor__MenuItem:hover{background-color:#f1f1f1}.NgxEditor__MenuItem.NgxEditor__MenuItem--Icon{height:30px;width:30px;transition:.3s ease-in-out}.NgxEditor__MenuItem.NgxEditor__MenuItem--Icon+.NgxEditor__MenuItem--Icon{margin-left:2px}.NgxEditor__MenuItem .NgxEditor__MenuItem--IconContainer{display:flex;height:100%;width:100%;align-items:center;justify-content:center}.NgxEditor__MenuItem.NgxEditor__MenuItem--Text{padding:0 5px}.NgxEditor__MenuItem.NgxEditor__MenuItem--Active,.NgxEditor__MenuItem .NgxEditor__MenuItem--Active{background-color:#e8f0fe;color:#1a73e8}.NgxEditor__Dropdown{min-width:64px;position:relative;display:flex;align-items:center;flex-shrink:0}.NgxEditor__Dropdown:hover{background-color:#f1f1f1}.NgxEditor__Dropdown .NgxEditor__Dropdown--Text{display:flex;align-items:center;justify-content:center;padding:0 5px;height:100%;width:100%}.NgxEditor__Dropdown .NgxEditor__Dropdown--Text:after{display:inline-block;content:"";margin-left:24px;vertical-align:4px;border-top:4px solid;border-right:4px solid transparent;border-bottom:0;border-left:4px solid transparent}.NgxEditor__Dropdown .NgxEditor__Dropdown--DropdownMenu{position:absolute;left:0;box-shadow:#3c404326 0 2px 6px 2px;border-radius:4px;background-color:#fff;z-index:10;width:100%;top:32px}.NgxEditor__Dropdown .NgxEditor__Dropdown--Item{padding:8px;white-space:nowrap;color:inherit}.NgxEditor__Dropdown .NgxEditor__Dropdown--Item:hover{background-color:#ececec}.NgxEditor__Dropdown .NgxEditor__Dropdown--Selected,.NgxEditor__Dropdown .NgxEditor__Dropdown--Open{color:#1a73e8;background-color:#e8f0fe}.NgxEditor__Dropdown .NgxEditor__Dropdown--Active{background-color:#f1f1f1}.NgxEditor__Dropdown .NgxEditor__Dropdown--Active:hover{background-color:#e7e7e7}.NgxEditor__MenuBar--Reverse .NgxEditor__Dropdown--DropdownMenu{top:unset;bottom:32px}.NgxEditor__MenuBar--Reverse .NgxEditor__Dropdown--Text:after{transform:rotate(180deg)}.NgxEditor__MenuBar--Reverse .NgxEditor__Popup{top:unset;bottom:32px}.NgxEditor__Popup{position:absolute;top:32px;box-shadow:#3c404326 0 2px 6px 2px;border-radius:4px;background-color:#fff;z-index:10;min-width:192px;padding:8px}.NgxEditor__Popup .NgxEditor__Popup--FormGroup{margin-bottom:8px}.NgxEditor__Popup .NgxEditor__Popup--FormGroup label{margin-bottom:3px}.NgxEditor__Popup .NgxEditor__Popup--FormGroup input[type=text],.NgxEditor__Popup .NgxEditor__Popup--FormGroup input[type=url]{padding:2px 4px}.NgxEditor__Popup .NgxEditor__Popup--Col{display:flex;flex-direction:column;position:relative}.NgxEditor__Popup .NgxEditor__Popup--Label{font-size:85%}.NgxEditor__Seperator{border-left:1px solid #ccc;margin:0 5px}.NgxEditor__HelpText{font-size:80%}.NgxEditor__HelpText.NgxEditor__HelpText--Error{color:red}\n'],encapsulation:2}),s})(),Xi=(()=>{class s{constructor(){this.customMenuRefChange=new le.x}setCustomMenuRef(r){this.customMenuRefChange.next(r)}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275prov=d.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();class pa{constructor(t){this.name=t}apply(){return(t,r)=>{const{schema:i}=t,l=i.marks[this.name];return!!l&&la(l)(t,r)}}toggle(){return(t,r)=>{const{schema:i}=t,l=i.marks[this.name];return!!l&&xs(l)(t,r)}}isActive(t){const{schema:r}=t,i=r.marks[this.name];return!!i&&$u(t,i)}canExecute(t){return this.toggle()(t)}}class Ts{constructor(t=!1){this.isBulletList=!1,this.isBulletList=t}getType(t){return this.isBulletList?t.nodes.bullet_list:t.nodes.ordered_list}toggle(){return(t,r)=>{const{schema:i}=t,l=this.getType(i);return!!l&&(this.isActive(t)?Yf(i.nodes.list_item)(t,r):function Zf(s,t=null){return function(r,i){let{$from:l,$to:c}=r.selection,h=l.blockRange(c),g=!1,C=h;if(!h)return!1;if(h.depth>=2&&l.node(h.depth-1).type.compatibleContent(s)&&0==h.startIndex){if(0==l.index(h.depth-1))return!1;let N=r.doc.resolve(h.start-2);C=new Ue(N,N,h.depth),h.endIndex<h.parent.childCount&&(h=new Ue(l,r.doc.resolve(c.end(h.depth)),h.depth)),g=!0}let I=go(C,s,t,h);return!!I&&(i&&i(function Qg(s,t,r,i,l){let c=be.empty;for(let N=r.length-1;N>=0;N--)c=be.from(r[N].type.create(r[N].attrs,c));s.step(new hn(t.start-(i?2:0),t.end,t.start,t.end,new ie(c,0,0),r.length,!0));let h=0;for(let N=0;N<r.length;N++)r[N].type==l&&(h=N+1);let g=r.length-h,C=t.start+r.length-(i?2:0),I=t.parent;for(let N=t.startIndex,U=t.endIndex,J=!0;N<U;N++,J=!1)!J&&wr(s.doc,C,g)&&(s.split(C,g),C+=2*g),C+=I.child(N).nodeSize;return s}(r.tr,h,I,g,s).scrollIntoView()),!0)}}(l)(t,r))}}isActive(t){const{schema:r}=t,i=this.getType(r);return!!i&&gd(t,i)}canExecute(t){return this.toggle()(t)}}class Qi{constructor(t){this.level=t}apply(){return(t,r)=>{const{schema:i}=t,l=i.nodes.heading;return!!l&&qi(l)(t,r)}}toggle(){return(t,r)=>{const{schema:i,selection:l,doc:c}=t,h=i.nodes.heading;if(!h)return!1;const g=l.$from.before(1),I=c.nodeAt(g)?.attrs??{};return this.isActive(t)?qi(i.nodes.paragraph,I)(t,r):qi(h,{...I,level:this.level})(t,r)}}isActive(t){const{schema:r}=t,i=yd(t),l=r.nodes.heading;if(!l)return!1;const c=[l,r.nodes.text,r.nodes.blockquote];return!!i.filter(C=>c.includes(C.type)).find(C=>C.attrs.level===this.level)}canExecute(t){return this.toggle()(t)}}class As{constructor(t){this.align=t}toggle(){return(t,r)=>{const{doc:i,selection:l,tr:c,schema:h}=t,{from:g,to:C}=l;let I=!1;return i.nodesBetween(g,C,(N,U)=>{const J=N.type;return[h.nodes.paragraph,h.nodes.heading].includes(J)&&(I=!0,c.setNodeMarkup(U,J,{...N.attrs,align:this.align})),!0}),!!I&&(c.docChanged&&r?.(c),!0)}}isActive(t){return!!yd(t).find(l=>l.attrs.align===this.align)}canExecute(t){return this.toggle()(t)}}const Kh={strict:!0};let Ln=class{update(t){return(r,i)=>{const{schema:l,selection:c}=r,h=l.marks.link;return!(!h||c.empty)&&xs(h,t)(r,i)}}insert(t,r){return(i,l)=>{const{schema:c,tr:h}=i;if(!c.marks.link)return!1;const I=c.text(t,[c.marks.link.create({href:r.href,title:r.title??t,target:r.target??"_blank"})]);return h.replaceSelectionWith(I,!1).scrollIntoView(),!!h.docChanged&&(l?.(h),!0)}}isActive(t,r=Kh){if(r.strict)return!0;const{schema:i}=t,l=i.marks.link;return!!l&&$u(t,l)}remove(t,r){return((s,t)=>{const{doc:r,selection:i,tr:l}=s,{$head:{pos:c},from:h,to:g}=i;if(h===g){const C=r.resolve(c),I=c-C.textOffset,N=I+C.parent.child(C.index()).nodeSize;l.removeMark(I,N)}else l.removeMark(h,g);return!!l.docChanged&&(t?.(l),!0)})(t,r)}canExecute(t){const r={href:""};return this.insert("Exec",r)(t)||this.update(r)(t)}},nc=class{insert(t,r){return(i,l)=>{const{schema:c,tr:h,selection:g}=i,C=c.nodes.image;if(!C)return!1;const I={width:null,src:t,...r};!I.width&&g instanceof ct&&g.node.type===C&&(I.width=g.node.attrs.width),h.replaceSelectionWith(C.createAndFill(I));const N=h.doc.resolve(h.selection.anchor-h.selection.$anchor.nodeBefore.nodeSize);return h.setSelection(new ct(N)).scrollIntoView(),!!h.docChanged&&(l?.(h),!0)}}isActive(t){const{selection:r}=t;return r instanceof ct&&"image"===r.node.type.name}},ga=class{constructor(t,r="color"){this.name=t,this.attrName=r}apply(t){return(r,i)=>{const{schema:l,selection:c,doc:h}=r,g=l.marks[this.name];if(!g)return!1;const{from:C,to:I,empty:N}=c;if(!N&&C+1===I){const U=h.nodeAt(C);if(U?.isAtom&&!U.isText&&U.isLeaf)return!1}return la(g,t)(r,i)}}isActive(t){const{schema:r}=t,i=r.marks[this.name];return!!i&&$u(t,i)}getActiveColors(t){if(!this.isActive(t))return[];const{schema:r}=t;return(s=>{let t=[];const{selection:r,storedMarks:i}=s,{from:l,to:c,empty:h,$from:g}=r;return h?t=i||g.marks():s.doc.nodesBetween(l,c,C=>{t=[...t,...C.marks]}),t})(t).filter(c=>c.type===r.marks[this.name]).map(c=>c.attrs[this.attrName]).filter(Boolean)}remove(){return(t,r)=>{const{schema:i}=t,l=i.marks[this.name];return!!l&&(s=l,(t,r)=>{const{tr:i,selection:l,storedMarks:c,doc:h}=t,{empty:g,ranges:C}=l;if(g&&l instanceof xt){const{$cursor:I}=l;if(!I||!vd(t.doc,C,s))return!1;if(s.isInSet(c||I.marks()))return i.removeStoredMark(s),r?.(i),!0}else{for(const I of C){const{$from:N,$to:U}=I;h.rangeHasMark(N.pos,U.pos,s)&&i.removeMark(N.pos,U.pos,s)}if(!i.docChanged)return!1;r?.(i.scrollIntoView())}return!1})(t,r);var s}}canExecute(t){return this.apply("text_color"===this.name?{color:""}:{backgroundColor:""})(t)}};const rc=["link"],Yh=new pa("strong"),Jh=new pa("em"),qh=new pa("code"),Xh=new pa("u"),Fd=new pa("s"),gm=new class Zh{toggle(){return(t,r)=>{const{schema:i}=t,l=i.nodes.blockquote;return!!l&&(this.isActive(t)?((s,t)=>{let{$from:r,$to:i}=s.selection,l=r.blockRange(i),c=l&&Rn(l);return null!=c&&(t&&t(s.tr.lift(l,c).scrollIntoView()),!0)})(t,r):function id(s,t=null){return function(r,i){let{$from:l,$to:c}=r.selection,h=l.blockRange(c),g=h&&go(h,s,t);return!!g&&(i&&i(r.tr.wrap(h,g).scrollIntoView()),!0)}}(l)(t,r))}}isActive(t){const{schema:r}=t,i=r.nodes.blockquote;return!!i&&gd(t,i)}canExecute(t){return this.toggle()(t)}},mm=new class Rd{insert(){return(t,r)=>{const{schema:i,tr:l}=t,c=i.nodes.horizontal_rule;return!!c&&(r(l.replaceSelectionWith(c.create()).scrollIntoView()),!0)}}canExecute(t){return((s,t)=>{const{$from:r}=s.selection;for(let i=r.depth;i>=0;i-=1){const l=r.index(i);if(r.node(i).canReplaceWith(l,l,t))return!0}return!1})(t,t.schema.nodes.horizontal_rule)}},Za=new class kd{insert(){return(t,r)=>{const{tr:i}=t,{ranges:l,empty:c}=i.selection;return c||(Object.entries(t.schema.marks).forEach(([h,g])=>{rc.includes(h)||l.forEach(C=>{i.removeMark(C.$from.pos,C.$to.pos,g)})}),r(i)),!0}}canExecute(){return!0}},vn=new Ts(!0),Ka=new Ts(!1),Ld=new Qi(1),Vd=new Qi(2),Bd=new Qi(3),oc=new Qi(4),Qh=new Qi(5),Hd=new Qi(6),Ud=new As("left"),ic=new As("center"),ym=new As("right"),sc=new As("justify"),ep=new Ln,ac=new nc,jd=new ga("text_color","color"),$d=new ga("text_background_color","backgroundColor"),ci={bold:Yh,italic:Jh,code:qh,underline:Xh,strike:Fd,blockquote:gm,bullet_list:vn,ordered_list:Ka,h1:Ld,h2:Vd,h3:Bd,h4:oc,h5:Qh,h6:Hd,align_left:Ud,align_center:ic,align_right:ym,align_justify:sc},zd={horizontal_rule:mm,format_clear:Za},Os=ep,Ya=ac,tp=jd,lc=$d,ma={bold:"Bold",italic:"Italic",code:"Code",underline:"Underline",strike:"Strike",blockquote:"Blockquote",bullet_list:"Bullet List",ordered_list:"Ordered List",heading:"Heading",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6",align_left:"Left Align",align_center:"Center Align",align_right:"Right Align",align_justify:"Justify",text_color:"Text Color",background_color:"Background Color",horizontal_rule:"Horizontal rule",format_clear:"Clear Formatting",insertLink:"Insert Link",removeLink:"Remove Link",insertImage:"Insert Image",url:"URL",text:"Text",openInNewTab:"Open in new tab",insert:"Insert",altText:"Alt Text",title:"Title",remove:"Remove"};class Ns{constructor(t={}){this.locals=ma,this.get=r=>{const i=this.locals[r];return i?(0,Y.b)(i)?i:(0,P.of)(i):(0,P.of)("")},this.locals={...ma,...t}}}const Wl={bold:'\n  <path d="M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42zM10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3v-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5z" />\n',italic:'\n  <path d="M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4z" />\n',code:'\n<path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"/>\n',underline:'\n<path d="M12 17c3.31 0 6-2.69 6-6V3h-2.5v8c0 1.93-1.57 3.5-3.5 3.5S8.5 12.93 8.5 11V3H6v8c0 3.31 2.69 6 6 6zm-7 2v2h14v-2H5z"/>\n',strike:'\n<path d="M6.85,7.08C6.85,4.37,9.45,3,12.24,3c1.64,0,3,0.49,3.9,1.28c0.77,0.65,1.46,1.73,1.46,3.24h-3.01 c0-0.31-0.05-0.59-0.15-0.85c-0.29-0.86-1.2-1.28-2.25-1.28c-1.86,0-2.34,1.02-2.34,1.7c0,0.48,0.25,0.88,0.74,1.21 C10.97,8.55,11.36,8.78,12,9H7.39C7.18,8.66,6.85,8.11,6.85,7.08z M21,12v-2H3v2h9.62c1.15,0.45,1.96,0.75,1.96,1.97 c0,1-0.81,1.67-2.28,1.67c-1.54,0-2.93-0.54-2.93-2.51H6.4c0,0.55,0.08,1.13,0.24,1.58c0.81,2.29,3.29,3.3,5.67,3.3 c2.27,0,5.3-0.89,5.3-4.05c0-0.3-0.01-1.16-0.48-1.94H21V12z"/>\n',ordered_list:'\n<path d="M2 17h2v.5H3v1h1v.5H2v1h3v-4H2v1zm1-9h1V4H2v1h1v3zm-1 3h1.8L2 13.1v.9h3v-1H3.2L5 10.9V10H2v1zm5-6v2h14V5H7zm0 14h14v-2H7v2zm0-6h14v-2H7v2z"/>\n',bullet_list:'\n<path d="M4 10.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-6c-.83 0-1.5.67-1.5 1.5S3.17 7.5 4 7.5 5.5 6.83 5.5 6 4.83 4.5 4 4.5zm0 12c-.83 0-1.5.68-1.5 1.5s.68 1.5 1.5 1.5 1.5-.68 1.5-1.5-.67-1.5-1.5-1.5zM7 19h14v-2H7v2zm0-6h14v-2H7v2zm0-8v2h14V5H7z"/>\n',blockquote:'\n<path d="M0 0h24v24H0z" fill="none"/><path d="M6 17h3l2-4V7H5v6h3zm8 0h3l2-4V7h-6v6h3z"/>\n',link:'\n<path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>\n',unlink:'\n<path d="M17 7h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1 0 1.43-.98 2.63-2.31 2.98l1.46 1.46C20.88 15.61 22 13.95 22 12c0-2.76-2.24-5-5-5zm-1 4h-2.19l2 2H16zM2 4.27l3.11 3.11C3.29 8.12 2 9.91 2 12c0 2.76 2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1 0-1.59 1.21-2.9 2.76-3.07L8.73 11H8v2h2.73L13 15.27V17h1.73l4.01 4L20 19.74 3.27 3 2 4.27z"/>\n',image:'\n<path d="M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"/>\n',align_left:'\n<path d="M15 15H3v2h12v-2zm0-8H3v2h12V7zM3 13h18v-2H3v2zm0 8h18v-2H3v2zM3 3v2h18V3H3z"/>\n',align_center:'\n<path d="M7 15v2h10v-2H7zm-4 6h18v-2H3v2zm0-8h18v-2H3v2zm4-6v2h10V7H7zM3 3v2h18V3H3z"/>\n',align_right:'\n<path d="M3 21h18v-2H3v2zm6-4h12v-2H9v2zm-6-4h18v-2H3v2zm6-4h12V7H9v2zM3 3v2h18V3H3z"/>\n',align_justify:'\n<path d="M3 21h18v-2H3v2zm0-4h18v-2H3v2zm0-4h18v-2H3v2zm0-4h18V7H3v2zm0-6v2h18V3H3z"/>\n',text_color:'\n<path d="M2,20h20v4H2V20z M5.49,17h2.42l1.27-3.58h5.65L16.09,17h2.42L13.25,3h-2.5L5.49,17z M9.91,11.39l2.03-5.79h0.12l2.03,5.79 H9.91z"/>\n',color_fill:'\n<path d="M16.56,8.94L7.62,0L6.21,1.41l2.38,2.38L3.44,8.94c-0.59,0.59-0.59,1.54,0,2.12l5.5,5.5C9.23,16.85,9.62,17,10,17 s0.77-0.15,1.06-0.44l5.5-5.5C17.15,10.48,17.15,9.53,16.56,8.94z M5.21,10L10,5.21L14.79,10H5.21z M19,11.5c0,0-2,2.17-2,3.5 c0,1.1,0.9,2,2,2s2-0.9,2-2C21,13.67,19,11.5,19,11.5z M2,20h20v4H2V20z"/>\n',horizontal_rule:'\n  <g>\n    <rect fill="none" fill-rule="evenodd" height="24" width="24"/>\n    <rect fill-rule="evenodd" height="2" width="16" x="4" y="11"/>\n  </g>\n',format_clear:'\n<path d="M0 0h24v24H0z" fill="none"/><path d="M3.27 5L2 6.27l6.97 6.97L6.5 19h3l1.57-3.66L16.73 21 18 19.73 3.55 5.27 3.27 5zM6 5v.18L8.82 8h2.4l-.72 1.68 2.1 2.1L14.21 8H20V5H6z"/>\n',path:"<path></path>"};class hc{static get(t,r="currentColor"){const i=Wl[t];return i&&(i.includes("<path")||i.includes("<g"))?`\n        <svg\n          xmlns="http://www.w3.org/2000/svg"\n          viewBox="0 0 24 24"\n          fill=${r}\n          height=20\n          width=20\n        >\n          ${i}\n        </svg>\n      `:i}}let Ps=(()=>{class s{constructor(){this.locals={},this.icons={}}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275prov=d.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),Oi=(()=>{class s{constructor(r){this.config=r}get locals(){return new Ns(this.config.locals)}getIcon(r){return this.config.icons[r]?this.config.icons[r]:hc.get(r)}}return s.\u0275fac=function(r){return new(r||s)(d.LFG(Ps,8))},s.\u0275prov=d.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Zl=s=>({locals:s.locals??{},icons:s.icons??{}});let di=(()=>{class s{constructor(r){this.sanitizer=r}transform(r){return Gh(r)?r:this.sanitizer.bypassSecurityTrustHtml(r)}}return s.\u0275fac=function(r){return new(r||s)(d.Y36(gh.H7,16))},s.\u0275pipe=d.Yjl({name:"sanitizeHtml",type:s,pure:!0}),s})(),Kl=(()=>{class s{get name(){return this.toolbarItem}constructor(r,i){this.ngxeService=r,this.menuService=i,this.isActive=!1,this.disabled=!1,this.update=l=>{const{state:c}=l,h=ci[this.name];this.isActive=h.isActive(c),this.disabled=!h.canExecute(c)}}toggle(r){if(r.preventDefault(),0!==r.button)return;const{state:i,dispatch:l}=this.editorView;ci[this.name].toggle()(i,l)}getTitle(r){return this.ngxeService.locals.get(r)}ngOnInit(){this.html=this.ngxeService.getIcon(this.name),this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe(r=>{this.update(r)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}}return s.\u0275fac=function(r){return new(r||s)(d.Y36(Oi),d.Y36(Xi))},s.\u0275cmp=d.Xpm({type:s,selectors:[["ngx-toggle-command"]],inputs:{toolbarItem:"toolbarItem"},decls:3,vars:10,consts:[[1,"NgxEditor__MenuItem--IconContainer",3,"innerHTML","title","mousedown"]],template:function(r,i){1&r&&(d.TgZ(0,"div",0),d.NdJ("mousedown",function(c){return i.toggle(c)}),d.ALo(1,"sanitizeHtml"),d.ALo(2,"async"),d.qZA()),2&r&&(d.ekj("NgxEditor__MenuItem--Active",i.isActive)("NgxEditor--Disabled",i.disabled),d.Q6J("innerHTML",d.lcZ(1,6,i.html),d.oJD)("title",d.lcZ(2,8,i.getTitle(i.name))))},dependencies:[$t.Ov,di]}),s})(),Ja=(()=>{class s{get name(){return this.toolbarItem}constructor(r,i){this.ngxeService=r,this.menuService=i,this.disabled=!1,this.update=l=>{const{state:c}=l;this.disabled=!zd[this.name].canExecute(c)}}insert(r){if(r.preventDefault(),0!==r.button)return;const{state:i,dispatch:l}=this.editorView;zd[this.name].insert()(i,l)}getTitle(r){return this.ngxeService.locals.get(r)}ngOnInit(){this.html=this.ngxeService.getIcon(this.name),this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe(r=>{this.update(r)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}}return s.\u0275fac=function(r){return new(r||s)(d.Y36(Oi),d.Y36(Xi))},s.\u0275cmp=d.Xpm({type:s,selectors:[["ngx-insert-command"]],inputs:{toolbarItem:"toolbarItem"},decls:3,vars:8,consts:[[1,"NgxEditor__MenuItem--IconContainer",3,"innerHTML","title","mousedown"]],template:function(r,i){1&r&&(d.TgZ(0,"div",0),d.NdJ("mousedown",function(c){return i.insert(c)}),d.ALo(1,"sanitizeHtml"),d.ALo(2,"async"),d.qZA()),2&r&&(d.ekj("NgxEditor--Disabled",i.disabled),d.Q6J("innerHTML",d.lcZ(1,4,i.html),d.oJD)("title",d.lcZ(2,6,i.getTitle(i.name))))},dependencies:[$t.Ov,di]}),s})(),Kd=(()=>{class s{constructor(r,i,l){this.el=r,this.ngxeService=i,this.menuService=l,this.showPopup=!1,this.isActive=!1,this.canExecute=!0,this.setText=()=>{const{state:{selection:c,doc:h}}=this.editorView,{empty:g,from:C,to:I}=c,N=g?"":h.textBetween(C,I);N&&(this.text.patchValue(N),this.text.disable())},this.update=c=>{const{state:h}=c;this.isActive=Os.isActive(h,{strict:!1}),this.canExecute=Os.canExecute(h)}}get icon(){return this.ngxeService.getIcon(this.isActive?"unlink":"link")}get title(){return this.ngxeService.locals.get(this.isActive?"removeLink":"insertLink")}get href(){return this.form.get("href")}get text(){return this.form.get("text")}onDocumentClick(r){!this.el.nativeElement.contains(r.target)&&this.showPopup&&this.hideForm()}getLabel(r){return this.ngxeService.locals.get(r)}hideForm(){this.showPopup=!1,this.form.reset({href:"",text:"",openInNewTab:!0}),this.text.enable()}onMouseDown(r){if(0!==r.button)return;const{state:i,dispatch:l}=this.editorView;this.isActive?Os.remove(i,l):(this.showPopup=!this.showPopup,this.showPopup&&this.setText())}insertLink(r){r.preventDefault();const{text:i,href:l,openInNewTab:c}=this.form.getRawValue(),{dispatch:h,state:g}=this.editorView,{selection:C}=g,I={title:l,href:l,target:c?"_blank":"_self"};C.empty?(Os.insert(i,I)(g,h),this.editorView.focus()):Os.update(I)(g,h),this.hideForm()}ngOnInit(){this.editorView=this.menuService.editor.view,this.form=new G.cw({href:new G.NI("",[G.kI.required,G.kI.pattern(this.menuService.editor.linkValidationPattern)]),text:new G.NI("",[G.kI.required]),openInNewTab:new G.NI(!0)}),this.updateSubscription=this.menuService.editor.update.subscribe(r=>{this.update(r)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}}return s.\u0275fac=function(r){return new(r||s)(d.Y36(d.SBq),d.Y36(Oi),d.Y36(Xi))},s.\u0275cmp=d.Xpm({type:s,selectors:[["ngx-link"]],hostBindings:function(r,i){1&r&&d.NdJ("mousedown",function(c){return i.onDocumentClick(c)},!1,d.evT)},decls:4,vars:11,consts:[[1,"NgxEditor__MenuItem--IconContainer",3,"innerHTML","title","mousedown"],["class","NgxEditor__Popup",4,"ngIf"],[1,"NgxEditor__Popup"],[1,"NgxEditor__Popup--Form",3,"formGroup","ngSubmit"],[1,"NgxEditor__Popup--FormGroup"],[1,"NgxEditor__Popup--Col"],[1,"NgxEditor__Popup--Label"],["type","href","id","href","formControlName","href","autofocus","","autocomplete","off"],["class","NgxEditor__HelpText NgxEditor__HelpText--Error",4,"ngIf"],["type","text","formControlName","text","autocomplete","off"],["type","checkbox","formControlName","openInNewTab"],["type","submit",3,"disabled"],[1,"NgxEditor__HelpText","NgxEditor__HelpText--Error"]],template:function(r,i){1&r&&(d.TgZ(0,"div",0),d.NdJ("mousedown",function(c){return i.onMouseDown(c)}),d.ALo(1,"sanitizeHtml"),d.ALo(2,"async"),d.qZA(),d.YNc(3,Sd,25,16,"div",1)),2&r&&(d.ekj("NgxEditor__MenuItem--Active",i.isActive||i.showPopup)("NgxEditor--Disabled",!i.canExecute),d.Q6J("innerHTML",d.lcZ(1,7,i.icon),d.oJD)("title",d.lcZ(2,9,i.title)),d.xp6(3),d.Q6J("ngIf",i.showPopup))},dependencies:[$t.O5,G._Y,G.Fj,G.Wl,G.JJ,G.JL,G.sg,G.u,$t.Ov,di]}),s})(),pc=(()=>{class s{constructor(r,i,l){this.ngxeService=r,this.menuService=i,this.el=l,this.isDropdownOpen=!1,this.disabledItems=[],this.update=c=>{const{state:h}=c;this.disabledItems=[];const g=[];this.items.forEach(C=>{const I=ci[C];I.isActive(h)&&g.push(C),I.canExecute(h)||this.disabledItems.push(C)}),1===g.length?[this.activeItem]=g:this.activeItem=null}}get isSelected(){return!(!this.activeItem&&!this.isDropdownOpen)}get isDropdownDisabled(){return this.disabledItems.length===this.items.length}onDocumentClick(r){!this.el.nativeElement.contains(r)&&this.isDropdownOpen&&(this.isDropdownOpen=!1)}getName(r){return this.ngxeService.locals.get(r)}toggleDropdown(r){r.preventDefault(),this.isDropdownOpen=!this.isDropdownOpen}trackByIndex(r){return r}onClick(r,i){if(r.preventDefault(),0!==r.button)return;const l=ci[i],{state:c,dispatch:h}=this.editorView;l.toggle()(c,h),this.isDropdownOpen=!1}ngOnInit(){this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe(r=>{this.update(r)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}}return s.\u0275fac=function(r){return new(r||s)(d.Y36(Oi),d.Y36(Xi),d.Y36(d.SBq))},s.\u0275cmp=d.Xpm({type:s,selectors:[["ngx-dropdown"]],hostBindings:function(r,i){1&r&&d.NdJ("mousedown",function(c){return i.onDocumentClick(c.target)},!1,d.evT)},inputs:{group:"group",items:"items"},decls:4,vars:8,consts:[[1,"NgxEditor__Dropdown--Text",3,"mousedown"],["class","NgxEditor__Dropdown--DropdownMenu",4,"ngIf"],[1,"NgxEditor__Dropdown--DropdownMenu"],["class","NgxEditor__Dropdown--Item",3,"ngClass","mousedown",4,"ngFor","ngForOf","ngForTrackBy"],[1,"NgxEditor__Dropdown--Item",3,"ngClass","mousedown"]],template:function(r,i){1&r&&(d.TgZ(0,"div",0),d.NdJ("mousedown",function(c){return i.toggleDropdown(c)}),d._uU(1),d.ALo(2,"async"),d.qZA(),d.YNc(3,Xu,2,2,"div",1)),2&r&&(d.ekj("NgxEditor__Dropdown--Selected",i.isSelected)("NgxEditor--Disabled",i.isDropdownDisabled),d.xp6(1),d.hij(" ",d.lcZ(2,6,i.getName(i.activeItem||i.group)),"\n"),d.xp6(2),d.Q6J("ngIf",i.isDropdownOpen))},dependencies:[$t.mk,$t.sg,$t.O5,$t.Ov]}),s})(),Yl=(()=>{class s{constructor(r,i,l){this.el=r,this.ngxeService=i,this.menuService=l,this.showPopup=!1,this.isActive=!1,this.form=new G.cw({src:new G.NI("",[G.kI.required,G.kI.pattern("(https?://)?([\\da-z.-]+)\\.([a-z.]{2,6})[/\\w .-]*/??([^#\n\r]*)?#?([^\n\r]*)")]),alt:new G.NI(""),title:new G.NI("")}),this.update=c=>{const{state:h}=c;this.isActive=Ya.isActive(h)}}get icon(){return this.ngxeService.getIcon("image")}get src(){return this.form.get("src")}onDocumentClick(r){!this.el.nativeElement.contains(r.target)&&this.showPopup&&this.hideForm()}getLabel(r){return this.ngxeService.locals.get(r)}hideForm(){this.showPopup=!1,this.form.reset({src:"",alt:"",title:""})}onMouseDown(r){0===r.button&&(this.showPopup=!this.showPopup,this.showPopup&&this.fillForm())}fillForm(){const{state:r}=this.editorView,{selection:i}=r;if(i instanceof ct&&this.isActive){const{src:l,alt:c="",title:h=""}=i.node.attrs;this.form.setValue({src:l,alt:c,title:h})}}insertLink(r){r.preventDefault();const{src:i,alt:l,title:c}=this.form.getRawValue(),{dispatch:h,state:g}=this.editorView;Ya.insert(i,{alt:l,title:c})(g,h),this.editorView.focus(),this.hideForm()}ngOnInit(){this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe(r=>{this.update(r)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}}return s.\u0275fac=function(r){return new(r||s)(d.Y36(d.SBq),d.Y36(Oi),d.Y36(Xi))},s.\u0275cmp=d.Xpm({type:s,selectors:[["ngx-image"]],hostBindings:function(r,i){1&r&&d.NdJ("mousedown",function(c){return i.onDocumentClick(c)},!1,d.evT)},decls:4,vars:9,consts:[[1,"NgxEditor__MenuItem--IconContainer",3,"innerHTML","title","mousedown"],["class","NgxEditor__Popup",4,"ngIf"],[1,"NgxEditor__Popup"],[1,"NgxEditor__Popup--Form",3,"formGroup","ngSubmit"],[1,"NgxEditor__Popup--FormGroup"],[1,"NgxEditor__Popup--Col"],[1,"NgxEditor__Popup--Label"],["type","href","id","href","formControlName","src","autofocus","","autocomplete","off"],["class","NgxEditor__HelpText NgxEditor__HelpText--Error",4,"ngIf"],["type","text","formControlName","alt","autocomplete","off"],["type","text","formControlName","title","autocomplete","off"],["type","submit",3,"disabled"],[1,"NgxEditor__HelpText","NgxEditor__HelpText--Error"]],template:function(r,i){1&r&&(d.TgZ(0,"div",0),d.NdJ("mousedown",function(c){return i.onMouseDown(c)}),d.ALo(1,"sanitizeHtml"),d.ALo(2,"async"),d.qZA(),d.YNc(3,xh,24,15,"div",1)),2&r&&(d.ekj("NgxEditor__MenuItem--Active",i.isActive||i.showPopup),d.Q6J("innerHTML",d.lcZ(1,5,i.icon),d.oJD)("title",d.lcZ(2,7,i.getLabel("insertImage"))),d.xp6(3),d.Q6J("ngIf",i.showPopup))},dependencies:[$t.O5,G._Y,G.Fj,G.JJ,G.JL,G.sg,G.u,$t.Ov,di]}),s})(),bm=(()=>{class s{constructor(r,i,l){this.el=r,this.menuService=i,this.ngxeService=l,this.showPopup=!1,this.isActive=!1,this.activeColors=[],this.canExecute=!0,this.update=c=>{const{state:h}=c;this.canExecute=this.command.canExecute(h),this.isActive=this.command.isActive(h),this.activeColors=[],this.isActive&&(this.activeColors=this.command.getActiveColors(h))}}get title(){return this.getLabel("text_color"===this.type?"text_color":"background_color")}get icon(){return this.ngxeService.getIcon("text_color"===this.type?"text_color":"color_fill")}get command(){return"text_color"===this.type?tp:lc}getContrastYIQ(r){const i=r.replace("#","");return(299*parseInt(i.substring(0,2),16)+587*parseInt(i.substring(2,4),16)+114*parseInt(i.substring(4,6),16))/1e3>=128?"black":"white"}onDocumentClick(r){!this.el.nativeElement.contains(r.target)&&this.showPopup&&this.hidePopup()}hidePopup(){this.showPopup=!1}togglePopup(r){r.preventDefault(),0===r.button&&(this.showPopup=!this.showPopup)}remove(r){r.preventDefault();const{state:i,dispatch:l}=this.editorView;this.command.remove()(i,l),this.hidePopup()}trackByIndex(r){return r}onColorSelect(r,i){if(r.preventDefault(),0!==r.button)return;const{state:l,dispatch:c}=this.editorView;"text_color"===this.type?this.command.apply({color:i})(l,c):this.command.apply({backgroundColor:i})(l,c),this.editorView.hasFocus()||this.editorView.focus(),this.hidePopup()}getLabel(r){return this.ngxeService.locals.get(r)}ngOnInit(){this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe(r=>{this.update(r)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}}return s.\u0275fac=function(r){return new(r||s)(d.Y36(d.SBq),d.Y36(Xi),d.Y36(Oi))},s.\u0275cmp=d.Xpm({type:s,selectors:[["ngx-color-picker"]],hostBindings:function(r,i){1&r&&d.NdJ("mousedown",function(c){return i.onDocumentClick(c)},!1,d.evT)},inputs:{presets:"presets",type:"type"},decls:4,vars:11,consts:[[1,"NgxEditor__MenuItem--IconContainer",3,"innerHTML","title","mousedown"],["class","NgxEditor__Popup",4,"ngIf"],[1,"NgxEditor__Popup"],["class","NgxEditor__ColorContainer",4,"ngFor","ngForOf","ngForTrackBy"],[1,"NgxEditor__MenuItem--Button",3,"disabled","mousedown"],[1,"NgxEditor__ColorContainer"],["class","NgxEditor__Color",3,"ngStyle","title","ngClass","mousedown",4,"ngFor","ngForOf","ngForTrackBy"],[1,"NgxEditor__Color",3,"ngStyle","title","ngClass","mousedown"]],template:function(r,i){1&r&&(d.TgZ(0,"div",0),d.NdJ("mousedown",function(c){return i.togglePopup(c)}),d.ALo(1,"sanitizeHtml"),d.ALo(2,"async"),d.qZA(),d.YNc(3,Ah,5,6,"div",1)),2&r&&(d.ekj("NgxEditor__MenuItem--Active",i.isActive||i.showPopup)("NgxEditor--Disabled",!i.canExecute),d.Q6J("innerHTML",d.lcZ(1,7,i.icon),d.oJD)("title",d.lcZ(2,9,i.title)),d.xp6(3),d.Q6J("ngIf",i.showPopup))},dependencies:[$t.mk,$t.sg,$t.O5,$t.PC,$t.Ov,di],styles:['@charset "UTF-8";.NgxEditor__Popup[_ngcontent-%COMP%]{width:230px}.NgxEditor__ColorContainer[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.NgxEditor__ColorContainer[_ngcontent-%COMP%] + .NgxEditor__ColorContainer[_ngcontent-%COMP%]{margin-top:5px}.NgxEditor__Color[_ngcontent-%COMP%]{border:none;outline:none;border-radius:6px;width:24px;height:24px;flex-shrink:0}.NgxEditor__Color--Active[_ngcontent-%COMP%]:after{content:"\\2714";font-size:90%}.NgxEditor__MenuItem--Button[_ngcontent-%COMP%]{margin-top:5px}']}),s})();const gc=[["bold","italic"],[{heading:["h1","h2","h3","h4","h5","h6"]}],["link","image"],["text_color","background_color"]],fp=["#b60205","#d93f0b","#fbca04","#0e8a16","#006b75","#1d76db","#0052cc","#5319e7","#e99695","#f9d0c4","#fef2c0","#c2e0c6","#bfdadc","#c5def5","#bfd4f2","#d4c5f9"];let hp=(()=>{class s{constructor(r){this.menuService=r,this.toolbar=gc,this.colorPresets=fp,this.disabled=!1,this.customMenuRef=null,this.dropdownPlacement="bottom",this.toggleCommands=["bold","italic","underline","strike","code","blockquote","ordered_list","bullet_list","align_left","align_center","align_right","align_justify"],this.insertCommands=["horizontal_rule","format_clear"],this.iconContainerClass=["NgxEditor__MenuItem","NgxEditor__MenuItem--Icon"],this.dropdownContainerClass=["NgxEditor__Dropdown"],this.seperatorClass=["NgxEditor__Seperator"]}get presets(){const i=[];return this.colorPresets.forEach((l,c)=>{const h=Math.floor(c/8);i[h]||i.push([]),i[h].push(l)}),i}trackByIndex(r){return r}isDropDown(r){return!!r?.heading}getDropdownItems(r){return r}ngOnInit(){if(!this.editor)throw new $e("Required editor instance to initialize menu component");this.menuService.editor=this.editor}}return s.\u0275fac=function(r){return new(r||s)(d.Y36(Xi))},s.\u0275cmp=d.Xpm({type:s,selectors:[["ngx-editor-menu"]],inputs:{toolbar:"toolbar",colorPresets:"colorPresets",disabled:"disabled",editor:"editor",customMenuRef:"customMenuRef",dropdownPlacement:"dropdownPlacement"},features:[d._Bn([Xi])],decls:3,vars:7,consts:[[1,"NgxEditor__MenuBar",3,"ngClass"],[4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],[3,"toolbarItem","class",4,"ngIf"],[3,"class",4,"ngIf"],["type","text_color",3,"class","presets",4,"ngIf"],["type","background_color",3,"class","presets",4,"ngIf"],[3,"toolbarItem"],[3,"class","group","items",4,"ngFor","ngForOf","ngForTrackBy"],[3,"group","items"],["type","text_color",3,"presets"],["type","background_color",3,"presets"],[3,"ngTemplateOutlet"]],template:function(r,i){1&r&&(d.TgZ(0,"div",0),d.YNc(1,Rh,2,2,"ng-container",1),d.YNc(2,kh,2,1,"ng-container",2),d.qZA()),2&r&&(d.Q6J("ngClass",d.WLB(4,Ti,i.disabled,"top"===i.dropdownPlacement)),d.xp6(1),d.Q6J("ngForOf",i.toolbar)("ngForTrackBy",i.trackByIndex),d.xp6(1),d.Q6J("ngIf",i.customMenuRef))},dependencies:[$t.mk,$t.sg,$t.O5,$t.tP,Kl,Ja,Kd,pc,Yl,bm,$t.Nd]}),s})(),mp=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=d.oAB({type:s}),s.\u0275inj=d.cJS({providers:[di],imports:[$t.ez,G.UX]}),s})();const Jl=new d.OlP("NgxEditorConfig"),yp={locals:ma,icons:Wl};let vp=(()=>{class s{static forRoot(r=yp){return{ngModule:s,providers:[{provide:Jl,useValue:r},{provide:Ps,useFactory:Zl,deps:[Jl]}]}}static forChild(r=yp){return{ngModule:s,providers:[{provide:Jl,useValue:r},{provide:Ps,useFactory:Zl,deps:[Jl]},Oi]}}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=d.oAB({type:s}),s.\u0275inj=d.cJS({imports:[$t.ez,mp]}),s})();const lo=(s,t=!1)=>(r,i)=>{const l=new pa(s);return t?l.toggle()(r,i):l.apply()(r,i)};class Xl{constructor(t){if(this.applyTrx=r=>{this.state=this.state.apply(r??this.tr),this.tr=this.state.tr,this.tr.setMeta("APPLIED_TRX",!0)},this.dispatch=r=>{this.applyTrx(r)},!t)throw new $e("Required view to initialize commands.");this.view=t,this.state=t.state,this.tr=this.view.state.tr}exec(){if(!this.tr.getMeta("APPLIED_TRX"))return!1;const t=!this.view.state.doc.eq(this.state.doc);this.view.updateState(this.state);const r=this.tr.setMeta("FORCE_EMIT",t);return this.view.dispatch(r),!0}focus(t="end"){const r="start"===t?Je.atStart(this.state.doc):Je.atEnd(this.state.doc);return this.tr.setSelection(r),this.applyTrx(),this.view.focus(),this}scrollIntoView(){return this.tr.scrollIntoView(),this.applyTrx(),this}insertText(t){return this.tr.insertText(t),this.applyTrx(),this}insertNewLine(){return so(td,lh,Tl,nd)(this.state,this.dispatch),this}applyMark(t){return lo(t,!1)(this.state,this.dispatch),this}toggleMark(t){return lo(t,!0)(this.state,this.dispatch),this}bold(){return lo("strong")(this.state,this.dispatch),this}toggleBold(){return lo("strong",!0)(this.state,this.dispatch),this}italics(){return lo("em")(this.state,this.dispatch),this}toggleItalics(){return lo("em",!0)(this.state,this.dispatch),this}underline(){return lo("u")(this.state,this.dispatch),this}toggleUnderline(){return lo("u",!0)(this.state,this.dispatch),this}strike(){return lo("s")(this.state,this.dispatch),this}toggleStrike(){return lo("s",!0)(this.state,this.dispatch),this}code(){return lo("code")(this.state,this.dispatch),this}toggleCode(){return lo("code",!0)(this.state,this.dispatch),this}toggleOrderedList(){return new Ts(!1).toggle()(this.state,this.dispatch),this}toggleBulletList(){return new Ts(!0).toggle()(this.state,this.dispatch),this}toggleHeading(t){return new Qi(t).toggle()(this.state,this.dispatch),this}insertLink(t,r){return(new Ln).insert(t,r)(this.state,this.dispatch),this}updateLink(t){return(new Ln).update(t)(this.state,this.dispatch),this}insertImage(t,r={}){return(new nc).insert(t,r)(this.state,this.dispatch),this}textColor(t){return new ga("text_color").apply({color:t})(this.state,this.dispatch),this}backgroundColor(t){return new ga("text_background_color").apply({backgroundColor:t})(this.state,this.dispatch),this}removeTextColor(){return new ga("text_color").remove()(this.state,this.dispatch),this}removeBackgroundColor(){return new ga("text_background_color").remove()(this.state,this.dispatch),this}align(t){return new As(t).toggle()(this.state,this.dispatch),this}insertHTML(t){const{selection:r,schema:i,tr:l}=this.state,{from:c,to:h}=r,g=document.createElement("div");g.innerHTML=zh(t)?t.trim():t;const C=Nt.fromSchema(i).parseSlice(g),I=l.replaceRange(c,h,C);return this.applyTrx(I),this}}const _p=typeof navigator<"u"&&/Mac/.test(navigator.platform),va=s=>{const t=hd.concat(dd,Bu);return t.push((s=>Nl(/(?:^|\s)(?:(?:\*\*|__)(?:(?:[^*_]+))(?:\*\*|__))$/,s))(s.marks.strong)),t.push((s=>Nl(/(?:^|\s)(?:(?:\*|_)(?:(?:[^*_]+))(?:\*|_))$/,s))(s.marks.em)),t.push((s=>Uu(/^\s*>\s$/,s))(s.nodes.blockquote)),t.push((s=>Uu(/^(?:\d+)\.\s$/,s,t=>({order:Number(t[1])}),(t,r)=>r.childCount+r.attrs.order===Number(t[1])))(s.nodes.ordered_list)),t.push((s=>Uu(/^\s*(?:[-+*])\s$/,s))(s.nodes.bullet_list)),t.push((s=>ju(/^```$/,s))(s.nodes.code_block)),t.push(((s,t)=>ju(new RegExp("^(#{1,6})\\s$"),s,r=>({level:r[1].length})))(s.nodes.heading)),function fh({rules:s}){let t=new jn({state:{init:()=>null,apply(r,i){return r.getMeta(this)||(r.selectionSet||r.docChanged?null:i)}},props:{handleTextInput:(r,i,l,c)=>cd(r,i,l,c,s,t),handleDOMEvents:{compositionend:r=>{setTimeout(()=>{let{$cursor:i}=r.state.selection;i&&cd(r,i.pos,i.pos,"",s,t)})}}},isInputRules:!0});return t}({rules:t})},Mp=(s,t)=>{const r=[];return t.keyboardShortcuts&&r.push(...((s,t)=>{const r={};r["Mod-z"]=Yu,_p?r["Shift-Mod-z"]=$a:r["Mod-y"]=$a;const i=[kl({"Mod-b":xs(s.marks.strong),"Mod-i":xs(s.marks.em),"Mod-u":xs(s.marks.u),"Mod-`":xs(s.marks.code)}),kl({Enter:Kf(s.nodes.list_item),"Shift-Enter":so(ah,(l,c)=>{const{tr:h}=l;return c(h.replaceSelectionWith(s.nodes.hard_break.create()).scrollIntoView()),!0}),"Mod-[":Yf(s.nodes.list_item),"Mod-]":Ss(s.nodes.list_item),Tab:Ss(s.nodes.list_item)}),kl(ch)];return t.history&&i.push(kl(r)),i})(s,{history:t.history})),t.history&&r.push(function ja(s={}){return new jn({key:Xo,state:{init:()=>new ao(Jo.empty,Jo.empty,null,0,-1),apply:(t,r,i)=>function bd(s,t,r,i){let c,l=r.getMeta(Xo);if(l)return l.historyState;r.getMeta(Ua)&&(s=new ao(s.done,s.undone,null,0,-1));let h=r.getMeta("appendedTransaction");if(0==r.steps.length)return s;if(h&&h.getMeta(Xo))return h.getMeta(Xo).redo?new ao(s.done.addTransform(r,void 0,i,Ha(t)),s.undone,_h(r.mapping.maps[r.steps.length-1]),s.prevTime,s.prevComposition):new ao(s.done,s.undone.addTransform(r,void 0,i,Ha(t)),null,s.prevTime,s.prevComposition);if(!1===r.getMeta("addToHistory")||h&&!1===h.getMeta("addToHistory"))return(c=r.getMeta("rebased"))?new ao(s.done.rebased(r,c),s.undone.rebased(r,c),ca(s.prevRanges,r.mapping),s.prevTime,s.prevComposition):new ao(s.done.addMaps(r.mapping.maps),s.undone.addMaps(r.mapping.maps),ca(s.prevRanges,r.mapping),s.prevTime,s.prevComposition);{let g=r.getMeta("composition"),C=0==s.prevTime||!h&&s.prevComposition!=g&&(s.prevTime<(r.time||0)-i.newGroupDelay||!function Ch(s,t){if(!t)return!1;if(!s.docChanged)return!0;let r=!1;return s.mapping.maps[0].forEach((i,l)=>{for(let c=0;c<t.length;c+=2)i<=t[c+1]&&l>=t[c]&&(r=!0)}),r}(r,s.prevRanges)),I=h?ca(s.prevRanges,r.mapping):_h(r.mapping.maps[r.steps.length-1]);return new ao(s.done.addTransform(r,C?t.selection.getBookmark():void 0,i,Ha(t)),Jo.empty,I,r.time,g??s.prevComposition)}}(r,i,t,s)},config:s={depth:s.depth||100,newGroupDelay:s.newGroupDelay||500},props:{handleDOMEvents:{beforeinput(t,r){let i=r.inputType,l="historyUndo"==i?Yu:"historyRedo"==i?$a:null;return!!l&&(r.preventDefault(),l(t.state,t.dispatch))}}}})}()),t.inputRules&&r.push(va(s)),r},yc={linkOnPaste:!0,resizeImage:!0},Xd={content:null,history:!0,keyboardShortcuts:!0,inputRules:!0,schema:Ji,plugins:[],nodeViews:{},attributes:{},features:yc,handleScrollToSelection:null,linkValidationPattern:"(https?://)?([\\da-z.-]+)\\.([a-z.]{2,6})[/\\w .-]*/??([^#\n\r]*)?#?([^\n\r]*)|(mailto:.*[@].*)"};class Sp{constructor(t=Xd){this.valueChangesSubject=new le.x,this.updateSubject=new le.x,this.options={...Xd,...t},this.createEditor()}get valueChanges(){return this.valueChangesSubject.asObservable()}get update(){return this.updateSubject.asObservable()}get schema(){return this.options.schema||Ji}get linkValidationPattern(){return this.options.linkValidationPattern}get commands(){return new Xl(this.view)}get features(){return{...yc,...this.options.features}}handleTransactions(t){const r=this.view.state.apply(t);if(this.view.updateState(r),this.updateSubject.next(this.view),!t.docChanged&&!t.getMeta("FORCE_EMIT"))return;const i=r.doc.toJSON();this.valueChangesSubject.next(i)}createEditor(){const{options:t,schema:r}=this,{content:i=null,nodeViews:l}=t,{history:c=!0,keyboardShortcuts:h=!0,inputRules:g=!0}=t,C=ha(i,r),I=t.plugins??[],N=t.attributes??{},U=Mp(r,{history:c,keyboardShortcuts:h,inputRules:g});this.view=new Jg(null,{state:Zn.create({doc:C,schema:r,plugins:[...U,...I]}),nodeViews:l,dispatchTransaction:this.handleTransactions.bind(this),attributes:N,handleScrollToSelection:t.handleScrollToSelection})}setContent(t){if(typeof(s=t)>"u"||null===s)return;var s;const{state:r}=this.view,{tr:i,doc:l}=r,c=ha(t,this.schema);i.replaceWith(0,r.doc.content.size,c),!l.eq(i.doc)&&i.docChanged&&this.view.dispatch(i)}registerPlugin(t){const{state:r}=this.view,i=[...r.plugins,t],l=r.reconfigure({plugins:i});this.view.updateState(l)}destroy(){this.view.destroy()}}},1180:(dt,Ce,R)=>{function d(P){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ve){return typeof ve}:function(ve){return ve&&"function"==typeof Symbol&&ve.constructor===Symbol&&ve!==Symbol.prototype?"symbol":typeof ve})(P)}function Y(P,ve,ne){return(ve=function le(P){var ve=function G(P,ve){if("object"!==d(P)||null===P)return P;var ne=P[Symbol.toPrimitive];if(void 0!==ne){var Se=ne.call(P,ve||"default");if("object"!==d(Se))return Se;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===ve?String:Number)(P)}(P,"string");return"symbol"===d(ve)?ve:String(ve)}(ve))in P?Object.defineProperty(P,ve,{value:ne,enumerable:!0,configurable:!0,writable:!0}):P[ve]=ne,P}R.d(Ce,{Z:()=>Y})},7582:(dt,Ce,R)=>{function Ae(ce,de,K,Q){return new(K||(K=Promise))(function(Z,ye){function Ue(Et){try{et(Q.next(Et))}catch(Ut){ye(Ut)}}function ft(Et){try{et(Q.throw(Et))}catch(Ut){ye(Ut)}}function et(Et){Et.done?Z(Et.value):function H(Z){return Z instanceof K?Z:new K(function(ye){ye(Z)})}(Et.value).then(Ue,ft)}et((Q=Q.apply(ce,de||[])).next())})}function ke(ce){return this instanceof ke?(this.v=ce,this):new ke(ce)}function Pe(ce,de,K){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var H,Q=K.apply(ce,de||[]),Z=[];return H={},ye("next"),ye("throw"),ye("return"),H[Symbol.asyncIterator]=function(){return this},H;function ye(pt){Q[pt]&&(H[pt]=function(Yt){return new Promise(function(Ee,Te){Z.push([pt,Yt,Ee,Te])>1||Ue(pt,Yt)})})}function Ue(pt,Yt){try{!function ft(pt){pt.value instanceof ke?Promise.resolve(pt.value.v).then(et,Et):Ut(Z[0][2],pt)}(Q[pt](Yt))}catch(Ee){Ut(Z[0][3],Ee)}}function et(pt){Ue("next",pt)}function Et(pt){Ue("throw",pt)}function Ut(pt,Yt){pt(Yt),Z.shift(),Z.length&&Ue(Z[0][0],Z[0][1])}}function ze(ce){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var K,de=ce[Symbol.asyncIterator];return de?de.call(ce):(ce=function lt(ce){var de="function"==typeof Symbol&&Symbol.iterator,K=de&&ce[de],Q=0;if(K)return K.call(ce);if(ce&&"number"==typeof ce.length)return{next:function(){return ce&&Q>=ce.length&&(ce=void 0),{value:ce&&ce[Q++],done:!ce}}};throw new TypeError(de?"Object is not iterable.":"Symbol.iterator is not defined.")}(ce),K={},Q("next"),Q("throw"),Q("return"),K[Symbol.asyncIterator]=function(){return this},K);function Q(Z){K[Z]=ce[Z]&&function(ye){return new Promise(function(Ue,ft){!function H(Z,ye,Ue,ft){Promise.resolve(ft).then(function(et){Z({value:et,done:Ue})},ye)}(Ue,ft,(ye=ce[Z](ye)).done,ye.value)})}}}R.d(Ce,{FC:()=>Pe,KL:()=>ze,mG:()=>Ae,qq:()=>ke}),"function"==typeof SuppressedError&&SuppressedError}},dt=>{dt(dt.s=7088)}]);