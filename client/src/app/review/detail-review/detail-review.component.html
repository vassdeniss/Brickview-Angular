<app-popup
  class="enlarged-image-container"
  *ngIf="popup.isActive"
  title=""
  (closed)="popup.hide()"
>
  <p *ngIf="customPopupContent">{{ customPopupContent }}</p>
  <img
    *ngIf="!customPopupContent"
    class="enlarged-image"
    [src]="enlargeImageSource"
    alt="Enlarged Image"
  />
</app-popup>
<div class="user-container">
  <h2>{{ review?.setName }} Review by: {{ review?.userUsername }}</h2>
  <div>
    <button class="button-danger" *ngIf="token" (click)="deleteReview()">
      Delete
    </button>
  </div>
</div>
<div class="container">
  <div class="set-image">
    <img
      (click)="enlargeImage(review?.setImage)"
      [src]="review?.setImage"
      alt="set?.name"
      width="100%"
    />
  </div>
  <div class="set-info">
    <h1>{{ review?.setName }}</h1>
    <p><strong>Set Number:</strong> {{ review?.setNumber }}</p>
    <p><strong>Parts:</strong> {{ review?.setParts }}</p>
    <p><strong>Year:</strong> {{ review?.setYear }}</p>
    <p><strong>Minifigures:</strong> {{ review?.setMinifigCount }}</p>
  </div>
</div>
<div class="review-section">
  <h2>Review</h2>
  <div [innerHTML]="review?.content"></div>
</div>
<div class="set-images">
  <img
    (click)="enlargeImage(image)"
    [src]="image"
    *ngFor="let image of review?.setImages"
  />
</div>
<div *ngIf="review!.setMinifigures!.length > 0" class="minifigures">
  <h2>Minifigures</h2>
  <div class="minifigure-container">
    <div class="minifigure" *ngFor="let fig of review?.setMinifigures">
      <img [src]="fig.image" (click)="enlargeImage(fig.image)" alt="fig.name" />
      <h4>{{ fig.name }}</h4>
      <p>Qty: {{ fig.quantity }}</p>
    </div>
  </div>
</div>
