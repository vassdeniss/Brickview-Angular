"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[58],{7058:(ee,f,l)=>{l.r(f),l.d(f,{ReviewModule:()=>B});var d=l(6814),x=l(6208),c=l(6223),p=l(9113),C=l(4202),h=l(9246),g=l(7629),e=l(9291),_=l(8394),m=l(8998),v=l(2864),u=l(3911);function b(n,o){if(1&n&&(e.TgZ(0,"p"),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Oqu(t)}}function Z(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-popup",10),e.NdJ("closed",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.popup.hide())}),e.ALo(1,"translate"),e.YNc(2,b,2,1,"p",11),e.qZA()}if(2&n){const t=e.oxw();e.s9C("title",e.lcZ(1,2,"general.error")),e.xp6(2),e.Q6J("ngForOf",t.errors)}}function O(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",12),e._UZ(1,"img",13),e.TgZ(2,"a",14),e.NdJ("click",function(){const s=e.CHM(t).index,a=e.oxw();return e.KtG(a.deleteImage(s))}),e._uU(3,"\xd7"),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(1),e.Q6J("src",t,e.LSH)}}let M=(()=>{class n{constructor(t,i,r,s,a){this.activated=t,this.route=i,this.fb=r,this.popup=s,this.review=a,this.errors=[],this.images=[],this.reviewForm=this.fb.group({content:["",[c.kI.required,c.kI.minLength(50),c.kI.maxLength(5e3)]],images:[""],setImages:[this.images],_id:[""]}),this.toolbar=[["bold","italic"],["underline","strike"],["ordered_list","bullet_list"],[{heading:["h1","h2","h3","h4","h5","h6"]}],["text_color","background_color"],["align_left","align_center","align_right","align_justify"]]}ngOnInit(){this.reviewForm.patchValue({_id:this.activated.snapshot.params.id}),this.editor=new g.ML}ngOnDestroy(){this.editor.destroy()}onSubmit(t){if(t.disabled=!0,this.reviewForm.invalid)return this.errors=[],(0,h.j)(this.reviewForm).forEach(r=>{this.errors.push(`${r.control} ${r.message}`)}),this.popup.show(),void(t.disabled=!1);this.review.createReview(this.reviewForm.value).subscribe({next:()=>{t.disabled=!1,this.route.navigate(["sets/my-sets"])},error:i=>{this.errors=[],this.errors.push(i.error.message),this.popup.show(),t.disabled=!1}})}onFileChange(t){const i=t.target;if(null===i.files)return;const r=i.files.length;for(let s=0;s<r;s++){const a=new FileReader;a.readAsDataURL(i.files[s]),a.onload=()=>{this.images.push(a.result),this.reviewForm.patchValue({setImages:this.images})}}}deleteImage(t){this.images.splice(t,1),this.reviewForm.patchValue({setImages:this.images})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(p.gz),e.Y36(p.F0),e.Y36(c.qu),e.Y36(_.q),e.Y36(m.F))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-create-review"]],decls:19,vars:18,consts:[[3,"title","closed",4,"ngIf"],[1,"review-form",3,"formGroup","ngSubmit"],[3,"editor","toolbar"],["id","content","name","content","formControlName","content",3,"editor","placeholder"],[1,"form-group"],["for","images"],["type","file","id","setImages","name","images","multiple","","accept","image/*","formControlName","images",3,"change"],["class","image-wrapper",4,"ngFor","ngForOf"],["type","hidden","id","_id","name","_id","formControlName","_id"],["button",""],[3,"title","closed"],[4,"ngFor","ngForOf"],[1,"image-wrapper"],[3,"src"],[1,"delete-button",3,"click"]],template:function(t,i){if(1&t){const r=e.EpF();e.YNc(0,Z,3,4,"app-popup",0),e.TgZ(1,"form",1),e.NdJ("ngSubmit",function(){e.CHM(r);const a=e.MAs(16);return e.KtG(i.onSubmit(a))}),e.TgZ(2,"h2"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._UZ(5,"ngx-editor-menu",2)(6,"ngx-editor",3),e.ALo(7,"translate"),e.TgZ(8,"div",4)(9,"label",5),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"input",6),e.NdJ("change",function(a){return i.onFileChange(a)}),e.qZA()(),e.YNc(13,O,4,1,"div",7),e._UZ(14,"input",8),e.TgZ(15,"button",null,9),e._uU(17),e.ALo(18,"translate"),e.qZA()()}2&t&&(e.Q6J("ngIf",i.popup.isActive),e.xp6(1),e.Q6J("formGroup",i.reviewForm),e.xp6(2),e.Oqu(e.lcZ(4,10,"review.create-review.header")),e.xp6(2),e.Q6J("editor",i.editor)("toolbar",i.toolbar),e.xp6(1),e.s9C("placeholder",e.lcZ(7,12,"review.create-review.editor-placeholder")),e.Q6J("editor",i.editor),e.xp6(4),e.Oqu(e.lcZ(11,14,"review.create-review.images")),e.xp6(3),e.Q6J("ngForOf",i.images),e.xp6(4),e.Oqu(e.lcZ(18,16,"review.create-review.button")))},dependencies:[d.sg,d.O5,v.R,c._Y,c.Fj,c.JJ,c.JL,c.sg,c.u,g.tP,g.Mn,u.X$],styles:["[_nghost-%COMP%]{margin:2rem}.review-form[_ngcontent-%COMP%]{max-width:700px;margin:0 auto;padding:20px;background-color:#f7f7f7;border:1px solid #ccc;border-radius:4px}.review-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}label[_ngcontent-%COMP%]{display:block;font-weight:700;margin-bottom:12px}input[_ngcontent-%COMP%]{width:95%;padding:10px;border:1px solid #ccc;border-radius:4px}button[_ngcontent-%COMP%]{display:block;width:100%;padding:10px;margin-top:20px;background-color:green;color:#fff;border:none;border-radius:4px;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:#015605}img[_ngcontent-%COMP%]{width:25%;height:auto;object-fit:cover}.image-wrapper[_ngcontent-%COMP%]{position:relative;display:inline}.delete-button[_ngcontent-%COMP%]{position:absolute;top:0;left:0;padding:4px 8px;background-color:red;color:#fff;border:none;border-radius:50%;cursor:pointer;z-index:1}.form-group[_ngcontent-%COMP%]{margin-top:10px}[_nghost-%COMP%]     .NgxEditor__Content{min-height:300px!important}"]}),n})();var A=l(3076);function P(n,o){if(1&n&&(e.TgZ(0,"p"),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu(t.customPopupContent)}}function T(n,o){if(1&n&&e._UZ(0,"img",14),2&n){const t=e.oxw(2);e.Q6J("src",t.enlargeImageSource,e.LSH)}}function R(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-popup",11),e.NdJ("closed",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.popup.hide())}),e.YNc(1,P,2,1,"p",12),e.YNc(2,T,1,1,"img",13),e.qZA()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.customPopupContent),e.xp6(1),e.Q6J("ngIf",!t.customPopupContent)}}const F=function(n){return["/reviews",n,"edit"]};function y(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",15)(1,"button",16),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"button",17),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.deleteReview())}),e._uU(5),e.ALo(6,"translate"),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("routerLink",e.VKq(7,F,null==t.review?null:t.review._id)),e.xp6(1),e.hij(" ",e.lcZ(3,3,"review.detail-review.edit")," "),e.xp6(3),e.hij(" ",e.lcZ(6,5,"review.detail-review.delete")," ")}}function q(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"img",20),e.NdJ("click",function(){const s=e.CHM(t).$implicit,a=e.oxw(2);return e.KtG(a.enlargeImage(s))}),e.qZA()}2&n&&e.Q6J("src",o.$implicit,e.LSH)}function I(n,o){if(1&n&&(e.TgZ(0,"div",18),e.YNc(1,q,1,1,"img",19),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",null==t.review?null:t.review.setImages)}}function J(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",24)(1,"img",25),e.NdJ("click",function(){const s=e.CHM(t).$implicit,a=e.oxw(2);return e.KtG(a.enlargeImage(s.image))}),e.qZA(),e.TgZ(2,"h4"),e._uU(3),e.qZA(),e.TgZ(4,"p"),e._uU(5),e.ALo(6,"translate"),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(1),e.Q6J("src",t.image,e.LSH),e.xp6(2),e.Oqu(t.name),e.xp6(2),e.AsE("",e.lcZ(6,4,"review.detail-review.qty"),": ",t.quantity,"")}}function k(n,o){if(1&n&&(e.TgZ(0,"div",21)(1,"h2"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",22),e.YNc(5,J,7,6,"div",23),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,2,"review.detail-review.minifigures")),e.xp6(3),e.Q6J("ngForOf",null==t.review?null:t.review.setMinifigures)}}let L=(()=>{class n{constructor(t,i,r,s,a,W){this.reviewService=t,this.route=i,this.routeNavigate=r,this.popup=s,this.userService=a,this.translate=W,this.review=void 0,this.isImageEnlarged=!1,this.enlargeImageSource="",this.isOwner=!1,this.customPopupContent=void 0}ngOnInit(){this.route.data.subscribe(({review:t})=>{this.review=t}),this.editor=new g.ML,this.isOwner=this.userService.user?._id===this.review?.userId}ngOnDestroy(){this.editor.destroy()}enlargeImage(t){this.popup.show(),this.enlargeImageSource=t||""}deleteReview(){let t;this.translate.get("review.detail-review.alert").subscribe(i=>t=i),confirm(t)&&this.reviewService.deleteReview(this.review?._id).subscribe({next:()=>{this.routeNavigate.navigate(["sets/my-sets"])},error:i=>{this.customPopupContent=i.error.message,this.popup.show()}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(m.F),e.Y36(p.gz),e.Y36(p.F0),e.Y36(_.q),e.Y36(A.K),e.Y36(u.sK))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-detail-review"]],decls:39,vars:34,consts:[["class","enlarged-image-container","title","",3,"closed",4,"ngIf"],[1,"user-container"],["class","buttons",4,"ngIf"],[1,"container"],[1,"set-image"],["width","100%",3,"src","alt","click"],[1,"set-info"],[1,"review-section"],[3,"editor","ngModel","disabled","ngModelChange"],["class","set-images",4,"ngIf"],["class","minifigures",4,"ngIf"],["title","",1,"enlarged-image-container",3,"closed"],[4,"ngIf"],["class","enlarged-image","alt","Enlarged Image",3,"src",4,"ngIf"],["alt","Enlarged Image",1,"enlarged-image",3,"src"],[1,"buttons"],[1,"button-warning",3,"routerLink"],[1,"button-danger",3,"click"],[1,"set-images"],[3,"src","click",4,"ngFor","ngForOf"],[3,"src","click"],[1,"minifigures"],[1,"minifigure-container"],["class","minifigure",4,"ngFor","ngForOf"],[1,"minifigure"],["alt","fig.name",3,"src","click"]],template:function(t,i){1&t&&(e.YNc(0,R,3,2,"app-popup",0),e.TgZ(1,"div",1)(2,"h2"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.YNc(5,y,7,9,"div",2),e.qZA(),e.TgZ(6,"div",3)(7,"div",4)(8,"img",5),e.NdJ("click",function(){return i.enlargeImage(null==i.review?null:i.review.setImage)}),e.qZA()(),e.TgZ(9,"div",6)(10,"h1"),e._uU(11),e.qZA(),e.TgZ(12,"p")(13,"strong"),e._uU(14),e.ALo(15,"translate"),e.qZA(),e._uU(16),e.qZA(),e.TgZ(17,"p")(18,"strong"),e._uU(19),e.ALo(20,"translate"),e.qZA(),e._uU(21),e.qZA(),e.TgZ(22,"p")(23,"strong"),e._uU(24),e.ALo(25,"translate"),e.qZA(),e._uU(26),e.qZA(),e.TgZ(27,"p")(28,"strong"),e._uU(29),e.ALo(30,"translate"),e.qZA(),e._uU(31),e.qZA()()(),e.TgZ(32,"div",7)(33,"h2"),e._uU(34),e.ALo(35,"translate"),e.qZA(),e.TgZ(36,"ngx-editor",8),e.NdJ("ngModelChange",function(s){return i.review.content=s}),e.qZA()(),e.YNc(37,I,2,1,"div",9),e.YNc(38,k,6,4,"div",10)),2&t&&(e.Q6J("ngIf",i.popup.isActive),e.xp6(3),e.lnq(" ",null==i.review?null:i.review.setName," ",e.lcZ(4,22,"review.detail-review.from"),": ",null==i.review?null:i.review.userUsername," "),e.xp6(2),e.Q6J("ngIf",i.isOwner),e.xp6(3),e.Q6J("src",null==i.review?null:i.review.setImage,e.LSH)("alt",null==i.review?null:i.review.setName),e.xp6(3),e.Oqu(null==i.review?null:i.review.setName),e.xp6(3),e.hij("",e.lcZ(15,24,"review.detail-review.number"),":"),e.xp6(2),e.hij(" ",null==i.review?null:i.review.setNumber," "),e.xp6(3),e.hij("",e.lcZ(20,26,"general.review.parts"),":"),e.xp6(2),e.hij(" ",null==i.review?null:i.review.setParts," "),e.xp6(3),e.hij("",e.lcZ(25,28,"general.review.year"),":"),e.xp6(2),e.hij(" ",null==i.review?null:i.review.setYear," "),e.xp6(3),e.hij("",e.lcZ(30,30,"review.detail-review.minifigures"),":"),e.xp6(2),e.hij(" ",null==i.review?null:i.review.setMinifigCount," "),e.xp6(3),e.Oqu(e.lcZ(35,32,"review.detail-review.review")),e.xp6(2),e.Q6J("editor",i.editor)("ngModel",i.review.content)("disabled",!0),e.xp6(1),e.Q6J("ngIf",i.review.setImages.length>0),e.xp6(1),e.Q6J("ngIf",i.review.setMinifigures.length>0))},dependencies:[d.sg,d.O5,p.rH,v.R,c.JJ,g.tP,c.On,u.X$],styles:[".container[_ngcontent-%COMP%]{display:flex;background-color:orange;justify-content:center;margin-bottom:20px}.set-info[_ngcontent-%COMP%]{flex:1;max-width:400px;color:#fff;padding-right:20px}.set-image[_ngcontent-%COMP%]{flex:1;max-width:300px;margin:30px 50px 30px 30px}.review-section[_ngcontent-%COMP%], .minifigures[_ngcontent-%COMP%]{padding:10px;background-color:#fff;margin-bottom:20px}.minifigures[_ngcontent-%COMP%]{background-color:#fff}.minifigure[_ngcontent-%COMP%]{display:flex;align-items:center;gap:40px}.minifigure-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:20px}.minifigure[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:1px solid black;width:10%}.user-container[_ngcontent-%COMP%]{margin:50px auto 20px;background-color:green;padding:20px;border-radius:5px;color:#fff;display:flex;flex-direction:column;align-items:center;justify-content:center}.set-images[_ngcontent-%COMP%]{background-color:orange;margin-bottom:20px;display:flex;flex-wrap:wrap;gap:18px;padding:18px}.set-images[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{flex:1 0 auto;max-width:15%;height:auto}img[_ngcontent-%COMP%]{cursor:pointer}@media only screen and (max-width: 600px){.set-info[_ngcontent-%COMP%], .set-image[_ngcontent-%COMP%]{max-width:100%}.container[_ngcontent-%COMP%]{flex-direction:column;justify-content:center;align-items:center}.set-info[_ngcontent-%COMP%]{padding:unset;text-align:center}}.enlarged-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.enlarged-image[_ngcontent-%COMP%]{max-width:80%}.buttons[_ngcontent-%COMP%]{display:flex;gap:10px}.button-danger[_ngcontent-%COMP%], .button-warning[_ngcontent-%COMP%]{color:#fff;border:none;outline:none;border-radius:5px;padding:8px 16px;font-size:14px;margin-top:10px;cursor:pointer}.button-danger[_ngcontent-%COMP%]{background-color:#bd1405}.button-warning[_ngcontent-%COMP%]{background-color:orange}.button-danger[_ngcontent-%COMP%]:hover{background-color:#9e2203}.button-warning[_ngcontent-%COMP%]:hover{background-color:#c98302}"]}),n})();function N(n,o){if(1&n&&(e.TgZ(0,"p"),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Oqu(t)}}function E(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-popup",10),e.NdJ("closed",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.popup.hide())}),e.ALo(1,"translate"),e.YNc(2,N,2,1,"p",11),e.qZA()}if(2&n){const t=e.oxw();e.s9C("title",e.lcZ(1,2,"general.error")),e.xp6(2),e.Q6J("ngForOf",t.errors)}}function Y(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",12),e._UZ(1,"img",13),e.TgZ(2,"a",14),e.NdJ("click",function(){const s=e.CHM(t).index,a=e.oxw();return e.KtG(a.deleteImage(s))}),e._uU(3,"\xd7"),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(1),e.Q6J("src",t,e.LSH)}}let S=(()=>{class n{constructor(t,i,r,s,a){this.activated=t,this.route=i,this.fb=r,this.popup=s,this.review=a,this.errors=[],this.images=[],this.reviewForm=this.fb.group({content:["",[c.kI.required,c.kI.minLength(50),c.kI.maxLength(5e3)]],images:[""],setImages:[this.images],_id:[""]}),this.toolbar=[["bold","italic"],["underline","strike"],["ordered_list","bullet_list"],[{heading:["h1","h2","h3","h4","h5","h6"]}],["text_color","background_color"],["align_left","align_center","align_right","align_justify"]]}ngOnInit(){this.activated.data.subscribe(({review:t})=>{this.images=t.setImages,this.reviewForm.patchValue({content:t.content})}),this.reviewForm.patchValue({_id:this.activated.snapshot.params.id}),this.editor=new g.ML}ngOnDestroy(){this.editor.destroy()}onSubmit(t){if(t.disabled=!0,this.reviewForm.invalid)return this.errors=[],(0,h.j)(this.reviewForm).forEach(r=>{this.errors.push(`${r.control} ${r.message}`)}),this.popup.show(),void(t.disabled=!1);this.review.editReview(this.reviewForm.value).subscribe({next:()=>{t.disabled=!1,this.route.navigate(["reviews",this.reviewForm.get("_id")?.value])},error:i=>{this.errors=[],this.errors.push(i.error.message),this.popup.show(),t.disabled=!1}})}onFileChange(t){const i=t.target;if(null===i.files)return;const r=i.files.length;for(let s=0;s<r;s++){const a=new FileReader;a.readAsDataURL(i.files[s]),a.onload=()=>{this.images.push(a.result),this.reviewForm.patchValue({setImages:this.images})}}}deleteImage(t){this.images.splice(t,1),this.reviewForm.patchValue({setImages:this.images})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(p.gz),e.Y36(p.F0),e.Y36(c.qu),e.Y36(_.q),e.Y36(m.F))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-edit-review"]],decls:18,vars:16,consts:[[3,"title","closed",4,"ngIf"],[1,"edit-form",3,"formGroup","ngSubmit"],[3,"editor","toolbar"],["id","content","name","content","formControlName","content",3,"editor","placeholder"],[1,"form-group"],["for","images"],["type","file","id","setImages","name","images","multiple","","accept","image/*","formControlName","images",3,"change"],["class","image-wrapper",4,"ngFor","ngForOf"],["type","hidden","id","_id","name","_id","formControlName","_id"],["button",""],[3,"title","closed"],[4,"ngFor","ngForOf"],[1,"image-wrapper"],[3,"src"],[1,"delete-button",3,"click"]],template:function(t,i){if(1&t){const r=e.EpF();e.YNc(0,E,3,4,"app-popup",0),e.TgZ(1,"form",1),e.NdJ("ngSubmit",function(){e.CHM(r);const a=e.MAs(15);return e.KtG(i.onSubmit(a))}),e.TgZ(2,"h2"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._UZ(5,"ngx-editor-menu",2)(6,"ngx-editor",3),e.TgZ(7,"div",4)(8,"label",5),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"input",6),e.NdJ("change",function(a){return i.onFileChange(a)}),e.qZA()(),e.YNc(12,Y,4,1,"div",7),e._UZ(13,"input",8),e.TgZ(14,"button",null,9),e._uU(16),e.ALo(17,"translate"),e.qZA()()}2&t&&(e.Q6J("ngIf",i.popup.isActive),e.xp6(1),e.Q6J("formGroup",i.reviewForm),e.xp6(2),e.Oqu(e.lcZ(4,10,"review.edit-review.header")),e.xp6(2),e.Q6J("editor",i.editor)("toolbar",i.toolbar),e.xp6(1),e.Q6J("editor",i.editor)("placeholder","Type here..."),e.xp6(3),e.Oqu(e.lcZ(10,12,"review.edit-review.images")),e.xp6(3),e.Q6J("ngForOf",i.images),e.xp6(4),e.Oqu(e.lcZ(17,14,"review.edit-review.edit")))},dependencies:[d.sg,d.O5,v.R,c._Y,c.Fj,c.JJ,c.JL,c.sg,c.u,g.tP,g.Mn,u.X$],styles:["[_nghost-%COMP%]{margin:2rem}.edit-form[_ngcontent-%COMP%]{max-width:700px;margin:0 auto;padding:20px;background-color:#f7f7f7;border:1px solid #ccc;border-radius:4px}.review-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}label[_ngcontent-%COMP%]{display:block;font-weight:700;margin-bottom:12px}input[_ngcontent-%COMP%]{width:95%;padding:10px;border:1px solid #ccc;border-radius:4px}button[_ngcontent-%COMP%]{display:block;width:100%;padding:10px;margin-top:20px;background-color:green;color:#fff;border:none;border-radius:4px;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:#015605}img[_ngcontent-%COMP%]{width:25%;height:auto;object-fit:cover}.image-wrapper[_ngcontent-%COMP%]{position:relative;display:inline}.delete-button[_ngcontent-%COMP%]{position:absolute;top:0;left:0;padding:4px 8px;background-color:red;color:#fff;border:none;border-radius:50%;cursor:pointer;z-index:1}.form-group[_ngcontent-%COMP%]{margin-top:10px}[_nghost-%COMP%]     .NgxEditor__Content{min-height:300px!important}"]}),n})();var Q=l(7398),w=l(8495);let D=(()=>{class n{constructor(){this.searchEvent=new e.vpe}search(t){this.searchEvent.emit(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-search"]],outputs:{searchEvent:"searchEvent"},decls:7,vars:6,consts:[[1,"search-form"],["type","text",3,"placeholder"],["searchField",""],["type","button",3,"click"]],template:function(t,i){if(1&t){const r=e.EpF();e.TgZ(0,"div",0),e._UZ(1,"input",1,2),e.ALo(3,"translate"),e.TgZ(4,"button",3),e.NdJ("click",function(){e.CHM(r);const a=e.MAs(2);return e.KtG(i.search(a.value))}),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&t&&(e.xp6(1),e.s9C("placeholder",e.lcZ(3,2,"core.search.placeholder")),e.xp6(4),e.hij(" ",e.lcZ(6,4,"core.search.button")," "))},dependencies:[u.X$],styles:[".search-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end}.search-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:10px;border:1px solid #ccc;border-radius:4px}button[_ngcontent-%COMP%]{color:#fff;background-color:#4caf50;border:none;border-radius:5px;padding:8px 16px;font-size:14px;margin-top:10px;cursor:pointer}button[_ngcontent-%COMP%]:focus{outline:none}button[_ngcontent-%COMP%]:hover{background-color:#45a049}"]}),n})();function $(n,o){if(1&n&&e._UZ(0,"img",3),2&n){const t=e.oxw().$implicit;e.s9C("src",t.userImage,e.LSH)}}const H=function(n){return["/sets",n]},K=function(n){return["/reviews",n]};function z(n,o){if(1&n&&(e.TgZ(0,"div",2),e._UZ(1,"img",3),e.TgZ(2,"div",4)(3,"div",5),e._uU(4),e.qZA(),e.TgZ(5,"div",6),e.YNc(6,$,1,1,"img",7),e.TgZ(7,"div",8)(8,"span"),e._uU(9),e.ALo(10,"translate"),e.TgZ(11,"strong",9),e._uU(12),e.qZA()(),e.TgZ(13,"span"),e._uU(14),e.qZA()()(),e.TgZ(15,"div",10)(16,"button",11),e._uU(17),e.ALo(18,"translate"),e.qZA()()()()),2&n){const t=o.$implicit;e.xp6(1),e.s9C("src",t.image,e.LSH),e.xp6(3),e.hij(" ",t.name," "),e.xp6(2),e.Q6J("ngIf",t.userImage),e.xp6(3),e.hij("",e.lcZ(10,9,"general.review.author"),": "),e.xp6(2),e.Q6J("routerLink",e.VKq(13,H,t.username)),e.xp6(1),e.Oqu(t.username),e.xp6(2),e.Oqu(t.reviewDate),e.xp6(2),e.Q6J("routerLink",e.VKq(15,K,t._id)),e.xp6(1),e.hij(" ",e.lcZ(18,11,"general.review.view")," ")}}const G=[{path:"",pathMatch:"full",component:(()=>{class n{constructor(t,i,r){this.activatedRoute=t,this.setService=i,this.router=r}ngOnInit(){this.sets$=this.activatedRoute.data.pipe((0,Q.U)(t=>t.sets))}searchSets(t){t?(this.router.navigate([""],{queryParams:{setNumber:t}}),this.sets$=this.setService.getAll(t)):this.sets$=this.setService.getAll()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(p.gz),e.Y36(w.z),e.Y36(p.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-all-reviews"]],decls:4,vars:3,consts:[[3,"searchEvent"],["class","card",4,"ngFor","ngForOf"],[1,"card"],[3,"src"],[1,"card-content"],[1,"card-title"],[1,"card-details"],[3,"src",4,"ngIf"],[1,"card-details__info"],[1,"user-link",3,"routerLink"],[1,"card-actions"],[1,"card-button",3,"routerLink"]],template:function(t,i){1&t&&(e.TgZ(0,"app-search",0),e.NdJ("searchEvent",function(s){return i.searchSets(s)}),e.qZA(),e.TgZ(1,"ul"),e.YNc(2,z,19,17,"div",1),e.ALo(3,"async"),e.qZA()),2&t&&(e.xp6(2),e.Q6J("ngForOf",e.lcZ(3,1,i.sets$)))},dependencies:[d.sg,d.O5,p.rH,D,d.Ov,u.X$],styles:["ul[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,270px);gap:20px;justify-content:center;align-items:center;padding:0}@media screen and (min-device-width: 668px) and (max-device-width: 1124px) and (orientation: portrait){ul[_ngcontent-%COMP%]{grid-template-columns:repeat(2,300px)}}@media screen and (min-device-width: 668px) and (max-device-width: 1124px) and (orientation: landscape){ul[_ngcontent-%COMP%]{grid-template-columns:repeat(3,300px)}}@media screen and (max-device-width: 480px) and (orientation: portrait){ul[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media screen and (max-device-width: 640px) and (orientation: landscape){ul[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media screen and (max-device-width: 640px){ul[_ngcontent-%COMP%]{grid-template-columns:1fr}}.card[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;box-shadow:0 2px 4px #0000001a;display:flex;flex-direction:column;overflow:hidden;max-width:300px;height:340px}.card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:auto;height:200px;object-fit:contain}.card-content[_ngcontent-%COMP%]{padding:10px;display:flex;flex-direction:column}.card-title[_ngcontent-%COMP%]{font-weight:700;align-self:center;margin-bottom:5px}.card-details[_ngcontent-%COMP%]{display:flex;gap:10px;margin-top:10px;align-items:center;justify-content:center;height:35px}.card-details[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:35px;height:35px;border-radius:50%;object-fit:cover}.card-details__info[_ngcontent-%COMP%]{display:flex;flex-direction:column;font-size:14px;color:#888;justify-content:center}.card-button[_ngcontent-%COMP%]{color:#fff;background-color:#4caf50;border:none;border-radius:5px;padding:8px 16px;font-size:14px;margin-top:10px;cursor:pointer}.card-button[_ngcontent-%COMP%]:focus{outline:none}.card-button[_ngcontent-%COMP%]:hover{background-color:#45a049}.card-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.user-link[_ngcontent-%COMP%]{color:#d18904;cursor:pointer}@media (max-width: 600px){.card[_ngcontent-%COMP%]{max-width:100%;height:auto}}"]}),n})(),title:"All Reviews",resolve:{sets:(n,o)=>(0,e.f3M)(w.z).getAll(n.queryParams.setNumber)}},{path:":id/create",component:M,canActivate:[C._],title:"Create Review"},{path:":id",component:L,title:"Review",resolve:{review:(n,o)=>(0,e.f3M)(m.F).getReview(n.params.id)}},{path:":id/edit",component:S,title:"Edit Review",resolve:{review:(n,o)=>(0,e.f3M)(m.F).getReview(n.params.id)}}];let X=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[p.Bz.forChild(G),p.Bz]}),n})();var V=l(8081);let B=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[d.ez,X,x.m,c.UX,g.FP,c.u5,V.I,u.aw,u.aw]}),n})()}}]);