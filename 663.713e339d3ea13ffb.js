"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[663],{5663:(Y,u,i)=>{i.r(u),i.d(u,{SetModule:()=>N});var c=i(6814),_=i(6208),d=i(3065),t=i(4946),g=i(8394),m=i(2864),a=i(8495);const h=function(e){return["/reviews",e,"create"]};function S(e,r){if(1&e&&(t.TgZ(0,"button",8),t._uU(1," Add Review "),t.qZA()),2&e){const n=t.oxw();t.Q6J("routerLink",t.VKq(1,h,null==n.legoSet?null:n.legoSet._id))}}const C=function(e){return["/reviews",e]};function x(e,r){if(1&e&&(t.TgZ(0,"button",8),t._uU(1," View Review "),t.qZA()),2&e){const n=t.oxw();t.Q6J("routerLink",t.VKq(1,C,null==n.legoSet?null:n.legoSet._id))}}const b=function(e){return{"review-div":e}};let v=(()=>{class e{constructor(n){this.setService=n,this.legoSet=void 0,this.setRemoved=new t.vpe}deleteSet(n){this.setService.deleteSet(n).subscribe({complete:()=>{this.setRemoved.emit(n)}})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(a.z))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-set"]],inputs:{legoSet:"legoSet"},outputs:{setRemoved:"setRemoved"},decls:15,vars:10,consts:[[1,"card"],[3,"src","alt"],[1,"card-content"],[1,"card-title",3,"ngClass"],[1,"card-details"],[1,"card-actions"],["class","card-button",3,"routerLink",4,"ngIf"],[1,"card-button-danger",3,"click"],[1,"card-button",3,"routerLink"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0),t._UZ(1,"img",1),t.TgZ(2,"div",2)(3,"div",3),t._uU(4),t.qZA(),t.TgZ(5,"div",4)(6,"span"),t._uU(7),t.qZA(),t.TgZ(8,"span"),t._uU(9),t.qZA()(),t.TgZ(10,"div",5),t.YNc(11,S,2,3,"button",6),t.YNc(12,x,2,3,"button",6),t.TgZ(13,"button",7),t.NdJ("click",function(){return o.deleteSet(o.legoSet._id)}),t._uU(14," Remove Set "),t.qZA()()()()),2&n&&(t.xp6(1),t.s9C("src",null==o.legoSet?null:o.legoSet.image,t.LSH),t.MGl("alt","set ",null==o.legoSet?null:o.legoSet.setNum,""),t.xp6(2),t.Q6J("ngClass",t.VKq(8,b,null==o.legoSet?null:o.legoSet.review)),t.xp6(1),t.hij(" ",null==o.legoSet?null:o.legoSet.name," "),t.xp6(3),t.hij("Year: ",null==o.legoSet?null:o.legoSet.year,""),t.xp6(2),t.hij("Parts: ",null==o.legoSet?null:o.legoSet.parts,""),t.xp6(2),t.Q6J("ngIf",!(null!=o.legoSet&&o.legoSet.review)),t.xp6(1),t.Q6J("ngIf",null==o.legoSet?null:o.legoSet.review))},dependencies:[c.mk,c.O5,d.rH],styles:[".card[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;box-shadow:0 2px 4px #0000001a;display:flex;flex-direction:column;overflow:hidden;max-width:300px;height:320px}.card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:auto;height:200px;object-fit:contain}.card-content[_ngcontent-%COMP%]{padding:10px;display:flex;flex-direction:column}.card-title[_ngcontent-%COMP%]{font-weight:700;align-self:center;margin-bottom:5px}.card-details[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:14px;color:#888;margin-top:10px}.card-button[_ngcontent-%COMP%], .card-button-warning[_ngcontent-%COMP%], .card-button-danger[_ngcontent-%COMP%]{color:#fff;border:none;border-radius:5px;padding:8px 16px;font-size:14px;margin-top:10px;cursor:pointer}.card-button[_ngcontent-%COMP%]:focus, .card-button-danger[_ngcontent-%COMP%]:focus, .card-button-warning[_ngcontent-%COMP%]:focus{outline:none}.card-button[_ngcontent-%COMP%]{background-color:#4caf50}.card-button[_ngcontent-%COMP%]:hover{background-color:#45a049}.card-button-warning[_ngcontent-%COMP%]{background-color:orange}.card-button-warning[_ngcontent-%COMP%]:hover{background-color:#d88d02}.card-button-danger[_ngcontent-%COMP%]{background-color:#bd1405}.card-button-danger[_ngcontent-%COMP%]:hover{background-color:#9e2203}.card-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.review-div[_ngcontent-%COMP%]{color:#d18904}@media (max-width: 600px){.card[_ngcontent-%COMP%]{max-width:100%;height:auto}}"]}),e})();function M(e,r){if(1&e){const n=t.EpF();t.TgZ(0,"app-popup",2),t.NdJ("closed",function(){t.CHM(n);const s=t.oxw();return t.KtG(s.popup.hide())}),t.TgZ(1,"p"),t._uU(2,"You have no sets in your collection!"),t.qZA()()}}function O(e,r){if(1&e){const n=t.EpF();t.TgZ(0,"app-set",4),t.NdJ("setRemoved",function(s){t.CHM(n);const l=t.oxw(2);return t.KtG(l.deleteSet(s))}),t.qZA()}2&e&&t.Q6J("legoSet",r.$implicit)}function y(e,r){if(1&e&&(t.TgZ(0,"ul"),t.YNc(1,O,1,1,"app-set",3),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngForOf",n.sets)}}let w=(()=>{class e{constructor(n,o){this.route=n,this.popup=o,this.sets=[]}ngOnInit(){this.route.data.subscribe(({sets:n})=>{this.sets=n,this.sets.length<=0&&this.popup.show()})}deleteSet(n){const o=this.sets.findIndex(s=>s._id===n);-1!==o&&this.sets.splice(o,1)}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(d.gz),t.Y36(g.q))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-my-sets"]],decls:2,vars:2,consts:[["title","Nothing found here!",3,"closed",4,"ngIf"],[4,"ngIf"],["title","Nothing found here!",3,"closed"],[3,"legoSet","setRemoved",4,"ngFor","ngForOf"],[3,"legoSet","setRemoved"]],template:function(n,o){1&n&&(t.YNc(0,M,3,0,"app-popup",0),t.YNc(1,y,2,1,"ul",1)),2&n&&(t.Q6J("ngIf",o.popup.isActive),t.xp6(1),t.Q6J("ngIf",!o.popup.isActive))},dependencies:[c.sg,c.O5,m.R,v],styles:["ul[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,270px);gap:20px;justify-content:center;align-items:center;padding:0}@media screen and (min-device-width: 668px) and (max-device-width: 1124px){ul[_ngcontent-%COMP%]{grid-template-columns:repeat(2,300px)}}@media screen and (max-device-width: 480px) and (orientation: portrait){ul[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media screen and (max-device-width: 640px) and (orientation: landscape){ul[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media screen and (max-device-width: 640px){ul[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]}),e})();var f=i(4202),p=i(95),A=i(9246);function Z(e,r){if(1&e&&(t.TgZ(0,"p"),t._uU(1),t.qZA()),2&e){const n=r.$implicit;t.xp6(1),t.Oqu(n)}}function T(e,r){if(1&e){const n=t.EpF();t.TgZ(0,"app-popup",6),t.NdJ("closed",function(){t.CHM(n);const s=t.oxw();return t.KtG(s.popup.hide())}),t.YNc(1,Z,2,1,"p",7),t.qZA()}if(2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngForOf",n.errors)}}const J=[{path:"my-sets",component:w,canActivate:[f._],resolve:{sets:e=>(0,t.f3M)(a.z).getCurrentUserSets()},title:"My Sets"},{path:"add-set",component:(()=>{class e{constructor(n,o,s,l){this.route=n,this.fb=o,this.popup=s,this.set=l,this.setForm=this.fb.group({setId:["",[p.kI.required]]}),this.errors=[]}onSubmit(n){if(n.disabled=!0,this.setForm.invalid)return this.errors=[],(0,A.j)(this.setForm).forEach(s=>{this.errors.push(`${s.control} ${s.message}`)}),this.popup.show(),void(n.disabled=!1);this.set.addSet(this.setForm.value.setId).subscribe({next:()=>{this.route.navigate(["sets/my-sets"])},error:o=>{this.errors=[],this.errors.push(o.error.message),this.popup.show(),n.disabled=!1}})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(d.F0),t.Y36(p.qu),t.Y36(g.q),t.Y36(a.z))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-add-set"]],decls:11,vars:2,consts:[["title","Error!",3,"closed",4,"ngIf"],[1,"set-form",3,"formGroup","ngSubmit"],[1,"form-group"],["for","setId"],["type","setId","id","setId","name","setId","placeholder","Enter set number","formControlName","setId"],["button",""],["title","Error!",3,"closed"],[4,"ngFor","ngForOf"]],template:function(n,o){if(1&n){const s=t.EpF();t.YNc(0,T,2,1,"app-popup",0),t.TgZ(1,"form",1),t.NdJ("ngSubmit",function(){t.CHM(s);const R=t.MAs(9);return t.KtG(o.onSubmit(R))}),t.TgZ(2,"h2"),t._uU(3,"Add Set to Collection"),t.qZA(),t.TgZ(4,"div",2)(5,"label",3),t._uU(6,"Set Number"),t.qZA(),t._UZ(7,"input",4),t.qZA(),t.TgZ(8,"button",null,5),t._uU(10,"Add Set"),t.qZA()()}2&n&&(t.Q6J("ngIf",o.popup.isActive),t.xp6(1),t.Q6J("formGroup",o.setForm))},dependencies:[c.sg,c.O5,m.R,p._Y,p.Fj,p.JJ,p.JL,p.sg,p.u],styles:["[_nghost-%COMP%]{margin:2rem}.set-form[_ngcontent-%COMP%]{max-width:400px;margin:0 auto;padding:20px;background-color:#f7f7f7;border:1px solid #ccc;border-radius:4px}.set-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}label[_ngcontent-%COMP%]{display:block;font-weight:700;margin-bottom:12px}input[_ngcontent-%COMP%]{width:95%;padding:10px;border:1px solid #ccc;border-radius:4px}button[_ngcontent-%COMP%]{display:block;width:100%;padding:10px;margin-top:20px;background-color:green;color:#fff;border:none;border-radius:4px;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:#015605}"]}),e})(),canActivate:[f._],title:"Add Sets"}];let I=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[d.Bz.forChild(J),d.Bz]}),e})(),N=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[c.ez,I,_.m,p.UX]}),e})()}}]);