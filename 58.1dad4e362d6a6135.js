"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[58],{7058:(B,f,p)=>{p.r(f),p.d(f,{ReviewModule:()=>X});var g=p(6814),w=p(6208),c=p(95),l=p(3065),x=p(4202),h=p(9246),d=p(7629),e=p(4946),m=p(8394),u=p(8998),_=p(2864);function C(n,o){if(1&n&&(e.TgZ(0,"p"),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Oqu(t)}}function b(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-popup",10),e.NdJ("closed",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.popup.hide())}),e.YNc(1,C,2,1,"p",11),e.qZA()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.errors)}}function M(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",12),e._UZ(1,"img",13),e.TgZ(2,"a",14),e.NdJ("click",function(){const a=e.CHM(t).index,s=e.oxw();return e.KtG(s.deleteImage(a))}),e._uU(3,"\xd7"),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(1),e.Q6J("src",t,e.LSH)}}let O=(()=>{class n{constructor(t,i,r,a,s){this.activated=t,this.route=i,this.fb=r,this.popup=a,this.review=s,this.errors=[],this.images=[],this.reviewForm=this.fb.group({content:["",[c.kI.required,c.kI.minLength(50),c.kI.maxLength(5e3)]],images:[""],setImages:[this.images],_id:[""]}),this.toolbar=[["bold","italic"],["underline","strike"],["ordered_list","bullet_list"],[{heading:["h1","h2","h3","h4","h5","h6"]}],["text_color","background_color"],["align_left","align_center","align_right","align_justify"]]}ngOnInit(){this.reviewForm.patchValue({_id:this.activated.snapshot.params.id}),this.editor=new d.ML}ngOnDestroy(){this.editor.destroy()}onSubmit(t){if(t.disabled=!0,this.reviewForm.invalid)return this.errors=[],(0,h.j)(this.reviewForm).forEach(r=>{this.errors.push(`${r.control} ${r.message}`)}),this.popup.show(),void(t.disabled=!1);this.review.createReview(this.reviewForm.value).subscribe({next:()=>{t.disabled=!1,this.route.navigate(["sets/my-sets"])},error:i=>{this.errors=[],this.errors.push(i.error.message),this.popup.show(),t.disabled=!1}})}onFileChange(t){const i=t.target;if(null===i.files)return;const r=i.files.length;for(let a=0;a<r;a++){const s=new FileReader;s.readAsDataURL(i.files[a]),s.onload=()=>{this.images.push(s.result),this.reviewForm.patchValue({setImages:this.images})}}}deleteImage(t){this.images.splice(t,1),this.reviewForm.patchValue({setImages:this.images})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.gz),e.Y36(l.F0),e.Y36(c.qu),e.Y36(m.q),e.Y36(u.F))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-create-review"]],decls:15,vars:7,consts:[["title","Error!",3,"closed",4,"ngIf"],[1,"review-form",3,"formGroup","ngSubmit"],[3,"editor","toolbar"],["id","content","name","content","formControlName","content",3,"editor","placeholder"],[1,"form-group"],["for","images"],["type","file","id","setImages","name","images","multiple","","accept","image/*","formControlName","images",3,"change"],["class","image-wrapper",4,"ngFor","ngForOf"],["type","hidden","id","_id","name","_id","formControlName","_id"],["button",""],["title","Error!",3,"closed"],[4,"ngFor","ngForOf"],[1,"image-wrapper"],[3,"src"],[1,"delete-button",3,"click"]],template:function(t,i){if(1&t){const r=e.EpF();e.YNc(0,b,2,1,"app-popup",0),e.TgZ(1,"form",1),e.NdJ("ngSubmit",function(){e.CHM(r);const s=e.MAs(13);return e.KtG(i.onSubmit(s))}),e.TgZ(2,"h2"),e._uU(3,"Write your Review"),e.qZA(),e._UZ(4,"ngx-editor-menu",2)(5,"ngx-editor",3),e.TgZ(6,"div",4)(7,"label",5),e._uU(8,"Set Images"),e.qZA(),e.TgZ(9,"input",6),e.NdJ("change",function(s){return i.onFileChange(s)}),e.qZA()(),e.YNc(10,M,4,1,"div",7),e._UZ(11,"input",8),e.TgZ(12,"button",null,9),e._uU(14,"Create"),e.qZA()()}2&t&&(e.Q6J("ngIf",i.popup.isActive),e.xp6(1),e.Q6J("formGroup",i.reviewForm),e.xp6(3),e.Q6J("editor",i.editor)("toolbar",i.toolbar),e.xp6(1),e.Q6J("editor",i.editor)("placeholder","Type here..."),e.xp6(5),e.Q6J("ngForOf",i.images))},dependencies:[g.sg,g.O5,_.R,c._Y,c.Fj,c.JJ,c.JL,c.sg,c.u,d.tP,d.Mn],styles:["[_nghost-%COMP%]{margin:2rem}.review-form[_ngcontent-%COMP%]{max-width:700px;margin:0 auto;padding:20px;background-color:#f7f7f7;border:1px solid #ccc;border-radius:4px}.review-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}label[_ngcontent-%COMP%]{display:block;font-weight:700;margin-bottom:12px}input[_ngcontent-%COMP%]{width:95%;padding:10px;border:1px solid #ccc;border-radius:4px}button[_ngcontent-%COMP%]{display:block;width:100%;padding:10px;margin-top:20px;background-color:green;color:#fff;border:none;border-radius:4px;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:#015605}img[_ngcontent-%COMP%]{width:25%;height:auto;object-fit:cover}.image-wrapper[_ngcontent-%COMP%]{position:relative;display:inline}.delete-button[_ngcontent-%COMP%]{position:absolute;top:0;left:0;padding:4px 8px;background-color:red;color:#fff;border:none;border-radius:50%;cursor:pointer;z-index:1}.form-group[_ngcontent-%COMP%]{margin-top:10px}[_nghost-%COMP%]     .NgxEditor__Content{min-height:300px!important}"]}),n})();var Z=p(3076);function P(n,o){if(1&n&&(e.TgZ(0,"p"),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu(t.customPopupContent)}}function R(n,o){if(1&n&&e._UZ(0,"img",14),2&n){const t=e.oxw(2);e.Q6J("src",t.enlargeImageSource,e.LSH)}}function T(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-popup",11),e.NdJ("closed",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.popup.hide())}),e.YNc(1,P,2,1,"p",12),e.YNc(2,R,1,1,"img",13),e.qZA()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.customPopupContent),e.xp6(1),e.Q6J("ngIf",!t.customPopupContent)}}const y=function(n){return["/reviews",n,"edit"]};function F(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",15)(1,"button",16),e._uU(2," Edit "),e.qZA(),e.TgZ(3,"button",17),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.deleteReview())}),e._uU(4,"Delete"),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("routerLink",e.VKq(1,y,null==t.review?null:t.review._id))}}function A(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"img",20),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw(2);return e.KtG(s.enlargeImage(a))}),e.qZA()}2&n&&e.Q6J("src",o.$implicit,e.LSH)}function I(n,o){if(1&n&&(e.TgZ(0,"div",18),e.YNc(1,A,1,1,"img",19),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",null==t.review?null:t.review.setImages)}}function J(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",24)(1,"img",25),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw(2);return e.KtG(s.enlargeImage(a.image))}),e.qZA(),e.TgZ(2,"h4"),e._uU(3),e.qZA(),e.TgZ(4,"p"),e._uU(5),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(1),e.Q6J("src",t.image,e.LSH),e.xp6(2),e.Oqu(t.name),e.xp6(2),e.hij("Qty: ",t.quantity,"")}}function k(n,o){if(1&n&&(e.TgZ(0,"div",21)(1,"h2"),e._uU(2,"Minifigures"),e.qZA(),e.TgZ(3,"div",22),e.YNc(4,J,6,3,"div",23),e.qZA()()),2&n){const t=e.oxw();e.xp6(4),e.Q6J("ngForOf",null==t.review?null:t.review.setMinifigures)}}let q=(()=>{class n{constructor(t,i,r,a,s){this.reviewService=t,this.route=i,this.routeNavigate=r,this.popup=a,this.userService=s,this.review=void 0,this.isImageEnlarged=!1,this.enlargeImageSource="",this.isOwner=!1,this.customPopupContent=void 0}ngOnInit(){this.route.data.subscribe(({review:t})=>{this.review=t}),this.editor=new d.ML,this.isOwner=this.userService.user?._id===this.review?.userId}ngOnDestroy(){this.editor.destroy()}enlargeImage(t){this.popup.show(),this.enlargeImageSource=t||""}deleteReview(){confirm("Are you sure you want to delete this review? This action cannot be undone.")&&this.reviewService.deleteReview(this.review?._id).subscribe({next:()=>{this.routeNavigate.navigate(["sets/my-sets"])},error:t=>{this.customPopupContent=t.error.message,this.popup.show()}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(u.F),e.Y36(l.gz),e.Y36(l.F0),e.Y36(m.q),e.Y36(Z.K))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-detail-review"]],decls:33,vars:15,consts:[["class","enlarged-image-container","title","",3,"closed",4,"ngIf"],[1,"user-container"],["class","buttons",4,"ngIf"],[1,"container"],[1,"set-image"],["alt","set?.name","width","100%",3,"src","click"],[1,"set-info"],[1,"review-section"],[3,"editor","ngModel","disabled","ngModelChange"],["class","set-images",4,"ngIf"],["class","minifigures",4,"ngIf"],["title","",1,"enlarged-image-container",3,"closed"],[4,"ngIf"],["class","enlarged-image","alt","Enlarged Image",3,"src",4,"ngIf"],["alt","Enlarged Image",1,"enlarged-image",3,"src"],[1,"buttons"],[1,"button-warning",3,"routerLink"],[1,"button-danger",3,"click"],[1,"set-images"],[3,"src","click",4,"ngFor","ngForOf"],[3,"src","click"],[1,"minifigures"],[1,"minifigure-container"],["class","minifigure",4,"ngFor","ngForOf"],[1,"minifigure"],["alt","fig.name",3,"src","click"]],template:function(t,i){1&t&&(e.YNc(0,T,3,2,"app-popup",0),e.TgZ(1,"div",1)(2,"h2"),e._uU(3),e.qZA(),e.YNc(4,F,5,3,"div",2),e.qZA(),e.TgZ(5,"div",3)(6,"div",4)(7,"img",5),e.NdJ("click",function(){return i.enlargeImage(null==i.review?null:i.review.setImage)}),e.qZA()(),e.TgZ(8,"div",6)(9,"h1"),e._uU(10),e.qZA(),e.TgZ(11,"p")(12,"strong"),e._uU(13,"Set Number:"),e.qZA(),e._uU(14),e.qZA(),e.TgZ(15,"p")(16,"strong"),e._uU(17,"Parts:"),e.qZA(),e._uU(18),e.qZA(),e.TgZ(19,"p")(20,"strong"),e._uU(21,"Year:"),e.qZA(),e._uU(22),e.qZA(),e.TgZ(23,"p")(24,"strong"),e._uU(25,"Minifigures:"),e.qZA(),e._uU(26),e.qZA()()(),e.TgZ(27,"div",7)(28,"h2"),e._uU(29,"Review"),e.qZA(),e.TgZ(30,"ngx-editor",8),e.NdJ("ngModelChange",function(a){return i.review.content=a}),e.qZA()(),e.YNc(31,I,2,1,"div",9),e.YNc(32,k,5,1,"div",10)),2&t&&(e.Q6J("ngIf",i.popup.isActive),e.xp6(3),e.AsE("",null==i.review?null:i.review.setName," Review by: ",null==i.review?null:i.review.userUsername,""),e.xp6(1),e.Q6J("ngIf",i.isOwner),e.xp6(3),e.Q6J("src",null==i.review?null:i.review.setImage,e.LSH),e.xp6(3),e.Oqu(null==i.review?null:i.review.setName),e.xp6(4),e.hij(" ",null==i.review?null:i.review.setNumber,""),e.xp6(4),e.hij(" ",null==i.review?null:i.review.setParts,""),e.xp6(4),e.hij(" ",null==i.review?null:i.review.setYear,""),e.xp6(4),e.hij(" ",null==i.review?null:i.review.setMinifigCount,""),e.xp6(4),e.Q6J("editor",i.editor)("ngModel",i.review.content)("disabled",!0),e.xp6(1),e.Q6J("ngIf",i.review.setImages.length>0),e.xp6(1),e.Q6J("ngIf",i.review.setMinifigures.length>0))},dependencies:[g.sg,g.O5,l.rH,_.R,c.JJ,d.tP,c.On],styles:[".container[_ngcontent-%COMP%]{display:flex;background-color:orange;justify-content:center;margin-bottom:20px}.set-info[_ngcontent-%COMP%]{flex:1;max-width:400px;color:#fff;padding-right:20px}.set-image[_ngcontent-%COMP%]{flex:1;max-width:300px;margin:30px 50px 30px 30px}.review-section[_ngcontent-%COMP%], .minifigures[_ngcontent-%COMP%]{padding:10px;background-color:#fff;margin-bottom:20px}.minifigures[_ngcontent-%COMP%]{background-color:#fff}.minifigure[_ngcontent-%COMP%]{display:flex;align-items:center;gap:40px}.minifigure-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:20px}.minifigure[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:1px solid black;width:10%}.user-container[_ngcontent-%COMP%]{margin:50px auto 20px;background-color:green;padding:20px;border-radius:5px;color:#fff;display:flex;flex-direction:column;align-items:center;justify-content:center}.set-images[_ngcontent-%COMP%]{background-color:orange;margin-bottom:20px;display:flex;flex-wrap:wrap;gap:18px;padding:18px}.set-images[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{flex:1 0 auto;max-width:15%;height:auto}img[_ngcontent-%COMP%]{cursor:pointer}@media only screen and (max-width: 600px){.set-info[_ngcontent-%COMP%], .set-image[_ngcontent-%COMP%]{max-width:100%}.container[_ngcontent-%COMP%]{flex-direction:column;justify-content:center;align-items:center}.set-info[_ngcontent-%COMP%]{padding:unset;text-align:center}}.enlarged-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.enlarged-image[_ngcontent-%COMP%]{max-width:80%}.buttons[_ngcontent-%COMP%]{display:flex;gap:10px}.button-danger[_ngcontent-%COMP%], .button-warning[_ngcontent-%COMP%]{color:#fff;border:none;outline:none;border-radius:5px;padding:8px 16px;font-size:14px;margin-top:10px;cursor:pointer}.button-danger[_ngcontent-%COMP%]{background-color:#bd1405}.button-warning[_ngcontent-%COMP%]{background-color:orange}.button-danger[_ngcontent-%COMP%]:hover{background-color:#9e2203}.button-warning[_ngcontent-%COMP%]:hover{background-color:#c98302}"]}),n})();function E(n,o){if(1&n&&(e.TgZ(0,"p"),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Oqu(t)}}function N(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-popup",10),e.NdJ("closed",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.popup.hide())}),e.YNc(1,E,2,1,"p",11),e.qZA()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.errors)}}function S(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",12),e._UZ(1,"img",13),e.TgZ(2,"a",14),e.NdJ("click",function(){const a=e.CHM(t).index,s=e.oxw();return e.KtG(s.deleteImage(a))}),e._uU(3,"\xd7"),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(1),e.Q6J("src",t,e.LSH)}}let Y=(()=>{class n{constructor(t,i,r,a,s){this.activated=t,this.route=i,this.fb=r,this.popup=a,this.review=s,this.errors=[],this.images=[],this.reviewForm=this.fb.group({content:["",[c.kI.required,c.kI.minLength(50),c.kI.maxLength(5e3)]],images:[""],setImages:[this.images],_id:[""]}),this.toolbar=[["bold","italic"],["underline","strike"],["ordered_list","bullet_list"],[{heading:["h1","h2","h3","h4","h5","h6"]}],["text_color","background_color"],["align_left","align_center","align_right","align_justify"]]}ngOnInit(){this.activated.data.subscribe(({review:t})=>{this.images=t.setImages,this.reviewForm.patchValue({content:t.content})}),this.reviewForm.patchValue({_id:this.activated.snapshot.params.id}),this.editor=new d.ML}ngOnDestroy(){this.editor.destroy()}onSubmit(t){if(t.disabled=!0,this.reviewForm.invalid)return this.errors=[],(0,h.j)(this.reviewForm).forEach(r=>{this.errors.push(`${r.control} ${r.message}`)}),this.popup.show(),void(t.disabled=!1);this.review.editReview(this.reviewForm.value).subscribe({next:()=>{t.disabled=!1,this.route.navigate(["reviews",this.reviewForm.get("_id")?.value])},error:i=>{this.errors=[],this.errors.push(i.error.message),this.popup.show(),t.disabled=!1}})}onFileChange(t){const i=t.target;if(null===i.files)return;const r=i.files.length;for(let a=0;a<r;a++){const s=new FileReader;s.readAsDataURL(i.files[a]),s.onload=()=>{this.images.push(s.result),this.reviewForm.patchValue({setImages:this.images})}}}deleteImage(t){this.images.splice(t,1),this.reviewForm.patchValue({setImages:this.images})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.gz),e.Y36(l.F0),e.Y36(c.qu),e.Y36(m.q),e.Y36(u.F))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-edit-review"]],decls:15,vars:7,consts:[["title","Error!",3,"closed",4,"ngIf"],[1,"edit-form",3,"formGroup","ngSubmit"],[3,"editor","toolbar"],["id","content","name","content","formControlName","content",3,"editor","placeholder"],[1,"form-group"],["for","images"],["type","file","id","setImages","name","images","multiple","","accept","image/*","formControlName","images",3,"change"],["class","image-wrapper",4,"ngFor","ngForOf"],["type","hidden","id","_id","name","_id","formControlName","_id"],["button",""],["title","Error!",3,"closed"],[4,"ngFor","ngForOf"],[1,"image-wrapper"],[3,"src"],[1,"delete-button",3,"click"]],template:function(t,i){if(1&t){const r=e.EpF();e.YNc(0,N,2,1,"app-popup",0),e.TgZ(1,"form",1),e.NdJ("ngSubmit",function(){e.CHM(r);const s=e.MAs(13);return e.KtG(i.onSubmit(s))}),e.TgZ(2,"h2"),e._uU(3,"Edit your Review"),e.qZA(),e._UZ(4,"ngx-editor-menu",2)(5,"ngx-editor",3),e.TgZ(6,"div",4)(7,"label",5),e._uU(8,"Set Images"),e.qZA(),e.TgZ(9,"input",6),e.NdJ("change",function(s){return i.onFileChange(s)}),e.qZA()(),e.YNc(10,S,4,1,"div",7),e._UZ(11,"input",8),e.TgZ(12,"button",null,9),e._uU(14,"Edit"),e.qZA()()}2&t&&(e.Q6J("ngIf",i.popup.isActive),e.xp6(1),e.Q6J("formGroup",i.reviewForm),e.xp6(3),e.Q6J("editor",i.editor)("toolbar",i.toolbar),e.xp6(1),e.Q6J("editor",i.editor)("placeholder","Type here..."),e.xp6(5),e.Q6J("ngForOf",i.images))},dependencies:[g.sg,g.O5,_.R,c._Y,c.Fj,c.JJ,c.JL,c.sg,c.u,d.tP,d.Mn],styles:["[_nghost-%COMP%]{margin:2rem}.edit-form[_ngcontent-%COMP%]{max-width:700px;margin:0 auto;padding:20px;background-color:#f7f7f7;border:1px solid #ccc;border-radius:4px}.review-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}label[_ngcontent-%COMP%]{display:block;font-weight:700;margin-bottom:12px}input[_ngcontent-%COMP%]{width:95%;padding:10px;border:1px solid #ccc;border-radius:4px}button[_ngcontent-%COMP%]{display:block;width:100%;padding:10px;margin-top:20px;background-color:green;color:#fff;border:none;border-radius:4px;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:#015605}img[_ngcontent-%COMP%]{width:25%;height:auto;object-fit:cover}.image-wrapper[_ngcontent-%COMP%]{position:relative;display:inline}.delete-button[_ngcontent-%COMP%]{position:absolute;top:0;left:0;padding:4px 8px;background-color:red;color:#fff;border:none;border-radius:50%;cursor:pointer;z-index:1}.form-group[_ngcontent-%COMP%]{margin-top:10px}[_nghost-%COMP%]     .NgxEditor__Content{min-height:300px!important}"]}),n})();var D=p(7398),v=p(8495);let j=(()=>{class n{constructor(){this.searchEvent=new e.vpe}search(t){this.searchEvent.emit(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-search"]],outputs:{searchEvent:"searchEvent"},decls:5,vars:0,consts:[[1,"search-form"],["type","text","placeholder","Search by set number"],["searchField",""],["type","button",3,"click"]],template:function(t,i){if(1&t){const r=e.EpF();e.TgZ(0,"div",0),e._UZ(1,"input",1,2),e.TgZ(3,"button",3),e.NdJ("click",function(){e.CHM(r);const s=e.MAs(2);return e.KtG(i.search(s.value))}),e._uU(4,"Search"),e.qZA()()}},styles:[".search-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end}.search-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:10px;border:1px solid #ccc;border-radius:4px}button[_ngcontent-%COMP%]{color:#fff;background-color:#4caf50;border:none;border-radius:5px;padding:8px 16px;font-size:14px;margin-top:10px;cursor:pointer}button[_ngcontent-%COMP%]:focus{outline:none}button[_ngcontent-%COMP%]:hover{background-color:#45a049}"]}),n})();function L(n,o){if(1&n&&e._UZ(0,"img",3),2&n){const t=e.oxw().$implicit;e.s9C("src",t.userImage,e.LSH)}}const H=function(n){return["/sets",n]},$=function(n){return["/reviews",n]};function z(n,o){if(1&n&&(e.TgZ(0,"div",2),e._UZ(1,"img",3),e.TgZ(2,"div",4)(3,"div",5),e._uU(4),e.qZA(),e.TgZ(5,"div",6),e.YNc(6,L,1,1,"img",7),e.TgZ(7,"div",8)(8,"span"),e._uU(9,"Review by: "),e.TgZ(10,"strong",9),e._uU(11),e.qZA()(),e.TgZ(12,"span"),e._uU(13),e.qZA()()(),e.TgZ(14,"div",10)(15,"button",11),e._uU(16," View Review "),e.qZA()()()()),2&n){const t=o.$implicit;e.xp6(1),e.s9C("src",t.image,e.LSH),e.xp6(3),e.hij(" ",t.name," "),e.xp6(2),e.Q6J("ngIf",t.userImage),e.xp6(4),e.Q6J("routerLink",e.VKq(7,H,t.username)),e.xp6(1),e.Oqu(t.username),e.xp6(2),e.Oqu(t.reviewDate),e.xp6(2),e.Q6J("routerLink",e.VKq(9,$,t._id))}}const G=[{path:"",pathMatch:"full",component:(()=>{class n{constructor(t,i,r){this.activatedRoute=t,this.setService=i,this.router=r}ngOnInit(){this.sets$=this.activatedRoute.data.pipe((0,D.U)(t=>t.sets))}searchSets(t){t?(this.router.navigate([""],{queryParams:{setNumber:t}}),this.sets$=this.setService.getAll(t)):this.sets$=this.setService.getAll()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.gz),e.Y36(v.z),e.Y36(l.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-all-reviews"]],decls:4,vars:3,consts:[[3,"searchEvent"],["class","card",4,"ngFor","ngForOf"],[1,"card"],[3,"src"],[1,"card-content"],[1,"card-title"],[1,"card-details"],[3,"src",4,"ngIf"],[1,"card-details__info"],[1,"user-link",3,"routerLink"],[1,"card-actions"],[1,"card-button",3,"routerLink"]],template:function(t,i){1&t&&(e.TgZ(0,"app-search",0),e.NdJ("searchEvent",function(a){return i.searchSets(a)}),e.qZA(),e.TgZ(1,"ul"),e.YNc(2,z,17,11,"div",1),e.ALo(3,"async"),e.qZA()),2&t&&(e.xp6(2),e.Q6J("ngForOf",e.lcZ(3,1,i.sets$)))},dependencies:[g.sg,g.O5,l.rH,j,g.Ov],styles:["ul[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,270px);gap:20px;justify-content:center;align-items:center;padding:0}@media screen and (min-device-width: 668px) and (max-device-width: 1124px) and (orientation: portrait){ul[_ngcontent-%COMP%]{grid-template-columns:repeat(2,300px)}}@media screen and (min-device-width: 668px) and (max-device-width: 1124px) and (orientation: landscape){ul[_ngcontent-%COMP%]{grid-template-columns:repeat(3,300px)}}@media screen and (max-device-width: 480px) and (orientation: portrait){ul[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media screen and (max-device-width: 640px) and (orientation: landscape){ul[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media screen and (max-device-width: 640px){ul[_ngcontent-%COMP%]{grid-template-columns:1fr}}.card[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;box-shadow:0 2px 4px #0000001a;display:flex;flex-direction:column;overflow:hidden;max-width:300px;height:340px}.card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:auto;height:200px;object-fit:contain}.card-content[_ngcontent-%COMP%]{padding:10px;display:flex;flex-direction:column}.card-title[_ngcontent-%COMP%]{font-weight:700;align-self:center;margin-bottom:5px}.card-details[_ngcontent-%COMP%]{display:flex;gap:10px;margin-top:10px;align-items:center;justify-content:center;height:35px}.card-details[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:35px;height:35px;border-radius:50%;object-fit:cover}.card-details__info[_ngcontent-%COMP%]{display:flex;flex-direction:column;font-size:14px;color:#888;justify-content:center}.card-button[_ngcontent-%COMP%]{color:#fff;background-color:#4caf50;border:none;border-radius:5px;padding:8px 16px;font-size:14px;margin-top:10px;cursor:pointer}.card-button[_ngcontent-%COMP%]:focus{outline:none}.card-button[_ngcontent-%COMP%]:hover{background-color:#45a049}.card-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.user-link[_ngcontent-%COMP%]{color:#d18904;cursor:pointer}@media (max-width: 600px){.card[_ngcontent-%COMP%]{max-width:100%;height:auto}}"]}),n})(),title:"All Reviews",resolve:{sets:(n,o)=>(0,e.f3M)(v.z).getAll(n.queryParams.setNumber)}},{path:":id/create",component:O,canActivate:[x._],title:"Create Review"},{path:":id",component:q,title:"Review",resolve:{review:(n,o)=>(0,e.f3M)(u.F).getReview(n.params.id)}},{path:":id/edit",component:Y,title:"Edit Review",resolve:{review:(n,o)=>(0,e.f3M)(u.F).getReview(n.params.id)}}];let K=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[l.Bz.forChild(G),l.Bz]}),n})();var V=p(8081);let X=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[g.ez,K,w.m,c.UX,d.FP,c.u5,V.I]}),n})()}}]);