"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[179],{4202:(rt,ye,A)=>{A.d(ye,{_:()=>re});var d=A(5879),$=A(3076);const re=K=>(0,d.f3M)($.K).isAuthenticated},8081:(rt,ye,A)=>{A.d(ye,{I:()=>be});var d=A(6814),$=A(6208),re=A(649),K=A(8915),R=A(6223),le=A(3911),X=A(7852),he=A(5879);let be=(()=>{class te{}return te.\u0275fac=function(ue){return new(ue||te)},te.\u0275mod=he.oAB({type:te}),te.\u0275inj=he.cJS({imports:[d.ez,$.m,re.Bz,K.FP,R.u5,le.aw,X.e,le.aw]}),te})()},8394:(rt,ye,A)=>{A.d(ye,{q:()=>$});var d=A(5879);let $=(()=>{class re{constructor(){this.isActive=!1}show(){this.isActive=!0}hide(){this.isActive=!1}}return re.\u0275fac=function(R){return new(R||re)},re.\u0275prov=d.Yz7({token:re,factory:re.\u0275fac}),re})()},8998:(rt,ye,A)=>{A.d(ye,{F:()=>K});var d=A(553),$=A(5879),re=A(9862);let K=(()=>{class R{constructor(X){this.http=X}createReview(X){return this.http.post(`${d.N.apiUrl}/reviews/create`,X)}getReview(X){return this.http.get(`${d.N.apiUrl}/reviews/get/${X}`)}deleteReview(X){return this.http.delete(`${d.N.apiUrl}/reviews/delete/${X}`)}editReview(X){return this.http.patch(`${d.N.apiUrl}/reviews/edit`,X)}}return R.\u0275fac=function(X){return new(X||R)($.LFG(re.eN))},R.\u0275prov=$.Yz7({token:R,factory:R.\u0275fac}),R})()},8495:(rt,ye,A)=>{A.d(ye,{z:()=>K});var d=A(553),$=A(5879),re=A(9862);let K=(()=>{class R{constructor(X){this.http=X}getAll(X){return this.http.get(`${d.N.apiUrl}/sets/allWithReviews${X?`?setNumber=${X}`:""}`)}getLatest(){return this.http.get(`${d.N.apiUrl}/sets/latestThreeWithReviews`)}getUserSets(X){return this.http.get(`${d.N.apiUrl}/sets/user-collection/${X}`)}addSet(X){return this.http.post(`${d.N.apiUrl}/sets/add-set`,{setId:X})}deleteSet(X){return this.http.delete(`${d.N.apiUrl}/sets/delete/${X}`)}}return R.\u0275fac=function(X){return new(X||R)($.LFG(re.eN))},R.\u0275prov=$.Yz7({token:R,factory:R.\u0275fac}),R})()},2207:(rt,ye,A)=>{A.d(ye,{B:()=>K});var d=A(5879),$=A(6814);let re=(()=>{class R{constructor(X,he){this.document=X,this.platformId=he,this.documentIsAccessible=(0,$.NF)(this.platformId)}static getCookieRegExp(X){const he=X.replace(/([\[\]\{\}\(\)\|\=\;\+\?\,\.\*\^\$])/gi,"\\$1");return new RegExp("(?:^"+he+"|;\\s*"+he+")=(.*?)(?:;|$)","g")}static safeDecodeURIComponent(X){try{return decodeURIComponent(X)}catch{return X}}check(X){return!!this.documentIsAccessible&&(X=encodeURIComponent(X),R.getCookieRegExp(X).test(this.document.cookie))}get(X){if(this.documentIsAccessible&&this.check(X)){X=encodeURIComponent(X);const be=R.getCookieRegExp(X).exec(this.document.cookie);return be[1]?R.safeDecodeURIComponent(be[1]):""}return""}getAll(){if(!this.documentIsAccessible)return{};const X={},he=this.document;return he.cookie&&""!==he.cookie&&he.cookie.split(";").forEach(be=>{const[te,fe]=be.split("=");X[R.safeDecodeURIComponent(te.replace(/^ /,""))]=R.safeDecodeURIComponent(fe)}),X}set(X,he,be,te,fe,ue,Fe){if(!this.documentIsAccessible)return;if("number"==typeof be||be instanceof Date||te||fe||ue||Fe)return void this.set(X,he,{expires:be,path:te,domain:fe,secure:ue,sameSite:Fe||"Lax"});let Te=encodeURIComponent(X)+"="+encodeURIComponent(he)+";";const Ae=be||{};Ae.expires&&(Te+="number"==typeof Ae.expires?"expires="+new Date((new Date).getTime()+1e3*Ae.expires*60*60*24).toUTCString()+";":"expires="+Ae.expires.toUTCString()+";"),Ae.path&&(Te+="path="+Ae.path+";"),Ae.domain&&(Te+="domain="+Ae.domain+";"),!1===Ae.secure&&"None"===Ae.sameSite&&(Ae.secure=!0,console.warn(`[ngx-cookie-service] Cookie ${X} was forced with secure flag because sameSite=None.More details : https://github.com/stevermeister/ngx-cookie-service/issues/86#issuecomment-597720130`)),Ae.secure&&(Te+="secure;"),Ae.sameSite||(Ae.sameSite="Lax"),Te+="sameSite="+Ae.sameSite+";",this.document.cookie=Te}delete(X,he,be,te,fe="Lax"){this.documentIsAccessible&&this.set(X,"",{expires:new Date("Thu, 01 Jan 1970 00:00:01 GMT"),path:he,domain:be,secure:te,sameSite:fe})}deleteAll(X,he,be,te="Lax"){if(!this.documentIsAccessible)return;const fe=this.getAll();for(const ue in fe)fe.hasOwnProperty(ue)&&this.delete(ue,X,he,be,te)}}return R.\u0275fac=function(X){return new(X||R)(d.LFG($.K0),d.LFG(d.Lbi))},R.\u0275prov=d.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})(),K=(()=>{class R{constructor(X){this.cookie=X}saveToken(X){this.cookie.set("accessToken",X,{expires:2,secure:!0,path:"/"})}getToken(){return this.cookie.get("accessToken")}saveRefreshToken(X){this.cookie.set("refreshToken",X,{expires:2,secure:!0,path:"/"})}getRefreshToken(){return this.cookie.get("refreshToken")}clearTokens(){this.cookie.delete("accessToken","/"),this.cookie.delete("refreshToken","/")}}return R.\u0275fac=function(X){return new(X||R)(d.LFG(re))},R.\u0275prov=d.Yz7({token:R,factory:R.\u0275fac}),R})()},3076:(rt,ye,A)=>{A.d(ye,{K:()=>le});var d=A(5619),$=A(9397),re=A(553),K=A(5879),R=A(9862);let le=(()=>{class X{constructor(be){this.http=be,this.user$$=new d.X(void 0),this.user$=this.user$$.asObservable(),this.user=void 0;const te=localStorage.getItem("user");te&&this.user$$.next(JSON.parse(te)),this.userSubscription=this.user$.subscribe(fe=>{this.user=fe})}register(be){return this.http.post(`${re.N.apiUrl}/users/register`,be)}login(be){return this.http.post(`${re.N.apiUrl}/users/login`,be)}logout(){return this.http.get(`${re.N.apiUrl}/users/logout`).pipe((0,$.b)(()=>{localStorage.removeItem("user"),localStorage.removeItem("image"),this.user$$.next(void 0)}))}editUser(be){return this.http.patch(`${re.N.apiUrl}/users/edit`,be)}get isAuthenticated(){return!!this.user}updateUser(be){this.user$$.next(be),localStorage.setItem("user",JSON.stringify(be))}ngOnDestroy(){this.userSubscription.unsubscribe()}}return X.\u0275fac=function(be){return new(be||X)(K.LFG(R.eN))},X.\u0275prov=K.Yz7({token:X,factory:X.\u0275fac}),X})()},2075:(rt,ye,A)=>{A.d(ye,{A:()=>be});var d=A(5879),$=A(6814),re=A(649),K=A(3911);function R(te,fe){if(1&te&&d._UZ(0,"img",1),2&te){const ue=d.oxw(2);d.s9C("src",ue.set.userImage,d.LSH)}}const le=function(te){return["/sets",te]},X=function(te){return["/reviews",te]};function he(te,fe){if(1&te&&(d.ynx(0),d._UZ(1,"img",1),d.TgZ(2,"div",2)(3,"div",3),d._uU(4),d.qZA(),d.TgZ(5,"div",4),d.YNc(6,R,1,1,"img",5),d.TgZ(7,"div",6)(8,"span"),d._uU(9),d.ALo(10,"translate"),d.TgZ(11,"strong",7),d._uU(12),d.qZA()(),d.TgZ(13,"span"),d._uU(14),d.qZA()()(),d.TgZ(15,"div",8)(16,"button",9),d._UZ(17,"i",10),d._uU(18),d.ALo(19,"translate"),d.qZA()()(),d.BQk()),2&te){const ue=d.oxw();d.xp6(1),d.s9C("src",ue.set.image,d.LSH),d.xp6(3),d.hij(" ",ue.set.name," "),d.xp6(2),d.Q6J("ngIf",ue.set.userImage),d.xp6(3),d.hij("",d.lcZ(10,9,"general.review.author")," "),d.xp6(2),d.Q6J("routerLink",d.VKq(13,le,ue.set.username)),d.xp6(1),d.Oqu(ue.set.username),d.xp6(2),d.Oqu(ue.set.reviewDate),d.xp6(2),d.Q6J("routerLink",d.VKq(15,X,ue.set._id)),d.xp6(2),d.hij(" ",d.lcZ(19,11,"general.review.view")," ")}}let be=(()=>{class te{constructor(){this.set=void 0}}return te.\u0275fac=function(ue){return new(ue||te)},te.\u0275cmp=d.Xpm({type:te,selectors:[["app-card"]],inputs:{set:"set"},decls:1,vars:1,consts:[[4,"ngIf"],[3,"src"],[1,"card-content"],[1,"card-title"],[1,"card-details"],[3,"src",4,"ngIf"],[1,"card-details__info"],[1,"user-link",3,"routerLink"],[1,"card-actions"],[1,"card-button",3,"routerLink"],[1,"fa-solid","fa-arrow-up-right-from-square"]],template:function(ue,Fe){1&ue&&d.YNc(0,he,20,17,"ng-container",0),2&ue&&d.Q6J("ngIf",Fe.set)},dependencies:[$.O5,re.rH,K.X$],styles:["[_nghost-%COMP%]{background-color:#fff;border-radius:5px;box-shadow:0 2px 4px #0000001a;display:flex;flex-direction:column;overflow:hidden;max-width:300px;height:340px;flex:1}[_nghost-%COMP%]   img[_ngcontent-%COMP%]{width:auto;height:200px;object-fit:contain}.card-content[_ngcontent-%COMP%]{padding:10px;display:flex;flex-direction:column}.card-title[_ngcontent-%COMP%]{font-weight:700;align-self:center;margin-bottom:5px}.card-details[_ngcontent-%COMP%]{display:flex;gap:10px;margin-top:10px;align-items:center;justify-content:center;height:35px}.card-details[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:35px;height:35px;border-radius:50%;object-fit:cover}.card-details__info[_ngcontent-%COMP%]{display:flex;flex-direction:column;font-size:14px;color:#888;justify-content:center}.card-button[_ngcontent-%COMP%]{color:#fff;background-color:#4caf50;border:none;border-radius:5px;padding:8px 16px;font-size:14px;margin-top:10px;cursor:pointer}.card-button[_ngcontent-%COMP%]:focus{outline:none}.card-button[_ngcontent-%COMP%]:hover{background-color:#45a049}.card-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.user-link[_ngcontent-%COMP%]{color:#d18904;cursor:pointer}@media (max-width: 600px){[_nghost-%COMP%]{max-width:100%;height:auto}}"]}),te})()},6208:(rt,ye,A)=>{A.d(ye,{m:()=>R});var d=A(6814),$=A(3911),re=A(649),K=A(5879);let R=(()=>{class le{}return le.\u0275fac=function(he){return new(he||le)},le.\u0275mod=K.oAB({type:le}),le.\u0275inj=K.cJS({imports:[d.ez,re.Bz,$.aw]}),le})()},553:(rt,ye,A)=>{A.d(ye,{N:()=>d});const d={production:!0,apiUrl:"https://brickview.api.vasspass.net"}},7088:(rt,ye,A)=>{var d=A(6593),$=A(9862),re=A(6223),K=A(649),R=A(5879),le=A(3911);let X=(()=>{class Me{}return Me.\u0275fac=function($e){return new($e||Me)},Me.\u0275cmp=R.Xpm({type:Me,selectors:[["app-pagenotfound"]],decls:5,vars:3,consts:[[1,"notfound"],["src","../../../assets/images/404.jpg"]],template:function($e,St){1&$e&&(R.TgZ(0,"div",0),R._UZ(1,"img",1),R.TgZ(2,"h1"),R._uU(3),R.ALo(4,"translate"),R.qZA()()),2&$e&&(R.xp6(3),R.Oqu(R.lcZ(4,1,"core.pagenotfound.message")))},dependencies:[le.X$],styles:[".notfound[_ngcontent-%COMP%]{margin:1rem;display:flex;flex-direction:column;align-items:center}img[_ngcontent-%COMP%]{width:100%;max-width:650px;height:auto}h1[_ngcontent-%COMP%]{color:#fff}"]}),Me})();var he=A(8915),be=A(7398),te=A(6814),fe=A(2075);function ue(Me,at){1&Me&&R._UZ(0,"app-card",5),2&Me&&R.Q6J("set",at.$implicit)}let Fe=(()=>{class Me{constructor($e){this.activatedRoute=$e,this.content="mow"}ngOnInit(){this.editor=new he.ML,this.sets$=this.activatedRoute.data.pipe((0,be.U)($e=>$e.sets))}ngOnDestroy(){this.editor.destroy()}}return Me.\u0275fac=function($e){return new($e||Me)(R.Y36(K.gz))},Me.\u0275cmp=R.Xpm({type:Me,selectors:[["app-home"]],decls:22,vars:18,consts:[[1,"flex-wrapper"],[1,"wrapper"],[1,"rotate"],[1,"fa-solid","fa-hand","wave"],[3,"set",4,"ngFor","ngForOf"],[3,"set"]],template:function($e,St){1&$e&&(R.TgZ(0,"div",0)(1,"div",1)(2,"h1"),R._uU(3),R.ALo(4,"translate"),R.TgZ(5,"div",2),R._UZ(6,"i",3),R.qZA()(),R.TgZ(7,"p"),R._uU(8),R.ALo(9,"translate"),R.qZA(),R.TgZ(10,"p"),R._uU(11),R.ALo(12,"translate"),R.qZA(),R.TgZ(13,"p"),R._uU(14),R.ALo(15,"translate"),R.qZA(),R.TgZ(16,"p"),R._uU(17),R.ALo(18,"translate"),R.qZA()(),R.TgZ(19,"ul"),R.YNc(20,ue,1,1,"app-card",4),R.ALo(21,"async"),R.qZA()()),2&$e&&(R.xp6(3),R.hij(" ",R.lcZ(4,6,"core.home.header")," "),R.xp6(5),R.hij(" ",R.lcZ(9,8,"core.home.desc1")," "),R.xp6(3),R.hij(" ",R.lcZ(12,10,"core.home.desc2")," "),R.xp6(3),R.hij(" ",R.lcZ(15,12,"core.home.desc3")," "),R.xp6(3),R.hij(" ",R.lcZ(18,14,"core.home.desc4")," "),R.xp6(3),R.Q6J("ngForOf",R.lcZ(21,16,St.sets$)))},dependencies:[te.sg,fe.A,te.Ov,le.X$],styles:["h1[_ngcontent-%COMP%]{text-align:center}p[_ngcontent-%COMP%]{font-size:18px}ul[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:20px;padding:0;width:100%}.flex-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column}.wrapper[_ngcontent-%COMP%]{padding:24px;background-color:#fff;max-width:700px;margin:0 auto;border:1px solid #ccc;border-radius:4px}.rotate[_ngcontent-%COMP%]{transform:rotate(-10deg);display:inline-block}.wave[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_wave-animation;animation-duration:2.5s;animation-iteration-count:infinite;transform-origin:70% 70%;display:inline-block}@keyframes _ngcontent-%COMP%_wave-animation{0%{transform:rotate(0)}10%{transform:rotate(-14deg)}20%{transform:rotate(8deg)}30%{transform:rotate(-14deg)}40%{transform:rotate(4deg)}50%{transform:rotate(-10deg)}60%{transform:rotate(0)}to{transform:rotate(0)}}@media (max-width: 600px){ul[_ngcontent-%COMP%]{flex-direction:column}}"]}),Me})();var Te=A(8495);const Be=[{path:"",pathMatch:"full",component:Fe,title:"Home",resolve:{sets:Me=>(0,R.f3M)(Te.z).getLatest()}},{path:"users",loadChildren:()=>Promise.all([A.e(592),A.e(448)]).then(A.bind(A,448)).then(Me=>Me.UserModule),canMatch:[A(4202)._]},{path:"sets",loadChildren:()=>Promise.all([A.e(592),A.e(534)]).then(A.bind(A,8534)).then(Me=>Me.SetModule)},{path:"reviews",loadChildren:()=>Promise.all([A.e(592),A.e(770)]).then(A.bind(A,3770)).then(Me=>Me.ReviewModule)},{path:"auth",loadChildren:()=>Promise.all([A.e(592),A.e(702)]).then(A.bind(A,6702)).then(Me=>Me.AuthModule)},{path:"**",pathMatch:"full",component:X,title:"404"}];let st=(()=>{class Me{}return Me.\u0275fac=function($e){return new($e||Me)},Me.\u0275mod=R.oAB({type:Me}),Me.\u0275inj=R.cJS({imports:[K.Bz.forRoot(Be),K.Bz]}),Me})();var _t=A(2207);let it=(()=>{class Me{constructor(){this.isActive=!1}show(){this.isActive=!0}hide(){this.isActive=!1}}return Me.\u0275fac=function($e){return new($e||Me)},Me.\u0275prov=R.Yz7({token:Me,factory:Me.\u0275fac}),Me})();var ge=A(8394),ie=A(8998),Se=A(3076);let We=(()=>{class Me extends K.eV{constructor($e){super(),this.title=$e}updateTitle($e){const St=this.buildTitle($e);void 0!==St&&this.title.setTitle(`BrickView | ${St}`)}}return Me.\u0275fac=function($e){return new($e||Me)(R.LFG(d.Dx))},Me.\u0275prov=R.Yz7({token:Me,factory:Me.\u0275fac}),Me})();function Ke(Me,at){1&Me&&(R.TgZ(0,"button",13),R._UZ(1,"i",14),R._uU(2),R.ALo(3,"translate"),R.qZA()),2&Me&&(R.xp6(2),R.hij(" ",R.lcZ(3,1,"core.nav.login")," "))}function ze(Me,at){1&Me&&(R.TgZ(0,"button",15),R._UZ(1,"i",14),R._uU(2),R.ALo(3,"translate"),R.qZA()),2&Me&&(R.xp6(2),R.hij(" ",R.lcZ(3,1,"core.nav.register")," "))}function dt(Me,at){1&Me&&(R.TgZ(0,"button",16),R._UZ(1,"i",17),R._uU(2),R.ALo(3,"translate"),R.qZA()),2&Me&&(R.xp6(2),R.hij(" ",R.lcZ(3,1,"core.nav.logout")," "))}function Ze(Me,at){if(1&Me&&R._UZ(0,"img",18),2&Me){const $e=R.oxw();R.Q6J("src",$e.image,R.LSH)}}function Et(Me,at){1&Me&&(R.TgZ(0,"button",19),R._uU(1),R.ALo(2,"translate"),R.qZA()),2&Me&&(R.xp6(1),R.hij(" ",R.lcZ(2,1,"core.nav.profile")," "))}let Ot=(()=>{class Me{constructor($e,St,en,Qn){this.user=$e,this.router=St,this.token=en,this.translate=Qn,this.isLogged=!1,this.image=""}ngOnInit(){this.router.events.subscribe(St=>{St instanceof K.m2&&(this.isLogged=!!this.token.getToken(),this.image=localStorage.getItem("image")||"")}),this.translate.setDefaultLang("bg");const $e=localStorage.getItem("preferred-language");this.translate.use($e||"bg")}changeLanguage($e){this.translate.use($e),localStorage.setItem("preferred-language",$e)}}return Me.\u0275fac=function($e){return new($e||Me)(R.Y36(Se.K),R.Y36(K.F0),R.Y36(_t.B),R.Y36(le.sK))},Me.\u0275cmp=R.Xpm({type:Me,selectors:[["app-nav"]],decls:16,vars:8,consts:[[1,"navbar"],["routerLink","/",1,"navbar-title"],[1,"navbar-buttons"],[1,"flags"],[1,"fib","fi-us","flag",3,"click"],[1,"fib","fi-bg","flag",3,"click"],["routerLink","/reviews/",1,"navbar-button"],[1,"fa-solid","fa-newspaper"],["routerLink","/auth/login","class","navbar-button",4,"ngIf"],["routerLink","/auth/register","class","navbar-button",4,"ngIf"],["routerLink","/auth/logout","class","navbar-button",4,"ngIf"],["routerLink","/users/my-profile",3,"src",4,"ngIf"],["routerLink","/users/my-profile","class","navbar-button",4,"ngIf"],["routerLink","/auth/login",1,"navbar-button"],[1,"fa-solid","fa-user"],["routerLink","/auth/register",1,"navbar-button"],["routerLink","/auth/logout",1,"navbar-button"],[1,"fa-solid","fa-right-to-bracket"],["routerLink","/users/my-profile",3,"src"],["routerLink","/users/my-profile",1,"navbar-button"]],template:function($e,St){1&$e&&(R.TgZ(0,"nav",0)(1,"div",1),R._uU(2,"BrickView"),R.qZA(),R.TgZ(3,"div",2)(4,"div",3)(5,"a",4),R.NdJ("click",function(){return St.changeLanguage("en")}),R.qZA(),R.TgZ(6,"a",5),R.NdJ("click",function(){return St.changeLanguage("bg")}),R.qZA()(),R.TgZ(7,"button",6),R._UZ(8,"i",7),R._uU(9),R.ALo(10,"translate"),R.qZA(),R.YNc(11,Ke,4,3,"button",8),R.YNc(12,ze,4,3,"button",9),R.YNc(13,dt,4,3,"button",10),R.YNc(14,Ze,1,1,"img",11),R.YNc(15,Et,3,3,"button",12),R.qZA()()),2&$e&&(R.xp6(9),R.hij(" ",R.lcZ(10,6,"core.nav.reviews")," "),R.xp6(2),R.Q6J("ngIf",!St.isLogged),R.xp6(1),R.Q6J("ngIf",!St.isLogged),R.xp6(1),R.Q6J("ngIf",St.isLogged),R.xp6(1),R.Q6J("ngIf",St.isLogged&&St.image),R.xp6(1),R.Q6J("ngIf",St.isLogged&&!St.image))},dependencies:[te.O5,K.rH,le.X$],styles:["body[_ngcontent-%COMP%]{margin:0;padding:0}.navbar[_ngcontent-%COMP%]{background-color:orange;display:flex;justify-content:space-between;align-items:center;padding:10px;box-shadow:0 2px 4px #0000001a}.navbar-title[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:#fff;cursor:pointer}.navbar-buttons[_ngcontent-%COMP%]{display:flex;align-items:center}.navbar-button[_ngcontent-%COMP%]{margin:0 5px;padding:8px 12px;background-color:green;color:#fff;border:none;border-radius:4px;font-size:16px;cursor:pointer;transition:background-color .3s}.navbar-button[_ngcontent-%COMP%]:hover{background-color:#015605}img[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;object-fit:cover;cursor:pointer;margin-left:10px}.flags[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px;margin-right:10px}.flag[_ngcontent-%COMP%]{padding:8px 12px;cursor:pointer}@media (max-width: 768px){.navbar[_ngcontent-%COMP%]{flex-direction:column;padding:10px 20px}.navbar-buttons[_ngcontent-%COMP%]{display:flex;gap:10px;margin-top:10px}.navbar-button[_ngcontent-%COMP%]{margin:5px 0;padding:6px 10px;font-size:14px}}"]}),Me})(),Vt=(()=>{class Me{}return Me.\u0275fac=function($e){return new($e||Me)},Me.\u0275cmp=R.Xpm({type:Me,selectors:[["app-spinner"]],decls:5,vars:0,consts:[[1,"lds-ring"]],template:function($e,St){1&$e&&(R.TgZ(0,"div",0),R._UZ(1,"div")(2,"div")(3,"div")(4,"div"),R.qZA())},styles:[".lds-ring[_ngcontent-%COMP%]{display:inline-block;position:relative;width:80px;height:80px}.lds-ring[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{box-sizing:border-box;display:block;position:absolute;width:64px;height:64px;margin:8px;border:8px solid #dfc;border-radius:50%;animation:_ngcontent-%COMP%_lds-ring 1.2s cubic-bezier(.5,0,.5,1) infinite;border-color:#dfc transparent transparent transparent}.lds-ring[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(1){animation-delay:-.45s}.lds-ring[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){animation-delay:-.3s}.lds-ring[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){animation-delay:-.15s}@keyframes _ngcontent-%COMP%_lds-ring{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]}),Me})();function hn(Me,at){1&Me&&(R.TgZ(0,"div",1),R._UZ(1,"app-spinner"),R.qZA())}let Xt=(()=>{class Me{constructor($e){this.spinner=$e}}return Me.\u0275fac=function($e){return new($e||Me)(R.Y36(it))},Me.\u0275cmp=R.Xpm({type:Me,selectors:[["app-page-spinner"]],decls:1,vars:1,consts:[["class","wrapper",4,"ngIf"],[1,"wrapper"]],template:function($e,St){1&$e&&R.YNc(0,hn,2,0,"div",0),2&$e&&R.Q6J("ngIf",St.spinner.isActive)},dependencies:[te.O5,Vt],styles:[".wrapper[_ngcontent-%COMP%]{background:linear-gradient(#202020b3,rgba(32,32,32,.7));position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;z-index:9999}"]}),Me})(),Hn=(()=>{class Me{constructor(){this.year=(new Date).getFullYear()}}return Me.\u0275fac=function($e){return new($e||Me)},Me.\u0275cmp=R.Xpm({type:Me,selectors:[["app-footer"]],decls:3,vars:1,consts:[[1,"footer"],[1,"footer-content"]],template:function($e,St){1&$e&&(R.TgZ(0,"nav",0)(1,"div",1),R._uU(2),R.qZA()()),2&$e&&(R.xp6(2),R.hij("\xa9 BrickView - ",St.year,""))},styles:[".footer[_ngcontent-%COMP%]{background-color:orange;padding:10px;box-shadow:0 2px 4px #0000001a;margin-top:auto}.footer-content[_ngcontent-%COMP%]{color:#fff;margin:0 auto;text-align:center}"]}),Me})(),Gn=(()=>{class Me{}return Me.\u0275fac=function($e){return new($e||Me)},Me.\u0275cmp=R.Xpm({type:Me,selectors:[["app-root"]],decls:5,vars:0,consts:[[1,"container"]],template:function($e,St){1&$e&&(R._UZ(0,"app-page-spinner")(1,"app-nav"),R.TgZ(2,"div",0),R._UZ(3,"router-outlet"),R.qZA(),R._UZ(4,"app-footer"))},dependencies:[Ot,Xt,Hn,K.lC],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100vh}.container[_ngcontent-%COMP%]{padding:10px;flex-grow:1}"]}),Me})();var Ce=A(8081),we=A(6208),J=A(1180);class oe{constructor(at,$e="/assets/i18n/",St=".json"){(0,J.Z)(this,"http",void 0),(0,J.Z)(this,"prefix",void 0),(0,J.Z)(this,"suffix",void 0),this.http=at,this.prefix=$e,this.suffix=St}getTranslation(at){return this.http.get(`${this.prefix}${at}${this.suffix}`)}}var H=A(9397),z=A(6306),_e=A(6232),xe=A(8504),ot=A(4716),ft=A(553);let At=(()=>{class Me{constructor($e,St,en,Qn){this.token=$e,this.spinner=St,this.router=en,this.user=Qn}intercept($e,St){if(this.spinner.show(),$e.url.startsWith(ft.N.apiUrl)){const en=this.token.getToken(),Qn=this.token.getRefreshToken(),Un=localStorage.getItem("preferred-language")||"bg";$e=$e.clone({setHeaders:{"X-Authorization":en,"X-Refresh":Qn,"X-Language":Un}})}return St.handle($e).pipe((0,H.b)(en=>{if(en instanceof $.Zn&&$e.url.startsWith(ft.N.apiUrl)){const Qn=en.headers.get("X-Authorization");Qn&&this.token.saveToken(Qn);const Un=en.headers.get("X-Refresh");Un&&this.token.saveRefreshToken(Un);const qe=en.body;qe&&qe.user&&qe.user.email&&this.user.updateUser(qe.user)}}),(0,z.K)(en=>401===en.status?(this.token.clearTokens(),localStorage.removeItem("image"),localStorage.removeItem("user"),this.router.navigate(["auth/login"]),_e.E):404===en.status&&$e.url.includes("user-collection")?(this.router.navigate(["404"]),_e.E):(0,xe._)(()=>en)),(0,ot.x)(()=>{this.spinner.hide()}))}}return Me.\u0275fac=function($e){return new($e||Me)(R.LFG(_t.B),R.LFG(it),R.LFG(K.F0),R.LFG(Se.K))},Me.\u0275prov=R.Yz7({token:Me,factory:Me.\u0275fac}),Me})(),pt=(()=>{class Me{}return Me.\u0275fac=function($e){return new($e||Me)},Me.\u0275mod=R.oAB({type:Me,bootstrap:[Gn]}),Me.\u0275inj=R.cJS({providers:[Te.z,_t.B,it,ge.q,ie.F,Se.K,{provide:$.TP,useClass:At,multi:!0},{provide:K.eV,useClass:We}],imports:[d.b2,$.JF,Ce.I,we.m,st,re.UX,le.aw.forRoot({loader:{provide:le.Zw,useFactory:bt,deps:[$.eN]}})]}),Me})();function bt(Me){return new oe(Me)}d.q6().bootstrapModule(pt).catch(Me=>console.error(Me))},5619:(rt,ye,A)=>{A.d(ye,{X:()=>$});var d=A(8645);class $ extends d.x{constructor(K){super(),this._value=K}get value(){return this.getValue()}_subscribe(K){const R=super._subscribe(K);return!R.closed&&K.next(this._value),R}getValue(){const{hasError:K,thrownError:R,_value:le}=this;if(K)throw R;return this._throwIfClosed(),le}next(K){super.next(this._value=K)}}},5592:(rt,ye,A)=>{A.d(ye,{y:()=>he});var d=A(305),$=A(7394),re=A(4850),K=A(8407),R=A(2653),le=A(4674),X=A(1441);let he=(()=>{class ue{constructor(Te){Te&&(this._subscribe=Te)}lift(Te){const Ae=new ue;return Ae.source=this,Ae.operator=Te,Ae}subscribe(Te,Ae,ee){const Be=function fe(ue){return ue&&ue instanceof d.Lv||function te(ue){return ue&&(0,le.m)(ue.next)&&(0,le.m)(ue.error)&&(0,le.m)(ue.complete)}(ue)&&(0,$.Nn)(ue)}(Te)?Te:new d.Hp(Te,Ae,ee);return(0,X.x)(()=>{const{operator:st,source:_t}=this;Be.add(st?st.call(Be,_t):_t?this._subscribe(Be):this._trySubscribe(Be))}),Be}_trySubscribe(Te){try{return this._subscribe(Te)}catch(Ae){Te.error(Ae)}}forEach(Te,Ae){return new(Ae=be(Ae))((ee,Be)=>{const st=new d.Hp({next:_t=>{try{Te(_t)}catch(it){Be(it),st.unsubscribe()}},error:Be,complete:ee});this.subscribe(st)})}_subscribe(Te){var Ae;return null===(Ae=this.source)||void 0===Ae?void 0:Ae.subscribe(Te)}[re.L](){return this}pipe(...Te){return(0,K.U)(Te)(this)}toPromise(Te){return new(Te=be(Te))((Ae,ee)=>{let Be;this.subscribe(st=>Be=st,st=>ee(st),()=>Ae(Be))})}}return ue.create=Fe=>new ue(Fe),ue})();function be(ue){var Fe;return null!==(Fe=ue??R.config.Promise)&&void 0!==Fe?Fe:Promise}},8645:(rt,ye,A)=>{A.d(ye,{x:()=>X});var d=A(5592),$=A(7394);const K=(0,A(2306).d)(be=>function(){be(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var R=A(9039),le=A(1441);let X=(()=>{class be extends d.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(fe){const ue=new he(this,this);return ue.operator=fe,ue}_throwIfClosed(){if(this.closed)throw new K}next(fe){(0,le.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ue of this.currentObservers)ue.next(fe)}})}error(fe){(0,le.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=fe;const{observers:ue}=this;for(;ue.length;)ue.shift().error(fe)}})}complete(){(0,le.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:fe}=this;for(;fe.length;)fe.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var fe;return(null===(fe=this.observers)||void 0===fe?void 0:fe.length)>0}_trySubscribe(fe){return this._throwIfClosed(),super._trySubscribe(fe)}_subscribe(fe){return this._throwIfClosed(),this._checkFinalizedStatuses(fe),this._innerSubscribe(fe)}_innerSubscribe(fe){const{hasError:ue,isStopped:Fe,observers:Te}=this;return ue||Fe?$.Lc:(this.currentObservers=null,Te.push(fe),new $.w0(()=>{this.currentObservers=null,(0,R.P)(Te,fe)}))}_checkFinalizedStatuses(fe){const{hasError:ue,thrownError:Fe,isStopped:Te}=this;ue?fe.error(Fe):Te&&fe.complete()}asObservable(){const fe=new d.y;return fe.source=this,fe}}return be.create=(te,fe)=>new he(te,fe),be})();class he extends X{constructor(te,fe){super(),this.destination=te,this.source=fe}next(te){var fe,ue;null===(ue=null===(fe=this.destination)||void 0===fe?void 0:fe.next)||void 0===ue||ue.call(fe,te)}error(te){var fe,ue;null===(ue=null===(fe=this.destination)||void 0===fe?void 0:fe.error)||void 0===ue||ue.call(fe,te)}complete(){var te,fe;null===(fe=null===(te=this.destination)||void 0===te?void 0:te.complete)||void 0===fe||fe.call(te)}_subscribe(te){var fe,ue;return null!==(ue=null===(fe=this.source)||void 0===fe?void 0:fe.subscribe(te))&&void 0!==ue?ue:$.Lc}}},305:(rt,ye,A)=>{A.d(ye,{Hp:()=>ee,Lv:()=>ue});var d=A(4674),$=A(7394),re=A(2653),K=A(3894),R=A(2420);const le=be("C",void 0,void 0);function be(ge,ie,Se){return{kind:ge,value:ie,error:Se}}var te=A(7599),fe=A(1441);class ue extends $.w0{constructor(ie){super(),this.isStopped=!1,ie?(this.destination=ie,(0,$.Nn)(ie)&&ie.add(this)):this.destination=it}static create(ie,Se,We){return new ee(ie,Se,We)}next(ie){this.isStopped?_t(function he(ge){return be("N",ge,void 0)}(ie),this):this._next(ie)}error(ie){this.isStopped?_t(function X(ge){return be("E",void 0,ge)}(ie),this):(this.isStopped=!0,this._error(ie))}complete(){this.isStopped?_t(le,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ie){this.destination.next(ie)}_error(ie){try{this.destination.error(ie)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Fe=Function.prototype.bind;function Te(ge,ie){return Fe.call(ge,ie)}class Ae{constructor(ie){this.partialObserver=ie}next(ie){const{partialObserver:Se}=this;if(Se.next)try{Se.next(ie)}catch(We){Be(We)}}error(ie){const{partialObserver:Se}=this;if(Se.error)try{Se.error(ie)}catch(We){Be(We)}else Be(ie)}complete(){const{partialObserver:ie}=this;if(ie.complete)try{ie.complete()}catch(Se){Be(Se)}}}class ee extends ue{constructor(ie,Se,We){let Ke;if(super(),(0,d.m)(ie)||!ie)Ke={next:ie??void 0,error:Se??void 0,complete:We??void 0};else{let ze;this&&re.config.useDeprecatedNextContext?(ze=Object.create(ie),ze.unsubscribe=()=>this.unsubscribe(),Ke={next:ie.next&&Te(ie.next,ze),error:ie.error&&Te(ie.error,ze),complete:ie.complete&&Te(ie.complete,ze)}):Ke=ie}this.destination=new Ae(Ke)}}function Be(ge){re.config.useDeprecatedSynchronousErrorHandling?(0,fe.O)(ge):(0,K.h)(ge)}function _t(ge,ie){const{onStoppedNotification:Se}=re.config;Se&&te.z.setTimeout(()=>Se(ge,ie))}const it={closed:!0,next:R.Z,error:function st(ge){throw ge},complete:R.Z}},7394:(rt,ye,A)=>{A.d(ye,{Lc:()=>le,w0:()=>R,Nn:()=>X});var d=A(4674);const re=(0,A(2306).d)(be=>function(fe){be(this),this.message=fe?`${fe.length} errors occurred during unsubscription:\n${fe.map((ue,Fe)=>`${Fe+1}) ${ue.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=fe});var K=A(9039);class R{constructor(te){this.initialTeardown=te,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let te;if(!this.closed){this.closed=!0;const{_parentage:fe}=this;if(fe)if(this._parentage=null,Array.isArray(fe))for(const Te of fe)Te.remove(this);else fe.remove(this);const{initialTeardown:ue}=this;if((0,d.m)(ue))try{ue()}catch(Te){te=Te instanceof re?Te.errors:[Te]}const{_finalizers:Fe}=this;if(Fe){this._finalizers=null;for(const Te of Fe)try{he(Te)}catch(Ae){te=te??[],Ae instanceof re?te=[...te,...Ae.errors]:te.push(Ae)}}if(te)throw new re(te)}}add(te){var fe;if(te&&te!==this)if(this.closed)he(te);else{if(te instanceof R){if(te.closed||te._hasParent(this))return;te._addParent(this)}(this._finalizers=null!==(fe=this._finalizers)&&void 0!==fe?fe:[]).push(te)}}_hasParent(te){const{_parentage:fe}=this;return fe===te||Array.isArray(fe)&&fe.includes(te)}_addParent(te){const{_parentage:fe}=this;this._parentage=Array.isArray(fe)?(fe.push(te),fe):fe?[fe,te]:te}_removeParent(te){const{_parentage:fe}=this;fe===te?this._parentage=null:Array.isArray(fe)&&(0,K.P)(fe,te)}remove(te){const{_finalizers:fe}=this;fe&&(0,K.P)(fe,te),te instanceof R&&te._removeParent(this)}}R.EMPTY=(()=>{const be=new R;return be.closed=!0,be})();const le=R.EMPTY;function X(be){return be instanceof R||be&&"closed"in be&&(0,d.m)(be.remove)&&(0,d.m)(be.add)&&(0,d.m)(be.unsubscribe)}function he(be){(0,d.m)(be)?be():be.unsubscribe()}},2653:(rt,ye,A)=>{A.d(ye,{config:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},3168:(rt,ye,A)=>{A.d(ye,{c:()=>le});var d=A(5592),$=A(7394),re=A(6196),K=A(8251),R=A(9360);class le extends d.y{constructor(he,be){super(),this.source=he,this.subjectFactory=be,this._subject=null,this._refCount=0,this._connection=null,(0,R.A)(he)&&(this.lift=he.lift)}_subscribe(he){return this.getSubject().subscribe(he)}getSubject(){const he=this._subject;return(!he||he.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:he}=this;this._subject=this._connection=null,he?.unsubscribe()}connect(){let he=this._connection;if(!he){he=this._connection=new $.w0;const be=this.getSubject();he.add(this.source.subscribe((0,K.x)(be,void 0,()=>{this._teardown(),be.complete()},te=>{this._teardown(),be.error(te)},()=>this._teardown()))),he.closed&&(this._connection=null,he=$.w0.EMPTY)}return he}refCount(){return(0,re.x)()(this)}}},2572:(rt,ye,A)=>{A.d(ye,{a:()=>te,l:()=>fe});var d=A(5592),$=A(7453),re=A(7715),K=A(2737),R=A(7400),le=A(4564),X=A(2714),he=A(8251),be=A(7103);function te(...Fe){const Te=(0,le.yG)(Fe),Ae=(0,le.jO)(Fe),{args:ee,keys:Be}=(0,$.D)(Fe);if(0===ee.length)return(0,re.D)([],Te);const st=new d.y(fe(ee,Te,Be?_t=>(0,X.n)(Be,_t):K.y));return Ae?st.pipe((0,R.Z)(Ae)):st}function fe(Fe,Te,Ae=K.y){return ee=>{ue(Te,()=>{const{length:Be}=Fe,st=new Array(Be);let _t=Be,it=Be;for(let ge=0;ge<Be;ge++)ue(Te,()=>{const ie=(0,re.D)(Fe[ge],Te);let Se=!1;ie.subscribe((0,he.x)(ee,We=>{st[ge]=We,Se||(Se=!0,it--),it||ee.next(Ae(st.slice()))},()=>{--_t||ee.complete()}))},ee)},ee)}}function ue(Fe,Te,Ae){Fe?(0,be.f)(Ae,Fe,Te):Te()}},5211:(rt,ye,A)=>{A.d(ye,{z:()=>R});var d=A(7537),re=A(4564),K=A(7715);function R(...le){return function $(){return(0,d.J)(1)}()((0,K.D)(le,(0,re.yG)(le)))}},4911:(rt,ye,A)=>{A.d(ye,{P:()=>re});var d=A(5592),$=A(4829);function re(K){return new d.y(R=>{(0,$.Xf)(K()).subscribe(R)})}},6232:(rt,ye,A)=>{A.d(ye,{E:()=>$});const $=new(A(5592).y)(R=>R.complete())},9315:(rt,ye,A)=>{A.d(ye,{D:()=>he});var d=A(5592),$=A(7453),re=A(4829),K=A(4564),R=A(8251),le=A(7400),X=A(2714);function he(...be){const te=(0,K.jO)(be),{args:fe,keys:ue}=(0,$.D)(be),Fe=new d.y(Te=>{const{length:Ae}=fe;if(!Ae)return void Te.complete();const ee=new Array(Ae);let Be=Ae,st=Ae;for(let _t=0;_t<Ae;_t++){let it=!1;(0,re.Xf)(fe[_t]).subscribe((0,R.x)(Te,ge=>{it||(it=!0,st--),ee[_t]=ge},()=>Be--,void 0,()=>{(!Be||!it)&&(st||Te.next(ue?(0,X.n)(ue,ee):ee),Te.complete())}))}});return te?Fe.pipe((0,le.Z)(te)):Fe}},7715:(rt,ye,A)=>{A.d(ye,{D:()=>We});var d=A(4829),$=A(7103),re=A(9360),K=A(8251);function R(Ke,ze=0){return(0,re.e)((dt,Ze)=>{dt.subscribe((0,K.x)(Ze,Et=>(0,$.f)(Ze,Ke,()=>Ze.next(Et),ze),()=>(0,$.f)(Ze,Ke,()=>Ze.complete(),ze),Et=>(0,$.f)(Ze,Ke,()=>Ze.error(Et),ze)))})}function le(Ke,ze=0){return(0,re.e)((dt,Ze)=>{Ze.add(Ke.schedule(()=>dt.subscribe(Ze),ze))})}var be=A(5592),fe=A(4971),ue=A(4674);function Te(Ke,ze){if(!Ke)throw new Error("Iterable cannot be null");return new be.y(dt=>{(0,$.f)(dt,ze,()=>{const Ze=Ke[Symbol.asyncIterator]();(0,$.f)(dt,ze,()=>{Ze.next().then(Et=>{Et.done?dt.complete():dt.next(Et.value)})},0,!0)})})}var Ae=A(8382),ee=A(4026),Be=A(4266),st=A(3664),_t=A(5726),it=A(9853),ge=A(541);function We(Ke,ze){return ze?function Se(Ke,ze){if(null!=Ke){if((0,Ae.c)(Ke))return function X(Ke,ze){return(0,d.Xf)(Ke).pipe(le(ze),R(ze))}(Ke,ze);if((0,Be.z)(Ke))return function te(Ke,ze){return new be.y(dt=>{let Ze=0;return ze.schedule(function(){Ze===Ke.length?dt.complete():(dt.next(Ke[Ze++]),dt.closed||this.schedule())})})}(Ke,ze);if((0,ee.t)(Ke))return function he(Ke,ze){return(0,d.Xf)(Ke).pipe(le(ze),R(ze))}(Ke,ze);if((0,_t.D)(Ke))return Te(Ke,ze);if((0,st.T)(Ke))return function Fe(Ke,ze){return new be.y(dt=>{let Ze;return(0,$.f)(dt,ze,()=>{Ze=Ke[fe.h](),(0,$.f)(dt,ze,()=>{let Et,Ot;try{({value:Et,done:Ot}=Ze.next())}catch(Vt){return void dt.error(Vt)}Ot?dt.complete():dt.next(Et)},0,!0)}),()=>(0,ue.m)(Ze?.return)&&Ze.return()})}(Ke,ze);if((0,ge.L)(Ke))return function ie(Ke,ze){return Te((0,ge.Q)(Ke),ze)}(Ke,ze)}throw(0,it.z)(Ke)}(Ke,ze):(0,d.Xf)(Ke)}},4829:(rt,ye,A)=>{A.d(ye,{Xf:()=>Fe});var d=A(7582),$=A(4266),re=A(4026),K=A(5592),R=A(8382),le=A(5726),X=A(9853),he=A(3664),be=A(541),te=A(4674),fe=A(3894),ue=A(4850);function Fe(ge){if(ge instanceof K.y)return ge;if(null!=ge){if((0,R.c)(ge))return function Te(ge){return new K.y(ie=>{const Se=ge[ue.L]();if((0,te.m)(Se.subscribe))return Se.subscribe(ie);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ge);if((0,$.z)(ge))return function Ae(ge){return new K.y(ie=>{for(let Se=0;Se<ge.length&&!ie.closed;Se++)ie.next(ge[Se]);ie.complete()})}(ge);if((0,re.t)(ge))return function ee(ge){return new K.y(ie=>{ge.then(Se=>{ie.closed||(ie.next(Se),ie.complete())},Se=>ie.error(Se)).then(null,fe.h)})}(ge);if((0,le.D)(ge))return st(ge);if((0,he.T)(ge))return function Be(ge){return new K.y(ie=>{for(const Se of ge)if(ie.next(Se),ie.closed)return;ie.complete()})}(ge);if((0,be.L)(ge))return function _t(ge){return st((0,be.Q)(ge))}(ge)}throw(0,X.z)(ge)}function st(ge){return new K.y(ie=>{(function it(ge,ie){var Se,We,Ke,ze;return(0,d.mG)(this,void 0,void 0,function*(){try{for(Se=(0,d.KL)(ge);!(We=yield Se.next()).done;)if(ie.next(We.value),ie.closed)return}catch(dt){Ke={error:dt}}finally{try{We&&!We.done&&(ze=Se.return)&&(yield ze.call(Se))}finally{if(Ke)throw Ke.error}}ie.complete()})})(ge,ie).catch(Se=>ie.error(Se))})}},3019:(rt,ye,A)=>{A.d(ye,{T:()=>le});var d=A(7537),$=A(4829),re=A(6232),K=A(4564),R=A(7715);function le(...X){const he=(0,K.yG)(X),be=(0,K._6)(X,1/0),te=X;return te.length?1===te.length?(0,$.Xf)(te[0]):(0,d.J)(be)((0,R.D)(te,he)):re.E}},2096:(rt,ye,A)=>{A.d(ye,{of:()=>re});var d=A(4564),$=A(7715);function re(...K){const R=(0,d.yG)(K);return(0,$.D)(K,R)}},8504:(rt,ye,A)=>{A.d(ye,{_:()=>re});var d=A(5592),$=A(4674);function re(K,R){const le=(0,$.m)(K)?K:()=>K,X=he=>he.error(le());return new d.y(R?he=>R.schedule(X,0,he):X)}},8251:(rt,ye,A)=>{A.d(ye,{x:()=>$});var d=A(305);function $(K,R,le,X,he){return new re(K,R,le,X,he)}class re extends d.Lv{constructor(R,le,X,he,be,te){super(R),this.onFinalize=be,this.shouldUnsubscribe=te,this._next=le?function(fe){try{le(fe)}catch(ue){R.error(ue)}}:super._next,this._error=he?function(fe){try{he(fe)}catch(ue){R.error(ue)}finally{this.unsubscribe()}}:super._error,this._complete=X?function(){try{X()}catch(fe){R.error(fe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var R;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:le}=this;super.unsubscribe(),!le&&(null===(R=this.onFinalize)||void 0===R||R.call(this))}}}},6306:(rt,ye,A)=>{A.d(ye,{K:()=>K});var d=A(4829),$=A(8251),re=A(9360);function K(R){return(0,re.e)((le,X)=>{let te,he=null,be=!1;he=le.subscribe((0,$.x)(X,void 0,void 0,fe=>{te=(0,d.Xf)(R(fe,K(R)(le))),he?(he.unsubscribe(),he=null,te.subscribe(X)):be=!0})),be&&(he.unsubscribe(),he=null,te.subscribe(X))})}},6328:(rt,ye,A)=>{A.d(ye,{b:()=>re});var d=A(1631),$=A(4674);function re(K,R){return(0,$.m)(R)?(0,d.z)(K,R,1):(0,d.z)(K,1)}},3997:(rt,ye,A)=>{A.d(ye,{x:()=>K});var d=A(2737),$=A(9360),re=A(8251);function K(le,X=d.y){return le=le??R,(0,$.e)((he,be)=>{let te,fe=!0;he.subscribe((0,re.x)(be,ue=>{const Fe=X(ue);(fe||!le(te,Fe))&&(fe=!1,te=Fe,be.next(ue))}))})}function R(le,X){return le===X}},2181:(rt,ye,A)=>{A.d(ye,{h:()=>re});var d=A(9360),$=A(8251);function re(K,R){return(0,d.e)((le,X)=>{let he=0;le.subscribe((0,$.x)(X,be=>K.call(R,be,he++)&&X.next(be)))})}},4716:(rt,ye,A)=>{A.d(ye,{x:()=>$});var d=A(9360);function $(re){return(0,d.e)((K,R)=>{try{K.subscribe(R)}finally{R.add(re)}})}},7398:(rt,ye,A)=>{A.d(ye,{U:()=>re});var d=A(9360),$=A(8251);function re(K,R){return(0,d.e)((le,X)=>{let he=0;le.subscribe((0,$.x)(X,be=>{X.next(K.call(R,be,he++))}))})}},7537:(rt,ye,A)=>{A.d(ye,{J:()=>re});var d=A(1631),$=A(2737);function re(K=1/0){return(0,d.z)($.y,K)}},1631:(rt,ye,A)=>{A.d(ye,{z:()=>he});var d=A(7398),$=A(4829),re=A(9360),K=A(7103),R=A(8251),X=A(4674);function he(be,te,fe=1/0){return(0,X.m)(te)?he((ue,Fe)=>(0,d.U)((Te,Ae)=>te(ue,Te,Fe,Ae))((0,$.Xf)(be(ue,Fe))),fe):("number"==typeof te&&(fe=te),(0,re.e)((ue,Fe)=>function le(be,te,fe,ue,Fe,Te,Ae,ee){const Be=[];let st=0,_t=0,it=!1;const ge=()=>{it&&!Be.length&&!st&&te.complete()},ie=We=>st<ue?Se(We):Be.push(We),Se=We=>{Te&&te.next(We),st++;let Ke=!1;(0,$.Xf)(fe(We,_t++)).subscribe((0,R.x)(te,ze=>{Fe?.(ze),Te?ie(ze):te.next(ze)},()=>{Ke=!0},void 0,()=>{if(Ke)try{for(st--;Be.length&&st<ue;){const ze=Be.shift();Ae?(0,K.f)(te,Ae,()=>Se(ze)):Se(ze)}ge()}catch(ze){te.error(ze)}}))};return be.subscribe((0,R.x)(te,ie,()=>{it=!0,ge()})),()=>{ee?.()}}(ue,Fe,be,fe)))}},6196:(rt,ye,A)=>{A.d(ye,{x:()=>re});var d=A(9360),$=A(8251);function re(){return(0,d.e)((K,R)=>{let le=null;K._refCount++;const X=(0,$.x)(R,void 0,void 0,void 0,()=>{if(!K||K._refCount<=0||0<--K._refCount)return void(le=null);const he=K._connection,be=le;le=null,he&&(!be||he===be)&&he.unsubscribe(),R.unsubscribe()});K.subscribe(X),X.closed||(le=K.connect())})}},6699:(rt,ye,A)=>{A.d(ye,{R:()=>K});var d=A(9360),$=A(8251);function K(R,le){return(0,d.e)(function re(R,le,X,he,be){return(te,fe)=>{let ue=X,Fe=le,Te=0;te.subscribe((0,$.x)(fe,Ae=>{const ee=Te++;Fe=ue?R(Fe,Ae,ee):(ue=!0,Ae),he&&fe.next(Fe)},be&&(()=>{ue&&fe.next(Fe),fe.complete()})))}}(R,le,arguments.length>=2,!0))}},3020:(rt,ye,A)=>{A.d(ye,{B:()=>R});var d=A(4829),$=A(8645),re=A(305),K=A(9360);function R(X={}){const{connector:he=(()=>new $.x),resetOnError:be=!0,resetOnComplete:te=!0,resetOnRefCountZero:fe=!0}=X;return ue=>{let Fe,Te,Ae,ee=0,Be=!1,st=!1;const _t=()=>{Te?.unsubscribe(),Te=void 0},it=()=>{_t(),Fe=Ae=void 0,Be=st=!1},ge=()=>{const ie=Fe;it(),ie?.unsubscribe()};return(0,K.e)((ie,Se)=>{ee++,!st&&!Be&&_t();const We=Ae=Ae??he();Se.add(()=>{ee--,0===ee&&!st&&!Be&&(Te=le(ge,fe))}),We.subscribe(Se),!Fe&&ee>0&&(Fe=new re.Hp({next:Ke=>We.next(Ke),error:Ke=>{st=!0,_t(),Te=le(it,be,Ke),We.error(Ke)},complete:()=>{Be=!0,_t(),Te=le(it,te),We.complete()}}),(0,d.Xf)(ie).subscribe(Fe))})(ue)}}function le(X,he,...be){if(!0===he)return void X();if(!1===he)return;const te=new re.Hp({next:()=>{te.unsubscribe(),X()}});return(0,d.Xf)(he(...be)).subscribe(te)}},7921:(rt,ye,A)=>{A.d(ye,{O:()=>K});var d=A(5211),$=A(4564),re=A(9360);function K(...R){const le=(0,$.yG)(R);return(0,re.e)((X,he)=>{(le?(0,d.z)(R,X,le):(0,d.z)(R,X)).subscribe(he)})}},4664:(rt,ye,A)=>{A.d(ye,{w:()=>K});var d=A(4829),$=A(9360),re=A(8251);function K(R,le){return(0,$.e)((X,he)=>{let be=null,te=0,fe=!1;const ue=()=>fe&&!be&&he.complete();X.subscribe((0,re.x)(he,Fe=>{be?.unsubscribe();let Te=0;const Ae=te++;(0,d.Xf)(R(Fe,Ae)).subscribe(be=(0,re.x)(he,ee=>he.next(le?le(Fe,ee,Ae,Te++):ee),()=>{be=null,ue()}))},()=>{fe=!0,ue()}))})}},8180:(rt,ye,A)=>{A.d(ye,{q:()=>K});var d=A(6232),$=A(9360),re=A(8251);function K(R){return R<=0?()=>d.E:(0,$.e)((le,X)=>{let he=0;le.subscribe((0,re.x)(X,be=>{++he<=R&&(X.next(be),R<=he&&X.complete())}))})}},9773:(rt,ye,A)=>{A.d(ye,{R:()=>R});var d=A(9360),$=A(8251),re=A(4829),K=A(2420);function R(le){return(0,d.e)((X,he)=>{(0,re.Xf)(le).subscribe((0,$.x)(he,()=>he.complete(),K.Z)),!he.closed&&X.subscribe(he)})}},9397:(rt,ye,A)=>{A.d(ye,{b:()=>R});var d=A(4674),$=A(9360),re=A(8251),K=A(2737);function R(le,X,he){const be=(0,d.m)(le)||X||he?{next:le,error:X,complete:he}:le;return be?(0,$.e)((te,fe)=>{var ue;null===(ue=be.subscribe)||void 0===ue||ue.call(be);let Fe=!0;te.subscribe((0,re.x)(fe,Te=>{var Ae;null===(Ae=be.next)||void 0===Ae||Ae.call(be,Te),fe.next(Te)},()=>{var Te;Fe=!1,null===(Te=be.complete)||void 0===Te||Te.call(be),fe.complete()},Te=>{var Ae;Fe=!1,null===(Ae=be.error)||void 0===Ae||Ae.call(be,Te),fe.error(Te)},()=>{var Te,Ae;Fe&&(null===(Te=be.unsubscribe)||void 0===Te||Te.call(be)),null===(Ae=be.finalize)||void 0===Ae||Ae.call(be)}))}):K.y}},7599:(rt,ye,A)=>{A.d(ye,{z:()=>d});const d={setTimeout($,re,...K){const{delegate:R}=d;return R?.setTimeout?R.setTimeout($,re,...K):setTimeout($,re,...K)},clearTimeout($){const{delegate:re}=d;return(re?.clearTimeout||clearTimeout)($)},delegate:void 0}},4971:(rt,ye,A)=>{A.d(ye,{h:()=>$});const $=function d(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(rt,ye,A)=>{A.d(ye,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},4564:(rt,ye,A)=>{A.d(ye,{_6:()=>le,jO:()=>K,yG:()=>R});var d=A(4674);function re(X){return X[X.length-1]}function K(X){return(0,d.m)(re(X))?X.pop():void 0}function R(X){return function $(X){return X&&(0,d.m)(X.schedule)}(re(X))?X.pop():void 0}function le(X,he){return"number"==typeof re(X)?X.pop():he}},7453:(rt,ye,A)=>{A.d(ye,{D:()=>R});const{isArray:d}=Array,{getPrototypeOf:$,prototype:re,keys:K}=Object;function R(X){if(1===X.length){const he=X[0];if(d(he))return{args:he,keys:null};if(function le(X){return X&&"object"==typeof X&&$(X)===re}(he)){const be=K(he);return{args:be.map(te=>he[te]),keys:be}}}return{args:X,keys:null}}},9039:(rt,ye,A)=>{function d($,re){if($){const K=$.indexOf(re);0<=K&&$.splice(K,1)}}A.d(ye,{P:()=>d})},2306:(rt,ye,A)=>{function d($){const K=$(R=>{Error.call(R),R.stack=(new Error).stack});return K.prototype=Object.create(Error.prototype),K.prototype.constructor=K,K}A.d(ye,{d:()=>d})},2714:(rt,ye,A)=>{function d($,re){return $.reduce((K,R,le)=>(K[R]=re[le],K),{})}A.d(ye,{n:()=>d})},1441:(rt,ye,A)=>{A.d(ye,{O:()=>K,x:()=>re});var d=A(2653);let $=null;function re(R){if(d.config.useDeprecatedSynchronousErrorHandling){const le=!$;if(le&&($={errorThrown:!1,error:null}),R(),le){const{errorThrown:X,error:he}=$;if($=null,X)throw he}}else R()}function K(R){d.config.useDeprecatedSynchronousErrorHandling&&$&&($.errorThrown=!0,$.error=R)}},7103:(rt,ye,A)=>{function d($,re,K,R=0,le=!1){const X=re.schedule(function(){K(),le?$.add(this.schedule(null,R)):this.unsubscribe()},R);if($.add(X),!le)return X}A.d(ye,{f:()=>d})},2737:(rt,ye,A)=>{function d($){return $}A.d(ye,{y:()=>d})},4266:(rt,ye,A)=>{A.d(ye,{z:()=>d});const d=$=>$&&"number"==typeof $.length&&"function"!=typeof $},5726:(rt,ye,A)=>{A.d(ye,{D:()=>$});var d=A(4674);function $(re){return Symbol.asyncIterator&&(0,d.m)(re?.[Symbol.asyncIterator])}},4674:(rt,ye,A)=>{function d($){return"function"==typeof $}A.d(ye,{m:()=>d})},8382:(rt,ye,A)=>{A.d(ye,{c:()=>re});var d=A(4850),$=A(4674);function re(K){return(0,$.m)(K[d.L])}},3664:(rt,ye,A)=>{A.d(ye,{T:()=>re});var d=A(4971),$=A(4674);function re(K){return(0,$.m)(K?.[d.h])}},2664:(rt,ye,A)=>{A.d(ye,{b:()=>re});var d=A(5592),$=A(4674);function re(K){return!!K&&(K instanceof d.y||(0,$.m)(K.lift)&&(0,$.m)(K.subscribe))}},4026:(rt,ye,A)=>{A.d(ye,{t:()=>$});var d=A(4674);function $(re){return(0,d.m)(re?.then)}},541:(rt,ye,A)=>{A.d(ye,{L:()=>K,Q:()=>re});var d=A(7582),$=A(4674);function re(R){return(0,d.FC)(this,arguments,function*(){const X=R.getReader();try{for(;;){const{value:he,done:be}=yield(0,d.qq)(X.read());if(be)return yield(0,d.qq)(void 0);yield yield(0,d.qq)(he)}}finally{X.releaseLock()}})}function K(R){return(0,$.m)(R?.getReader)}},9360:(rt,ye,A)=>{A.d(ye,{A:()=>$,e:()=>re});var d=A(4674);function $(K){return(0,d.m)(K?.lift)}function re(K){return R=>{if($(R))return R.lift(function(le){try{return K(le,this)}catch(X){this.error(X)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(rt,ye,A)=>{A.d(ye,{Z:()=>K});var d=A(7398);const{isArray:$}=Array;function K(R){return(0,d.U)(le=>function re(R,le){return $(le)?R(...le):R(le)}(R,le))}},2420:(rt,ye,A)=>{function d(){}A.d(ye,{Z:()=>d})},8407:(rt,ye,A)=>{A.d(ye,{U:()=>re,z:()=>$});var d=A(2737);function $(...K){return re(K)}function re(K){return 0===K.length?d.y:1===K.length?K[0]:function(le){return K.reduce((X,he)=>he(X),le)}}},3894:(rt,ye,A)=>{A.d(ye,{h:()=>re});var d=A(2653),$=A(7599);function re(K){$.z.setTimeout(()=>{const{onUnhandledError:R}=d.config;if(!R)throw K;R(K)})}},9853:(rt,ye,A)=>{function d($){return new TypeError(`You provided ${null!==$&&"object"==typeof $?"an invalid object":`'${$}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}A.d(ye,{z:()=>d})},6814:(rt,ye,A)=>{A.d(ye,{Do:()=>ee,EM:()=>hi,HT:()=>K,JF:()=>rn,K0:()=>le,Mx:()=>Nr,NF:()=>To,Nd:()=>pr,O5:()=>wo,Ov:()=>So,PC:()=>ei,PM:()=>Wr,S$:()=>Fe,V_:()=>he,Ye:()=>Be,b0:()=>Ae,bD:()=>$r,ez:()=>fr,mk:()=>Bt,q:()=>re,sg:()=>zn,tP:()=>$o,w_:()=>R});var d=A(5879);let $=null;function re(){return $}function K(E){$||($=E)}class R{}const le=new d.OlP("DocumentToken");let X=(()=>{class E{historyGo(M){throw new Error("Not implemented")}}return E.\u0275fac=function(M){return new(M||E)},E.\u0275prov=d.Yz7({token:E,factory:function(){return(0,d.f3M)(be)},providedIn:"platform"}),E})();const he=new d.OlP("Location Initialized");let be=(()=>{class E extends X{constructor(){super(),this._doc=(0,d.f3M)(le),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return re().getBaseHref(this._doc)}onPopState(M){const k=re().getGlobalEventTarget(this._doc,"window");return k.addEventListener("popstate",M,!1),()=>k.removeEventListener("popstate",M)}onHashChange(M){const k=re().getGlobalEventTarget(this._doc,"window");return k.addEventListener("hashchange",M,!1),()=>k.removeEventListener("hashchange",M)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(M){this._location.pathname=M}pushState(M,k,W){this._history.pushState(M,k,W)}replaceState(M,k,W){this._history.replaceState(M,k,W)}forward(){this._history.forward()}back(){this._history.back()}historyGo(M=0){this._history.go(M)}getState(){return this._history.state}}return E.\u0275fac=function(M){return new(M||E)},E.\u0275prov=d.Yz7({token:E,factory:function(){return new E},providedIn:"platform"}),E})();function te(E,O){if(0==E.length)return O;if(0==O.length)return E;let M=0;return E.endsWith("/")&&M++,O.startsWith("/")&&M++,2==M?E+O.substring(1):1==M?E+O:E+"/"+O}function fe(E){const O=E.match(/#|\?|$/),M=O&&O.index||E.length;return E.slice(0,M-("/"===E[M-1]?1:0))+E.slice(M)}function ue(E){return E&&"?"!==E[0]?"?"+E:E}let Fe=(()=>{class E{historyGo(M){throw new Error("Not implemented")}}return E.\u0275fac=function(M){return new(M||E)},E.\u0275prov=d.Yz7({token:E,factory:function(){return(0,d.f3M)(Ae)},providedIn:"root"}),E})();const Te=new d.OlP("appBaseHref");let Ae=(()=>{class E extends Fe{constructor(M,k){super(),this._platformLocation=M,this._removeListenerFns=[],this._baseHref=k??this._platformLocation.getBaseHrefFromDOM()??(0,d.f3M)(le).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(M){this._removeListenerFns.push(this._platformLocation.onPopState(M),this._platformLocation.onHashChange(M))}getBaseHref(){return this._baseHref}prepareExternalUrl(M){return te(this._baseHref,M)}path(M=!1){const k=this._platformLocation.pathname+ue(this._platformLocation.search),W=this._platformLocation.hash;return W&&M?`${k}${W}`:k}pushState(M,k,W,me){const Pe=this.prepareExternalUrl(W+ue(me));this._platformLocation.pushState(M,k,Pe)}replaceState(M,k,W,me){const Pe=this.prepareExternalUrl(W+ue(me));this._platformLocation.replaceState(M,k,Pe)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(M=0){this._platformLocation.historyGo?.(M)}}return E.\u0275fac=function(M){return new(M||E)(d.LFG(X),d.LFG(Te,8))},E.\u0275prov=d.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})(),ee=(()=>{class E extends Fe{constructor(M,k){super(),this._platformLocation=M,this._baseHref="",this._removeListenerFns=[],null!=k&&(this._baseHref=k)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(M){this._removeListenerFns.push(this._platformLocation.onPopState(M),this._platformLocation.onHashChange(M))}getBaseHref(){return this._baseHref}path(M=!1){let k=this._platformLocation.hash;return null==k&&(k="#"),k.length>0?k.substring(1):k}prepareExternalUrl(M){const k=te(this._baseHref,M);return k.length>0?"#"+k:k}pushState(M,k,W,me){let Pe=this.prepareExternalUrl(W+ue(me));0==Pe.length&&(Pe=this._platformLocation.pathname),this._platformLocation.pushState(M,k,Pe)}replaceState(M,k,W,me){let Pe=this.prepareExternalUrl(W+ue(me));0==Pe.length&&(Pe=this._platformLocation.pathname),this._platformLocation.replaceState(M,k,Pe)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(M=0){this._platformLocation.historyGo?.(M)}}return E.\u0275fac=function(M){return new(M||E)(d.LFG(X),d.LFG(Te,8))},E.\u0275prov=d.Yz7({token:E,factory:E.\u0275fac}),E})(),Be=(()=>{class E{constructor(M){this._subject=new d.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=M;const k=this._locationStrategy.getBaseHref();this._basePath=function ge(E){if(new RegExp("^(https?:)?//").test(E)){const[,M]=E.split(/\/\/[^\/]+/);return M}return E}(fe(it(k))),this._locationStrategy.onPopState(W=>{this._subject.emit({url:this.path(!0),pop:!0,state:W.state,type:W.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(M=!1){return this.normalize(this._locationStrategy.path(M))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(M,k=""){return this.path()==this.normalize(M+ue(k))}normalize(M){return E.stripTrailingSlash(function _t(E,O){if(!E||!O.startsWith(E))return O;const M=O.substring(E.length);return""===M||["/",";","?","#"].includes(M[0])?M:O}(this._basePath,it(M)))}prepareExternalUrl(M){return M&&"/"!==M[0]&&(M="/"+M),this._locationStrategy.prepareExternalUrl(M)}go(M,k="",W=null){this._locationStrategy.pushState(W,"",M,k),this._notifyUrlChangeListeners(this.prepareExternalUrl(M+ue(k)),W)}replaceState(M,k="",W=null){this._locationStrategy.replaceState(W,"",M,k),this._notifyUrlChangeListeners(this.prepareExternalUrl(M+ue(k)),W)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(M=0){this._locationStrategy.historyGo?.(M)}onUrlChange(M){return this._urlChangeListeners.push(M),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(k=>{this._notifyUrlChangeListeners(k.url,k.state)})),()=>{const k=this._urlChangeListeners.indexOf(M);this._urlChangeListeners.splice(k,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(M="",k){this._urlChangeListeners.forEach(W=>W(M,k))}subscribe(M,k,W){return this._subject.subscribe({next:M,error:k,complete:W})}}return E.normalizeQueryParams=ue,E.joinWithSlash=te,E.stripTrailingSlash=fe,E.\u0275fac=function(M){return new(M||E)(d.LFG(Fe))},E.\u0275prov=d.Yz7({token:E,factory:function(){return function st(){return new Be((0,d.LFG)(Fe))}()},providedIn:"root"}),E})();function it(E){return E.replace(/\/index.html$/,"")}function Nr(E,O){O=encodeURIComponent(O);for(const M of E.split(";")){const k=M.indexOf("="),[W,me]=-1==k?[M,""]:[M.slice(0,k),M.slice(k+1)];if(W.trim()===O)return decodeURIComponent(me)}return null}const Ur=/\s+/,fn=[];let Bt=(()=>{class E{constructor(M,k,W,me){this._iterableDiffers=M,this._keyValueDiffers=k,this._ngEl=W,this._renderer=me,this.initialClasses=fn,this.stateMap=new Map}set klass(M){this.initialClasses=null!=M?M.trim().split(Ur):fn}set ngClass(M){this.rawClass="string"==typeof M?M.trim().split(Ur):M}ngDoCheck(){for(const k of this.initialClasses)this._updateState(k,!0);const M=this.rawClass;if(Array.isArray(M)||M instanceof Set)for(const k of M)this._updateState(k,!0);else if(null!=M)for(const k of Object.keys(M))this._updateState(k,!!M[k]);this._applyStateDiff()}_updateState(M,k){const W=this.stateMap.get(M);void 0!==W?(W.enabled!==k&&(W.changed=!0,W.enabled=k),W.touched=!0):this.stateMap.set(M,{enabled:k,changed:!0,touched:!0})}_applyStateDiff(){for(const M of this.stateMap){const k=M[0],W=M[1];W.changed?(this._toggleClass(k,W.enabled),W.changed=!1):W.touched||(W.enabled&&this._toggleClass(k,!1),this.stateMap.delete(k)),W.touched=!1}}_toggleClass(M,k){(M=M.trim()).length>0&&M.split(Ur).forEach(W=>{k?this._renderer.addClass(this._ngEl.nativeElement,W):this._renderer.removeClass(this._ngEl.nativeElement,W)})}}return E.\u0275fac=function(M){return new(M||E)(d.Y36(d.ZZ4),d.Y36(d.aQg),d.Y36(d.SBq),d.Y36(d.Qsj))},E.\u0275dir=d.lG2({type:E,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),E})();class Rn{constructor(O,M,k,W){this.$implicit=O,this.ngForOf=M,this.index=k,this.count=W}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let zn=(()=>{class E{set ngForOf(M){this._ngForOf=M,this._ngForOfDirty=!0}set ngForTrackBy(M){this._trackByFn=M}get ngForTrackBy(){return this._trackByFn}constructor(M,k,W){this._viewContainer=M,this._template=k,this._differs=W,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(M){M&&(this._template=M)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const M=this._ngForOf;!this._differ&&M&&(this._differ=this._differs.find(M).create(this.ngForTrackBy))}if(this._differ){const M=this._differ.diff(this._ngForOf);M&&this._applyChanges(M)}}_applyChanges(M){const k=this._viewContainer;M.forEachOperation((W,me,Pe)=>{if(null==W.previousIndex)k.createEmbeddedView(this._template,new Rn(W.item,this._ngForOf,-1,-1),null===Pe?void 0:Pe);else if(null==Pe)k.remove(null===me?void 0:me);else if(null!==me){const gt=k.get(me);k.move(gt,Pe),Er(gt,W)}});for(let W=0,me=k.length;W<me;W++){const gt=k.get(W).context;gt.index=W,gt.count=me,gt.ngForOf=this._ngForOf}M.forEachIdentityChange(W=>{Er(k.get(W.currentIndex),W)})}static ngTemplateContextGuard(M,k){return!0}}return E.\u0275fac=function(M){return new(M||E)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(d.ZZ4))},E.\u0275dir=d.lG2({type:E,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),E})();function Er(E,O){E.context.$implicit=O.item}let wo=(()=>{class E{constructor(M,k){this._viewContainer=M,this._context=new Mo,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=k}set ngIf(M){this._context.$implicit=this._context.ngIf=M,this._updateView()}set ngIfThen(M){Ji("ngIfThen",M),this._thenTemplateRef=M,this._thenViewRef=null,this._updateView()}set ngIfElse(M){Ji("ngIfElse",M),this._elseTemplateRef=M,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(M,k){return!0}}return E.\u0275fac=function(M){return new(M||E)(d.Y36(d.s_b),d.Y36(d.Rgc))},E.\u0275dir=d.lG2({type:E,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),E})();class Mo{constructor(){this.$implicit=null,this.ngIf=null}}function Ji(E,O){if(O&&!O.createEmbeddedView)throw new Error(`${E} must be a TemplateRef, but received '${(0,d.AaK)(O)}'.`)}let ei=(()=>{class E{constructor(M,k,W){this._ngEl=M,this._differs=k,this._renderer=W,this._ngStyle=null,this._differ=null}set ngStyle(M){this._ngStyle=M,!this._differ&&M&&(this._differ=this._differs.find(M).create())}ngDoCheck(){if(this._differ){const M=this._differ.diff(this._ngStyle);M&&this._applyChanges(M)}}_setStyle(M,k){const[W,me]=M.split("."),Pe=-1===W.indexOf("-")?void 0:d.JOm.DashCase;null!=k?this._renderer.setStyle(this._ngEl.nativeElement,W,me?`${k}${me}`:k,Pe):this._renderer.removeStyle(this._ngEl.nativeElement,W,Pe)}_applyChanges(M){M.forEachRemovedItem(k=>this._setStyle(k.key,null)),M.forEachAddedItem(k=>this._setStyle(k.key,k.currentValue)),M.forEachChangedItem(k=>this._setStyle(k.key,k.currentValue))}}return E.\u0275fac=function(M){return new(M||E)(d.Y36(d.SBq),d.Y36(d.aQg),d.Y36(d.Qsj))},E.\u0275dir=d.lG2({type:E,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),E})(),$o=(()=>{class E{constructor(M){this._viewContainerRef=M,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(M){if(M.ngTemplateOutlet||M.ngTemplateOutletInjector){const k=this._viewContainerRef;if(this._viewRef&&k.remove(k.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:W,ngTemplateOutletContext:me,ngTemplateOutletInjector:Pe}=this;this._viewRef=k.createEmbeddedView(W,me,Pe?{injector:Pe}:void 0)}else this._viewRef=null}else this._viewRef&&M.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return E.\u0275fac=function(M){return new(M||E)(d.Y36(d.s_b))},E.\u0275dir=d.lG2({type:E,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[d.TTD]}),E})();class On{createSubscription(O,M){return(0,d.rg0)(()=>O.subscribe({next:M,error:k=>{throw k}}))}dispose(O){(0,d.rg0)(()=>O.unsubscribe())}}class Mn{createSubscription(O,M){return O.then(M,k=>{throw k})}dispose(O){}}const Pr=new Mn,Xn=new On;let So=(()=>{class E{constructor(M){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=M}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(M){return this._obj?M!==this._obj?(this._dispose(),this.transform(M)):this._latestValue:(M&&this._subscribe(M),this._latestValue)}_subscribe(M){this._obj=M,this._strategy=this._selectStrategy(M),this._subscription=this._strategy.createSubscription(M,k=>this._updateLatestValue(M,k))}_selectStrategy(M){if((0,d.QGY)(M))return Pr;if((0,d.F4k)(M))return Xn;throw function Lt(E,O){return new d.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(M,k){M===this._obj&&(this._latestValue=k,this._ref.markForCheck())}}return E.\u0275fac=function(M){return new(M||E)(d.Y36(d.sBO,16))},E.\u0275pipe=d.Yjl({name:"async",type:E,pure:!1,standalone:!0}),E})(),pr=(()=>{class E{constructor(M){this.differs=M,this.keyValues=[],this.compareFn=gr}transform(M,k=gr){if(!M||!(M instanceof Map)&&"object"!=typeof M)return null;this.differ||(this.differ=this.differs.find(M).create());const W=this.differ.diff(M),me=k!==this.compareFn;return W&&(this.keyValues=[],W.forEachItem(Pe=>{this.keyValues.push(function Sn(E,O){return{key:E,value:O}}(Pe.key,Pe.currentValue))})),(W||me)&&(this.keyValues.sort(k),this.compareFn=k),this.keyValues}}return E.\u0275fac=function(M){return new(M||E)(d.Y36(d.aQg,16))},E.\u0275pipe=d.Yjl({name:"keyvalue",type:E,pure:!1,standalone:!0}),E})();function gr(E,O){const M=E.key,k=O.key;if(M===k)return 0;if(void 0===M)return 1;if(void 0===k)return-1;if(null===M)return 1;if(null===k)return-1;if("string"==typeof M&&"string"==typeof k)return M<k?-1:1;if("number"==typeof M&&"number"==typeof k)return M-k;if("boolean"==typeof M&&"boolean"==typeof k)return M<k?-1:1;const W=String(M),me=String(k);return W==me?0:W<me?-1:1}let fr=(()=>{class E{}return E.\u0275fac=function(M){return new(M||E)},E.\u0275mod=d.oAB({type:E}),E.\u0275inj=d.cJS({}),E})();const $r="browser",Io="server";function To(E){return E===$r}function Wr(E){return E===Io}let hi=(()=>{class E{}return E.\u0275prov=(0,d.Yz7)({token:E,providedIn:"root",factory:()=>new Vn((0,d.LFG)(le),window)}),E})();class Vn{constructor(O,M){this.document=O,this.window=M,this.offset=()=>[0,0]}setOffset(O){this.offset=Array.isArray(O)?()=>O:O}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(O){this.supportsScrolling()&&this.window.scrollTo(O[0],O[1])}scrollToAnchor(O){if(!this.supportsScrolling())return;const M=function po(E,O){const M=E.getElementById(O)||E.getElementsByName(O)[0];if(M)return M;if("function"==typeof E.createTreeWalker&&E.body&&"function"==typeof E.body.attachShadow){const k=E.createTreeWalker(E.body,NodeFilter.SHOW_ELEMENT);let W=k.currentNode;for(;W;){const me=W.shadowRoot;if(me){const Pe=me.getElementById(O)||me.querySelector(`[name="${O}"]`);if(Pe)return Pe}W=k.nextNode()}}return null}(this.document,O);M&&(this.scrollToElement(M),M.focus())}setHistoryScrollRestoration(O){if(this.supportScrollRestoration()){const M=this.window.history;M&&M.scrollRestoration&&(M.scrollRestoration=O)}}scrollToElement(O){const M=O.getBoundingClientRect(),k=M.left+this.window.pageXOffset,W=M.top+this.window.pageYOffset,me=this.offset();this.window.scrollTo(k-me[0],W-me[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const O=ho(this.window.history)||ho(Object.getPrototypeOf(this.window.history));return!(!O||!O.writable&&!O.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function ho(E){return Object.getOwnPropertyDescriptor(E,"scrollRestoration")}class rn{}},9862:(rt,ye,A)=>{A.d(ye,{JF:()=>ae,TP:()=>pt,Zn:()=>Xt,eN:()=>Ce});var d=A(5879),$=A(2096),re=A(7715),K=A(5592),R=A(6328),le=A(2181),X=A(7398),he=A(4716),be=A(4664),te=A(6814);class fe{}class ue{}class Fe{constructor(Z){this.normalizedNames=new Map,this.lazyUpdate=null,Z?"string"==typeof Z?this.lazyInit=()=>{this.headers=new Map,Z.split("\n").forEach(Y=>{const Oe=Y.indexOf(":");if(Oe>0){const Qe=Y.slice(0,Oe),tt=Qe.toLowerCase(),Je=Y.slice(Oe+1).trim();this.maybeSetNormalizedName(Qe,tt),this.headers.has(tt)?this.headers.get(tt).push(Je):this.headers.set(tt,[Je])}})}:typeof Headers<"u"&&Z instanceof Headers?(this.headers=new Map,Z.forEach((Y,Oe)=>{this.setHeaderEntries(Oe,Y)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(Z).forEach(([Y,Oe])=>{this.setHeaderEntries(Y,Oe)})}:this.headers=new Map}has(Z){return this.init(),this.headers.has(Z.toLowerCase())}get(Z){this.init();const Y=this.headers.get(Z.toLowerCase());return Y&&Y.length>0?Y[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Z){return this.init(),this.headers.get(Z.toLowerCase())||null}append(Z,Y){return this.clone({name:Z,value:Y,op:"a"})}set(Z,Y){return this.clone({name:Z,value:Y,op:"s"})}delete(Z,Y){return this.clone({name:Z,value:Y,op:"d"})}maybeSetNormalizedName(Z,Y){this.normalizedNames.has(Y)||this.normalizedNames.set(Y,Z)}init(){this.lazyInit&&(this.lazyInit instanceof Fe?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Z=>this.applyUpdate(Z)),this.lazyUpdate=null))}copyFrom(Z){Z.init(),Array.from(Z.headers.keys()).forEach(Y=>{this.headers.set(Y,Z.headers.get(Y)),this.normalizedNames.set(Y,Z.normalizedNames.get(Y))})}clone(Z){const Y=new Fe;return Y.lazyInit=this.lazyInit&&this.lazyInit instanceof Fe?this.lazyInit:this,Y.lazyUpdate=(this.lazyUpdate||[]).concat([Z]),Y}applyUpdate(Z){const Y=Z.name.toLowerCase();switch(Z.op){case"a":case"s":let Oe=Z.value;if("string"==typeof Oe&&(Oe=[Oe]),0===Oe.length)return;this.maybeSetNormalizedName(Z.name,Y);const Qe=("a"===Z.op?this.headers.get(Y):void 0)||[];Qe.push(...Oe),this.headers.set(Y,Qe);break;case"d":const tt=Z.value;if(tt){let Je=this.headers.get(Y);if(!Je)return;Je=Je.filter(nn=>-1===tt.indexOf(nn)),0===Je.length?(this.headers.delete(Y),this.normalizedNames.delete(Y)):this.headers.set(Y,Je)}else this.headers.delete(Y),this.normalizedNames.delete(Y)}}setHeaderEntries(Z,Y){const Oe=(Array.isArray(Y)?Y:[Y]).map(tt=>tt.toString()),Qe=Z.toLowerCase();this.headers.set(Qe,Oe),this.maybeSetNormalizedName(Z,Qe)}forEach(Z){this.init(),Array.from(this.normalizedNames.keys()).forEach(Y=>Z(this.normalizedNames.get(Y),this.headers.get(Y)))}}class Ae{encodeKey(Z){return _t(Z)}encodeValue(Z){return _t(Z)}decodeKey(Z){return decodeURIComponent(Z)}decodeValue(Z){return decodeURIComponent(Z)}}const Be=/%(\d[a-f0-9])/gi,st={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function _t(ve){return encodeURIComponent(ve).replace(Be,(Z,Y)=>st[Y]??Z)}function it(ve){return`${ve}`}class ge{constructor(Z={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Z.encoder||new Ae,Z.fromString){if(Z.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function ee(ve,Z){const Y=new Map;return ve.length>0&&ve.replace(/^\?/,"").split("&").forEach(Qe=>{const tt=Qe.indexOf("="),[Je,nn]=-1==tt?[Z.decodeKey(Qe),""]:[Z.decodeKey(Qe.slice(0,tt)),Z.decodeValue(Qe.slice(tt+1))],xt=Y.get(Je)||[];xt.push(nn),Y.set(Je,xt)}),Y}(Z.fromString,this.encoder)}else Z.fromObject?(this.map=new Map,Object.keys(Z.fromObject).forEach(Y=>{const Oe=Z.fromObject[Y],Qe=Array.isArray(Oe)?Oe.map(it):[it(Oe)];this.map.set(Y,Qe)})):this.map=null}has(Z){return this.init(),this.map.has(Z)}get(Z){this.init();const Y=this.map.get(Z);return Y?Y[0]:null}getAll(Z){return this.init(),this.map.get(Z)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Z,Y){return this.clone({param:Z,value:Y,op:"a"})}appendAll(Z){const Y=[];return Object.keys(Z).forEach(Oe=>{const Qe=Z[Oe];Array.isArray(Qe)?Qe.forEach(tt=>{Y.push({param:Oe,value:tt,op:"a"})}):Y.push({param:Oe,value:Qe,op:"a"})}),this.clone(Y)}set(Z,Y){return this.clone({param:Z,value:Y,op:"s"})}delete(Z,Y){return this.clone({param:Z,value:Y,op:"d"})}toString(){return this.init(),this.keys().map(Z=>{const Y=this.encoder.encodeKey(Z);return this.map.get(Z).map(Oe=>Y+"="+this.encoder.encodeValue(Oe)).join("&")}).filter(Z=>""!==Z).join("&")}clone(Z){const Y=new ge({encoder:this.encoder});return Y.cloneFrom=this.cloneFrom||this,Y.updates=(this.updates||[]).concat(Z),Y}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Z=>this.map.set(Z,this.cloneFrom.map.get(Z))),this.updates.forEach(Z=>{switch(Z.op){case"a":case"s":const Y=("a"===Z.op?this.map.get(Z.param):void 0)||[];Y.push(it(Z.value)),this.map.set(Z.param,Y);break;case"d":if(void 0===Z.value){this.map.delete(Z.param);break}{let Oe=this.map.get(Z.param)||[];const Qe=Oe.indexOf(it(Z.value));-1!==Qe&&Oe.splice(Qe,1),Oe.length>0?this.map.set(Z.param,Oe):this.map.delete(Z.param)}}}),this.cloneFrom=this.updates=null)}}class Se{constructor(){this.map=new Map}set(Z,Y){return this.map.set(Z,Y),this}get(Z){return this.map.has(Z)||this.map.set(Z,Z.defaultValue()),this.map.get(Z)}delete(Z){return this.map.delete(Z),this}has(Z){return this.map.has(Z)}keys(){return this.map.keys()}}function Ke(ve){return typeof ArrayBuffer<"u"&&ve instanceof ArrayBuffer}function ze(ve){return typeof Blob<"u"&&ve instanceof Blob}function dt(ve){return typeof FormData<"u"&&ve instanceof FormData}class Et{constructor(Z,Y,Oe,Qe){let tt;if(this.url=Y,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Z.toUpperCase(),function We(ve){switch(ve){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Qe?(this.body=void 0!==Oe?Oe:null,tt=Qe):tt=Oe,tt&&(this.reportProgress=!!tt.reportProgress,this.withCredentials=!!tt.withCredentials,tt.responseType&&(this.responseType=tt.responseType),tt.headers&&(this.headers=tt.headers),tt.context&&(this.context=tt.context),tt.params&&(this.params=tt.params)),this.headers||(this.headers=new Fe),this.context||(this.context=new Se),this.params){const Je=this.params.toString();if(0===Je.length)this.urlWithParams=Y;else{const nn=Y.indexOf("?");this.urlWithParams=Y+(-1===nn?"?":nn<Y.length-1?"&":"")+Je}}else this.params=new ge,this.urlWithParams=Y}serializeBody(){return null===this.body?null:Ke(this.body)||ze(this.body)||dt(this.body)||function Ze(ve){return typeof URLSearchParams<"u"&&ve instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ge?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||dt(this.body)?null:ze(this.body)?this.body.type||null:Ke(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ge?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Z={}){const Y=Z.method||this.method,Oe=Z.url||this.url,Qe=Z.responseType||this.responseType,tt=void 0!==Z.body?Z.body:this.body,Je=void 0!==Z.withCredentials?Z.withCredentials:this.withCredentials,nn=void 0!==Z.reportProgress?Z.reportProgress:this.reportProgress;let xt=Z.headers||this.headers,Yt=Z.params||this.params;const ln=Z.context??this.context;return void 0!==Z.setHeaders&&(xt=Object.keys(Z.setHeaders).reduce((Pn,hr)=>Pn.set(hr,Z.setHeaders[hr]),xt)),Z.setParams&&(Yt=Object.keys(Z.setParams).reduce((Pn,hr)=>Pn.set(hr,Z.setParams[hr]),Yt)),new Et(Y,Oe,tt,{params:Yt,headers:xt,context:ln,reportProgress:nn,responseType:Qe,withCredentials:Je})}}var Ot=(()=>((Ot=Ot||{})[Ot.Sent=0]="Sent",Ot[Ot.UploadProgress=1]="UploadProgress",Ot[Ot.ResponseHeader=2]="ResponseHeader",Ot[Ot.DownloadProgress=3]="DownloadProgress",Ot[Ot.Response=4]="Response",Ot[Ot.User=5]="User",Ot))();class Vt{constructor(Z,Y=200,Oe="OK"){this.headers=Z.headers||new Fe,this.status=void 0!==Z.status?Z.status:Y,this.statusText=Z.statusText||Oe,this.url=Z.url||null,this.ok=this.status>=200&&this.status<300}}class hn extends Vt{constructor(Z={}){super(Z),this.type=Ot.ResponseHeader}clone(Z={}){return new hn({headers:Z.headers||this.headers,status:void 0!==Z.status?Z.status:this.status,statusText:Z.statusText||this.statusText,url:Z.url||this.url||void 0})}}class Xt extends Vt{constructor(Z={}){super(Z),this.type=Ot.Response,this.body=void 0!==Z.body?Z.body:null}clone(Z={}){return new Xt({body:void 0!==Z.body?Z.body:this.body,headers:Z.headers||this.headers,status:void 0!==Z.status?Z.status:this.status,statusText:Z.statusText||this.statusText,url:Z.url||this.url||void 0})}}class Hn extends Vt{constructor(Z){super(Z,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Z.url||"(unknown url)"}`:`Http failure response for ${Z.url||"(unknown url)"}: ${Z.status} ${Z.statusText}`,this.error=Z.error||null}}function Gn(ve,Z){return{body:Z,headers:ve.headers,context:ve.context,observe:ve.observe,params:ve.params,reportProgress:ve.reportProgress,responseType:ve.responseType,withCredentials:ve.withCredentials}}let Ce=(()=>{class ve{constructor(Y){this.handler=Y}request(Y,Oe,Qe={}){let tt;if(Y instanceof Et)tt=Y;else{let xt,Yt;xt=Qe.headers instanceof Fe?Qe.headers:new Fe(Qe.headers),Qe.params&&(Yt=Qe.params instanceof ge?Qe.params:new ge({fromObject:Qe.params})),tt=new Et(Y,Oe,void 0!==Qe.body?Qe.body:null,{headers:xt,context:Qe.context,params:Yt,reportProgress:Qe.reportProgress,responseType:Qe.responseType||"json",withCredentials:Qe.withCredentials})}const Je=(0,$.of)(tt).pipe((0,R.b)(xt=>this.handler.handle(xt)));if(Y instanceof Et||"events"===Qe.observe)return Je;const nn=Je.pipe((0,le.h)(xt=>xt instanceof Xt));switch(Qe.observe||"body"){case"body":switch(tt.responseType){case"arraybuffer":return nn.pipe((0,X.U)(xt=>{if(null!==xt.body&&!(xt.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return xt.body}));case"blob":return nn.pipe((0,X.U)(xt=>{if(null!==xt.body&&!(xt.body instanceof Blob))throw new Error("Response is not a Blob.");return xt.body}));case"text":return nn.pipe((0,X.U)(xt=>{if(null!==xt.body&&"string"!=typeof xt.body)throw new Error("Response is not a string.");return xt.body}));default:return nn.pipe((0,X.U)(xt=>xt.body))}case"response":return nn;default:throw new Error(`Unreachable: unhandled observe type ${Qe.observe}}`)}}delete(Y,Oe={}){return this.request("DELETE",Y,Oe)}get(Y,Oe={}){return this.request("GET",Y,Oe)}head(Y,Oe={}){return this.request("HEAD",Y,Oe)}jsonp(Y,Oe){return this.request("JSONP",Y,{params:(new ge).append(Oe,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Y,Oe={}){return this.request("OPTIONS",Y,Oe)}patch(Y,Oe,Qe={}){return this.request("PATCH",Y,Gn(Qe,Oe))}post(Y,Oe,Qe={}){return this.request("POST",Y,Gn(Qe,Oe))}put(Y,Oe,Qe={}){return this.request("PUT",Y,Gn(Qe,Oe))}}return ve.\u0275fac=function(Y){return new(Y||ve)(d.LFG(fe))},ve.\u0275prov=d.Yz7({token:ve,factory:ve.\u0275fac}),ve})();function ot(ve,Z){return Z(ve)}function ft(ve,Z){return(Y,Oe)=>Z.intercept(Y,{handle:Qe=>ve(Qe,Oe)})}const pt=new d.OlP(""),bt=new d.OlP(""),Me=new d.OlP("");function at(){let ve=null;return(Z,Y)=>{null===ve&&(ve=((0,d.f3M)(pt,{optional:!0})??[]).reduceRight(ft,ot));const Oe=(0,d.f3M)(d.HDt),Qe=Oe.add();return ve(Z,Y).pipe((0,he.x)(()=>Oe.remove(Qe)))}}let $e=(()=>{class ve extends fe{constructor(Y,Oe){super(),this.backend=Y,this.injector=Oe,this.chain=null,this.pendingTasks=(0,d.f3M)(d.HDt)}handle(Y){if(null===this.chain){const Qe=Array.from(new Set([...this.injector.get(bt),...this.injector.get(Me,[])]));this.chain=Qe.reduceRight((tt,Je)=>function At(ve,Z,Y){return(Oe,Qe)=>Y.runInContext(()=>Z(Oe,tt=>ve(tt,Qe)))}(tt,Je,this.injector),ot)}const Oe=this.pendingTasks.add();return this.chain(Y,Qe=>this.backend.handle(Qe)).pipe((0,he.x)(()=>this.pendingTasks.remove(Oe)))}}return ve.\u0275fac=function(Y){return new(Y||ve)(d.LFG(ue),d.LFG(d.lqb))},ve.\u0275prov=d.Yz7({token:ve,factory:ve.\u0275fac}),ve})();const In=/^\)\]\}',?\n/;let Zt=(()=>{class ve{constructor(Y){this.xhrFactory=Y}handle(Y){if("JSONP"===Y.method)throw new d.vHH(-2800,!1);const Oe=this.xhrFactory;return(Oe.\u0275loadImpl?(0,re.D)(Oe.\u0275loadImpl()):(0,$.of)(null)).pipe((0,be.w)(()=>new K.y(tt=>{const Je=Oe.build();if(Je.open(Y.method,Y.urlWithParams),Y.withCredentials&&(Je.withCredentials=!0),Y.headers.forEach((fn,Bt)=>Je.setRequestHeader(fn,Bt.join(","))),Y.headers.has("Accept")||Je.setRequestHeader("Accept","application/json, text/plain, */*"),!Y.headers.has("Content-Type")){const fn=Y.detectContentTypeHeader();null!==fn&&Je.setRequestHeader("Content-Type",fn)}if(Y.responseType){const fn=Y.responseType.toLowerCase();Je.responseType="json"!==fn?fn:"text"}const nn=Y.serializeBody();let xt=null;const Yt=()=>{if(null!==xt)return xt;const fn=Je.statusText||"OK",Bt=new Fe(Je.getAllResponseHeaders()),cr=function tn(ve){return"responseURL"in ve&&ve.responseURL?ve.responseURL:/^X-Request-URL:/m.test(ve.getAllResponseHeaders())?ve.getResponseHeader("X-Request-URL"):null}(Je)||Y.url;return xt=new hn({headers:Bt,status:Je.status,statusText:fn,url:cr}),xt},ln=()=>{let{headers:fn,status:Bt,statusText:cr,url:Zn}=Yt(),Rn=null;204!==Bt&&(Rn=typeof Je.response>"u"?Je.responseText:Je.response),0===Bt&&(Bt=Rn?200:0);let zn=Bt>=200&&Bt<300;if("json"===Y.responseType&&"string"==typeof Rn){const Er=Rn;Rn=Rn.replace(In,"");try{Rn=""!==Rn?JSON.parse(Rn):null}catch(Xr){Rn=Er,zn&&(zn=!1,Rn={error:Xr,text:Rn})}}zn?(tt.next(new Xt({body:Rn,headers:fn,status:Bt,statusText:cr,url:Zn||void 0})),tt.complete()):tt.error(new Hn({error:Rn,headers:fn,status:Bt,statusText:cr,url:Zn||void 0}))},Pn=fn=>{const{url:Bt}=Yt(),cr=new Hn({error:fn,status:Je.status||0,statusText:Je.statusText||"Unknown Error",url:Bt||void 0});tt.error(cr)};let hr=!1;const Nr=fn=>{hr||(tt.next(Yt()),hr=!0);let Bt={type:Ot.DownloadProgress,loaded:fn.loaded};fn.lengthComputable&&(Bt.total=fn.total),"text"===Y.responseType&&Je.responseText&&(Bt.partialText=Je.responseText),tt.next(Bt)},Ur=fn=>{let Bt={type:Ot.UploadProgress,loaded:fn.loaded};fn.lengthComputable&&(Bt.total=fn.total),tt.next(Bt)};return Je.addEventListener("load",ln),Je.addEventListener("error",Pn),Je.addEventListener("timeout",Pn),Je.addEventListener("abort",Pn),Y.reportProgress&&(Je.addEventListener("progress",Nr),null!==nn&&Je.upload&&Je.upload.addEventListener("progress",Ur)),Je.send(nn),tt.next({type:Ot.Sent}),()=>{Je.removeEventListener("error",Pn),Je.removeEventListener("abort",Pn),Je.removeEventListener("load",ln),Je.removeEventListener("timeout",Pn),Y.reportProgress&&(Je.removeEventListener("progress",Nr),null!==nn&&Je.upload&&Je.upload.removeEventListener("progress",Ur)),Je.readyState!==Je.DONE&&Je.abort()}})))}}return ve.\u0275fac=function(Y){return new(Y||ve)(d.LFG(te.JF))},ve.\u0275prov=d.Yz7({token:ve,factory:ve.\u0275fac}),ve})();const kt=new d.OlP("XSRF_ENABLED"),on=new d.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Ut=new d.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class ur{}let jn=(()=>{class ve{constructor(Y,Oe,Qe){this.doc=Y,this.platform=Oe,this.cookieName=Qe,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Y=this.doc.cookie||"";return Y!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,te.Mx)(Y,this.cookieName),this.lastCookieString=Y),this.lastToken}}return ve.\u0275fac=function(Y){return new(Y||ve)(d.LFG(te.K0),d.LFG(d.Lbi),d.LFG(on))},ve.\u0275prov=d.Yz7({token:ve,factory:ve.\u0275fac}),ve})();function Ar(ve,Z){const Y=ve.url.toLowerCase();if(!(0,d.f3M)(kt)||"GET"===ve.method||"HEAD"===ve.method||Y.startsWith("http://")||Y.startsWith("https://"))return Z(ve);const Oe=(0,d.f3M)(ur).getToken(),Qe=(0,d.f3M)(Ut);return null!=Oe&&!ve.headers.has(Qe)&&(ve=ve.clone({headers:ve.headers.set(Qe,Oe)})),Z(ve)}var $t=(()=>(($t=$t||{})[$t.Interceptors=0]="Interceptors",$t[$t.LegacyInterceptors=1]="LegacyInterceptors",$t[$t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",$t[$t.NoXsrfProtection=3]="NoXsrfProtection",$t[$t.JsonpSupport=4]="JsonpSupport",$t[$t.RequestsMadeViaParent=5]="RequestsMadeViaParent",$t[$t.Fetch=6]="Fetch",$t))();function Tn(ve,Z){return{\u0275kind:ve,\u0275providers:Z}}function fo(...ve){const Z=[Ce,Zt,$e,{provide:fe,useExisting:$e},{provide:ue,useExisting:Zt},{provide:bt,useValue:Ar,multi:!0},{provide:kt,useValue:!0},{provide:ur,useClass:jn}];for(const Y of ve)Z.push(...Y.\u0275providers);return(0,d.MR2)(Z)}const qr=new d.OlP("LEGACY_INTERCEPTOR_FN");let ae=(()=>{class ve{}return ve.\u0275fac=function(Y){return new(Y||ve)},ve.\u0275mod=d.oAB({type:ve}),ve.\u0275inj=d.cJS({providers:[fo(Tn($t.LegacyInterceptors,[{provide:qr,useFactory:at},{provide:bt,useExisting:qr,multi:!0}]))]}),ve})()},5879:(rt,ye,A)=>{A.d(ye,{$8M:()=>pl,$WT:()=>Pr,$Z:()=>Tm,AFp:()=>Gd,ALo:()=>u_,AaK:()=>ue,AsE:()=>tg,BQk:()=>yf,CHM:()=>va,CRH:()=>w_,DdM:()=>t_,EJc:()=>vw,EiD:()=>Si,EpF:()=>Dy,F$t:()=>xy,F4k:()=>Cy,FYo:()=>Qd,FiY:()=>Eu,Gf:()=>E_,GfV:()=>Xd,GkF:()=>$p,Gpc:()=>Ae,HDt:()=>W_,Hsn:()=>Iy,JOm:()=>Uo,JVY:()=>jh,JZr:()=>it,KtG:()=>rl,L6k:()=>zh,LAX:()=>Gh,LFG:()=>wn,LMc:()=>hM,LSH:()=>ys,Lbi:()=>nc,Lck:()=>ib,MAs:()=>yy,MGl:()=>vf,MMx:()=>Kv,MR2:()=>Zu,NdJ:()=>Wp,Ojb:()=>up,OlP:()=>Dn,Oqu:()=>eg,P3R:()=>Fd,PXZ:()=>Nw,Q6J:()=>Up,QGY:()=>Gp,Qsj:()=>_p,R0b:()=>bo,RDi:()=>kh,Rgc:()=>Tc,SBq:()=>ja,Sil:()=>Dw,Suo:()=>b_,TTD:()=>Ss,TgZ:()=>pf,Tol:()=>$y,Udp:()=>qp,VKq:()=>n_,VuI:()=>dM,WLB:()=>r_,XFs:()=>Ie,Xpm:()=>zo,Xq5:()=>ty,Xts:()=>Ba,Y36:()=>zl,YKP:()=>Gv,YNc:()=>py,Yjl:()=>ti,Yz7:()=>pt,Z0I:()=>$e,ZZ4:()=>Vg,_Bn:()=>$v,_UZ:()=>zp,_c5:()=>tM,_uU:()=>qy,aQg:()=>Bg,c2e:()=>G_,cJS:()=>Me,cg1:()=>rg,dDg:()=>Iw,dqk:()=>Zt,eBb:()=>$h,eFA:()=>sD,eJc:()=>Eg,ekj:()=>Qp,eoX:()=>nD,evT:()=>q,f3M:()=>Kt,g9A:()=>Wd,h0i:()=>ru,hGG:()=>nM,hij:()=>Cf,iGM:()=>C_,ifc:()=>Ft,ip1:()=>$_,jDz:()=>Zv,kL8:()=>mv,lG2:()=>$o,lcZ:()=>c_,lnq:()=>ng,lqb:()=>qo,lri:()=>eD,mCW:()=>Al,n5z:()=>Hc,oAB:()=>ci,oJD:()=>La,oxw:()=>Sy,pB0:()=>Wh,q3G:()=>ir,qFp:()=>pM,qLn:()=>i,qOj:()=>Pp,qZA:()=>gf,qzn:()=>Xs,rWj:()=>tD,rg0:()=>Qa,s9C:()=>Kp,sBO:()=>Hw,s_b:()=>xf,soG:()=>Tf,tb:()=>Ng,tp0:()=>ml,uIk:()=>kp,vHH:()=>ge,vpe:()=>Yi,wAp:()=>Pt,xp6:()=>Em,ynx:()=>mf,z2F:()=>su,z3N:()=>wi,zSh:()=>Qu,zs3:()=>aa});var d=A(8645),$=A(7394),re=A(5619),K=A(5592),R=A(3019),le=A(2096),X=A(3020),he=A(4664),be=A(3997);function te(e){for(let n in e)if(e[n]===te)return n;throw Error("Could not find renamed property on target object.")}function fe(e,n){for(const o in n)n.hasOwnProperty(o)&&!e.hasOwnProperty(o)&&(e[o]=n[o])}function ue(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(ue).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const n=e.toString();if(null==n)return""+n;const o=n.indexOf("\n");return-1===o?n:n.substring(0,o)}function Fe(e,n){return null==e||""===e?null===n?"":n:null==n||""===n?e:e+" "+n}const Te=te({__forward_ref__:te});function Ae(e){return e.__forward_ref__=Ae,e.toString=function(){return ue(this())},e}function ee(e){return Be(e)?e():e}function Be(e){return"function"==typeof e&&e.hasOwnProperty(Te)&&e.__forward_ref__===Ae}function st(e){return e&&!!e.\u0275providers}const it="https://g.co/ng/security#xss";class ge extends Error{constructor(n,o){super(function ie(e,n){return`NG0${Math.abs(e)}${n?": "+n:""}`}(n,o)),this.code=n}}function Se(e){return"string"==typeof e?e:null==e?"":String(e)}function Ze(e,n){throw new ge(-201,!1)}function _e(e,n){null==e&&function xe(e,n,o,a){throw new Error(`ASSERTION ERROR: ${e}`+(null==a?"":` [Expected=> ${o} ${a} ${n} <=Actual]`))}(n,e,null,"!=")}function pt(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Me(e){return{providers:e.providers||[],imports:e.imports||[]}}function at(e){return St(e,Un)||St(e,ht)}function $e(e){return null!==at(e)}function St(e,n){return e.hasOwnProperty(n)?e[n]:null}function Qn(e){return e&&(e.hasOwnProperty(qe)||e.hasOwnProperty(Le))?e[qe]:null}const Un=te({\u0275prov:te}),qe=te({\u0275inj:te}),ht=te({ngInjectableDef:te}),Le=te({ngInjectorDef:te});var Ie=(()=>((Ie=Ie||{})[Ie.Default=0]="Default",Ie[Ie.Host=1]="Host",Ie[Ie.Self=2]="Self",Ie[Ie.SkipSelf=4]="SkipSelf",Ie[Ie.Optional=8]="Optional",Ie))();let je;function Rt(e){const n=je;return je=e,n}function In(e,n,o){const a=at(e);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:o&Ie.Optional?null:void 0!==n?n:void Ze(ue(e))}const Zt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Wn={},Ut="__NG_DI_FLAG__",ur="ngTempTokenPath",Ar=/\n/gm,$t="__source";let Tn;function rr(e){const n=Tn;return Tn=e,n}function qr(e,n=Ie.Default){if(void 0===Tn)throw new ge(-203,!1);return null===Tn?In(e,void 0,n):Tn.get(e,n&Ie.Optional?null:void 0,n)}function wn(e,n=Ie.Default){return(function Ne(){return je}()||qr)(ee(e),n)}function Kt(e,n=Ie.Default){return wn(e,Or(n))}function Or(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Ee(e){const n=[];for(let o=0;o<e.length;o++){const a=ee(e[o]);if(Array.isArray(a)){if(0===a.length)throw new ge(900,!1);let u,f=Ie.Default;for(let p=0;p<a.length;p++){const v=a[p],C=G(v);"number"==typeof C?-1===C?u=v.token:f|=C:u=v}n.push(wn(u,f))}else n.push(wn(a))}return n}function se(e,n){return e[Ut]=n,e.prototype[Ut]=n,e}function G(e){return e[Ut]}function Xe(e){return{toString:e}.toString()}var ct=(()=>((ct=ct||{})[ct.OnPush=0]="OnPush",ct[ct.Default=1]="Default",ct))(),Ft=(()=>{return(e=Ft||(Ft={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",Ft;var e})();const Mt={},Dt=[],An=te({\u0275cmp:te}),Cn=te({\u0275dir:te}),ve=te({\u0275pipe:te}),Z=te({\u0275mod:te}),Y=te({\u0275fac:te}),Oe=te({__NG_ELEMENT_ID__:te}),Qe=te({__NG_ENV_ID__:te});function tt(e,n,o){let a=e.length;for(;;){const u=e.indexOf(n,o);if(-1===u)return u;if(0===u||e.charCodeAt(u-1)<=32){const f=n.length;if(u+f===a||e.charCodeAt(u+f)<=32)return u}o=u+1}}function Je(e,n,o){let a=0;for(;a<o.length;){const u=o[a];if("number"==typeof u){if(0!==u)break;a++;const f=o[a++],p=o[a++],v=o[a++];e.setAttribute(n,p,v,f)}else{const f=u,p=o[++a];xt(f)?e.setProperty(n,f,p):e.setAttribute(n,f,p),a++}}return a}function nn(e){return 3===e||4===e||6===e}function xt(e){return 64===e.charCodeAt(0)}function Yt(e,n){if(null!==n&&0!==n.length)if(null===e||0===e.length)e=n.slice();else{let o=-1;for(let a=0;a<n.length;a++){const u=n[a];"number"==typeof u?o=u:0===o||ln(e,o,u,null,-1===o||2===o?n[++a]:null)}}return e}function ln(e,n,o,a,u){let f=0,p=e.length;if(-1===n)p=-1;else for(;f<e.length;){const v=e[f++];if("number"==typeof v){if(v===n){p=-1;break}if(v>n){p=f-1;break}}}for(;f<e.length;){const v=e[f];if("number"==typeof v)break;if(v===o){if(null===a)return void(null!==u&&(e[f+1]=u));if(a===e[f+1])return void(e[f+2]=u)}f++,null!==a&&f++,null!==u&&f++}-1!==p&&(e.splice(p,0,n),f=p+1),e.splice(f++,0,o),null!==a&&e.splice(f++,0,a),null!==u&&e.splice(f++,0,u)}const Pn="ng-template";function hr(e,n,o){let a=0,u=!0;for(;a<e.length;){let f=e[a++];if("string"==typeof f&&u){const p=e[a++];if(o&&"class"===f&&-1!==tt(p.toLowerCase(),n,0))return!0}else{if(1===f){for(;a<e.length&&"string"==typeof(f=e[a++]);)if(f.toLowerCase()===n)return!0;return!1}"number"==typeof f&&(u=!1)}}return!1}function Nr(e){return 4===e.type&&e.value!==Pn}function Ur(e,n,o){return n===(4!==e.type||o?e.value:Pn)}function fn(e,n,o){let a=4;const u=e.attrs||[],f=function zn(e){for(let n=0;n<e.length;n++)if(nn(e[n]))return n;return e.length}(u);let p=!1;for(let v=0;v<n.length;v++){const C=n[v];if("number"!=typeof C){if(!p)if(4&a){if(a=2|1&a,""!==C&&!Ur(e,C,o)||""===C&&1===n.length){if(Bt(a))return!1;p=!0}}else{const T=8&a?C:n[++v];if(8&a&&null!==e.attrs){if(!hr(e.attrs,T,o)){if(Bt(a))return!1;p=!0}continue}const j=cr(8&a?"class":C,u,Nr(e),o);if(-1===j){if(Bt(a))return!1;p=!0;continue}if(""!==T){let ne;ne=j>f?"":u[j+1].toLowerCase();const pe=8&a?ne:null;if(pe&&-1!==tt(pe,T,0)||2&a&&T!==ne){if(Bt(a))return!1;p=!0}}}}else{if(!p&&!Bt(a)&&!Bt(C))return!1;if(p&&Bt(C))continue;p=!1,a=C|1&a}}return Bt(a)||p}function Bt(e){return 0==(1&e)}function cr(e,n,o,a){if(null===n)return-1;let u=0;if(a||!o){let f=!1;for(;u<n.length;){const p=n[u];if(p===e)return u;if(3===p||6===p)f=!0;else{if(1===p||2===p){let v=n[++u];for(;"string"==typeof v;)v=n[++u];continue}if(4===p)break;if(0===p){u+=4;continue}}u+=f?1:2}return-1}return function Er(e,n){let o=e.indexOf(4);if(o>-1)for(o++;o<e.length;){const a=e[o];if("number"==typeof a)return-1;if(a===n)return o;o++}return-1}(n,e)}function Zn(e,n,o=!1){for(let a=0;a<n.length;a++)if(fn(e,n[a],o))return!0;return!1}function Xr(e,n){e:for(let o=0;o<n.length;o++){const a=n[o];if(e.length===a.length){for(let u=0;u<e.length;u++)if(e[u]!==a[u])continue e;return!0}}return!1}function wo(e,n){return e?":not("+n.trim()+")":n}function Mo(e){let n=e[0],o=1,a=2,u="",f=!1;for(;o<e.length;){let p=e[o];if("string"==typeof p)if(2&a){const v=e[++o];u+="["+p+(v.length>0?'="'+v+'"':"")+"]"}else 8&a?u+="."+p:4&a&&(u+=" "+p);else""!==u&&!Bt(p)&&(n+=wo(f,u),u=""),a=p,f=f||!Bt(a);o++}return""!==u&&(n+=wo(f,u)),n}function zo(e){return Xe(()=>{const n=So(e),o={...n,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===ct.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Ft.Emulated,styles:e.styles||Dt,_:null,schemas:e.schemas||null,tView:null,id:""};br(o);const a=e.dependencies;return o.directiveDefs=jr(a,!1),o.pipeDefs=jr(a,!0),o.id=function fi(e){let n=0;const o=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const u of o)n=Math.imul(31,n)+u.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(o),o})}function qi(e){return Lt(e)||On(e)}function Ya(e){return null!==e}function ci(e){return Xe(()=>({type:e.type,bootstrap:e.bootstrap||Dt,declarations:e.declarations||Dt,imports:e.imports||Dt,exports:e.exports||Dt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function ei(e,n){if(null==e)return Mt;const o={};for(const a in e)if(e.hasOwnProperty(a)){let u=e[a],f=u;Array.isArray(u)&&(f=u[1],u=u[0]),o[u]=a,n&&(n[u]=f)}return o}function $o(e){return Xe(()=>{const n=So(e);return br(n),n})}function ti(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function Lt(e){return e[An]||null}function On(e){return e[Cn]||null}function Mn(e){return e[ve]||null}function Pr(e){const n=Lt(e)||On(e)||Mn(e);return null!==n&&n.standalone}function Xn(e,n){const o=e[Z]||null;if(!o&&!0===n)throw new Error(`Type ${ue(e)} does not have '\u0275mod' property.`);return o}function So(e){const n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:e.inputs||Mt,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||Dt,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ei(e.inputs,n),outputs:ei(e.outputs)}}function br(e){e.features?.forEach(n=>n(e))}function jr(e,n){if(!e)return null;const o=n?Mn:qi;return()=>("function"==typeof e?e():e).map(a=>o(a)).filter(Ya)}const kn=0,nt=1,Nt=2,un=3,Ln=4,zr=5,Fn=6,Ht=7,Sn=8,pr=9,gr=10,lt=11,dr=12,It=13,wr=14,Gt=15,xo=16,Rr=17,fr=18,$r=19,Io=20,Gr=21,mr=22,To=23,Wr=24,qt=25,Oo=1,hi=2,Vn=7,po=9,rn=11;function er(e){return Array.isArray(e)&&"object"==typeof e[Oo]}function mn(e){return Array.isArray(e)&&!0===e[Oo]}function to(e){return 0!=(4&e.flags)}function no(e){return e.componentOffset>-1}function Go(e){return 1==(1&e.flags)}function yn(e){return!!e.template}function No(e){return 0!=(512&e[Nt])}function Yn(e,n){return e.hasOwnProperty(Y)?e[Y]:null}let da=Zt.WeakRef??class bs{constructor(n){this.ref=n}deref(){return this.ref}},Ni=0,$n=null,mi=!1;function Bn(e){const n=$n;return $n=e,n}class oi{constructor(){this.id=Ni++,this.ref=function fa(e){return new da(e)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[n,o]of this.producers){const a=o.producerNode.deref();if(void 0!==a&&o.atTrackingVersion===this.trackingVersion){if(a.producerPollStatus(o.seenValueVersion))return!0}else this.producers.delete(n),a?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const n=mi;mi=!0;try{for(const[o,a]of this.consumers){const u=a.consumerNode.deref();void 0!==u&&u.trackingVersion===a.atTrackingVersion?u.onConsumerDependencyMayHaveChanged():(this.consumers.delete(o),u?.producers.delete(this.id))}}finally{mi=n}}producerAccessed(){if(mi)throw new Error("");if(null===$n)return;let n=$n.producers.get(this.id);void 0===n?(n={consumerNode:$n.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:$n.trackingVersion},$n.producers.set(this.id,n),this.consumers.set($n.id,n)):(n.seenValueVersion=this.valueVersion,n.atTrackingVersion=$n.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==$n?.consumerAllowSignalWrites}producerPollStatus(n){return this.valueVersion!==n||(this.onProducerUpdateValueVersion(),this.valueVersion!==n)}}let rs=null;function Qa(e){const n=Bn(null);try{return e()}finally{Bn(n)}}const ga=()=>{};class Xa extends oi{constructor(n,o,a){super(),this.watch=n,this.schedule=o,this.dirty=!1,this.cleanupFn=ga,this.registerOnCleanup=u=>{this.cleanupFn=u},this.consumerAllowSignalWrites=a}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const n=Bn(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=ga,this.watch(this.registerOnCleanup)}finally{Bn(n)}}cleanup(){this.cleanupFn()}}class is{constructor(n,o,a){this.previousValue=n,this.currentValue=o,this.firstChange=a}isFirstChange(){return this.firstChange}}function Ss(){return Fi}function Fi(e){return e.type.prototype.ngOnChanges&&(e.setInput=Yr),xs}function xs(){const e=Zo(this),n=e?.current;if(n){const o=e.previous;if(o===Mt)e.previous=n;else for(let a in n)o[a]=n[a];e.current=null,this.ngOnChanges(n)}}function Yr(e,n,o,a){const u=this.declaredInputs[o],f=Zo(e)||function mo(e,n){return e[Is]=n}(e,{previous:Mt,current:null}),p=f.current||(f.current={}),v=f.previous,C=v[u];p[u]=new is(C&&C.currentValue,n,v===Mt),e[a]=n}Ss.ngInherit=!0;const Is="__ngSimpleChanges__";function Zo(e){return e[Is]||null}const ro=function(e,n,o){};function vn(e){for(;Array.isArray(e);)e=e[kn];return e}function E(e,n){return vn(n[e])}function O(e,n){return vn(n[e.index])}function k(e,n){return e.data[n]}function W(e,n){return e[n]}function me(e,n){const o=n[e];return er(o)?o:o[kn]}function Qt(e,n){return null==n?null:e[n]}function sn(e){e[Rr]=0}function Tt(e){1024&e[Nt]||(e[Nt]|=1024,_n(e,1))}function Nn(e){1024&e[Nt]&&(e[Nt]&=-1025,_n(e,-1))}function _n(e,n){let o=e[un];if(null===o)return;o[zr]+=n;let a=o;for(o=o[un];null!==o&&(1===n&&1===a[zr]||-1===n&&0===a[zr]);)o[zr]+=n,a=o,o=o[un]}const Ct={lFrame:al(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Ts(){return Ct.bindingsEnabled}function Li(){return null!==Ct.skipHydrationRootTNode}function Ue(){return Ct.lFrame.lView}function jt(){return Ct.lFrame.tView}function va(e){return Ct.lFrame.contextLView=e,e[Sn]}function rl(e){return Ct.lFrame.contextLView=null,e}function Dr(){let e=_a();for(;null!==e&&64===e.type;)e=e.parent;return e}function _a(){return Ct.lFrame.currentTNode}function io(e,n){const o=Ct.lFrame;o.currentTNode=e,o.isParent=n}function si(){return Ct.lFrame.isParent}function yi(){Ct.lFrame.isParent=!1}function Cr(){const e=Ct.lFrame;let n=e.bindingRootIndex;return-1===n&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}function Fo(){return Ct.lFrame.bindingIndex}function Vi(){return Ct.lFrame.bindingIndex++}function Lo(e){const n=Ct.lFrame,o=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,o}function cu(e,n){const o=Ct.lFrame;o.bindingIndex=o.bindingRootIndex=e,Os(n)}function Os(e){Ct.lFrame.currentDirectiveIndex=e}function il(){return Ct.lFrame.currentQueryIndex}function Ca(e){Ct.lFrame.currentQueryIndex=e}function sl(e){const n=e[nt];return 2===n.type?n.declTNode:1===n.type?e[Fn]:null}function Ea(e,n,o){if(o&Ie.SkipSelf){let u=n,f=e;for(;!(u=u.parent,null!==u||o&Ie.Host||(u=sl(f),null===u||(f=f[wr],10&u.type))););if(null===u)return!1;n=u,e=f}const a=Ct.lFrame=Ps();return a.currentTNode=n,a.lView=e,!0}function as(e){const n=Ps(),o=e[nt];Ct.lFrame=n,n.currentTNode=o.firstChild,n.lView=e,n.tView=o,n.contextLView=e,n.bindingIndex=o.bindingStartIndex,n.inI18n=!1}function Ps(){const e=Ct.lFrame,n=null===e?null:e.child;return null===n?al(e):n}function al(e){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=n),n}function ll(){const e=Ct.lFrame;return Ct.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const ul=ll;function ba(){const e=ll();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function y(){return Ct.lFrame.selectedIndex}function D(e){Ct.lFrame.selectedIndex=e}function m(){const e=Ct.lFrame;return k(e.tView,e.selectedIndex)}let Ge=!0;function mt(){return Ge}function yt(e){Ge=e}function or(e,n){for(let o=n.directiveStart,a=n.directiveEnd;o<a;o++){const f=e.data[o].type.prototype,{ngAfterContentInit:p,ngAfterContentChecked:v,ngAfterViewInit:C,ngAfterViewChecked:T,ngOnDestroy:F}=f;p&&(e.contentHooks??=[]).push(-o,p),v&&((e.contentHooks??=[]).push(o,v),(e.contentCheckHooks??=[]).push(o,v)),C&&(e.viewHooks??=[]).push(-o,C),T&&((e.viewHooks??=[]).push(o,T),(e.viewCheckHooks??=[]).push(o,T)),null!=F&&(e.destroyHooks??=[]).push(o,F)}}function Bi(e,n,o){Rs(e,n,3,o)}function Vo(e,n,o,a){(3&e[Nt])===o&&Rs(e,n,o,a)}function so(e,n){let o=e[Nt];(3&o)===n&&(o&=8191,o+=1,e[Nt]=o)}function Rs(e,n,o,a){const f=a??-1,p=n.length-1;let v=0;for(let C=void 0!==a?65535&e[Rr]:0;C<p;C++)if("number"==typeof n[C+1]){if(v=n[C],null!=a&&v>=a)break}else n[C]<0&&(e[Rr]+=65536),(v<f||-1==f)&&(Ff(e,o,n,C),e[Rr]=(4294901760&e[Rr])+C+2),C++}function ls(e,n){ro(4,e,n);const o=Bn(null);try{n.call(e)}finally{Bn(o),ro(5,e,n)}}function Ff(e,n,o,a){const u=o[a]<0,f=o[a+1],v=e[u?-o[a]:o[a]];u?e[Nt]>>13<e[Rr]>>16&&(3&e[Nt])===n&&(e[Nt]+=8192,ls(v,f)):ls(v,f)}const ks=-1;class wa{constructor(n,o,a){this.factory=n,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=a}}function kc(e){return e!==ks}function us(e){return 32767&e}function vi(e,n){let o=function Uf(e){return e>>16}(e),a=n;for(;o>0;)a=a[wr],o--;return a}let fu=!0;function dl(e){const n=fu;return fu=e,n}const Fc=255,hu=5;let Ma=0;const Bo={};function Fs(e,n){const o=cs(e,n);if(-1!==o)return o;const a=n[nt];a.firstCreatePass&&(e.injectorIndex=n.length,ao(a.data,e),ao(n,null),ao(a.blueprint,null));const u=_i(e,n),f=e.injectorIndex;if(kc(u)){const p=us(u),v=vi(u,n),C=v[nt].data;for(let T=0;T<8;T++)n[f+T]=v[p+T]|C[p+T]}return n[f+8]=u,f}function ao(e,n){e.push(0,0,0,0,0,0,0,0,n)}function cs(e,n){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===n[e.injectorIndex+8]?-1:e.injectorIndex}function _i(e,n){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let o=0,a=null,u=n;for(;null!==u;){if(a=yu(u),null===a)return ks;if(o++,u=u[wr],-1!==a.injectorIndex)return a.injectorIndex|o<<16}return ks}function tr(e,n,o){!function Hi(e,n,o){let a;"string"==typeof o?a=o.charCodeAt(0)||0:o.hasOwnProperty(Oe)&&(a=o[Oe]),null==a&&(a=o[Oe]=Ma++);const u=a&Fc;n.data[e+(u>>hu)]|=1<<u}(e,n,o)}function Di(e,n,o){if(o&Ie.Optional||void 0!==e)return e;Ze()}function Lc(e,n,o,a){if(o&Ie.Optional&&void 0===a&&(a=null),!(o&(Ie.Self|Ie.Host))){const u=e[pr],f=Rt(void 0);try{return u?u.get(n,a,o&Ie.Optional):In(n,a,o&Ie.Optional)}finally{Rt(f)}}return Di(a,0,o)}function pu(e,n,o,a=Ie.Default,u){if(null!==e){if(2048&n[Nt]&&!(a&Ie.Self)){const p=function zf(e,n,o,a,u){let f=e,p=n;for(;null!==f&&null!==p&&2048&p[Nt]&&!(512&p[Nt]);){const v=Vc(f,p,o,a|Ie.Self,Bo);if(v!==Bo)return v;let C=f.parent;if(!C){const T=p[Io];if(T){const F=T.get(o,Bo,a);if(F!==Bo)return F}C=yu(p),p=p[wr]}f=C}return u}(e,n,o,a,Bo);if(p!==Bo)return p}const f=Vc(e,n,o,a,Bo);if(f!==Bo)return f}return Lc(n,o,a,u)}function Vc(e,n,o,a,u){const f=function ds(e){if("string"==typeof e)return e.charCodeAt(0)||0;const n=e.hasOwnProperty(Oe)?e[Oe]:void 0;return"number"==typeof n?n>=0?n&Fc:jf:n}(o);if("function"==typeof f){if(!Ea(n,e,a))return a&Ie.Host?Di(u,0,a):Lc(n,o,a,u);try{const p=f(a);if(null!=p||a&Ie.Optional)return p;Ze()}finally{ul()}}else if("number"==typeof f){let p=null,v=cs(e,n),C=ks,T=a&Ie.Host?n[Gt][Fn]:null;for((-1===v||a&Ie.SkipSelf)&&(C=-1===v?_i(e,n):n[v+8],C!==ks&&gu(a,!1)?(p=n[nt],v=us(C),n=vi(C,n)):v=-1);-1!==v;){const F=n[nt];if(hl(f,v,F.data)){const j=Bc(v,n,o,p,a,T);if(j!==Bo)return j}C=n[v+8],C!==ks&&gu(a,n[nt].data[v+8]===T)&&hl(f,v,n)?(p=F,v=us(C),n=vi(C,n)):v=-1}}return u}function Bc(e,n,o,a,u,f){const p=n[nt],v=p.data[e+8],F=Sa(v,p,o,null==a?no(v)&&fu:a!=p&&0!=(3&v.type),u&Ie.Host&&f===v);return null!==F?ai(n,p,F,v):Bo}function Sa(e,n,o,a,u){const f=e.providerIndexes,p=n.data,v=1048575&f,C=e.directiveStart,F=f>>20,ne=u?v+F:e.directiveEnd;for(let pe=a?v:v+F;pe<ne;pe++){const ke=p[pe];if(pe<C&&o===ke||pe>=C&&ke.type===o)return pe}if(u){const pe=p[C];if(pe&&yn(pe)&&pe.type===o)return C}return null}function ai(e,n,o,a){let u=e[o];const f=n.data;if(function Lf(e){return e instanceof wa}(u)){const p=u;p.resolving&&function Ke(e,n){const o=n?`. Dependency path: ${n.join(" > ")} > ${e}`:"";throw new ge(-200,`Circular dependency in DI detected for ${e}${o}`)}(function We(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Se(e)}(f[o]));const v=dl(p.canSeeViewProviders);p.resolving=!0;const C=p.injectImpl?Rt(p.injectImpl):null;Ea(e,a,Ie.Default);try{u=e[o]=p.factory(void 0,f,e,a),n.firstCreatePass&&o>=a.directiveStart&&function En(e,n,o){const{ngOnChanges:a,ngOnInit:u,ngDoCheck:f}=n.type.prototype;if(a){const p=Fi(n);(o.preOrderHooks??=[]).push(e,p),(o.preOrderCheckHooks??=[]).push(e,p)}u&&(o.preOrderHooks??=[]).push(0-e,u),f&&((o.preOrderHooks??=[]).push(e,f),(o.preOrderCheckHooks??=[]).push(e,f))}(o,f[o],n)}finally{null!==C&&Rt(C),dl(v),p.resolving=!1,ul()}}return u}function hl(e,n,o){return!!(o[n+(e>>hu)]&1<<e)}function gu(e,n){return!(e&Ie.Self||e&Ie.Host&&n)}class Ui{constructor(n,o){this._tNode=n,this._lView=o}get(n,o,a){return pu(this._tNode,this._lView,n,Or(a),o)}}function jf(){return new Ui(Dr(),Ue())}function Hc(e){return Xe(()=>{const n=e.prototype.constructor,o=n[Y]||mu(n),a=Object.prototype;let u=Object.getPrototypeOf(e.prototype).constructor;for(;u&&u!==a;){const f=u[Y]||mu(u);if(f&&f!==o)return f;u=Object.getPrototypeOf(u)}return f=>new f})}function mu(e){return Be(e)?()=>{const n=mu(ee(e));return n&&n()}:Yn(e)}function yu(e){const n=e[nt],o=n.type;return 2===o?n.declTNode:1===o?e[Fn]:null}function pl(e){return function Hr(e,n){if("class"===n)return e.classes;if("style"===n)return e.styles;const o=e.attrs;if(o){const a=o.length;let u=0;for(;u<a;){const f=o[u];if(nn(f))break;if(0===f)u+=2;else if("number"==typeof f)for(u++;u<a&&"string"==typeof o[u];)u++;else{if(f===n)return o[u+1];u+=2}}}return null}(Dr(),e)}const Vs="__parameters__";function Hs(e,n,o){return Xe(()=>{const a=function vu(e){return function(...o){if(e){const a=e(...o);for(const u in a)this[u]=a[u]}}}(n);function u(...f){if(this instanceof u)return a.apply(this,f),this;const p=new u(...f);return v.annotation=p,v;function v(C,T,F){const j=C.hasOwnProperty(Vs)?C[Vs]:Object.defineProperty(C,Vs,{value:[]})[Vs];for(;j.length<=F;)j.push(null);return(j[F]=j[F]||[]).push(p),C}}return o&&(u.prototype=Object.create(o.prototype)),u.prototype.ngMetadataName=e,u.annotationCls=u,u})}function xn(e,n){e.forEach(o=>Array.isArray(o)?xn(o,n):n(o))}function zc(e,n,o){n>=e.length?e.push(o):e.splice(n,0,o)}function gl(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function Ia(e,n){const o=[];for(let a=0;a<e;a++)o.push(n);return o}function Ho(e,n,o){let a=js(e,n);return a>=0?e[1|a]=o:(a=~a,function Gc(e,n,o,a){let u=e.length;if(u==n)e.push(o,a);else if(1===u)e.push(a,e[0]),e[0]=o;else{for(u--,e.push(e[u-1],e[u]);u>n;)e[u]=e[u-2],u--;e[n]=o,e[n+1]=a}}(e,a,n,o)),a}function _u(e,n){const o=js(e,n);if(o>=0)return e[1|o]}function js(e,n){return function Du(e,n,o){let a=0,u=e.length>>o;for(;u!==a;){const f=a+(u-a>>1),p=e[f<<o];if(n===p)return f<<o;p>n?u=f:a=f+1}return~(u<<o)}(e,n,1)}const Eu=se(Hs("Optional"),8),ml=se(Hs("SkipSelf"),4);function _l(e){return 128==(128&e.flags)}var Uo=(()=>((Uo=Uo||{})[Uo.Important=1]="Important",Uo[Uo.DashCase=2]="DashCase",Uo))();const gh=/^>|^->|<!--|-->|--!>|<!-$/g,Gs=/(<|>)/,mh="\u200b$1\u200b";const ps=new Map;let Iu=0;const Ou="__ngContext__";function Sr(e,n){er(n)?(e[Ou]=n[$r],function Ci(e){ps.set(e[$r],e)}(n)):e[Ou]=n}let Pu;function bl(e,n){return Pu(e,n)}function Ws(e){const n=e[un];return mn(n)?n[un]:n}function gd(e){return Ru(e[dr])}function md(e){return Ru(e[Ln])}function Ru(e){for(;null!==e&&!mn(e);)e=e[Ln];return e}function Ks(e,n,o,a,u){if(null!=a){let f,p=!1;mn(a)?f=a:er(a)&&(p=!0,a=a[kn]);const v=vn(a);0===e&&null!==o?null==u?_d(n,o,v):ji(n,o,v,u||null,!0):1===e&&null!==o?ji(n,o,v,u||null,!0):2===e?function _o(e,n,o){const a=Jo(e,n);a&&function xh(e,n,o,a){e.removeChild(n,o,a)}(e,a,n,o)}(n,v,p):3===e&&n.destroyNode(v),null!=f&&function em(e,n,o,a,u){const f=o[Vn];f!==vn(o)&&Ks(n,e,a,f,u);for(let v=rn;v<o.length;v++){const C=o[v];qs(C[nt],C,e,n,a,f)}}(n,e,f,o,u)}}function Zs(e,n){return e.createComment(function yh(e){return e.replace(gh,n=>n.replace(Gs,mh))}(n))}function Ml(e,n,o){return e.createElement(n,o)}function yd(e,n){const o=e[po],a=o.indexOf(n);Nn(n),o.splice(a,1)}function Oa(e,n){if(e.length<=rn)return;const o=rn+n,a=e[o];if(a){const u=a[xo];null!==u&&u!==e&&yd(u,a),n>0&&(e[o-1][Ln]=a[Ln]);const f=gl(e,rn+n);!function bh(e,n){qs(e,n,n[lt],2,null,null),n[kn]=null,n[Fn]=null}(a[nt],a);const p=f[fr];null!==p&&p.detachView(f[nt]),a[un]=null,a[Ln]=null,a[Nt]&=-129}return a}function Na(e,n){if(!(256&n[Nt])){const o=n[lt];n[To]?.destroy(),n[Wr]?.destroy(),o.destroyNode&&qs(e,n,o,3,null,null),function wh(e){let n=e[dr];if(!n)return Fu(e[nt],e);for(;n;){let o=null;if(er(n))o=n[dr];else{const a=n[rn];a&&(o=a)}if(!o){for(;n&&!n[Ln]&&n!==e;)er(n)&&Fu(n[nt],n),n=n[un];null===n&&(n=e),er(n)&&Fu(n[nt],n),o=n&&n[Ln]}n=o}}(n)}}function Fu(e,n){if(!(256&n[Nt])){n[Nt]&=-129,n[Nt]|=256,function Ir(e,n){let o;if(null!=e&&null!=(o=e.destroyHooks))for(let a=0;a<o.length;a+=2){const u=n[o[a]];if(!(u instanceof wa)){const f=o[a+1];if(Array.isArray(f))for(let p=0;p<f.length;p+=2){const v=u[f[p]],C=f[p+1];ro(4,v,C);try{C.call(v)}finally{ro(5,v,C)}}else{ro(4,u,f);try{f.call(u)}finally{ro(5,u,f)}}}}}(e,n),function Sl(e,n){const o=e.cleanup,a=n[Ht];if(null!==o)for(let f=0;f<o.length-1;f+=2)if("string"==typeof o[f]){const p=o[f+3];p>=0?a[p]():a[-p].unsubscribe(),f+=2}else o[f].call(a[o[f+1]]);null!==a&&(n[Ht]=null);const u=n[Gr];if(null!==u){n[Gr]=null;for(let f=0;f<u.length;f++)(0,u[f])()}}(e,n),1===n[nt].type&&n[lt].destroy();const o=n[xo];if(null!==o&&mn(n[un])){o!==n[un]&&yd(o,n);const a=n[fr];null!==a&&a.detachView(e)}!function Xg(e){ps.delete(e[$r])}(n)}}function xl(e,n,o){return function vd(e,n,o){let a=n;for(;null!==a&&40&a.type;)a=(n=a).parent;if(null===a)return o[kn];{const{componentOffset:u}=a;if(u>-1){const{encapsulation:f}=e.data[a.directiveStart+u];if(f===Ft.None||f===Ft.Emulated)return null}return O(a,o)}}(e,n.parent,o)}function ji(e,n,o,a,u){e.insertBefore(n,o,a,u)}function _d(e,n,o){e.appendChild(n,o)}function jo(e,n,o,a,u){null!==a?ji(e,n,o,a,u):_d(e,n,o)}function Jo(e,n){return e.parentNode(n)}function Dd(e,n,o){return Lu(e,n,o)}let Pa,Il,zu,Tl,Lu=function Cd(e,n,o){return 40&e.type?O(e,o):null};function Ys(e,n,o,a){const u=xl(e,a,n),f=n[lt],v=Dd(a.parent||n[Fn],a,n);if(null!=u)if(Array.isArray(o))for(let C=0;C<o.length;C++)jo(f,u,o[C],v,!1);else jo(f,u,o,v,!1);void 0!==Pa&&Pa(f,a,n,o,u)}function Js(e,n){if(null!==n){const o=n.type;if(3&o)return O(n,e);if(4&o)return Ed(-1,e[n.index]);if(8&o){const a=n.child;if(null!==a)return Js(e,a);{const u=e[n.index];return mn(u)?Ed(-1,u):vn(u)}}if(32&o)return bl(n,e)()||vn(e[n.index]);{const a=Ra(e,n);return null!==a?Array.isArray(a)?a[0]:Js(Ws(e[Gt]),a):Js(e,n.next)}}return null}function Ra(e,n){return null!==n?e[Gt][Fn].projection[n.projection]:null}function Ed(e,n){const o=rn+e+1;if(o<n.length){const a=n[o],u=a[nt].firstChild;if(null!==u)return Js(a,u)}return n[Vn]}function Hu(e,n,o,a,u,f,p){for(;null!=o;){const v=a[o.index],C=o.type;if(p&&0===n&&(v&&Sr(vn(v),a),o.flags|=2),32!=(32&o.flags))if(8&C)Hu(e,n,o.child,a,u,f,!1),Ks(n,e,u,v,f);else if(32&C){const T=bl(o,a);let F;for(;F=T();)Ks(n,e,u,F,f);Ks(n,e,u,v,f)}else 16&C?Th(e,n,a,o,u,f):Ks(n,e,u,v,f);o=p?o.projectionNext:o.next}}function qs(e,n,o,a,u,f){Hu(o,a,e.firstChild,n,u,f,!1)}function Th(e,n,o,a,u,f){const p=o[Gt],C=p[Fn].projection[a.projection];if(Array.isArray(C))for(let T=0;T<C.length;T++)Ks(n,e,u,C[T],f);else{let T=C;const F=p[un];_l(a)&&(T.flags|=128),Hu(e,n,T,F,u,f,!0)}}function bd(e,n,o){""===o?e.removeAttribute(n,"class"):e.setAttribute(n,"class",o)}function wd(e,n,o){const{mergedAttrs:a,classes:u,styles:f}=o;null!==a&&Je(e,n,a),null!==u&&bd(e,n,u),null!==f&&function Oh(e,n,o){e.setAttribute(n,"style",o)}(e,n,f)}function Qs(e){return function ju(){if(void 0===Il&&(Il=null,Zt.trustedTypes))try{Il=Zt.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Il}()?.createHTML(e)||e}function kh(e){zu=e}function ka(){if(void 0!==zu)return zu;if(typeof document<"u")return document;throw new ge(210,!1)}function $u(){if(void 0===Tl&&(Tl=null,Zt.trustedTypes))try{Tl=Zt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Tl}function Md(e){return $u()?.createHTML(e)||e}function xd(e){return $u()?.createScriptURL(e)||e}class gs{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${it})`}}class Fh extends gs{getTypeName(){return"HTML"}}class Lh extends gs{getTypeName(){return"Style"}}class Vh extends gs{getTypeName(){return"Script"}}class Bh extends gs{getTypeName(){return"URL"}}class Hh extends gs{getTypeName(){return"ResourceURL"}}function wi(e){return e instanceof gs?e.changingThisBreaksApplicationSecurity:e}function Xs(e,n){const o=function Uh(e){return e instanceof gs&&e.getTypeName()||null}(e);if(null!=o&&o!==n){if("ResourceURL"===o&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${o} (see ${it})`)}return o===n}function jh(e){return new Fh(e)}function zh(e){return new Lh(e)}function $h(e){return new Vh(e)}function Gh(e){return new Bh(e)}function Wh(e){return new Hh(e)}class Kh{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const o=(new window.DOMParser).parseFromString(Qs(n),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(n):(o.removeChild(o.firstChild),o)}catch{return null}}}class nm{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const o=this.inertDocument.createElement("template");return o.innerHTML=Qs(n),o}}const Zh=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Al(e){return(e=String(e)).match(Zh)?e:"unsafe:"+e}function Mi(e){const n={};for(const o of e.split(","))n[o]=!0;return n}function Fa(...e){const n={};for(const o of e)for(const a in o)o.hasOwnProperty(a)&&(n[a]=!0);return n}const Td=Mi("area,br,col,hr,img,wbr"),Ad=Mi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Od=Mi("rp,rt"),Ol=Fa(Td,Fa(Ad,Mi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Fa(Od,Mi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Fa(Od,Ad)),Gu=Mi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Wu=Fa(Gu,Mi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Mi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Nd=Mi("script,style,template");class Pd{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let o=n.firstChild,a=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?a=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,a&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let u=this.checkClobberedElement(o,o.nextSibling);if(u){o=u;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(n){const o=n.nodeName.toLowerCase();if(!Ol.hasOwnProperty(o))return this.sanitizedSomething=!0,!Nd.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const a=n.attributes;for(let u=0;u<a.length;u++){const f=a.item(u),p=f.name,v=p.toLowerCase();if(!Wu.hasOwnProperty(v)){this.sanitizedSomething=!0;continue}let C=f.value;Gu[v]&&(C=Al(C)),this.buf.push(" ",p,'="',ea(C),'"')}return this.buf.push(">"),!0}endElement(n){const o=n.nodeName.toLowerCase();Ol.hasOwnProperty(o)&&!Td.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(n){this.buf.push(ea(n))}checkClobberedElement(n,o){if(o&&(n.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return o}}const Jh=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,qh=/([^\#-~ |!])/g;function ea(e){return e.replace(/&/g,"&amp;").replace(Jh,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(qh,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Nl;function Si(e,n){let o=null;try{Nl=Nl||function Id(e){const n=new nm(e);return function rm(){try{return!!(new window.DOMParser).parseFromString(Qs(""),"text/html")}catch{return!1}}()?new Kh(n):n}(e);let a=n?String(n):"";o=Nl.getInertBodyElement(a);let u=5,f=a;do{if(0===u)throw new Error("Failed to sanitize html because the input is unstable");u--,a=f,f=o.innerHTML,o=Nl.getInertBodyElement(a)}while(a!==f);return Qs((new Pd).sanitizeChildren(zi(o)||o))}finally{if(o){const a=zi(o)||o;for(;a.firstChild;)a.removeChild(a.firstChild)}}}function zi(e){return"content"in e&&function Qh(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var ir=(()=>((ir=ir||{})[ir.NONE=0]="NONE",ir[ir.HTML=1]="HTML",ir[ir.STYLE=2]="STYLE",ir[ir.SCRIPT=3]="SCRIPT",ir[ir.URL=4]="URL",ir[ir.RESOURCE_URL=5]="RESOURCE_URL",ir))();function La(e){const n=Va();return n?Md(n.sanitize(ir.HTML,e)||""):Xs(e,"HTML")?Md(wi(e)):Si(ka(),Se(e))}function ys(e){const n=Va();return n?n.sanitize(ir.URL,e)||"":Xs(e,"URL")?wi(e):Al(Se(e))}function Rd(e){const n=Va();if(n)return xd(n.sanitize(ir.RESOURCE_URL,e)||"");if(Xs(e,"ResourceURL"))return xd(wi(e));throw new ge(904,!1)}function Fd(e,n,o){return function Xh(e,n){return"src"===n&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===n&&("base"===e||"link"===e)?Rd:ys}(n,o)(e)}function Va(){const e=Ue();return e&&e[gr].sanitizer}class Dn{constructor(n,o){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=pt({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Ba=new Dn("ENVIRONMENT_INITIALIZER"),Ld=new Dn("INJECTOR",-1),Vd=new Dn("INJECTOR_DEF_TYPES");class Bd{get(n,o=Wn){if(o===Wn){const a=new Error(`NullInjectorError: No provider for ${ue(n)}!`);throw a.name="NullInjectorError",a}return o}}function Zu(e){return{\u0275providers:e}}function ep(...e){return{\u0275providers:Hd(0,e),\u0275fromNgModule:!0}}function Hd(e,...n){const o=[],a=new Set;let u;return xn(n,f=>{const p=f;Yu(p,o,[],a)&&(u||=[],u.push(p))}),void 0!==u&&Ud(u,o),o}function Ud(e,n){for(let o=0;o<e.length;o++){const{providers:u}=e[o];Ju(u,f=>{n.push(f)})}}function Yu(e,n,o,a){if(!(e=ee(e)))return!1;let u=null,f=Qn(e);const p=!f&&Lt(e);if(f||p){if(p&&!p.standalone)return!1;u=e}else{const C=e.ngModule;if(f=Qn(C),!f)return!1;u=C}const v=a.has(u);if(p){if(v)return!1;if(a.add(u),p.dependencies){const C="function"==typeof p.dependencies?p.dependencies():p.dependencies;for(const T of C)Yu(T,n,o,a)}}else{if(!f)return!1;{if(null!=f.imports&&!v){let T;a.add(u);try{xn(f.imports,F=>{Yu(F,n,o,a)&&(T||=[],T.push(F))})}finally{}void 0!==T&&Ud(T,n)}if(!v){const T=Yn(u)||(()=>new u);n.push({provide:u,useFactory:T,deps:Dt},{provide:Vd,useValue:u,multi:!0},{provide:Ba,useValue:()=>wn(u),multi:!0})}const C=f.providers;null==C||v||Ju(C,F=>{n.push(F)})}}return u!==e&&void 0!==e.providers}function Ju(e,n){for(let o of e)st(o)&&(o=o.\u0275providers),Array.isArray(o)?Ju(o,n):n(o)}const tp=te({provide:String,useValue:te});function qu(e){return null!==e&&"object"==typeof e&&tp in e}function vs(e){return"function"==typeof e}const Qu=new Dn("Set Injector scope."),Pl={},rp={};let na;function Ha(){return void 0===na&&(na=new Bd),na}class qo{}class Rl extends qo{get destroyed(){return this._destroyed}constructor(n,o,a,u){super(),this.parent=o,this.source=a,this.scopes=u,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,tc(n,p=>this.processProvider(p)),this.records.set(Ld,ra(void 0,this)),u.has("environment")&&this.records.set(qo,ra(void 0,this));const f=this.records.get(Qu);null!=f&&"string"==typeof f.value&&this.scopes.add(f.value),this.injectorDefTypes=new Set(this.get(Vd.multi,Dt,Ie.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of n)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const o=rr(this),a=Rt(void 0);try{return n()}finally{rr(o),Rt(a)}}get(n,o=Wn,a=Ie.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(Qe))return n[Qe](this);a=Or(a);const u=rr(this),f=Rt(void 0);try{if(!(a&Ie.SkipSelf)){let v=this.records.get(n);if(void 0===v){const C=function ap(e){return"function"==typeof e||"object"==typeof e&&e instanceof Dn}(n)&&at(n);v=C&&this.injectableDefInScope(C)?ra(Xu(n),Pl):null,this.records.set(n,v)}if(null!=v)return this.hydrate(n,v)}return(a&Ie.Self?Ha():this.parent).get(n,o=a&Ie.Optional&&o===Wn?null:o)}catch(p){if("NullInjectorError"===p.name){if((p[ur]=p[ur]||[]).unshift(ue(n)),u)throw p;return function ae(e,n,o,a){const u=e[ur];throw n[$t]&&u.unshift(n[$t]),e.message=function He(e,n,o,a=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let u=ue(n);if(Array.isArray(n))u=n.map(ue).join(" -> ");else if("object"==typeof n){let f=[];for(let p in n)if(n.hasOwnProperty(p)){let v=n[p];f.push(p+":"+("string"==typeof v?JSON.stringify(v):ue(v)))}u=`{${f.join(", ")}}`}return`${o}${a?"("+a+")":""}[${u}]: ${e.replace(Ar,"\n  ")}`}("\n"+e.message,u,o,a),e.ngTokenPath=u,e[ur]=null,e}(p,n,"R3InjectorError",this.source)}throw p}finally{Rt(f),rr(u)}}resolveInjectorInitializers(){const n=rr(this),o=Rt(void 0);try{const a=this.get(Ba.multi,Dt,Ie.Self);for(const u of a)u()}finally{rr(n),Rt(o)}}toString(){const n=[],o=this.records;for(const a of o.keys())n.push(ue(a));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ge(205,!1)}processProvider(n){let o=vs(n=ee(n))?n:ee(n&&n.provide);const a=function ec(e){return qu(e)?ra(void 0,e.useValue):ra($d(e),Pl)}(n);if(vs(n)||!0!==n.multi)this.records.get(o);else{let u=this.records.get(o);u||(u=ra(void 0,Pl,!0),u.factory=()=>Ee(u.multi),this.records.set(o,u)),o=n,u.multi.push(n)}this.records.set(o,a)}hydrate(n,o){return o.value===Pl&&(o.value=rp,o.value=o.factory()),"object"==typeof o.value&&o.value&&function sp(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(n){if(!n.providedIn)return!1;const o=ee(n.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}removeOnDestroy(n){const o=this._onDestroyHooks.indexOf(n);-1!==o&&this._onDestroyHooks.splice(o,1)}}function Xu(e){const n=at(e),o=null!==n?n.factory:Yn(e);if(null!==o)return o;if(e instanceof Dn)throw new ge(204,!1);if(e instanceof Function)return function op(e){const n=e.length;if(n>0)throw Ia(n,"?"),new ge(204,!1);const o=function en(e){return e&&(e[Un]||e[ht])||null}(e);return null!==o?()=>o.factory(e):()=>new e}(e);throw new ge(204,!1)}function $d(e,n,o){let a;if(vs(e)){const u=ee(e);return Yn(u)||Xu(u)}if(qu(e))a=()=>ee(e.useValue);else if(function zd(e){return!(!e||!e.useFactory)}(e))a=()=>e.useFactory(...Ee(e.deps||[]));else if(function jd(e){return!(!e||!e.useExisting)}(e))a=()=>wn(ee(e.useExisting));else{const u=ee(e&&(e.useClass||e.provide));if(!function ip(e){return!!e.deps}(e))return Yn(u)||Xu(u);a=()=>new u(...Ee(e.deps))}return a}function ra(e,n,o=!1){return{factory:e,value:n,multi:o?[]:void 0}}function tc(e,n){for(const o of e)Array.isArray(o)?tc(o,n):o&&st(o)?tc(o.\u0275providers,n):n(o)}const Gd=new Dn("AppId",{providedIn:"root",factory:()=>lp}),lp="ng",Wd=new Dn("Platform Initializer"),nc=new Dn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),up=new Dn("CSP nonce",{providedIn:"root",factory:()=>ka().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Kd=(e,n)=>null;function pp(e,n){return Kd(e,n)}class Jd{}class qd{}class mp{resolveComponentFactory(n){throw function _m(e){const n=Error(`No component factory found for ${ue(e)}.`);return n.ngComponent=e,n}(n)}}let Hl=(()=>{class e{}return e.NULL=new mp,e})();function yp(){return ia(Dr(),Ue())}function ia(e,n){return new ja(O(e,n))}let ja=(()=>{class e{constructor(o){this.nativeElement=o}}return e.__NG_ELEMENT_ID__=yp,e})();function vp(e){return e instanceof ja?e.nativeElement:e}class Qd{}let _p=(()=>{class e{constructor(){this.destroyNode=null}}return e.__NG_ELEMENT_ID__=()=>function Dp(){const e=Ue(),o=me(Dr().index,e);return(er(o)?o:e)[lt]}(),e})(),Cp=(()=>{class e{}return e.\u0275prov=pt({token:e,providedIn:"root",factory:()=>null}),e})();class Xd{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const ef=new Xd("16.1.3"),Ul={};function za(e){for(;e;){e[Nt]|=64;const n=Ws(e);if(No(e)&&!n)return e;e=n}return null}function r(e){return e.ngOriginalError}class i{constructor(){this._console=console}handleError(n){const o=this._findOriginalError(n);this._console.error("ERROR",n),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(n){let o=n&&r(n);for(;o&&r(o);)o=r(o);return o||null}}const h=new Dn("",{providedIn:"root",factory:()=>!1});function q(e){return e.ownerDocument}function Re(e){return e instanceof Function?e():e}class an extends oi{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(n){this._lView=n}onConsumerDependencyMayHaveChanged(){za(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(n,o,a){const u=Bn(this);this.trackingVersion++;try{n(o,a)}finally{Bn(u)}}destroy(){this.trackingVersion++}}let Qo=null;function $a(){return Qo??=new an,Qo}function tf(e,n){return e[n]??$a()}function Cm(e,n){const o=$a();o.hasReadASignal&&(e[n]=Qo,o.lView=e,Qo=new an)}const Jt={};function Em(e){bm(jt(),Ue(),y()+e,!1)}function bm(e,n,o,a){if(!a)if(3==(3&n[Nt])){const f=e.preOrderCheckHooks;null!==f&&Bi(n,f,o)}else{const f=e.preOrderHooks;null!==f&&Vo(n,f,0,o)}D(o)}function xm(e,n=null,o=null,a){const u=Im(e,n,o,a);return u.resolveInjectorInitializers(),u}function Im(e,n=null,o=null,a,u=new Set){const f=[o||Dt,ep(e)];return a=a||("object"==typeof e?void 0:ue(e)),new Rl(f,n||Ha(),a||null,u)}let aa=(()=>{class e{static create(o,a){if(Array.isArray(o))return xm({name:""},a,o,"");{const u=o.name??"";return xm({name:u},o.parent,o.providers,u)}}}return e.THROW_IF_NOT_FOUND=Wn,e.NULL=new Bd,e.\u0275prov=pt({token:e,providedIn:"any",factory:()=>wn(Ld)}),e.__NG_ELEMENT_ID__=-1,e})();function zl(e,n=Ie.Default){const o=Ue();return null===o?wn(e,n):pu(Dr(),o,ee(e),n)}function Tm(){throw new Error("invalid")}function nf(e,n,o,a,u,f,p,v,C,T,F){const j=n.blueprint.slice();return j[kn]=u,j[Nt]=140|a,(null!==T||e&&2048&e[Nt])&&(j[Nt]|=2048),sn(j),j[un]=j[wr]=e,j[Sn]=o,j[gr]=p||e&&e[gr],j[lt]=v||e&&e[lt],j[pr]=C||e&&e[pr]||null,j[Fn]=f,j[$r]=function sd(){return Iu++}(),j[mr]=F,j[Io]=T,j[Gt]=2==n.type?e[Gt]:j,j}function $l(e,n,o,a,u){let f=e.data[n];if(null===f)f=function Ep(e,n,o,a,u){const f=_a(),p=si(),C=e.data[n]=function ZD(e,n,o,a,u,f){let p=n?n.injectorIndex:-1,v=0;return Li()&&(v|=128),{type:o,index:a,insertBeforeIndex:null,injectorIndex:p,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:v,providerIndexes:0,value:u,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,p?f:f&&f.parent,o,n,a,u);return null===e.firstChild&&(e.firstChild=C),null!==f&&(p?null==f.child&&null!==C.parent&&(f.child=C):null===f.next&&(f.next=C,C.prev=f)),C}(e,n,o,a,u),function uu(){return Ct.lFrame.inI18n}()&&(f.flags|=32);else if(64&f.type){f.type=o,f.value=a,f.attrs=u;const p=function oo(){const e=Ct.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}();f.injectorIndex=null===p?-1:p.injectorIndex}return io(f,!0),f}function hc(e,n,o,a){if(0===o)return-1;const u=n.length;for(let f=0;f<o;f++)n.push(a),e.blueprint.push(a),e.data.push(null);return u}function Am(e,n,o,a,u){const f=tf(n,To),p=y(),v=2&a;try{if(D(-1),v&&n.length>qt&&bm(e,n,qt,!1),ro(v?2:0,u),v)f.runInContext(o,a,u);else{const T=Bn(null);try{o(a,u)}finally{Bn(T)}}}finally{v&&null===n[To]&&Cm(n,To),D(p),ro(v?3:1,u)}}function bp(e,n,o){if(to(n)){const a=Bn(null);try{const f=n.directiveEnd;for(let p=n.directiveStart;p<f;p++){const v=e.data[p];v.contentQueries&&v.contentQueries(1,o[p],p)}}finally{Bn(a)}}}function wp(e,n,o){Ts()&&(function tC(e,n,o,a){const u=o.directiveStart,f=o.directiveEnd;no(o)&&function lC(e,n,o){const a=O(n,e),u=Om(o);let p=16;o.signals?p=4096:o.onPush&&(p=64);const v=rf(e,nf(e,u,null,p,a,n,null,e[gr].rendererFactory.createRenderer(a,o),null,null,null));e[n.index]=v}(n,o,e.data[u+o.componentOffset]),e.firstCreatePass||Fs(o,n),Sr(a,n);const p=o.initialInputs;for(let v=u;v<f;v++){const C=e.data[v],T=ai(n,e,v,o);Sr(T,n),null!==p&&uC(0,v-u,T,C,0,p),yn(C)&&(me(o.index,n)[Sn]=ai(n,e,v,o))}}(e,n,o,O(o,n)),64==(64&o.flags)&&Fm(e,n,o))}function Mp(e,n,o=O){const a=n.localNames;if(null!==a){let u=n.index+1;for(let f=0;f<a.length;f+=2){const p=a[f+1],v=-1===p?o(n,e):e[p];e[u++]=v}}}function Om(e){const n=e.tView;return null===n||n.incompleteFirstPass?e.tView=Sp(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function Sp(e,n,o,a,u,f,p,v,C,T,F){const j=qt+a,ne=j+u,pe=function jD(e,n){const o=[];for(let a=0;a<n;a++)o.push(a<e?null:Jt);return o}(j,ne),ke="function"==typeof T?T():T;return pe[nt]={type:e,blueprint:pe,template:o,queries:null,viewQuery:v,declTNode:n,data:pe.slice().fill(null,j),bindingStartIndex:j,expandoStartIndex:ne,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof p?p():p,firstChild:null,schemas:C,consts:ke,incompleteFirstPass:!1,ssrId:F}}let Nm=e=>null;function Pm(e,n,o,a){for(let u in e)if(e.hasOwnProperty(u)){o=null===o?{}:o;const f=e[u];null===a?Rm(o,n,u,f):a.hasOwnProperty(u)&&Rm(o,n,a[u],f)}return o}function Rm(e,n,o,a){e.hasOwnProperty(o)?e[o].push(n,a):e[o]=[n,a]}function Xo(e,n,o,a,u,f,p,v){const C=O(n,o);let F,T=n.inputs;!v&&null!=T&&(F=T[a])?(Op(e,o,F,a,u),no(n)&&function qD(e,n){const o=me(n,e);16&o[Nt]||(o[Nt]|=64)}(o,n.index)):3&n.type&&(a=function JD(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(a),u=null!=p?p(u,n.value||"",a):u,f.setProperty(C,a,u))}function xp(e,n,o,a){if(Ts()){const u=null===a?null:{"":-1},f=function rC(e,n){const o=e.directiveRegistry;let a=null,u=null;if(o)for(let f=0;f<o.length;f++){const p=o[f];if(Zn(n,p.selectors,!1))if(a||(a=[]),yn(p))if(null!==p.findHostDirectiveDefs){const v=[];u=u||new Map,p.findHostDirectiveDefs(p,v,u),a.unshift(...v,p),Ip(e,n,v.length)}else a.unshift(p),Ip(e,n,0);else u=u||new Map,p.findHostDirectiveDefs?.(p,a,u),a.push(p)}return null===a?null:[a,u]}(e,o);let p,v;null===f?p=v=null:[p,v]=f,null!==p&&km(e,n,o,p,u,v),u&&function oC(e,n,o){if(n){const a=e.localNames=[];for(let u=0;u<n.length;u+=2){const f=o[n[u+1]];if(null==f)throw new ge(-301,!1);a.push(n[u],f)}}}(o,a,u)}o.mergedAttrs=Yt(o.mergedAttrs,o.attrs)}function km(e,n,o,a,u,f){for(let T=0;T<a.length;T++)tr(Fs(o,n),e,a[T].type);!function sC(e,n,o){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+o,e.providerIndexes=n}(o,e.data.length,a.length);for(let T=0;T<a.length;T++){const F=a[T];F.providersResolver&&F.providersResolver(F)}let p=!1,v=!1,C=hc(e,n,a.length,null);for(let T=0;T<a.length;T++){const F=a[T];o.mergedAttrs=Yt(o.mergedAttrs,F.hostAttrs),aC(e,o,n,C,F),iC(C,F,u),null!==F.contentQueries&&(o.flags|=4),(null!==F.hostBindings||null!==F.hostAttrs||0!==F.hostVars)&&(o.flags|=64);const j=F.type.prototype;!p&&(j.ngOnChanges||j.ngOnInit||j.ngDoCheck)&&((e.preOrderHooks??=[]).push(o.index),p=!0),!v&&(j.ngOnChanges||j.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(o.index),v=!0),C++}!function YD(e,n,o){const u=n.directiveEnd,f=e.data,p=n.attrs,v=[];let C=null,T=null;for(let F=n.directiveStart;F<u;F++){const j=f[F],ne=o?o.get(j):null,ke=ne?ne.outputs:null;C=Pm(j.inputs,F,C,ne?ne.inputs:null),T=Pm(j.outputs,F,T,ke);const Ye=null===C||null===p||Nr(n)?null:cC(C,F,p);v.push(Ye)}null!==C&&(C.hasOwnProperty("class")&&(n.flags|=8),C.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=v,n.inputs=C,n.outputs=T}(e,o,f)}function Fm(e,n,o){const a=o.directiveStart,u=o.directiveEnd,f=o.index,p=function du(){return Ct.lFrame.currentDirectiveIndex}();try{D(f);for(let v=a;v<u;v++){const C=e.data[v],T=n[v];Os(v),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&nC(C,T)}}finally{D(-1),Os(p)}}function nC(e,n){null!==e.hostBindings&&e.hostBindings(1,n)}function Ip(e,n,o){n.componentOffset=o,(e.components??=[]).push(n.index)}function iC(e,n,o){if(o){if(n.exportAs)for(let a=0;a<n.exportAs.length;a++)o[n.exportAs[a]]=e;yn(n)&&(o[""]=e)}}function aC(e,n,o,a,u){e.data[a]=u;const f=u.factory||(u.factory=Yn(u.type)),p=new wa(f,yn(u),zl);e.blueprint[a]=p,o[a]=p,function XD(e,n,o,a,u){const f=u.hostBindings;if(f){let p=e.hostBindingOpCodes;null===p&&(p=e.hostBindingOpCodes=[]);const v=~n.index;(function eC(e){let n=e.length;for(;n>0;){const o=e[--n];if("number"==typeof o&&o<0)return o}return 0})(p)!=v&&p.push(v),p.push(o,a,f)}}(e,n,a,hc(e,o,u.hostVars,Jt),u)}function Gi(e,n,o,a,u,f){const p=O(e,n);!function Tp(e,n,o,a,u,f,p){if(null==f)e.removeAttribute(n,u,o);else{const v=null==p?Se(f):p(f,a||"",u);e.setAttribute(n,u,v,o)}}(n[lt],p,f,e.value,o,a,u)}function uC(e,n,o,a,u,f){const p=f[n];if(null!==p)for(let v=0;v<p.length;)Lm(a,o,p[v++],p[v++],p[v++])}function Lm(e,n,o,a,u){const f=Bn(null);try{const p=e.inputTransforms;null!==p&&p.hasOwnProperty(a)&&(u=p[a].call(n,u)),null!==e.setInput?e.setInput(n,u,o,a):n[a]=u}finally{Bn(f)}}function cC(e,n,o){let a=null,u=0;for(;u<o.length;){const f=o[u];if(0!==f)if(5!==f){if("number"==typeof f)break;if(e.hasOwnProperty(f)){null===a&&(a=[]);const p=e[f];for(let v=0;v<p.length;v+=2)if(p[v]===n){a.push(f,p[v+1],o[u+1]);break}}u+=2}else u+=2;else u+=4}return a}function Vm(e,n,o,a){return[e,!0,!1,n,null,0,a,o,null,null,null]}function Bm(e,n){const o=e.contentQueries;if(null!==o)for(let a=0;a<o.length;a+=2){const f=o[a+1];if(-1!==f){const p=e.data[f];Ca(o[a]),p.contentQueries(2,n[f],f)}}}function rf(e,n){return e[dr]?e[It][Ln]=n:e[dr]=n,e[It]=n,n}function Ap(e,n,o){Ca(0);const a=Bn(null);try{n(e,o)}finally{Bn(a)}}function Hm(e){return e[Ht]||(e[Ht]=[])}function Um(e){return e.cleanup||(e.cleanup=[])}function zm(e,n){const o=e[pr],a=o?o.get(i,null):null;a&&a.handleError(n)}function Op(e,n,o,a,u){for(let f=0;f<o.length;){const p=o[f++],v=o[f++];Lm(e.data[p],n[p],a,v,u)}}function Ds(e,n,o){const a=E(n,e);!function Ei(e,n,o){e.setValue(n,o)}(e[lt],a,o)}function dC(e,n){const o=me(n,e),a=o[nt];!function fC(e,n){for(let o=n.length;o<e.blueprint.length;o++)n.push(e.blueprint[o])}(a,o);const u=o[kn];null!==u&&null===o[mr]&&(o[mr]=pp(u,o[pr])),Np(a,o,o[Sn])}function Np(e,n,o){as(n);try{const a=e.viewQuery;null!==a&&Ap(1,a,o);const u=e.template;null!==u&&Am(e,n,u,1,o),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Bm(e,n),e.staticViewQueries&&Ap(2,e.viewQuery,o);const f=e.components;null!==f&&function hC(e,n){for(let o=0;o<n.length;o++)dC(e,n[o])}(n,f)}catch(a){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),a}finally{n[Nt]&=-5,ba()}}let $m=(()=>{class e{constructor(){this.all=new Set,this.queue=new Map}create(o,a,u){const f=typeof Zone>"u"?null:Zone.current,p=new Xa(o,T=>{this.all.has(T)&&this.queue.set(T,f)},u);let v;this.all.add(p),p.notify();const C=()=>{p.cleanup(),v?.(),this.all.delete(p),this.queue.delete(p)};return v=a?.onDestroy(C),{destroy:C}}flush(){if(0!==this.queue.size)for(const[o,a]of this.queue)this.queue.delete(o),a?a.run(()=>o.run()):o.run()}get isQueueEmpty(){return 0===this.queue.size}}return e.\u0275prov=pt({token:e,providedIn:"root",factory:()=>new e}),e})();function sf(e,n,o){let a=o?e.styles:null,u=o?e.classes:null,f=0;if(null!==n)for(let p=0;p<n.length;p++){const v=n[p];"number"==typeof v?f=v:1==f?u=Fe(u,v):2==f&&(a=Fe(a,v+": "+n[++p]+";"))}o?e.styles=a:e.stylesWithoutHost=a,o?e.classes=u:e.classesWithoutHost=u}function pc(e,n,o,a,u=!1){for(;null!==o;){const f=n[o.index];if(null!==f&&a.push(vn(f)),mn(f)){for(let v=rn;v<f.length;v++){const C=f[v],T=C[nt].firstChild;null!==T&&pc(C[nt],C,T,a)}f[Vn]!==f[kn]&&a.push(f[Vn])}const p=o.type;if(8&p)pc(e,n,o.child,a);else if(32&p){const v=bl(o,n);let C;for(;C=v();)a.push(C)}else if(16&p){const v=Ra(n,o);if(Array.isArray(v))a.push(...v);else{const C=Ws(n[Gt]);pc(C[nt],C,v,a,!0)}}o=u?o.projectionNext:o.next}return a}function af(e,n,o,a=!0){const u=n[gr].rendererFactory;u.begin&&u.begin();try{Gm(e,n,e.template,o)}catch(p){throw a&&zm(n,p),p}finally{u.end&&u.end(),n[gr].effectManager?.flush()}}function Gm(e,n,o,a){const u=n[Nt];if(256!=(256&u)){n[gr].effectManager?.flush(),as(n);try{sn(n),function ol(e){return Ct.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==o&&Am(e,n,o,2,a);const p=3==(3&u);if(p){const T=e.preOrderCheckHooks;null!==T&&Bi(n,T,null)}else{const T=e.preOrderHooks;null!==T&&Vo(n,T,0,null),so(n,0)}if(function vC(e){for(let n=gd(e);null!==n;n=md(n)){if(!n[hi])continue;const o=n[po];for(let a=0;a<o.length;a++){Tt(o[a])}}}(n),Wm(n,2),null!==e.contentQueries&&Bm(e,n),p){const T=e.contentCheckHooks;null!==T&&Bi(n,T)}else{const T=e.contentHooks;null!==T&&Vo(n,T,1),so(n,1)}!function UD(e,n){const o=e.hostBindingOpCodes;if(null===o)return;const a=tf(n,Wr);try{for(let u=0;u<o.length;u++){const f=o[u];if(f<0)D(~f);else{const p=f,v=o[++u],C=o[++u];cu(v,p),a.runInContext(C,2,n[p])}}}finally{null===n[Wr]&&Cm(n,Wr),D(-1)}}(e,n);const v=e.components;null!==v&&Zm(n,v,0);const C=e.viewQuery;if(null!==C&&Ap(2,C,a),p){const T=e.viewCheckHooks;null!==T&&Bi(n,T)}else{const T=e.viewHooks;null!==T&&Vo(n,T,2),so(n,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),n[Nt]&=-73,Nn(n)}finally{ba()}}}function Wm(e,n){for(let o=gd(e);null!==o;o=md(o))for(let a=rn;a<o.length;a++)Km(o[a],n)}function _C(e,n,o){Km(me(n,e),o)}function Km(e,n){if(!function gt(e){return 128==(128&e[Nt])}(e))return;const o=e[nt];if(80&e[Nt]&&0===n||1024&e[Nt]||2===n)Gm(o,e,o.template,e[Sn]);else if(e[zr]>0){Wm(e,1);const u=e[nt].components;null!==u&&Zm(e,u,1)}}function Zm(e,n,o){for(let a=0;a<n.length;a++)_C(e,n[a],o)}class gc{get rootNodes(){const n=this._lView,o=n[nt];return pc(o,n,o.firstChild,[])}constructor(n,o){this._lView=n,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Sn]}set context(n){this._lView[Sn]=n}get destroyed(){return 256==(256&this._lView[Nt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[un];if(mn(n)){const o=n[8],a=o?o.indexOf(this):-1;a>-1&&(Oa(n,a),gl(o,a))}this._attachedToViewContainer=!1}Na(this._lView[nt],this._lView)}onDestroy(n){!function Jn(e,n){if(256==(256&e[Nt]))throw new ge(911,!1);null===e[Gr]&&(e[Gr]=[]),e[Gr].push(n)}(this._lView,n)}markForCheck(){za(this._cdRefInjectingView||this._lView)}detach(){this._lView[Nt]&=-129}reattach(){this._lView[Nt]|=128}detectChanges(){af(this._lView[nt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ge(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function ku(e,n){qs(e,n,n[lt],2,null,null)}(this._lView[nt],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new ge(902,!1);this._appRef=n}}class DC extends gc{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;af(n[nt],n,n[Sn],!1)}checkNoChanges(){}get context(){return null}}class Ym extends Hl{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const o=Lt(n);return new mc(o,this.ngModule)}}function Jm(e){const n=[];for(let o in e)e.hasOwnProperty(o)&&n.push({propName:e[o],templateName:o});return n}class EC{constructor(n,o){this.injector=n,this.parentInjector=o}get(n,o,a){a=Or(a);const u=this.injector.get(n,Ul,a);return u!==Ul||o===Ul?u:this.parentInjector.get(n,o,a)}}class mc extends qd{get inputs(){const n=this.componentDef,o=n.inputTransforms,a=Jm(n.inputs);if(null!==o)for(const u of a)o.hasOwnProperty(u.propName)&&(u.transform=o[u.propName]);return a}get outputs(){return Jm(this.componentDef.outputs)}constructor(n,o){super(),this.componentDef=n,this.ngModule=o,this.componentType=n.type,this.selector=function Ji(e){return e.map(Mo).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!o}create(n,o,a,u){let f=(u=u||this.ngModule)instanceof qo?u:u?.injector;f&&null!==this.componentDef.getStandaloneInjector&&(f=this.componentDef.getStandaloneInjector(f)||f);const p=f?new EC(n,f):n,v=p.get(Qd,null);if(null===v)throw new ge(407,!1);const F={rendererFactory:v,sanitizer:p.get(Cp,null),effectManager:p.get($m,null)},j=v.createRenderer(null,this.componentDef),ne=this.componentDef.selectors[0][0]||"div",pe=a?function zD(e,n,o,a){const f=a.get(h,!1)||o===Ft.ShadowDom,p=e.selectRootElement(n,f);return function $D(e){Nm(e)}(p),p}(j,a,this.componentDef.encapsulation,p):Ml(j,ne,function CC(e){const n=e.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(ne)),ut=this.componentDef.signals?4608:this.componentDef.onPush?576:528,wt=Sp(0,null,null,1,0,null,null,null,null,null,null),Ve=nf(null,wt,null,ut,null,null,F,j,p,null,null);let Wt,dn;as(Ve);try{const gn=this.componentDef;let co,Rf=null;gn.findHostDirectiveDefs?(co=[],Rf=new Map,gn.findHostDirectiveDefs(gn,co,Rf),co.push(gn)):co=[gn];const gM=function wC(e,n){const o=e[nt],a=qt;return e[a]=n,$l(o,a,2,"#host",null)}(Ve,pe),mM=function MC(e,n,o,a,u,f,p){const v=u[nt];!function SC(e,n,o,a){for(const u of e)n.mergedAttrs=Yt(n.mergedAttrs,u.hostAttrs);null!==n.mergedAttrs&&(sf(n,n.mergedAttrs,!0),null!==o&&wd(a,o,n))}(a,e,n,p);let C=null;null!==n&&(C=pp(n,u[pr]));const T=f.rendererFactory.createRenderer(n,o);let F=16;o.signals?F=4096:o.onPush&&(F=64);const j=nf(u,Om(o),null,F,u[e.index],e,f,T,null,null,C);return v.firstCreatePass&&Ip(v,e,a.length-1),rf(u,j),u[e.index]=j}(gM,pe,gn,co,Ve,F,j);dn=k(wt,qt),pe&&function IC(e,n,o,a){if(a)Je(e,o,["ng-version",ef.full]);else{const{attrs:u,classes:f}=function eo(e){const n=[],o=[];let a=1,u=2;for(;a<e.length;){let f=e[a];if("string"==typeof f)2===u?""!==f&&n.push(f,e[++a]):8===u&&o.push(f);else{if(!Bt(u))break;u=f}a++}return{attrs:n,classes:o}}(n.selectors[0]);u&&Je(e,o,u),f&&f.length>0&&bd(e,o,f.join(" "))}}(j,gn,pe,a),void 0!==o&&function TC(e,n,o){const a=e.projection=[];for(let u=0;u<n.length;u++){const f=o[u];a.push(null!=f?Array.from(f):null)}}(dn,this.ngContentSelectors,o),Wt=function xC(e,n,o,a,u,f){const p=Dr(),v=u[nt],C=O(p,u);km(v,u,p,o,null,a);for(let F=0;F<o.length;F++)Sr(ai(u,v,p.directiveStart+F,p),u);Fm(v,u,p),C&&Sr(C,u);const T=ai(u,v,p.directiveStart+p.componentOffset,p);if(e[Sn]=u[Sn]=T,null!==f)for(const F of f)F(T,n);return bp(v,p,e),T}(mM,gn,co,Rf,Ve,[AC]),Np(wt,Ve,null)}finally{ba()}return new bC(this.componentType,Wt,ia(dn,Ve),Ve,dn)}}class bC extends Jd{constructor(n,o,a,u,f){super(),this.location=a,this._rootLView=u,this._tNode=f,this.previousInputValues=null,this.instance=o,this.hostView=this.changeDetectorRef=new DC(u),this.componentType=n}setInput(n,o){const a=this._tNode.inputs;let u;if(null!==a&&(u=a[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),o))return;const f=this._rootLView;Op(f[nt],f,u,n,o),this.previousInputValues.set(n,o),za(me(this._tNode.index,f))}}get injector(){return new Ui(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function AC(){const e=Dr();or(Ue()[nt],e)}function Pp(e){let n=function qm(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),o=!0;const a=[e];for(;n;){let u;if(yn(e))u=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new ge(903,!1);u=n.\u0275dir}if(u){if(o){a.push(u);const p=e;p.inputs=lf(e.inputs),p.inputTransforms=lf(e.inputTransforms),p.declaredInputs=lf(e.declaredInputs),p.outputs=lf(e.outputs);const v=u.hostBindings;v&&RC(e,v);const C=u.viewQuery,T=u.contentQueries;if(C&&NC(e,C),T&&PC(e,T),fe(e.inputs,u.inputs),fe(e.declaredInputs,u.declaredInputs),fe(e.outputs,u.outputs),null!==u.inputTransforms&&(null===p.inputTransforms&&(p.inputTransforms={}),fe(p.inputTransforms,u.inputTransforms)),yn(u)&&u.data.animation){const F=e.data;F.animation=(F.animation||[]).concat(u.data.animation)}}const f=u.features;if(f)for(let p=0;p<f.length;p++){const v=f[p];v&&v.ngInherit&&v(e),v===Pp&&(o=!1)}}n=Object.getPrototypeOf(n)}!function OC(e){let n=0,o=null;for(let a=e.length-1;a>=0;a--){const u=e[a];u.hostVars=n+=u.hostVars,u.hostAttrs=Yt(u.hostAttrs,o=Yt(o,u.hostAttrs))}}(a)}function lf(e){return e===Mt?{}:e===Dt?[]:e}function NC(e,n){const o=e.viewQuery;e.viewQuery=o?(a,u)=>{n(a,u),o(a,u)}:n}function PC(e,n){const o=e.contentQueries;e.contentQueries=o?(a,u,f)=>{n(a,u,f),o(a,u,f)}:n}function RC(e,n){const o=e.hostBindings;e.hostBindings=o?(a,u)=>{n(a,u),o(a,u)}:n}function ty(e){const n=e.inputConfig,o={};for(const a in n)if(n.hasOwnProperty(a)){const u=n[a];Array.isArray(u)&&u[2]&&(o[a]=u[2])}e.inputTransforms=o}function uf(e){return!!Rp(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function Rp(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Wi(e,n,o){return e[n]=o}function uo(e,n,o){return!Object.is(e[n],o)&&(e[n]=o,!0)}function Ga(e,n,o,a){const u=uo(e,n,o);return uo(e,n+1,a)||u}function kp(e,n,o,a){const u=Ue();return uo(u,Vi(),n)&&(jt(),Gi(m(),u,e,n,o,a)),kp}function Wl(e,n,o,a){return uo(e,Vi(),o)?n+Se(o)+a:Jt}function Zl(e,n,o,a,u,f,p,v){const T=function cf(e,n,o,a,u){const f=Ga(e,n,o,a);return uo(e,n+2,u)||f}(e,Fo(),o,u,p);return Lo(3),T?n+Se(o)+a+Se(u)+f+Se(p)+v:Jt}function py(e,n,o,a,u,f,p,v){const C=Ue(),T=jt(),F=e+qt,j=T.firstCreatePass?function s0(e,n,o,a,u,f,p,v,C){const T=n.consts,F=$l(n,e,4,p||null,Qt(T,v));xp(n,o,F,Qt(T,C)),or(n,F);const j=F.tView=Sp(2,F,a,u,f,n.directiveRegistry,n.pipeRegistry,null,n.schemas,T,null);return null!==n.queries&&(n.queries.template(n,F),j.queries=n.queries.embeddedTView(F)),F}(F,T,C,n,o,a,u,f,p):T.data[F];io(j,!1);const ne=gy(T,C,j,e);mt()&&Ys(T,C,ne,j),Sr(ne,C),rf(C,C[F]=Vm(ne,C,ne,j)),Go(j)&&wp(T,C,j),null!=p&&Mp(C,j,v)}let gy=function my(e,n,o,a){return yt(!0),n[lt].createComment("")};function yy(e){return W(function ss(){return Ct.lFrame.contextLView}(),qt+e)}function Up(e,n,o){const a=Ue();return uo(a,Vi(),n)&&Xo(jt(),m(),a,e,n,a[lt],o,!1),Up}function jp(e,n,o,a,u){const p=u?"class":"style";Op(e,o,n.inputs[p],p,a)}function pf(e,n,o,a){const u=Ue(),f=jt(),p=qt+e,v=u[lt],C=f.firstCreatePass?function c0(e,n,o,a,u,f){const p=n.consts,C=$l(n,e,2,a,Qt(p,u));return xp(n,o,C,Qt(p,f)),null!==C.attrs&&sf(C,C.attrs,!1),null!==C.mergedAttrs&&sf(C,C.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,C),C}(p,f,u,n,o,a):f.data[p],T=vy(f,u,C,v,n,e);u[p]=T;const F=Go(C);return io(C,!0),wd(v,T,C),32!=(32&C.flags)&&mt()&&Ys(f,u,T,C),0===function Br(){return Ct.lFrame.elementDepthCount}()&&Sr(T,u),function ko(){Ct.lFrame.elementDepthCount++}(),F&&(wp(f,u,C),bp(f,C,u)),null!==a&&Mp(u,C),pf}function gf(){let e=Dr();si()?yi():(e=e.parent,io(e,!1));const n=e;(function el(e){return Ct.skipHydrationRootTNode===e})(n)&&function lu(){Ct.skipHydrationRootTNode=null}(),function _r(){Ct.lFrame.elementDepthCount--}();const o=jt();return o.firstCreatePass&&(or(o,e),to(e)&&o.queries.elementEnd(e)),null!=n.classesWithoutHost&&function Rc(e){return 0!=(8&e.flags)}(n)&&jp(o,n,Ue(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function Vf(e){return 0!=(16&e.flags)}(n)&&jp(o,n,Ue(),n.stylesWithoutHost,!1),gf}function zp(e,n,o,a){return pf(e,n,o,a),gf(),zp}let vy=(e,n,o,a,u,f)=>(yt(!0),Ml(a,u,function de(){return Ct.lFrame.currentNamespace}()));function mf(e,n,o){const a=Ue(),u=jt(),f=e+qt,p=u.firstCreatePass?function h0(e,n,o,a,u){const f=n.consts,p=Qt(f,a),v=$l(n,e,8,"ng-container",p);return null!==p&&sf(v,p,!0),xp(n,o,v,Qt(f,u)),null!==n.queries&&n.queries.elementStart(n,v),v}(f,u,a,n,o):u.data[f];io(p,!0);const v=_y(u,a,p,e);return a[f]=v,mt()&&Ys(u,a,v,p),Sr(v,a),Go(p)&&(wp(u,a,p),bp(u,p,a)),null!=o&&Mp(a,p),mf}function yf(){let e=Dr();const n=jt();return si()?yi():(e=e.parent,io(e,!1)),n.firstCreatePass&&(or(n,e),to(e)&&n.queries.elementEnd(e)),yf}function $p(e,n,o){return mf(e,n,o),yf(),$p}let _y=(e,n,o,a)=>(yt(!0),Zs(n[lt],""));function Dy(){return Ue()}function Gp(e){return!!e&&"function"==typeof e.then}function Cy(e){return!!e&&"function"==typeof e.subscribe}function Wp(e,n,o,a){const u=Ue(),f=jt(),p=Dr();return function by(e,n,o,a,u,f,p){const v=Go(a),T=e.firstCreatePass&&Um(e),F=n[Sn],j=Hm(n);let ne=!0;if(3&a.type||p){const Ye=O(a,n),ut=p?p(Ye):Ye,wt=j.length,Ve=p?dn=>p(vn(dn[a.index])):a.index;let Wt=null;if(!p&&v&&(Wt=function m0(e,n,o,a){const u=e.cleanup;if(null!=u)for(let f=0;f<u.length-1;f+=2){const p=u[f];if(p===o&&u[f+1]===a){const v=n[Ht],C=u[f+2];return v.length>C?v[C]:null}"string"==typeof p&&(f+=2)}return null}(e,n,u,a.index)),null!==Wt)(Wt.__ngLastListenerFn__||Wt).__ngNextListenerFn__=f,Wt.__ngLastListenerFn__=f,ne=!1;else{f=My(a,n,F,f,!1);const dn=o.listen(ut,u,f);j.push(f,dn),T&&T.push(u,Ve,wt,wt+1)}}else f=My(a,n,F,f,!1);const pe=a.outputs;let ke;if(ne&&null!==pe&&(ke=pe[u])){const Ye=ke.length;if(Ye)for(let ut=0;ut<Ye;ut+=2){const gn=n[ke[ut]][ke[ut+1]].subscribe(f),co=j.length;j.push(f,gn),T&&T.push(u,a.index,co,-(co+1))}}}(f,u,u[lt],p,e,n,a),Wp}function wy(e,n,o,a){try{return ro(6,n,o),!1!==o(a)}catch(u){return zm(e,u),!1}finally{ro(7,n,o)}}function My(e,n,o,a,u){return function f(p){if(p===Function)return a;za(e.componentOffset>-1?me(e.index,n):n);let C=wy(n,o,a,p),T=f.__ngNextListenerFn__;for(;T;)C=wy(n,o,T,p)&&C,T=T.__ngNextListenerFn__;return u&&!1===C&&p.preventDefault(),C}}function Sy(e=1){return function Oc(e){return(Ct.lFrame.contextLView=function Nc(e,n){for(;e>0;)n=n[wr],e--;return n}(e,Ct.lFrame.contextLView))[Sn]}(e)}function y0(e,n){let o=null;const a=function Rn(e){const n=e.attrs;if(null!=n){const o=n.indexOf(5);if(!(1&o))return n[o+1]}return null}(e);for(let u=0;u<n.length;u++){const f=n[u];if("*"!==f){if(null===a?Zn(e,f,!0):Xr(a,f))return u}else o=u}return o}function xy(e){const n=Ue()[Gt][Fn];if(!n.projection){const a=n.projection=Ia(e?e.length:1,null),u=a.slice();let f=n.child;for(;null!==f;){const p=e?y0(f,e):0;null!==p&&(u[p]?u[p].projectionNext=f:a[p]=f,u[p]=f),f=f.next}}}function Iy(e,n=0,o){const a=Ue(),u=jt(),f=$l(u,qt+e,16,null,o||null);null===f.projection&&(f.projection=n),yi(),(!a[mr]||Li())&&32!=(32&f.flags)&&function Uu(e,n,o){Th(n[lt],0,n,o,xl(e,o,n),Dd(o.parent||n[Fn],o,n))}(u,a,f)}function Kp(e,n,o){return vf(e,"",n,"",o),Kp}function vf(e,n,o,a,u){const f=Ue(),p=Wl(f,n,o,a);return p!==Jt&&Xo(jt(),m(),f,e,p,f[lt],u,!1),vf}function _f(e,n){return e<<17|n<<2}function la(e){return e>>17&32767}function Zp(e){return 2|e}function Wa(e){return(131068&e)>>2}function Yp(e,n){return-131069&e|n<<2}function Jp(e){return 1|e}function Ly(e,n,o,a,u){const f=e[o+1],p=null===n;let v=a?la(f):Wa(f),C=!1;for(;0!==v&&(!1===C||p);){const F=e[v+1];b0(e[v],n)&&(C=!0,e[v+1]=a?Jp(F):Zp(F)),v=a?la(F):Wa(F)}C&&(e[o+1]=a?Zp(f):Jp(f))}function b0(e,n){return null===e||null==n||(Array.isArray(e)?e[1]:e)===n||!(!Array.isArray(e)||"string"!=typeof n)&&js(e,n)>=0}const Tr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Vy(e){return e.substring(Tr.key,Tr.keyEnd)}function By(e,n){const o=Tr.textEnd;return o===n?-1:(n=Tr.keyEnd=function x0(e,n,o){for(;n<o&&e.charCodeAt(n)>32;)n++;return n}(e,Tr.key=n,o),eu(e,n,o))}function eu(e,n,o){for(;n<o&&e.charCodeAt(n)<=32;)n++;return n}function qp(e,n,o){return Ii(e,n,o,!1),qp}function Qp(e,n){return Ii(e,n,null,!0),Qp}function $y(e){!function Ti(e,n,o,a){const u=jt(),f=Lo(2);u.firstUpdatePass&&Wy(u,null,f,a);const p=Ue();if(o!==Jt&&uo(p,f,o)){const v=u.data[y()];if(Jy(v,a)&&!Gy(u,f)){let C=a?v.classesWithoutHost:v.stylesWithoutHost;null!==C&&(o=Fe(C,o||"")),jp(u,v,p,o,a)}else!function L0(e,n,o,a,u,f,p,v){u===Jt&&(u=Dt);let C=0,T=0,F=0<u.length?u[0]:null,j=0<f.length?f[0]:null;for(;null!==F||null!==j;){const ne=C<u.length?u[C+1]:void 0,pe=T<f.length?f[T+1]:void 0;let Ye,ke=null;F===j?(C+=2,T+=2,ne!==pe&&(ke=j,Ye=pe)):null===j||null!==F&&F<j?(C+=2,ke=F):(T+=2,ke=j,Ye=pe),null!==ke&&Zy(e,n,o,a,ke,Ye,p,v),F=C<u.length?u[C]:null,j=T<f.length?f[T]:null}}(u,v,p,p[lt],p[f+1],p[f+1]=function k0(e,n,o){if(null==o||""===o)return Dt;const a=[],u=wi(o);if(Array.isArray(u))for(let f=0;f<u.length;f++)e(a,u[f],!0);else if("object"==typeof u)for(const f in u)u.hasOwnProperty(f)&&e(a,f,u[f]);else"string"==typeof u&&n(a,u);return a}(e,n,o),a,f)}}(F0,Zi,e,!0)}function Zi(e,n){for(let o=function M0(e){return function Uy(e){Tr.key=0,Tr.keyEnd=0,Tr.value=0,Tr.valueEnd=0,Tr.textEnd=e.length}(e),By(e,eu(e,0,Tr.textEnd))}(n);o>=0;o=By(n,o))Ho(e,Vy(n),!0)}function Ii(e,n,o,a){const u=Ue(),f=jt(),p=Lo(2);f.firstUpdatePass&&Wy(f,e,p,a),n!==Jt&&uo(u,p,n)&&Zy(f,f.data[y()],u,u[lt],e,u[p+1]=function V0(e,n){return null==e||""===e||("string"==typeof n?e+=n:"object"==typeof e&&(e=ue(wi(e)))),e}(n,o),a,p)}function Gy(e,n){return n>=e.expandoStartIndex}function Wy(e,n,o,a){const u=e.data;if(null===u[o+1]){const f=u[y()],p=Gy(e,o);Jy(f,a)&&null===n&&!p&&(n=!1),n=function O0(e,n,o,a){const u=function Ns(e){const n=Ct.lFrame.currentDirectiveIndex;return-1===n?null:e[n]}(e);let f=a?n.residualClasses:n.residualStyles;if(null===u)0===(a?n.classBindings:n.styleBindings)&&(o=Cc(o=Xp(null,e,n,o,a),n.attrs,a),f=null);else{const p=n.directiveStylingLast;if(-1===p||e[p]!==u)if(o=Xp(u,e,n,o,a),null===f){let C=function N0(e,n,o){const a=o?n.classBindings:n.styleBindings;if(0!==Wa(a))return e[la(a)]}(e,n,a);void 0!==C&&Array.isArray(C)&&(C=Xp(null,e,n,C[1],a),C=Cc(C,n.attrs,a),function P0(e,n,o,a){e[la(o?n.classBindings:n.styleBindings)]=a}(e,n,a,C))}else f=function R0(e,n,o){let a;const u=n.directiveEnd;for(let f=1+n.directiveStylingLast;f<u;f++)a=Cc(a,e[f].hostAttrs,o);return Cc(a,n.attrs,o)}(e,n,a)}return void 0!==f&&(a?n.residualClasses=f:n.residualStyles=f),o}(u,f,n,a),function C0(e,n,o,a,u,f){let p=f?n.classBindings:n.styleBindings,v=la(p),C=Wa(p);e[a]=o;let F,T=!1;if(Array.isArray(o)?(F=o[1],(null===F||js(o,F)>0)&&(T=!0)):F=o,u)if(0!==C){const ne=la(e[v+1]);e[a+1]=_f(ne,v),0!==ne&&(e[ne+1]=Yp(e[ne+1],a)),e[v+1]=function _0(e,n){return 131071&e|n<<17}(e[v+1],a)}else e[a+1]=_f(v,0),0!==v&&(e[v+1]=Yp(e[v+1],a)),v=a;else e[a+1]=_f(C,0),0===v?v=a:e[C+1]=Yp(e[C+1],a),C=a;T&&(e[a+1]=Zp(e[a+1])),Ly(e,F,a,!0),Ly(e,F,a,!1),function E0(e,n,o,a,u){const f=u?e.residualClasses:e.residualStyles;null!=f&&"string"==typeof n&&js(f,n)>=0&&(o[a+1]=Jp(o[a+1]))}(n,F,e,a,f),p=_f(v,C),f?n.classBindings=p:n.styleBindings=p}(u,f,n,o,p,a)}}function Xp(e,n,o,a,u){let f=null;const p=o.directiveEnd;let v=o.directiveStylingLast;for(-1===v?v=o.directiveStart:v++;v<p&&(f=n[v],a=Cc(a,f.hostAttrs,u),f!==e);)v++;return null!==e&&(o.directiveStylingLast=v),a}function Cc(e,n,o){const a=o?1:2;let u=-1;if(null!==n)for(let f=0;f<n.length;f++){const p=n[f];"number"==typeof p?u=p:u===a&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Ho(e,p,!!o||n[++f]))}return void 0===e?null:e}function F0(e,n,o){const a=String(n);""!==a&&!a.includes(" ")&&Ho(e,a,o)}function Zy(e,n,o,a,u,f,p,v){if(!(3&n.type))return;const C=e.data,T=C[v+1],F=function D0(e){return 1==(1&e)}(T)?Yy(C,n,o,u,Wa(T),p):void 0;Df(F)||(Df(f)||function v0(e){return 2==(2&e)}(T)&&(f=Yy(C,null,o,u,v,p)),function Ah(e,n,o,a,u){if(n)u?e.addClass(o,a):e.removeClass(o,a);else{let f=-1===a.indexOf("-")?void 0:Uo.DashCase;null==u?e.removeStyle(o,a,f):("string"==typeof u&&u.endsWith("!important")&&(u=u.slice(0,-10),f|=Uo.Important),e.setStyle(o,a,u,f))}}(a,p,E(y(),o),u,f))}function Yy(e,n,o,a,u,f){const p=null===n;let v;for(;u>0;){const C=e[u],T=Array.isArray(C),F=T?C[1]:C,j=null===F;let ne=o[u+1];ne===Jt&&(ne=j?Dt:void 0);let pe=j?_u(ne,a):F===a?ne:void 0;if(T&&!Df(pe)&&(pe=_u(C,a)),Df(pe)&&(v=pe,p))return v;const ke=e[u+1];u=p?la(ke):Wa(ke)}if(null!==n){let C=f?n.residualClasses:n.residualStyles;null!=C&&(v=_u(C,a))}return v}function Df(e){return void 0!==e}function Jy(e,n){return 0!=(e.flags&(n?8:16))}function qy(e,n=""){const o=Ue(),a=jt(),u=e+qt,f=a.firstCreatePass?$l(a,u,1,n,null):a.data[u],p=Qy(a,o,f,n,e);o[u]=p,mt()&&Ys(a,o,p,f),io(f,!1)}let Qy=(e,n,o,a,u)=>(yt(!0),function wl(e,n){return e.createText(n)}(n[lt],a));function eg(e){return Cf("",e,""),eg}function Cf(e,n,o){const a=Ue(),u=Wl(a,e,n,o);return u!==Jt&&Ds(a,y(),u),Cf}function tg(e,n,o,a,u){const f=Ue(),p=function Kl(e,n,o,a,u,f){const v=Ga(e,Fo(),o,u);return Lo(2),v?n+Se(o)+a+Se(u)+f:Jt}(f,e,n,o,a,u);return p!==Jt&&Ds(f,y(),p),tg}function ng(e,n,o,a,u,f,p){const v=Ue(),C=Zl(v,e,n,o,a,u,f,p);return C!==Jt&&Ds(v,y(),C),ng}const Ka=void 0;var sE=["en",[["a","p"],["AM","PM"],Ka],[["AM","PM"],Ka,Ka],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ka,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ka,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ka,"{1} 'at' {0}",Ka],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function iE(e){const o=Math.floor(Math.abs(e)),a=e.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===a?1:5}];let tu={};function rg(e){const n=function aE(e){return e.toLowerCase().replace(/_/g,"-")}(e);let o=yv(n);if(o)return o;const a=n.split("-")[0];if(o=yv(a),o)return o;if("en"===a)return sE;throw new ge(701,!1)}function mv(e){return rg(e)[Pt.PluralCase]}function yv(e){return e in tu||(tu[e]=Zt.ng&&Zt.ng.common&&Zt.ng.common.locales&&Zt.ng.common.locales[e]),tu[e]}var Pt=(()=>((Pt=Pt||{})[Pt.LocaleId=0]="LocaleId",Pt[Pt.DayPeriodsFormat=1]="DayPeriodsFormat",Pt[Pt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Pt[Pt.DaysFormat=3]="DaysFormat",Pt[Pt.DaysStandalone=4]="DaysStandalone",Pt[Pt.MonthsFormat=5]="MonthsFormat",Pt[Pt.MonthsStandalone=6]="MonthsStandalone",Pt[Pt.Eras=7]="Eras",Pt[Pt.FirstDayOfWeek=8]="FirstDayOfWeek",Pt[Pt.WeekendRange=9]="WeekendRange",Pt[Pt.DateFormat=10]="DateFormat",Pt[Pt.TimeFormat=11]="TimeFormat",Pt[Pt.DateTimeFormat=12]="DateTimeFormat",Pt[Pt.NumberSymbols=13]="NumberSymbols",Pt[Pt.NumberFormats=14]="NumberFormats",Pt[Pt.CurrencyCode=15]="CurrencyCode",Pt[Pt.CurrencySymbol=16]="CurrencySymbol",Pt[Pt.CurrencyName=17]="CurrencyName",Pt[Pt.Currencies=18]="Currencies",Pt[Pt.Directionality=19]="Directionality",Pt[Pt.PluralCase=20]="PluralCase",Pt[Pt.ExtraData=21]="ExtraData",Pt))();const nu="en-US";let vv=nu;function sg(e,n,o,a,u){if(e=ee(e),Array.isArray(e))for(let f=0;f<e.length;f++)sg(e[f],n,o,a,u);else{const f=jt(),p=Ue();let v=vs(e)?e:ee(e.provide),C=$d(e);const T=Dr(),F=1048575&T.providerIndexes,j=T.directiveStart,ne=T.providerIndexes>>20;if(vs(e)||!e.multi){const pe=new wa(C,u,zl),ke=lg(v,n,u?F:F+ne,j);-1===ke?(tr(Fs(T,p),f,v),ag(f,e,n.length),n.push(v),T.directiveStart++,T.directiveEnd++,u&&(T.providerIndexes+=1048576),o.push(pe),p.push(pe)):(o[ke]=pe,p[ke]=pe)}else{const pe=lg(v,n,F+ne,j),ke=lg(v,n,F,F+ne),ut=ke>=0&&o[ke];if(u&&!ut||!u&&!(pe>=0&&o[pe])){tr(Fs(T,p),f,v);const wt=function ob(e,n,o,a,u){const f=new wa(e,o,zl);return f.multi=[],f.index=n,f.componentProviders=0,zv(f,u,a&&!o),f}(u?rb:nb,o.length,u,a,C);!u&&ut&&(o[ke].providerFactory=wt),ag(f,e,n.length,0),n.push(v),T.directiveStart++,T.directiveEnd++,u&&(T.providerIndexes+=1048576),o.push(wt),p.push(wt)}else ag(f,e,pe>-1?pe:ke,zv(o[u?ke:pe],C,!u&&a));!u&&a&&ut&&o[ke].componentProviders++}}}function ag(e,n,o,a){const u=vs(n),f=function np(e){return!!e.useClass}(n);if(u||f){const C=(f?ee(n.useClass):n).prototype.ngOnDestroy;if(C){const T=e.destroyHooks||(e.destroyHooks=[]);if(!u&&n.multi){const F=T.indexOf(o);-1===F?T.push(o,[a,C]):T[F+1].push(a,C)}else T.push(o,C)}}}function zv(e,n,o){return o&&e.componentProviders++,e.multi.push(n)-1}function lg(e,n,o,a){for(let u=o;u<a;u++)if(n[u]===e)return u;return-1}function nb(e,n,o,a){return ug(this.multi,[])}function rb(e,n,o,a){const u=this.multi;let f;if(this.providerFactory){const p=this.providerFactory.componentProviders,v=ai(o,o[nt],this.providerFactory.index,a);f=v.slice(0,p),ug(u,f);for(let C=p;C<v.length;C++)f.push(v[C])}else f=[],ug(u,f);return f}function ug(e,n){for(let o=0;o<e.length;o++)n.push((0,e[o])());return n}function $v(e,n=[]){return o=>{o.providersResolver=(a,u)=>function tb(e,n,o){const a=jt();if(a.firstCreatePass){const u=yn(e);sg(o,a.data,a.blueprint,u,!0),sg(n,a.data,a.blueprint,u,!1)}}(a,u?u(e):e,n)}}class ru{}class Gv{}function ib(e,n){return new cg(e,n??null,[])}class cg extends ru{constructor(n,o,a){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ym(this);const u=Xn(n);this._bootstrapComponents=Re(u.bootstrap),this._r3Injector=Im(n,o,[{provide:ru,useValue:this},{provide:Hl,useValue:this.componentFactoryResolver},...a],ue(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class dg extends Gv{constructor(n){super(),this.moduleType=n}create(n){return new cg(this.moduleType,n,[])}}class Wv extends ru{constructor(n){super(),this.componentFactoryResolver=new Ym(this),this.instance=null;const o=new Rl([...n.providers,{provide:ru,useValue:this},{provide:Hl,useValue:this.componentFactoryResolver}],n.parent||Ha(),n.debugName,new Set(["environment"]));this.injector=o,n.runEnvironmentInitializers&&o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function Kv(e,n,o=null){return new Wv({providers:e,parent:n,debugName:o,runEnvironmentInitializers:!0}).injector}let ab=(()=>{class e{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o.id)){const a=Hd(0,o.type),u=a.length>0?Kv([a],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o.id,u)}return this.cachedInjectors.get(o.id)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return e.\u0275prov=pt({token:e,providedIn:"environment",factory:()=>new e(wn(qo))}),e})();function Zv(e){e.getStandaloneInjector=n=>n.get(ab).getOrCreateStandaloneInjector(e)}function t_(e,n,o){const a=Cr()+e,u=Ue();return u[a]===Jt?Wi(u,a,o?n.call(o):n()):function yc(e,n){return e[n]}(u,a)}function n_(e,n,o,a){return o_(Ue(),Cr(),e,n,o,a)}function r_(e,n,o,a,u){return function i_(e,n,o,a,u,f,p){const v=n+o;return Ga(e,v,u,f)?Wi(e,v+2,p?a.call(p,u,f):a(u,f)):xc(e,v+2)}(Ue(),Cr(),e,n,o,a,u)}function xc(e,n){const o=e[n];return o===Jt?void 0:o}function o_(e,n,o,a,u,f){const p=n+o;return uo(e,p,u)?Wi(e,p+1,f?a.call(f,u):a(u)):xc(e,p+1)}function u_(e,n){const o=jt();let a;const u=e+qt;o.firstCreatePass?(a=function bb(e,n){if(n)for(let o=n.length-1;o>=0;o--){const a=n[o];if(e===a.name)return a}}(n,o.pipeRegistry),o.data[u]=a,a.onDestroy&&(o.destroyHooks??=[]).push(u,a.onDestroy)):a=o.data[u];const f=a.factory||(a.factory=Yn(a.type)),p=Rt(zl);try{const v=dl(!1),C=f();return dl(v),function u0(e,n,o,a){o>=e.data.length&&(e.data[o]=null,e.blueprint[o]=null),n[o]=a}(o,Ue(),u,C),C}finally{Rt(p)}}function c_(e,n,o){const a=e+qt,u=Ue(),f=W(u,a);return function Ic(e,n){return e[nt].data[n].pure}(u,a)?o_(u,Cr(),n,f.transform,o,f):f.transform(o)}function hg(e){return n=>{setTimeout(e,void 0,n)}}const Yi=class Ib extends d.x{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,o,a){let u=n,f=o||(()=>null),p=a;if(n&&"object"==typeof n){const C=n;u=C.next?.bind(C),f=C.error?.bind(C),p=C.complete?.bind(C)}this.__isAsync&&(f=hg(f),u&&(u=hg(u)),p&&(p=hg(p)));const v=super.subscribe({next:u,error:f,complete:p});return n instanceof $.w0&&n.add(v),v}};function Tb(){return this._results[Symbol.iterator]()}class pg{get changes(){return this._changes||(this._changes=new Yi)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=pg.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=Tb)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,o){return this._results.reduce(n,o)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,o){const a=this;a.dirty=!1;const u=function vo(e){return e.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function Yf(e,n,o){if(e.length!==n.length)return!1;for(let a=0;a<e.length;a++){let u=e[a],f=n[a];if(o&&(u=o(u),f=o(f)),f!==u)return!1}return!0}(a._results,u,o))&&(a._results=u,a.length=u.length,a.last=u[this.length-1],a.first=u[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Tc=(()=>{class e{}return e.__NG_ELEMENT_ID__=Nb,e})();const Ab=Tc,Ob=class extends Ab{constructor(n,o,a){super(),this._declarationLView=n,this._declarationTContainer=o,this.elementRef=a}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,o){return this.createEmbeddedViewImpl(n,o,null)}createEmbeddedViewImpl(n,o,a){const p=this._declarationTContainer.tView,v=nf(this._declarationLView,p,n,4096&this._declarationLView[Nt]?4096:16,null,p.declTNode,null,null,null,o||null,a||null);v[xo]=this._declarationLView[this._declarationTContainer.index];const T=this._declarationLView[fr];return null!==T&&(v[fr]=T.createEmbeddedView(p)),Np(p,v,n),new gc(v)}};function Nb(){return Sf(Dr(),Ue())}function Sf(e,n){return 4&e.type?new Ob(n,e,ia(e,n)):null}let xf=(()=>{class e{}return e.__NG_ELEMENT_ID__=Bb,e})();function Bb(){return m_(Dr(),Ue())}const Hb=xf,p_=class extends Hb{constructor(n,o,a){super(),this._lContainer=n,this._hostTNode=o,this._hostLView=a}get element(){return ia(this._hostTNode,this._hostLView)}get injector(){return new Ui(this._hostTNode,this._hostLView)}get parentInjector(){const n=_i(this._hostTNode,this._hostLView);if(kc(n)){const o=vi(n,this._hostLView),a=us(n);return new Ui(o[nt].data[a+8],o)}return new Ui(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const o=g_(this._lContainer);return null!==o&&o[n]||null}get length(){return this._lContainer.length-rn}createEmbeddedView(n,o,a){let u,f;"number"==typeof a?u=a:null!=a&&(u=a.index,f=a.injector);const v=n.createEmbeddedViewImpl(o||{},f,null);return this.insertImpl(v,u,false),v}createComponent(n,o,a,u,f){const p=n&&!function Us(e){return"function"==typeof e}(n);let v;if(p)v=o;else{const Ye=o||{};v=Ye.index,a=Ye.injector,u=Ye.projectableNodes,f=Ye.environmentInjector||Ye.ngModuleRef}const C=p?n:new mc(Lt(n)),T=a||this.parentInjector;if(!f&&null==C.ngModule){const ut=(p?T:this.parentInjector).get(qo,null);ut&&(f=ut)}Lt(C.componentType??{});const pe=C.create(T,u,null,f);return this.insertImpl(pe.hostView,v,false),pe}insert(n,o){return this.insertImpl(n,o,!1)}insertImpl(n,o,a){const u=n._lView,f=u[nt];if(function cn(e){return mn(e[un])}(u)){const C=this.indexOf(n);if(-1!==C)this.detach(C);else{const T=u[un],F=new p_(T,T[Fn],T[un]);F.detach(F.indexOf(n))}}const p=this._adjustIndex(o),v=this._lContainer;if(function Mh(e,n,o,a){const u=rn+a,f=o.length;a>0&&(o[u-1][Ln]=n),a<f-rn?(n[Ln]=o[u],zc(o,rn+a,n)):(o.push(n),n[Ln]=null),n[un]=o;const p=n[xo];null!==p&&o!==p&&function Sh(e,n){const o=e[po];n[Gt]!==n[un][un][Gt]&&(e[hi]=!0),null===o?e[po]=[n]:o.push(n)}(p,n);const v=n[fr];null!==v&&v.insertView(e),n[Nt]|=128}(f,u,v,p),!a){const C=Ed(p,v),T=u[lt],F=Jo(T,v[Vn]);null!==F&&function xr(e,n,o,a,u,f){a[kn]=u,a[Fn]=n,qs(e,a,o,1,u,f)}(f,v[Fn],T,u,F,C)}return n.attachToViewContainerRef(),zc(mg(v),p,n),n}move(n,o){return this.insert(n,o)}indexOf(n){const o=g_(this._lContainer);return null!==o?o.indexOf(n):-1}remove(n){const o=this._adjustIndex(n,-1),a=Oa(this._lContainer,o);a&&(gl(mg(this._lContainer),o),Na(a[nt],a))}detach(n){const o=this._adjustIndex(n,-1),a=Oa(this._lContainer,o);return a&&null!=gl(mg(this._lContainer),o)?new gc(a):null}_adjustIndex(n,o=0){return n??this.length+o}};function g_(e){return e[8]}function mg(e){return e[8]||(e[8]=[])}function m_(e,n){let o;const a=n[e.index];return mn(a)?o=a:(o=Vm(a,n,null,e),n[e.index]=o,rf(n,o)),y_(o,n,e,a),new p_(o,e,n)}let y_=function v_(e,n,o,a){if(e[Vn])return;let u;u=8&o.type?vn(a):function Ub(e,n){const o=e[lt],a=o.createComment(""),u=O(n,e);return ji(o,Jo(o,u),a,function Ih(e,n){return e.nextSibling(n)}(o,u),!1),a}(n,o),e[Vn]=u};class yg{constructor(n){this.queryList=n,this.matches=null}clone(){return new yg(this.queryList)}setDirty(){this.queryList.setDirty()}}class vg{constructor(n=[]){this.queries=n}createEmbeddedView(n){const o=n.queries;if(null!==o){const a=null!==n.contentQueries?n.contentQueries[0]:o.length,u=[];for(let f=0;f<a;f++){const p=o.getByIndex(f);u.push(this.queries[p.indexInDeclarationView].clone())}return new vg(u)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let o=0;o<this.queries.length;o++)null!==x_(n,o).matches&&this.queries[o].setDirty()}}class __{constructor(n,o,a=null){this.predicate=n,this.flags=o,this.read=a}}class _g{constructor(n=[]){this.queries=n}elementStart(n,o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(n,o)}elementEnd(n){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(n)}embeddedTView(n){let o=null;for(let a=0;a<this.length;a++){const u=null!==o?o.length:0,f=this.getByIndex(a).embeddedTView(n,u);f&&(f.indexInDeclarationView=a,null!==o?o.push(f):o=[f])}return null!==o?new _g(o):null}template(n,o){for(let a=0;a<this.queries.length;a++)this.queries[a].template(n,o)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class Dg{constructor(n,o=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(n,o){this.isApplyingToNode(o)&&this.matchTNode(n,o)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,o){this.elementStart(n,o)}embeddedTView(n,o){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,o),new Dg(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let a=n.parent;for(;null!==a&&8&a.type&&a.index!==o;)a=a.parent;return o===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(n,o){const a=this.metadata.predicate;if(Array.isArray(a))for(let u=0;u<a.length;u++){const f=a[u];this.matchTNodeWithReadOption(n,o,$b(o,f)),this.matchTNodeWithReadOption(n,o,Sa(o,n,f,!1,!1))}else a===Tc?4&o.type&&this.matchTNodeWithReadOption(n,o,-1):this.matchTNodeWithReadOption(n,o,Sa(o,n,a,!1,!1))}matchTNodeWithReadOption(n,o,a){if(null!==a){const u=this.metadata.read;if(null!==u)if(u===ja||u===xf||u===Tc&&4&o.type)this.addMatch(o.index,-2);else{const f=Sa(o,n,u,!1,!1);null!==f&&this.addMatch(o.index,f)}else this.addMatch(o.index,a)}}addMatch(n,o){null===this.matches?this.matches=[n,o]:this.matches.push(n,o)}}function $b(e,n){const o=e.localNames;if(null!==o)for(let a=0;a<o.length;a+=2)if(o[a]===n)return o[a+1];return null}function Wb(e,n,o,a){return-1===o?function Gb(e,n){return 11&e.type?ia(e,n):4&e.type?Sf(e,n):null}(n,e):-2===o?function Kb(e,n,o){return o===ja?ia(n,e):o===Tc?Sf(n,e):o===xf?m_(n,e):void 0}(e,n,a):ai(e,e[nt],o,n)}function D_(e,n,o,a){const u=n[fr].queries[a];if(null===u.matches){const f=e.data,p=o.matches,v=[];for(let C=0;C<p.length;C+=2){const T=p[C];v.push(T<0?null:Wb(n,f[T],p[C+1],o.metadata.read))}u.matches=v}return u.matches}function Cg(e,n,o,a){const u=e.queries.getByIndex(o),f=u.matches;if(null!==f){const p=D_(e,n,u,o);for(let v=0;v<f.length;v+=2){const C=f[v];if(C>0)a.push(p[v/2]);else{const T=f[v+1],F=n[-C];for(let j=rn;j<F.length;j++){const ne=F[j];ne[xo]===ne[un]&&Cg(ne[nt],ne,T,a)}if(null!==F[po]){const j=F[po];for(let ne=0;ne<j.length;ne++){const pe=j[ne];Cg(pe[nt],pe,T,a)}}}}}return a}function C_(e){const n=Ue(),o=jt(),a=il();Ca(a+1);const u=x_(o,a);if(e.dirty&&function Pe(e){return 4==(4&e[Nt])}(n)===(2==(2&u.metadata.flags))){if(null===u.matches)e.reset([]);else{const f=u.crossesNgTemplate?Cg(o,n,a,[]):D_(o,n,u,a);e.reset(f,vp),e.notifyOnChanges()}return!0}return!1}function E_(e,n,o){const a=jt();a.firstCreatePass&&(S_(a,new __(e,n,o),-1),2==(2&n)&&(a.staticViewQueries=!0)),M_(a,Ue(),n)}function b_(e,n,o,a){const u=jt();if(u.firstCreatePass){const f=Dr();S_(u,new __(n,o,a),f.index),function Yb(e,n){const o=e.contentQueries||(e.contentQueries=[]);n!==(o.length?o[o.length-1]:-1)&&o.push(e.queries.length-1,n)}(u,e),2==(2&o)&&(u.staticContentQueries=!0)}M_(u,Ue(),o)}function w_(){return function Zb(e,n){return e[fr].queries[n].queryList}(Ue(),il())}function M_(e,n,o){const a=new pg(4==(4&o));(function KD(e,n,o,a){const u=Hm(n);u.push(o),e.firstCreatePass&&Um(e).push(a,u.length-1)})(e,n,a,a.destroy),null===n[fr]&&(n[fr]=new vg),n[fr].queries.push(new yg(a))}function S_(e,n,o){null===e.queries&&(e.queries=new _g),e.queries.track(new Dg(n,o))}function x_(e,n){return e.queries.getByIndex(n)}function Eg(e){return!!Xn(e)}const $_=new Dn("Application Initializer");let xg=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((o,a)=>{this.resolve=o,this.reject=a}),this.appInits=Kt($_,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const o=[];for(const u of this.appInits){const f=u();if(Gp(f))o.push(f);else if(Cy(f)){const p=new Promise((v,C)=>{f.subscribe({complete:v,error:C})});o.push(p)}}const a=()=>{this.done=!0,this.resolve()};Promise.all(o).then(()=>{a()}).catch(u=>{this.reject(u)}),0===o.length&&a(),this.initialized=!0}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=pt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),G_=(()=>{class e{log(o){console.log(o)}warn(o){console.warn(o)}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=pt({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const Tf=new Dn("LocaleId",{providedIn:"root",factory:()=>Kt(Tf,Ie.Optional|Ie.SkipSelf)||function yw(){return typeof $localize<"u"&&$localize.locale||nu}()}),vw=new Dn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let W_=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new re.X(!1)}add(){this.hasPendingTasks.next(!0);const o=this.taskId++;return this.pendingTasks.add(o),o}remove(o){this.pendingTasks.delete(o),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=pt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class _w{constructor(n,o){this.ngModuleFactory=n,this.componentFactories=o}}let Dw=(()=>{class e{compileModuleSync(o){return new dg(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const a=this.compileModuleSync(o),f=Re(Xn(o).declarations).reduce((p,v)=>{const C=Lt(v);return C&&p.push(new mc(C)),p},[]);return new _w(a,f)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=pt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Y_(...e){}class bo{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Yi(!1),this.onMicrotaskEmpty=new Yi(!1),this.onStable=new Yi(!1),this.onError=new Yi(!1),typeof Zone>"u")throw new ge(908,!1);Zone.assertZonePatched();const u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!a&&o,u.shouldCoalesceRunChangeDetection=a,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function bw(){let e=Zt.requestAnimationFrame,n=Zt.cancelAnimationFrame;if(typeof Zone<"u"&&e&&n){const o=e[Zone.__symbol__("OriginalDelegate")];o&&(e=o);const a=n[Zone.__symbol__("OriginalDelegate")];a&&(n=a)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function Sw(e){const n=()=>{!function Mw(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Zt,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Tg(e),e.isCheckStableRunning=!0,Ig(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Tg(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,a,u,f,p,v)=>{try{return J_(e),o.invokeTask(u,f,p,v)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||e.shouldCoalesceRunChangeDetection)&&n(),q_(e)}},onInvoke:(o,a,u,f,p,v,C)=>{try{return J_(e),o.invoke(u,f,p,v,C)}finally{e.shouldCoalesceRunChangeDetection&&n(),q_(e)}},onHasTask:(o,a,u,f)=>{o.hasTask(u,f),a===u&&("microTask"==f.change?(e._hasPendingMicrotasks=f.microTask,Tg(e),Ig(e)):"macroTask"==f.change&&(e.hasPendingMacrotasks=f.macroTask))},onHandleError:(o,a,u,f)=>(o.handleError(u,f),e.runOutsideAngular(()=>e.onError.emit(f)),!1)})}(u)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!bo.isInAngularZone())throw new ge(909,!1)}static assertNotInAngularZone(){if(bo.isInAngularZone())throw new ge(909,!1)}run(n,o,a){return this._inner.run(n,o,a)}runTask(n,o,a,u){const f=this._inner,p=f.scheduleEventTask("NgZoneEvent: "+u,n,ww,Y_,Y_);try{return f.runTask(p,o,a)}finally{f.cancelTask(p)}}runGuarded(n,o,a){return this._inner.runGuarded(n,o,a)}runOutsideAngular(n){return this._outer.run(n)}}const ww={};function Ig(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Tg(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function J_(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function q_(e){e._nesting--,Ig(e)}class xw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Yi,this.onMicrotaskEmpty=new Yi,this.onStable=new Yi,this.onError=new Yi}run(n,o,a){return n.apply(o,a)}runGuarded(n,o,a){return n.apply(o,a)}runOutsideAngular(n){return n()}runTask(n,o,a,u){return n.apply(o,a)}}const Q_=new Dn("",{providedIn:"root",factory:X_});function X_(){const e=Kt(bo);let n=!0;const o=new K.y(u=>{n=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{u.next(n),u.complete()})}),a=new K.y(u=>{let f;e.runOutsideAngular(()=>{f=e.onStable.subscribe(()=>{bo.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(n=!0,u.next(!0))})})});const p=e.onUnstable.subscribe(()=>{bo.assertInAngularZone(),n&&(n=!1,e.runOutsideAngular(()=>{u.next(!1)}))});return()=>{f.unsubscribe(),p.unsubscribe()}});return(0,R.T)(o,a.pipe((0,X.B)()))}const eD=new Dn(""),tD=new Dn("");let Ag,Iw=(()=>{class e{constructor(o,a,u){this._ngZone=o,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Ag||(function Tw(e){Ag=e}(u),u.addToWindow(a)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{bo.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(o)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,a,u){let f=-1;a&&a>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(p=>p.timeoutId!==f),o(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:o,timeoutId:f,updateCb:u})}whenStable(o,a,u){if(u&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,a,u),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,a,u){return[]}}return e.\u0275fac=function(o){return new(o||e)(wn(bo),wn(nD),wn(tD))},e.\u0275prov=pt({token:e,factory:e.\u0275fac}),e})(),nD=(()=>{class e{constructor(){this._applications=new Map}registerApplication(o,a){this._applications.set(o,a)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,a=!0){return Ag?.findTestabilityInTree(this,o,a)??null}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=pt({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})(),ua=null;const rD=new Dn("AllowMultipleToken"),Og=new Dn("PlatformDestroyListeners"),Ng=new Dn("appBootstrapListener");class Nw{constructor(n,o){this.name=n,this.token=o}}function sD(e,n,o=[]){const a=`Platform: ${n}`,u=new Dn(a);return(f=[])=>{let p=Pg();if(!p||p.injector.get(rD,!1)){const v=[...o,...f,{provide:u,useValue:!0}];e?e(v):function Pw(e){if(ua&&!ua.get(rD,!1))throw new ge(400,!1);(function oD(){!function Ja(e){rs=e}(()=>{throw new ge(600,!1)})})(),ua=e;const n=e.get(lD);(function iD(e){e.get(Wd,null)?.forEach(o=>o())})(e)}(function aD(e=[],n){return aa.create({name:n,providers:[{provide:Qu,useValue:"platform"},{provide:Og,useValue:new Set([()=>ua=null])},...e]})}(v,a))}return function kw(e){const n=Pg();if(!n)throw new ge(401,!1);return n}()}}function Pg(){return ua?.get(lD)??null}let lD=(()=>{class e{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,a){const u=function Fw(e="zone.js",n){return"noop"===e?new xw:"zone.js"===e?new bo(n):e}(a?.ngZone,function uD(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:a?.ngZoneEventCoalescing,runCoalescing:a?.ngZoneRunCoalescing}));return u.run(()=>{const f=function sb(e,n,o){return new cg(e,n,o)}(o.moduleType,this.injector,function pD(e){return[{provide:bo,useFactory:e},{provide:Ba,multi:!0,useFactory:()=>{const n=Kt(Vw,{optional:!0});return()=>n.initialize()}},{provide:hD,useFactory:Lw},{provide:Q_,useFactory:X_}]}(()=>u)),p=f.injector.get(i,null);return u.runOutsideAngular(()=>{const v=u.onError.subscribe({next:C=>{p.handleError(C)}});f.onDestroy(()=>{Af(this._modules,f),v.unsubscribe()})}),function cD(e,n,o){try{const a=o();return Gp(a)?a.catch(u=>{throw n.runOutsideAngular(()=>e.handleError(u)),u}):a}catch(a){throw n.runOutsideAngular(()=>e.handleError(a)),a}}(p,u,()=>{const v=f.injector.get(xg);return v.runInitializers(),v.donePromise.then(()=>(function _v(e){_e(e,"Expected localeId to be defined"),"string"==typeof e&&(vv=e.toLowerCase().replace(/_/g,"-"))}(f.injector.get(Tf,nu)||nu),this._moduleDoBootstrap(f),f))})})}bootstrapModule(o,a=[]){const u=dD({},a);return function Aw(e,n,o){const a=new dg(o);return Promise.resolve(a)}(0,0,o).then(f=>this.bootstrapModuleFactory(f,u))}_moduleDoBootstrap(o){const a=o.injector.get(su);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(u=>a.bootstrap(u));else{if(!o.instance.ngDoBootstrap)throw new ge(-403,!1);o.instance.ngDoBootstrap(a)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ge(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const o=this._injector.get(Og,null);o&&(o.forEach(a=>a()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(o){return new(o||e)(wn(aa))},e.\u0275prov=pt({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();function dD(e,n){return Array.isArray(n)?n.reduce(dD,e):{...e,...n}}let su=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Kt(hD),this.zoneIsStable=Kt(Q_),this.componentTypes=[],this.components=[],this.isStable=Kt(W_).hasPendingTasks.pipe((0,he.w)(o=>o?(0,le.of)(!1):this.zoneIsStable),(0,be.x)(),(0,X.B)()),this._injector=Kt(qo)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(o,a){const u=o instanceof qd;if(!this._injector.get(xg).done)throw!u&&Pr(o),new ge(405,!1);let p;p=u?o:this._injector.get(Hl).resolveComponentFactory(o),this.componentTypes.push(p.componentType);const v=function Ow(e){return e.isBoundToModule}(p)?void 0:this._injector.get(ru),T=p.create(aa.NULL,[],a||p.selector,v),F=T.location.nativeElement,j=T.injector.get(eD,null);return j?.registerApplication(F),T.onDestroy(()=>{this.detachView(T.hostView),Af(this.components,T),j?.unregisterApplication(F)}),this._loadComponent(T),T}tick(){if(this._runningTick)throw new ge(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1}}attachView(o){const a=o;this._views.push(a),a.attachToAppRef(this)}detachView(o){const a=o;Af(this._views,a),a.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const a=this._injector.get(Ng,[]);a.push(...this._bootstrapListeners),a.forEach(u=>u(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>Af(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new ge(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=pt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Af(e,n){const o=e.indexOf(n);o>-1&&e.splice(o,1)}const hD=new Dn("",{providedIn:"root",factory:()=>Kt(i).handleError.bind(void 0)});function Lw(){const e=Kt(bo),n=Kt(i);return o=>e.runOutsideAngular(()=>n.handleError(o))}let Vw=(()=>{class e{constructor(){this.zone=Kt(bo),this.applicationRef=Kt(su)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=pt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();let Hw=(()=>{class e{}return e.__NG_ELEMENT_ID__=Uw,e})();function Uw(e){return function jw(e,n,o){if(no(e)&&!o){const a=me(e.index,n);return new gc(a,a)}return 47&e.type?new gc(n[Gt],n):null}(Dr(),Ue(),16==(16&e))}class vD{constructor(){}supports(n){return uf(n)}create(n){return new Zw(n)}}const Kw=(e,n)=>n;class Zw{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||Kw}forEachItem(n){let o;for(o=this._itHead;null!==o;o=o._next)n(o)}forEachOperation(n){let o=this._itHead,a=this._removalsHead,u=0,f=null;for(;o||a;){const p=!a||o&&o.currentIndex<DD(a,u,f)?o:a,v=DD(p,u,f),C=p.currentIndex;if(p===a)u--,a=a._nextRemoved;else if(o=o._next,null==p.previousIndex)u++;else{f||(f=[]);const T=v-u,F=C-u;if(T!=F){for(let ne=0;ne<T;ne++){const pe=ne<f.length?f[ne]:f[ne]=0,ke=pe+ne;F<=ke&&ke<T&&(f[ne]=pe+1)}f[p.previousIndex]=F-T}}v!==C&&n(p,v,C)}}forEachPreviousItem(n){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)n(o)}forEachAddedItem(n){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)n(o)}forEachMovedItem(n){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)n(o)}forEachRemovedItem(n){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)n(o)}forEachIdentityChange(n){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)n(o)}diff(n){if(null==n&&(n=[]),!uf(n))throw new ge(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let u,f,p,o=this._itHead,a=!1;if(Array.isArray(n)){this.length=n.length;for(let v=0;v<this.length;v++)f=n[v],p=this._trackByFn(v,f),null!==o&&Object.is(o.trackById,p)?(a&&(o=this._verifyReinsertion(o,f,p,v)),Object.is(o.item,f)||this._addIdentityChange(o,f)):(o=this._mismatch(o,f,p,v),a=!0),o=o._next}else u=0,function UC(e,n){if(Array.isArray(e))for(let o=0;o<e.length;o++)n(e[o]);else{const o=e[Symbol.iterator]();let a;for(;!(a=o.next()).done;)n(a.value)}}(n,v=>{p=this._trackByFn(u,v),null!==o&&Object.is(o.trackById,p)?(a&&(o=this._verifyReinsertion(o,v,p,u)),Object.is(o.item,v)||this._addIdentityChange(o,v)):(o=this._mismatch(o,v,p,u),a=!0),o=o._next,u++}),this.length=u;return this._truncate(o),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,o,a,u){let f;return null===n?f=this._itTail:(f=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(n.item,o)||this._addIdentityChange(n,o),this._reinsertAfter(n,f,u)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(a,u))?(Object.is(n.item,o)||this._addIdentityChange(n,o),this._moveAfter(n,f,u)):n=this._addAfter(new Yw(o,a),f,u),n}_verifyReinsertion(n,o,a,u){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==f?n=this._reinsertAfter(f,n._prev,u):n.currentIndex!=u&&(n.currentIndex=u,this._addToMoves(n,u)),n}_truncate(n){for(;null!==n;){const o=n._next;this._addToRemovals(this._unlink(n)),n=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,o,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const u=n._prevRemoved,f=n._nextRemoved;return null===u?this._removalsHead=f:u._nextRemoved=f,null===f?this._removalsTail=u:f._prevRemoved=u,this._insertAfter(n,o,a),this._addToMoves(n,a),n}_moveAfter(n,o,a){return this._unlink(n),this._insertAfter(n,o,a),this._addToMoves(n,a),n}_addAfter(n,o,a){return this._insertAfter(n,o,a),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,o,a){const u=null===o?this._itHead:o._next;return n._next=u,n._prev=o,null===u?this._itTail=n:u._prev=n,null===o?this._itHead=n:o._next=n,null===this._linkedRecords&&(this._linkedRecords=new _D),this._linkedRecords.put(n),n.currentIndex=a,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const o=n._prev,a=n._next;return null===o?this._itHead=a:o._next=a,null===a?this._itTail=o:a._prev=o,n}_addToMoves(n,o){return n.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new _D),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,o){return n.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class Yw{constructor(n,o){this.item=n,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Jw{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,o){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===o||o<=a.currentIndex)&&Object.is(a.trackById,n))return a;return null}remove(n){const o=n._prevDup,a=n._nextDup;return null===o?this._head=a:o._nextDup=a,null===a?this._tail=o:a._prevDup=o,null===this._head}}class _D{constructor(){this.map=new Map}put(n){const o=n.trackById;let a=this.map.get(o);a||(a=new Jw,this.map.set(o,a)),a.add(n)}get(n,o){const u=this.map.get(n);return u?u.get(n,o):null}remove(n){const o=n.trackById;return this.map.get(o).remove(n)&&this.map.delete(o),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function DD(e,n,o){const a=e.previousIndex;if(null===a)return a;let u=0;return o&&a<o.length&&(u=o[a]),a+n+u}class CD{constructor(){}supports(n){return n instanceof Map||Rp(n)}create(){return new qw}}class qw{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let o;for(o=this._mapHead;null!==o;o=o._next)n(o)}forEachPreviousItem(n){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)n(o)}forEachChangedItem(n){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)n(o)}forEachAddedItem(n){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)n(o)}forEachRemovedItem(n){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)n(o)}diff(n){if(n){if(!(n instanceof Map||Rp(n)))throw new ge(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(n,(a,u)=>{if(o&&o.key===u)this._maybeAddToChanges(o,a),this._appendAfter=o,o=o._next;else{const f=this._getOrCreateRecordForKey(u,a);o=this._insertBeforeOrAppend(o,f)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let a=o;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,o){if(n){const a=n._prev;return o._next=n,o._prev=a,n._prev=o,a&&(a._next=o),n===this._mapHead&&(this._mapHead=o),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(n,o){if(this._records.has(n)){const u=this._records.get(n);this._maybeAddToChanges(u,o);const f=u._prev,p=u._next;return f&&(f._next=p),p&&(p._prev=f),u._next=null,u._prev=null,u}const a=new Qw(n);return this._records.set(n,a),a.currentValue=o,this._addToAdditions(a),a}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,o){Object.is(o,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=o,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,o){n instanceof Map?n.forEach(o):Object.keys(n).forEach(a=>o(n[a],a))}}class Qw{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ED(){return new Vg([new vD])}let Vg=(()=>{class e{constructor(o){this.factories=o}static create(o,a){if(null!=a){const u=a.factories.slice();o=o.concat(u)}return new e(o)}static extend(o){return{provide:e,useFactory:a=>e.create(o,a||ED()),deps:[[e,new ml,new Eu]]}}find(o){const a=this.factories.find(u=>u.supports(o));if(null!=a)return a;throw new ge(901,!1)}}return e.\u0275prov=pt({token:e,providedIn:"root",factory:ED}),e})();function bD(){return new Bg([new CD])}let Bg=(()=>{class e{constructor(o){this.factories=o}static create(o,a){if(a){const u=a.factories.slice();o=o.concat(u)}return new e(o)}static extend(o){return{provide:e,useFactory:a=>e.create(o,a||bD()),deps:[[e,new ml,new Eu]]}}find(o){const a=this.factories.find(u=>u.supports(o));if(a)return a;throw new ge(901,!1)}}return e.\u0275prov=pt({token:e,providedIn:"root",factory:bD}),e})();const tM=sD(null,"core",[]);let nM=(()=>{class e{constructor(o){}}return e.\u0275fac=function(o){return new(o||e)(wn(su))},e.\u0275mod=ci({type:e}),e.\u0275inj=Me({}),e})();function dM(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function hM(e,n){const o=Lt(e),a=n.elementInjector||Ha();return new mc(o).create(a,n.projectableNodes,n.hostElement,n.environmentInjector)}function pM(e){const n=Lt(e);if(!n)return null;const o=new mc(n);return{get selector(){return o.selector},get type(){return o.componentType},get inputs(){return o.inputs},get outputs(){return o.outputs},get ngContentSelectors(){return o.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},6223:(rt,ye,A)=>{A.d(ye,{Fj:()=>Te,JJ:()=>en,JL:()=>Qn,JU:()=>he,NI:()=>Mo,On:()=>Lt,UX:()=>Es,Wl:()=>te,_Y:()=>On,cw:()=>Ee,kI:()=>it,qu:()=>Cs,sg:()=>zr,u:()=>dr,u5:()=>Kr});var d=A(5879),$=A(6814),re=A(7715),K=A(9315),R=A(7398);let le=(()=>{class x{constructor(w,L){this._renderer=w,this._elementRef=L,this.onChange=De=>{},this.onTouched=()=>{}}setProperty(w,L){this._renderer.setProperty(this._elementRef.nativeElement,w,L)}registerOnTouched(w){this.onTouched=w}registerOnChange(w){this.onChange=w}setDisabledState(w){this.setProperty("disabled",w)}}return x.\u0275fac=function(w){return new(w||x)(d.Y36(d.Qsj),d.Y36(d.SBq))},x.\u0275dir=d.lG2({type:x}),x})(),X=(()=>{class x extends le{}return x.\u0275fac=function(){let S;return function(L){return(S||(S=d.n5z(x)))(L||x)}}(),x.\u0275dir=d.lG2({type:x,features:[d.qOj]}),x})();const he=new d.OlP("NgValueAccessor"),be={provide:he,useExisting:(0,d.Gpc)(()=>te),multi:!0};let te=(()=>{class x extends X{writeValue(w){this.setProperty("checked",w)}}return x.\u0275fac=function(){let S;return function(L){return(S||(S=d.n5z(x)))(L||x)}}(),x.\u0275dir=d.lG2({type:x,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(w,L){1&w&&d.NdJ("change",function(et){return L.onChange(et.target.checked)})("blur",function(){return L.onTouched()})},features:[d._Bn([be]),d.qOj]}),x})();const fe={provide:he,useExisting:(0,d.Gpc)(()=>Te),multi:!0},Fe=new d.OlP("CompositionEventMode");let Te=(()=>{class x extends le{constructor(w,L,De){super(w,L),this._compositionMode=De,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ue(){const x=(0,$.q)()?(0,$.q)().getUserAgent():"";return/android (\d+)/.test(x.toLowerCase())}())}writeValue(w){this.setProperty("value",w??"")}_handleInput(w){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(w)}_compositionStart(){this._composing=!0}_compositionEnd(w){this._composing=!1,this._compositionMode&&this.onChange(w)}}return x.\u0275fac=function(w){return new(w||x)(d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(Fe,8))},x.\u0275dir=d.lG2({type:x,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(w,L){1&w&&d.NdJ("input",function(et){return L._handleInput(et.target.value)})("blur",function(){return L.onTouched()})("compositionstart",function(){return L._compositionStart()})("compositionend",function(et){return L._compositionEnd(et.target.value)})},features:[d._Bn([fe]),d.qOj]}),x})();function Ae(x){return null==x||("string"==typeof x||Array.isArray(x))&&0===x.length}function ee(x){return null!=x&&"number"==typeof x.length}const Be=new d.OlP("NgValidators"),st=new d.OlP("NgAsyncValidators"),_t=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class it{static min(S){return function ge(x){return S=>{if(Ae(S.value)||Ae(x))return null;const w=parseFloat(S.value);return!isNaN(w)&&w<x?{min:{min:x,actual:S.value}}:null}}(S)}static max(S){return function ie(x){return S=>{if(Ae(S.value)||Ae(x))return null;const w=parseFloat(S.value);return!isNaN(w)&&w>x?{max:{max:x,actual:S.value}}:null}}(S)}static required(S){return function Se(x){return Ae(x.value)?{required:!0}:null}(S)}static requiredTrue(S){return function We(x){return!0===x.value?null:{required:!0}}(S)}static email(S){return function Ke(x){return Ae(x.value)||_t.test(x.value)?null:{email:!0}}(S)}static minLength(S){return function ze(x){return S=>Ae(S.value)||!ee(S.value)?null:S.value.length<x?{minlength:{requiredLength:x,actualLength:S.value.length}}:null}(S)}static maxLength(S){return function dt(x){return S=>ee(S.value)&&S.value.length>x?{maxlength:{requiredLength:x,actualLength:S.value.length}}:null}(S)}static pattern(S){return function Ze(x){if(!x)return Et;let S,w;return"string"==typeof x?(w="","^"!==x.charAt(0)&&(w+="^"),w+=x,"$"!==x.charAt(x.length-1)&&(w+="$"),S=new RegExp(w)):(w=x.toString(),S=x),L=>{if(Ae(L.value))return null;const De=L.value;return S.test(De)?null:{pattern:{requiredPattern:w,actualValue:De}}}}(S)}static nullValidator(S){return null}static compose(S){return Ce(S)}static composeAsync(S){return J(S)}}function Et(x){return null}function Ot(x){return null!=x}function Vt(x){return(0,d.QGY)(x)?(0,re.D)(x):x}function hn(x){let S={};return x.forEach(w=>{S=null!=w?{...S,...w}:S}),0===Object.keys(S).length?null:S}function Xt(x,S){return S.map(w=>w(x))}function Gn(x){return x.map(S=>function Hn(x){return!x.validate}(S)?S:w=>S.validate(w))}function Ce(x){if(!x)return null;const S=x.filter(Ot);return 0==S.length?null:function(w){return hn(Xt(w,S))}}function we(x){return null!=x?Ce(Gn(x)):null}function J(x){if(!x)return null;const S=x.filter(Ot);return 0==S.length?null:function(w){const L=Xt(w,S).map(Vt);return(0,K.D)(L).pipe((0,R.U)(hn))}}function oe(x){return null!=x?J(Gn(x)):null}function H(x,S){return null===x?[S]:Array.isArray(x)?[...x,S]:[x,S]}function z(x){return x._rawValidators}function _e(x){return x._rawAsyncValidators}function xe(x){return x?Array.isArray(x)?x:[x]:[]}function ot(x,S){return Array.isArray(x)?x.includes(S):x===S}function ft(x,S){const w=xe(S);return xe(x).forEach(De=>{ot(w,De)||w.push(De)}),w}function At(x,S){return xe(S).filter(w=>!ot(x,w))}class pt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(S){this._rawValidators=S||[],this._composedValidatorFn=we(this._rawValidators)}_setAsyncValidators(S){this._rawAsyncValidators=S||[],this._composedAsyncValidatorFn=oe(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(S){this._onDestroyCallbacks.push(S)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(S=>S()),this._onDestroyCallbacks=[]}reset(S=void 0){this.control&&this.control.reset(S)}hasError(S,w){return!!this.control&&this.control.hasError(S,w)}getError(S,w){return this.control?this.control.getError(S,w):null}}class bt extends pt{get formDirective(){return null}get path(){return null}}class Me extends pt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class at{constructor(S){this._cd=S}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let en=(()=>{class x extends at{constructor(w){super(w)}}return x.\u0275fac=function(w){return new(w||x)(d.Y36(Me,2))},x.\u0275dir=d.lG2({type:x,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(w,L){2&w&&d.ekj("ng-untouched",L.isUntouched)("ng-touched",L.isTouched)("ng-pristine",L.isPristine)("ng-dirty",L.isDirty)("ng-valid",L.isValid)("ng-invalid",L.isInvalid)("ng-pending",L.isPending)},features:[d.qOj]}),x})(),Qn=(()=>{class x extends at{constructor(w){super(w)}}return x.\u0275fac=function(w){return new(w||x)(d.Y36(bt,10))},x.\u0275dir=d.lG2({type:x,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(w,L){2&w&&d.ekj("ng-untouched",L.isUntouched)("ng-touched",L.isTouched)("ng-pristine",L.isPristine)("ng-dirty",L.isDirty)("ng-valid",L.isValid)("ng-invalid",L.isInvalid)("ng-pending",L.isPending)("ng-submitted",L.isSubmitted)},features:[d.qOj]}),x})();const jn="VALID",Ar="INVALID",Kn="PENDING",$t="DISABLED";function Tn(x){return(wn(x)?x.validators:x)||null}function rr(x,S){return(wn(S)?S.asyncValidators:x)||null}function wn(x){return null!=x&&!Array.isArray(x)&&"object"==typeof x}function Qr(x,S,w){const L=x.controls;if(!(S?Object.keys(L):L).length)throw new d.vHH(1e3,"");if(!L[w])throw new d.vHH(1001,"")}function Kt(x,S,w){x._forEachChild((L,De)=>{if(void 0===w[De])throw new d.vHH(1002,"")})}class Or{constructor(S,w){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(S),this._assignAsyncValidators(w)}get validator(){return this._composedValidatorFn}set validator(S){this._rawValidators=this._composedValidatorFn=S}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(S){this._rawAsyncValidators=this._composedAsyncValidatorFn=S}get parent(){return this._parent}get valid(){return this.status===jn}get invalid(){return this.status===Ar}get pending(){return this.status==Kn}get disabled(){return this.status===$t}get enabled(){return this.status!==$t}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(S){this._assignValidators(S)}setAsyncValidators(S){this._assignAsyncValidators(S)}addValidators(S){this.setValidators(ft(S,this._rawValidators))}addAsyncValidators(S){this.setAsyncValidators(ft(S,this._rawAsyncValidators))}removeValidators(S){this.setValidators(At(S,this._rawValidators))}removeAsyncValidators(S){this.setAsyncValidators(At(S,this._rawAsyncValidators))}hasValidator(S){return ot(this._rawValidators,S)}hasAsyncValidator(S){return ot(this._rawAsyncValidators,S)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(S={}){this.touched=!0,this._parent&&!S.onlySelf&&this._parent.markAsTouched(S)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(S=>S.markAllAsTouched())}markAsUntouched(S={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(w=>{w.markAsUntouched({onlySelf:!0})}),this._parent&&!S.onlySelf&&this._parent._updateTouched(S)}markAsDirty(S={}){this.pristine=!1,this._parent&&!S.onlySelf&&this._parent.markAsDirty(S)}markAsPristine(S={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(w=>{w.markAsPristine({onlySelf:!0})}),this._parent&&!S.onlySelf&&this._parent._updatePristine(S)}markAsPending(S={}){this.status=Kn,!1!==S.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!S.onlySelf&&this._parent.markAsPending(S)}disable(S={}){const w=this._parentMarkedDirty(S.onlySelf);this.status=$t,this.errors=null,this._forEachChild(L=>{L.disable({...S,onlySelf:!0})}),this._updateValue(),!1!==S.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...S,skipPristineCheck:w}),this._onDisabledChange.forEach(L=>L(!0))}enable(S={}){const w=this._parentMarkedDirty(S.onlySelf);this.status=jn,this._forEachChild(L=>{L.enable({...S,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:S.emitEvent}),this._updateAncestors({...S,skipPristineCheck:w}),this._onDisabledChange.forEach(L=>L(!1))}_updateAncestors(S){this._parent&&!S.onlySelf&&(this._parent.updateValueAndValidity(S),S.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(S){this._parent=S}getRawValue(){return this.value}updateValueAndValidity(S={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===jn||this.status===Kn)&&this._runAsyncValidator(S.emitEvent)),!1!==S.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!S.onlySelf&&this._parent.updateValueAndValidity(S)}_updateTreeValidity(S={emitEvent:!0}){this._forEachChild(w=>w._updateTreeValidity(S)),this.updateValueAndValidity({onlySelf:!0,emitEvent:S.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?$t:jn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(S){if(this.asyncValidator){this.status=Kn,this._hasOwnPendingAsyncValidator=!0;const w=Vt(this.asyncValidator(this));this._asyncValidationSubscription=w.subscribe(L=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(L,{emitEvent:S})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(S,w={}){this.errors=S,this._updateControlsErrors(!1!==w.emitEvent)}get(S){let w=S;return null==w||(Array.isArray(w)||(w=w.split(".")),0===w.length)?null:w.reduce((L,De)=>L&&L._find(De),this)}getError(S,w){const L=w?this.get(w):this;return L&&L.errors?L.errors[S]:null}hasError(S,w){return!!this.getError(S,w)}get root(){let S=this;for(;S._parent;)S=S._parent;return S}_updateControlsErrors(S){this.status=this._calculateStatus(),S&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(S)}_initObservables(){this.valueChanges=new d.vpe,this.statusChanges=new d.vpe}_calculateStatus(){return this._allControlsDisabled()?$t:this.errors?Ar:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Kn)?Kn:this._anyControlsHaveStatus(Ar)?Ar:jn}_anyControlsHaveStatus(S){return this._anyControls(w=>w.status===S)}_anyControlsDirty(){return this._anyControls(S=>S.dirty)}_anyControlsTouched(){return this._anyControls(S=>S.touched)}_updatePristine(S={}){this.pristine=!this._anyControlsDirty(),this._parent&&!S.onlySelf&&this._parent._updatePristine(S)}_updateTouched(S={}){this.touched=this._anyControlsTouched(),this._parent&&!S.onlySelf&&this._parent._updateTouched(S)}_registerOnCollectionChange(S){this._onCollectionChange=S}_setUpdateStrategy(S){wn(S)&&null!=S.updateOn&&(this._updateOn=S.updateOn)}_parentMarkedDirty(S){return!S&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(S){return null}_assignValidators(S){this._rawValidators=Array.isArray(S)?S.slice():S,this._composedValidatorFn=function fo(x){return Array.isArray(x)?we(x):x||null}(this._rawValidators)}_assignAsyncValidators(S){this._rawAsyncValidators=Array.isArray(S)?S.slice():S,this._composedAsyncValidatorFn=function qr(x){return Array.isArray(x)?oe(x):x||null}(this._rawAsyncValidators)}}class Ee extends Or{constructor(S,w,L){super(Tn(w),rr(L,w)),this.controls=S,this._initObservables(),this._setUpdateStrategy(w),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(S,w){return this.controls[S]?this.controls[S]:(this.controls[S]=w,w.setParent(this),w._registerOnCollectionChange(this._onCollectionChange),w)}addControl(S,w,L={}){this.registerControl(S,w),this.updateValueAndValidity({emitEvent:L.emitEvent}),this._onCollectionChange()}removeControl(S,w={}){this.controls[S]&&this.controls[S]._registerOnCollectionChange(()=>{}),delete this.controls[S],this.updateValueAndValidity({emitEvent:w.emitEvent}),this._onCollectionChange()}setControl(S,w,L={}){this.controls[S]&&this.controls[S]._registerOnCollectionChange(()=>{}),delete this.controls[S],w&&this.registerControl(S,w),this.updateValueAndValidity({emitEvent:L.emitEvent}),this._onCollectionChange()}contains(S){return this.controls.hasOwnProperty(S)&&this.controls[S].enabled}setValue(S,w={}){Kt(this,0,S),Object.keys(S).forEach(L=>{Qr(this,!0,L),this.controls[L].setValue(S[L],{onlySelf:!0,emitEvent:w.emitEvent})}),this.updateValueAndValidity(w)}patchValue(S,w={}){null!=S&&(Object.keys(S).forEach(L=>{const De=this.controls[L];De&&De.patchValue(S[L],{onlySelf:!0,emitEvent:w.emitEvent})}),this.updateValueAndValidity(w))}reset(S={},w={}){this._forEachChild((L,De)=>{L.reset(S[De],{onlySelf:!0,emitEvent:w.emitEvent})}),this._updatePristine(w),this._updateTouched(w),this.updateValueAndValidity(w)}getRawValue(){return this._reduceChildren({},(S,w,L)=>(S[L]=w.getRawValue(),S))}_syncPendingControls(){let S=this._reduceChildren(!1,(w,L)=>!!L._syncPendingControls()||w);return S&&this.updateValueAndValidity({onlySelf:!0}),S}_forEachChild(S){Object.keys(this.controls).forEach(w=>{const L=this.controls[w];L&&S(L,w)})}_setUpControls(){this._forEachChild(S=>{S.setParent(this),S._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(S){for(const[w,L]of Object.entries(this.controls))if(this.contains(w)&&S(L))return!0;return!1}_reduceValue(){return this._reduceChildren({},(w,L,De)=>((L.enabled||this.disabled)&&(w[De]=L.value),w))}_reduceChildren(S,w){let L=S;return this._forEachChild((De,et)=>{L=w(L,De,et)}),L}_allControlsDisabled(){for(const S of Object.keys(this.controls))if(this.controls[S].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(S){return this.controls.hasOwnProperty(S)?this.controls[S]:null}}class ae extends Ee{}const Xe=new d.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>ct}),ct="always";function Ft(x,S){return[...S.path,x]}function Mt(x,S,w=ct){ve(x,S),S.valueAccessor.writeValue(x.value),(x.disabled||"always"===w)&&S.valueAccessor.setDisabledState?.(x.disabled),function Y(x,S){S.valueAccessor.registerOnChange(w=>{x._pendingValue=w,x._pendingChange=!0,x._pendingDirty=!0,"change"===x.updateOn&&Qe(x,S)})}(x,S),function tt(x,S){const w=(L,De)=>{S.valueAccessor.writeValue(L),De&&S.viewToModelUpdate(L)};x.registerOnChange(w),S._registerOnDestroy(()=>{x._unregisterOnChange(w)})}(x,S),function Oe(x,S){S.valueAccessor.registerOnTouched(()=>{x._pendingTouched=!0,"blur"===x.updateOn&&x._pendingChange&&Qe(x,S),"submit"!==x.updateOn&&x.markAsTouched()})}(x,S),function Cn(x,S){if(S.valueAccessor.setDisabledState){const w=L=>{S.valueAccessor.setDisabledState(L)};x.registerOnDisabledChange(w),S._registerOnDestroy(()=>{x._unregisterOnDisabledChange(w)})}}(x,S)}function Dt(x,S,w=!0){const L=()=>{};S.valueAccessor&&(S.valueAccessor.registerOnChange(L),S.valueAccessor.registerOnTouched(L)),Z(x,S),x&&(S._invokeOnDestroyCallbacks(),x._registerOnCollectionChange(()=>{}))}function An(x,S){x.forEach(w=>{w.registerOnValidatorChange&&w.registerOnValidatorChange(S)})}function ve(x,S){const w=z(x);null!==S.validator?x.setValidators(H(w,S.validator)):"function"==typeof w&&x.setValidators([w]);const L=_e(x);null!==S.asyncValidator?x.setAsyncValidators(H(L,S.asyncValidator)):"function"==typeof L&&x.setAsyncValidators([L]);const De=()=>x.updateValueAndValidity();An(S._rawValidators,De),An(S._rawAsyncValidators,De)}function Z(x,S){let w=!1;if(null!==x){if(null!==S.validator){const De=z(x);if(Array.isArray(De)&&De.length>0){const et=De.filter(pn=>pn!==S.validator);et.length!==De.length&&(w=!0,x.setValidators(et))}}if(null!==S.asyncValidator){const De=_e(x);if(Array.isArray(De)&&De.length>0){const et=De.filter(pn=>pn!==S.asyncValidator);et.length!==De.length&&(w=!0,x.setAsyncValidators(et))}}}const L=()=>{};return An(S._rawValidators,L),An(S._rawAsyncValidators,L),w}function Qe(x,S){x._pendingDirty&&x.markAsDirty(),x.setValue(x._pendingValue,{emitModelToViewChange:!1}),S.viewToModelUpdate(x._pendingValue),x._pendingChange=!1}function Nr(x,S){if(!x.hasOwnProperty("model"))return!1;const w=x.model;return!!w.isFirstChange()||!Object.is(S,w.currentValue)}function Bt(x,S){if(!S)return null;let w,L,De;return Array.isArray(S),S.forEach(et=>{et.constructor===Te?w=et:function Ur(x){return Object.getPrototypeOf(x.constructor)===X}(et)?L=et:De=et}),De||L||w||null}function Xr(x,S){const w=x.indexOf(S);w>-1&&x.splice(w,1)}function wo(x){return"object"==typeof x&&null!==x&&2===Object.keys(x).length&&"value"in x&&"disabled"in x}const Mo=class extends Or{constructor(S=null,w,L){super(Tn(w),rr(L,w)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(S),this._setUpdateStrategy(w),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),wn(w)&&(w.nonNullable||w.initialValueIsDefault)&&(this.defaultValue=wo(S)?S.value:S)}setValue(S,w={}){this.value=this._pendingValue=S,this._onChange.length&&!1!==w.emitModelToViewChange&&this._onChange.forEach(L=>L(this.value,!1!==w.emitViewToModelChange)),this.updateValueAndValidity(w)}patchValue(S,w={}){this.setValue(S,w)}reset(S=this.defaultValue,w={}){this._applyFormState(S),this.markAsPristine(w),this.markAsUntouched(w),this.setValue(this.value,w),this._pendingChange=!1}_updateValue(){}_anyControls(S){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(S){this._onChange.push(S)}_unregisterOnChange(S){Xr(this._onChange,S)}registerOnDisabledChange(S){this._onDisabledChange.push(S)}_unregisterOnDisabledChange(S){Xr(this._onDisabledChange,S)}_forEachChild(S){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(S){wo(S)?(this.value=this._pendingValue=S.value,S.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=S}},$o={provide:Me,useExisting:(0,d.Gpc)(()=>Lt)},ti=(()=>Promise.resolve())();let Lt=(()=>{class x extends Me{constructor(w,L,De,et,pn,Yn){super(),this._changeDetectorRef=pn,this.callSetDisabledState=Yn,this.control=new Mo,this._registered=!1,this.name="",this.update=new d.vpe,this._parent=w,this._setValidators(L),this._setAsyncValidators(De),this.valueAccessor=Bt(0,et)}ngOnChanges(w){if(this._checkForErrors(),!this._registered||"name"in w){if(this._registered&&(this._checkName(),this.formDirective)){const L=w.name.previousValue;this.formDirective.removeControl({name:L,path:this._getPath(L)})}this._setUpControl()}"isDisabled"in w&&this._updateDisabled(w),Nr(w,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(w){this.viewModel=w,this.update.emit(w)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Mt(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(w){ti.then(()=>{this.control.setValue(w,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(w){const L=w.isDisabled.currentValue,De=0!==L&&(0,d.VuI)(L);ti.then(()=>{De&&!this.control.disabled?this.control.disable():!De&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(w){return this._parent?Ft(w,this._parent):[w]}}return x.\u0275fac=function(w){return new(w||x)(d.Y36(bt,9),d.Y36(Be,10),d.Y36(st,10),d.Y36(he,10),d.Y36(d.sBO,8),d.Y36(Xe,8))},x.\u0275dir=d.lG2({type:x,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[d._Bn([$o]),d.qOj,d.TTD]}),x})(),On=(()=>{class x{}return x.\u0275fac=function(w){return new(w||x)},x.\u0275dir=d.lG2({type:x,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),x})(),br=(()=>{class x{}return x.\u0275fac=function(w){return new(w||x)},x.\u0275mod=d.oAB({type:x}),x.\u0275inj=d.cJS({}),x})();const nt=new d.OlP("NgModelWithFormControlWarning"),Ln={provide:bt,useExisting:(0,d.Gpc)(()=>zr)};let zr=(()=>{class x extends bt{constructor(w,L,De){super(),this.callSetDisabledState=De,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new d.vpe,this._setValidators(w),this._setAsyncValidators(L)}ngOnChanges(w){this._checkFormPresent(),w.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Z(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(w){const L=this.form.get(w.path);return Mt(L,w,this.callSetDisabledState),L.updateValueAndValidity({emitEvent:!1}),this.directives.push(w),L}getControl(w){return this.form.get(w.path)}removeControl(w){Dt(w.control||null,w,!1),function cr(x,S){const w=x.indexOf(S);w>-1&&x.splice(w,1)}(this.directives,w)}addFormGroup(w){this._setUpFormContainer(w)}removeFormGroup(w){this._cleanUpFormContainer(w)}getFormGroup(w){return this.form.get(w.path)}addFormArray(w){this._setUpFormContainer(w)}removeFormArray(w){this._cleanUpFormContainer(w)}getFormArray(w){return this.form.get(w.path)}updateModel(w,L){this.form.get(w.path).setValue(L)}onSubmit(w){return this.submitted=!0,function fn(x,S){x._syncPendingControls(),S.forEach(w=>{const L=w.control;"submit"===L.updateOn&&L._pendingChange&&(w.viewToModelUpdate(L._pendingValue),L._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(w),"dialog"===w?.target?.method}onReset(){this.resetForm()}resetForm(w=void 0){this.form.reset(w),this.submitted=!1}_updateDomValue(){this.directives.forEach(w=>{const L=w.control,De=this.form.get(w.path);L!==De&&(Dt(L||null,w),(x=>x instanceof Mo)(De)&&(Mt(De,w,this.callSetDisabledState),w.control=De))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(w){const L=this.form.get(w.path);(function Je(x,S){ve(x,S)})(L,w),L.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(w){if(this.form){const L=this.form.get(w.path);L&&function nn(x,S){return Z(x,S)}(L,w)&&L.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ve(this.form,this),this._oldForm&&Z(this._oldForm,this)}_checkFormPresent(){}}return x.\u0275fac=function(w){return new(w||x)(d.Y36(Be,10),d.Y36(st,10),d.Y36(Xe,8))},x.\u0275dir=d.lG2({type:x,selectors:[["","formGroup",""]],hostBindings:function(w,L){1&w&&d.NdJ("submit",function(et){return L.onSubmit(et)})("reset",function(){return L.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([Ln]),d.qOj,d.TTD]}),x})();const lt={provide:Me,useExisting:(0,d.Gpc)(()=>dr)};let dr=(()=>{class x extends Me{set isDisabled(w){}constructor(w,L,De,et,pn){super(),this._ngModelWarningConfig=pn,this._added=!1,this.name=null,this.update=new d.vpe,this._ngModelWarningSent=!1,this._parent=w,this._setValidators(L),this._setAsyncValidators(De),this.valueAccessor=Bt(0,et)}ngOnChanges(w){this._added||this._setUpControl(),Nr(w,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(w){this.viewModel=w,this.update.emit(w)}get path(){return Ft(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return x._ngModelWarningSentOnce=!1,x.\u0275fac=function(w){return new(w||x)(d.Y36(bt,13),d.Y36(Be,10),d.Y36(st,10),d.Y36(he,10),d.Y36(nt,8))},x.\u0275dir=d.lG2({type:x,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[d._Bn([lt]),d.qOj,d.TTD]}),x})(),es=(()=>{class x{}return x.\u0275fac=function(w){return new(w||x)},x.\u0275mod=d.oAB({type:x}),x.\u0275inj=d.cJS({imports:[br]}),x})();class Fr extends Or{constructor(S,w,L){super(Tn(w),rr(L,w)),this.controls=S,this._initObservables(),this._setUpdateStrategy(w),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(S){return this.controls[this._adjustIndex(S)]}push(S,w={}){this.controls.push(S),this._registerControl(S),this.updateValueAndValidity({emitEvent:w.emitEvent}),this._onCollectionChange()}insert(S,w,L={}){this.controls.splice(S,0,w),this._registerControl(w),this.updateValueAndValidity({emitEvent:L.emitEvent})}removeAt(S,w={}){let L=this._adjustIndex(S);L<0&&(L=0),this.controls[L]&&this.controls[L]._registerOnCollectionChange(()=>{}),this.controls.splice(L,1),this.updateValueAndValidity({emitEvent:w.emitEvent})}setControl(S,w,L={}){let De=this._adjustIndex(S);De<0&&(De=0),this.controls[De]&&this.controls[De]._registerOnCollectionChange(()=>{}),this.controls.splice(De,1),w&&(this.controls.splice(De,0,w),this._registerControl(w)),this.updateValueAndValidity({emitEvent:L.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(S,w={}){Kt(this,0,S),S.forEach((L,De)=>{Qr(this,!1,De),this.at(De).setValue(L,{onlySelf:!0,emitEvent:w.emitEvent})}),this.updateValueAndValidity(w)}patchValue(S,w={}){null!=S&&(S.forEach((L,De)=>{this.at(De)&&this.at(De).patchValue(L,{onlySelf:!0,emitEvent:w.emitEvent})}),this.updateValueAndValidity(w))}reset(S=[],w={}){this._forEachChild((L,De)=>{L.reset(S[De],{onlySelf:!0,emitEvent:w.emitEvent})}),this._updatePristine(w),this._updateTouched(w),this.updateValueAndValidity(w)}getRawValue(){return this.controls.map(S=>S.getRawValue())}clear(S={}){this.controls.length<1||(this._forEachChild(w=>w._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:S.emitEvent}))}_adjustIndex(S){return S<0?S+this.length:S}_syncPendingControls(){let S=this.controls.reduce((w,L)=>!!L._syncPendingControls()||w,!1);return S&&this.updateValueAndValidity({onlySelf:!0}),S}_forEachChild(S){this.controls.forEach((w,L)=>{S(w,L)})}_updateValue(){this.value=this.controls.filter(S=>S.enabled||this.disabled).map(S=>S.value)}_anyControls(S){return this.controls.some(w=>w.enabled&&S(w))}_setUpControls(){this._forEachChild(S=>this._registerControl(S))}_allControlsDisabled(){for(const S of this.controls)if(S.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(S){S.setParent(this),S._registerOnCollectionChange(this._onCollectionChange)}_find(S){return this.at(S)??null}}function Oi(x){return!!x&&(void 0!==x.asyncValidators||void 0!==x.validators||void 0!==x.updateOn)}let Cs=(()=>{class x{constructor(){this.useNonNullable=!1}get nonNullable(){const w=new x;return w.useNonNullable=!0,w}group(w,L=null){const De=this._reduceControls(w);let et={};return Oi(L)?et=L:null!==L&&(et.validators=L.validator,et.asyncValidators=L.asyncValidator),new Ee(De,et)}record(w,L=null){const De=this._reduceControls(w);return new ae(De,L)}control(w,L,De){let et={};return this.useNonNullable?(Oi(L)?et=L:(et.validators=L,et.asyncValidators=De),new Mo(w,{...et,nonNullable:!0})):new Mo(w,L,De)}array(w,L,De){const et=w.map(pn=>this._createControl(pn));return new Fr(et,L,De)}_reduceControls(w){const L={};return Object.keys(w).forEach(De=>{L[De]=this._createControl(w[De])}),L}_createControl(w){return w instanceof Mo||w instanceof Or?w:Array.isArray(w)?this.control(w[0],w.length>1?w[1]:null,w.length>2?w[2]:null):this.control(w)}}return x.\u0275fac=function(w){return new(w||x)},x.\u0275prov=d.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})(),Kr=(()=>{class x{static withConfig(w){return{ngModule:x,providers:[{provide:Xe,useValue:w.callSetDisabledState??ct}]}}}return x.\u0275fac=function(w){return new(w||x)},x.\u0275mod=d.oAB({type:x}),x.\u0275inj=d.cJS({imports:[es]}),x})(),Es=(()=>{class x{static withConfig(w){return{ngModule:x,providers:[{provide:nt,useValue:w.warnOnNgModelWithFormControl??"always"},{provide:Xe,useValue:w.callSetDisabledState??ct}]}}}return x.\u0275fac=function(w){return new(w||x)},x.\u0275mod=d.oAB({type:x}),x.\u0275inj=d.cJS({imports:[es]}),x})()},6593:(rt,ye,A)=>{A.d(ye,{Dx:()=>qe,H7:()=>Ar,b2:()=>$e,q6:()=>pt});var d=A(5879),$=A(6814);class re extends $.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class K extends re{static makeCurrent(){(0,$.HT)(new K)}onAndCancel(se,G,ae){return se.addEventListener(G,ae),()=>{se.removeEventListener(G,ae)}}dispatchEvent(se,G){se.dispatchEvent(G)}remove(se){se.parentNode&&se.parentNode.removeChild(se)}createElement(se,G){return(G=G||this.getDefaultDocument()).createElement(se)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(se){return se.nodeType===Node.ELEMENT_NODE}isShadowRoot(se){return se instanceof DocumentFragment}getGlobalEventTarget(se,G){return"window"===G?window:"document"===G?se:"body"===G?se.body:null}getBaseHref(se){const G=function le(){return R=R||document.querySelector("base"),R?R.getAttribute("href"):null}();return null==G?null:function he(Ee){X=X||document.createElement("a"),X.setAttribute("href",Ee);const se=X.pathname;return"/"===se.charAt(0)?se:`/${se}`}(G)}resetBaseElement(){R=null}getUserAgent(){return window.navigator.userAgent}getCookie(se){return(0,$.Mx)(document.cookie,se)}}let X,R=null,te=(()=>{class Ee{build(){return new XMLHttpRequest}}return Ee.\u0275fac=function(G){return new(G||Ee)},Ee.\u0275prov=d.Yz7({token:Ee,factory:Ee.\u0275fac}),Ee})();const fe=new d.OlP("EventManagerPlugins");let ue=(()=>{class Ee{constructor(G,ae){this._zone=ae,this._eventNameToPlugin=new Map,G.forEach(He=>{He.manager=this}),this._plugins=G.slice().reverse()}addEventListener(G,ae,He){return this._findPluginFor(ae).addEventListener(G,ae,He)}getZone(){return this._zone}_findPluginFor(G){let ae=this._eventNameToPlugin.get(G);if(ae)return ae;if(ae=this._plugins.find(Xe=>Xe.supports(G)),!ae)throw new d.vHH(5101,!1);return this._eventNameToPlugin.set(G,ae),ae}}return Ee.\u0275fac=function(G){return new(G||Ee)(d.LFG(fe),d.LFG(d.R0b))},Ee.\u0275prov=d.Yz7({token:Ee,factory:Ee.\u0275fac}),Ee})();class Fe{constructor(se){this._doc=se}}const Te="ng-app-id";let Ae=(()=>{class Ee{constructor(G,ae,He,Xe={}){this.doc=G,this.appId=ae,this.nonce=He,this.platformId=Xe,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,$.PM)(Xe),this.resetHostNodes()}addStyles(G){for(const ae of G)1===this.changeUsageCount(ae,1)&&this.onStyleAdded(ae)}removeStyles(G){for(const ae of G)this.changeUsageCount(ae,-1)<=0&&this.onStyleRemoved(ae)}ngOnDestroy(){const G=this.styleNodesInDOM;G&&(G.forEach(ae=>ae.remove()),G.clear());for(const ae of this.getAllStyles())this.onStyleRemoved(ae);this.resetHostNodes()}addHost(G){this.hostNodes.add(G);for(const ae of this.getAllStyles())this.addStyleToHost(G,ae)}removeHost(G){this.hostNodes.delete(G)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(G){for(const ae of this.hostNodes)this.addStyleToHost(ae,G)}onStyleRemoved(G){const ae=this.styleRef;ae.get(G)?.elements?.forEach(He=>He.remove()),ae.delete(G)}collectServerRenderedStyles(){const G=this.doc.head?.querySelectorAll(`style[${Te}="${this.appId}"]`);if(G?.length){const ae=new Map;return G.forEach(He=>{null!=He.textContent&&ae.set(He.textContent,He)}),ae}return null}changeUsageCount(G,ae){const He=this.styleRef;if(He.has(G)){const Xe=He.get(G);return Xe.usage+=ae,Xe.usage}return He.set(G,{usage:ae,elements:[]}),ae}getStyleElement(G,ae){const He=this.styleNodesInDOM,Xe=He?.get(ae);if(Xe?.parentNode===G)return He.delete(ae),Xe.removeAttribute(Te),Xe;{const ct=this.doc.createElement("style");return this.nonce&&ct.setAttribute("nonce",this.nonce),ct.textContent=ae,this.platformIsServer&&ct.setAttribute(Te,this.appId),ct}}addStyleToHost(G,ae){const He=this.getStyleElement(G,ae);G.appendChild(He);const Xe=this.styleRef,ct=Xe.get(ae)?.elements;ct?ct.push(He):Xe.set(ae,{elements:[He],usage:1})}resetHostNodes(){const G=this.hostNodes;G.clear(),G.add(this.doc.head)}}return Ee.\u0275fac=function(G){return new(G||Ee)(d.LFG($.K0),d.LFG(d.AFp),d.LFG(d.Ojb,8),d.LFG(d.Lbi))},Ee.\u0275prov=d.Yz7({token:Ee,factory:Ee.\u0275fac}),Ee})();const ee={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Be=/%COMP%/g,ie=new d.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Ke(Ee,se){return se.map(G=>G.replace(Be,Ee))}let ze=(()=>{class Ee{constructor(G,ae,He,Xe,ct,Ft,Mt,Dt=null){this.eventManager=G,this.sharedStylesHost=ae,this.appId=He,this.removeStylesOnCompDestroy=Xe,this.doc=ct,this.platformId=Ft,this.ngZone=Mt,this.nonce=Dt,this.rendererByCompId=new Map,this.platformIsServer=(0,$.PM)(Ft),this.defaultRenderer=new dt(G,ct,Mt,this.platformIsServer)}createRenderer(G,ae){if(!G||!ae)return this.defaultRenderer;this.platformIsServer&&ae.encapsulation===d.ifc.ShadowDom&&(ae={...ae,encapsulation:d.ifc.Emulated});const He=this.getOrCreateRenderer(G,ae);return He instanceof Xt?He.applyToHost(G):He instanceof hn&&He.applyStyles(),He}getOrCreateRenderer(G,ae){const He=this.rendererByCompId;let Xe=He.get(ae.id);if(!Xe){const ct=this.doc,Ft=this.ngZone,Mt=this.eventManager,Dt=this.sharedStylesHost,An=this.removeStylesOnCompDestroy,Cn=this.platformIsServer;switch(ae.encapsulation){case d.ifc.Emulated:Xe=new Xt(Mt,Dt,ae,this.appId,An,ct,Ft,Cn);break;case d.ifc.ShadowDom:return new Vt(Mt,Dt,G,ae,ct,Ft,this.nonce,Cn);default:Xe=new hn(Mt,Dt,ae,An,ct,Ft,Cn)}Xe.onDestroy=()=>He.delete(ae.id),He.set(ae.id,Xe)}return Xe}ngOnDestroy(){this.rendererByCompId.clear()}}return Ee.\u0275fac=function(G){return new(G||Ee)(d.LFG(ue),d.LFG(Ae),d.LFG(d.AFp),d.LFG(ie),d.LFG($.K0),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(d.Ojb))},Ee.\u0275prov=d.Yz7({token:Ee,factory:Ee.\u0275fac}),Ee})();class dt{constructor(se,G,ae,He){this.eventManager=se,this.doc=G,this.ngZone=ae,this.platformIsServer=He,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(se,G){return G?this.doc.createElementNS(ee[G]||G,se):this.doc.createElement(se)}createComment(se){return this.doc.createComment(se)}createText(se){return this.doc.createTextNode(se)}appendChild(se,G){(Ot(se)?se.content:se).appendChild(G)}insertBefore(se,G,ae){se&&(Ot(se)?se.content:se).insertBefore(G,ae)}removeChild(se,G){se&&se.removeChild(G)}selectRootElement(se,G){let ae="string"==typeof se?this.doc.querySelector(se):se;if(!ae)throw new d.vHH(-5104,!1);return G||(ae.textContent=""),ae}parentNode(se){return se.parentNode}nextSibling(se){return se.nextSibling}setAttribute(se,G,ae,He){if(He){G=He+":"+G;const Xe=ee[He];Xe?se.setAttributeNS(Xe,G,ae):se.setAttribute(G,ae)}else se.setAttribute(G,ae)}removeAttribute(se,G,ae){if(ae){const He=ee[ae];He?se.removeAttributeNS(He,G):se.removeAttribute(`${ae}:${G}`)}else se.removeAttribute(G)}addClass(se,G){se.classList.add(G)}removeClass(se,G){se.classList.remove(G)}setStyle(se,G,ae,He){He&(d.JOm.DashCase|d.JOm.Important)?se.style.setProperty(G,ae,He&d.JOm.Important?"important":""):se.style[G]=ae}removeStyle(se,G,ae){ae&d.JOm.DashCase?se.style.removeProperty(G):se.style[G]=""}setProperty(se,G,ae){se[G]=ae}setValue(se,G){se.nodeValue=G}listen(se,G,ae){if("string"==typeof se&&!(se=(0,$.q)().getGlobalEventTarget(this.doc,se)))throw new Error(`Unsupported event target ${se} for event ${G}`);return this.eventManager.addEventListener(se,G,this.decoratePreventDefault(ae))}decoratePreventDefault(se){return G=>{if("__ngUnwrap__"===G)return se;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>se(G)):se(G))&&G.preventDefault()}}}function Ot(Ee){return"TEMPLATE"===Ee.tagName&&void 0!==Ee.content}class Vt extends dt{constructor(se,G,ae,He,Xe,ct,Ft,Mt){super(se,Xe,ct,Mt),this.sharedStylesHost=G,this.hostEl=ae,this.shadowRoot=ae.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Dt=Ke(He.id,He.styles);for(const An of Dt){const Cn=document.createElement("style");Ft&&Cn.setAttribute("nonce",Ft),Cn.textContent=An,this.shadowRoot.appendChild(Cn)}}nodeOrShadowRoot(se){return se===this.hostEl?this.shadowRoot:se}appendChild(se,G){return super.appendChild(this.nodeOrShadowRoot(se),G)}insertBefore(se,G,ae){return super.insertBefore(this.nodeOrShadowRoot(se),G,ae)}removeChild(se,G){return super.removeChild(this.nodeOrShadowRoot(se),G)}parentNode(se){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(se)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class hn extends dt{constructor(se,G,ae,He,Xe,ct,Ft,Mt){super(se,Xe,ct,Ft),this.sharedStylesHost=G,this.removeStylesOnCompDestroy=He,this.rendererUsageCount=0,this.styles=Mt?Ke(Mt,ae.styles):ae.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestroy&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Xt extends hn{constructor(se,G,ae,He,Xe,ct,Ft,Mt){const Dt=He+"-"+ae.id;super(se,G,ae,Xe,ct,Ft,Mt,Dt),this.contentAttr=function Se(Ee){return"_ngcontent-%COMP%".replace(Be,Ee)}(Dt),this.hostAttr=function We(Ee){return"_nghost-%COMP%".replace(Be,Ee)}(Dt)}applyToHost(se){this.applyStyles(),this.setAttribute(se,this.hostAttr,"")}createElement(se,G){const ae=super.createElement(se,G);return super.setAttribute(ae,this.contentAttr,""),ae}}let Hn=(()=>{class Ee extends Fe{constructor(G){super(G)}supports(G){return!0}addEventListener(G,ae,He){return G.addEventListener(ae,He,!1),()=>this.removeEventListener(G,ae,He)}removeEventListener(G,ae,He){return G.removeEventListener(ae,He)}}return Ee.\u0275fac=function(G){return new(G||Ee)(d.LFG($.K0))},Ee.\u0275prov=d.Yz7({token:Ee,factory:Ee.\u0275fac}),Ee})();const Gn=["alt","control","meta","shift"],Ce={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},we={alt:Ee=>Ee.altKey,control:Ee=>Ee.ctrlKey,meta:Ee=>Ee.metaKey,shift:Ee=>Ee.shiftKey};let J=(()=>{class Ee extends Fe{constructor(G){super(G)}supports(G){return null!=Ee.parseEventName(G)}addEventListener(G,ae,He){const Xe=Ee.parseEventName(ae),ct=Ee.eventCallback(Xe.fullKey,He,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,$.q)().onAndCancel(G,Xe.domEventName,ct))}static parseEventName(G){const ae=G.toLowerCase().split("."),He=ae.shift();if(0===ae.length||"keydown"!==He&&"keyup"!==He)return null;const Xe=Ee._normalizeKey(ae.pop());let ct="",Ft=ae.indexOf("code");if(Ft>-1&&(ae.splice(Ft,1),ct="code."),Gn.forEach(Dt=>{const An=ae.indexOf(Dt);An>-1&&(ae.splice(An,1),ct+=Dt+".")}),ct+=Xe,0!=ae.length||0===Xe.length)return null;const Mt={};return Mt.domEventName=He,Mt.fullKey=ct,Mt}static matchEventFullKeyCode(G,ae){let He=Ce[G.key]||G.key,Xe="";return ae.indexOf("code.")>-1&&(He=G.code,Xe="code."),!(null==He||!He)&&(He=He.toLowerCase()," "===He?He="space":"."===He&&(He="dot"),Gn.forEach(ct=>{ct!==He&&(0,we[ct])(G)&&(Xe+=ct+".")}),Xe+=He,Xe===ae)}static eventCallback(G,ae,He){return Xe=>{Ee.matchEventFullKeyCode(Xe,G)&&He.runGuarded(()=>ae(Xe))}}static _normalizeKey(G){return"esc"===G?"escape":G}}return Ee.\u0275fac=function(G){return new(G||Ee)(d.LFG($.K0))},Ee.\u0275prov=d.Yz7({token:Ee,factory:Ee.\u0275fac}),Ee})();const pt=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:$.bD},{provide:d.g9A,useValue:function xe(){K.makeCurrent()},multi:!0},{provide:$.K0,useFactory:function ft(){return(0,d.RDi)(document),document},deps:[]}]),bt=new d.OlP(""),Me=[{provide:d.rWj,useClass:class be{addToWindow(se){d.dqk.getAngularTestability=(ae,He=!0)=>{const Xe=se.findTestabilityInTree(ae,He);if(null==Xe)throw new d.vHH(5103,!1);return Xe},d.dqk.getAllAngularTestabilities=()=>se.getAllTestabilities(),d.dqk.getAllAngularRootElements=()=>se.getAllRootElements(),d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push(ae=>{const He=d.dqk.getAllAngularTestabilities();let Xe=He.length,ct=!1;const Ft=function(Mt){ct=ct||Mt,Xe--,0==Xe&&ae(ct)};He.forEach(Mt=>{Mt.whenStable(Ft)})})}findTestabilityInTree(se,G,ae){return null==G?null:se.getTestability(G)??(ae?(0,$.q)().isShadowRoot(G)?this.findTestabilityInTree(se,G.host,!0):this.findTestabilityInTree(se,G.parentElement,!0):null)}},deps:[]},{provide:d.lri,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]}],at=[{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function ot(){return new d.qLn},deps:[]},{provide:fe,useClass:Hn,multi:!0,deps:[$.K0,d.R0b,d.Lbi]},{provide:fe,useClass:J,multi:!0,deps:[$.K0]},ze,Ae,ue,{provide:d.FYo,useExisting:ze},{provide:$.JF,useClass:te,deps:[]},[]];let $e=(()=>{class Ee{constructor(G){}static withServerTransition(G){return{ngModule:Ee,providers:[{provide:d.AFp,useValue:G.appId}]}}}return Ee.\u0275fac=function(G){return new(G||Ee)(d.LFG(bt,12))},Ee.\u0275mod=d.oAB({type:Ee}),Ee.\u0275inj=d.cJS({providers:[...at,...Me],imports:[$.ez,d.hGG]}),Ee})(),qe=(()=>{class Ee{constructor(G){this._doc=G}getTitle(){return this._doc.title}setTitle(G){this._doc.title=G||""}}return Ee.\u0275fac=function(G){return new(G||Ee)(d.LFG($.K0))},Ee.\u0275prov=d.Yz7({token:Ee,factory:function(G){let ae=null;return ae=G?new G:function Un(){return new qe((0,d.LFG)($.K0))}(),ae},providedIn:"root"}),Ee})();typeof window<"u"&&window;let Ar=(()=>{class Ee{}return Ee.\u0275fac=function(G){return new(G||Ee)},Ee.\u0275prov=d.Yz7({token:Ee,factory:function(G){let ae=null;return ae=G?new(G||Ee):d.LFG($t),ae},providedIn:"root"}),Ee})(),$t=(()=>{class Ee extends Ar{constructor(G){super(),this._doc=G}sanitize(G,ae){if(null==ae)return null;switch(G){case d.q3G.NONE:return ae;case d.q3G.HTML:return(0,d.qzn)(ae,"HTML")?(0,d.z3N)(ae):(0,d.EiD)(this._doc,String(ae)).toString();case d.q3G.STYLE:return(0,d.qzn)(ae,"Style")?(0,d.z3N)(ae):ae;case d.q3G.SCRIPT:if((0,d.qzn)(ae,"Script"))return(0,d.z3N)(ae);throw new d.vHH(5200,!1);case d.q3G.URL:return(0,d.qzn)(ae,"URL")?(0,d.z3N)(ae):(0,d.mCW)(String(ae));case d.q3G.RESOURCE_URL:if((0,d.qzn)(ae,"ResourceURL"))return(0,d.z3N)(ae);throw new d.vHH(5201,!1);default:throw new d.vHH(5202,!1)}}bypassSecurityTrustHtml(G){return(0,d.JVY)(G)}bypassSecurityTrustStyle(G){return(0,d.L6k)(G)}bypassSecurityTrustScript(G){return(0,d.eBb)(G)}bypassSecurityTrustUrl(G){return(0,d.LAX)(G)}bypassSecurityTrustResourceUrl(G){return(0,d.pB0)(G)}}return Ee.\u0275fac=function(G){return new(G||Ee)(d.LFG($.K0))},Ee.\u0275prov=d.Yz7({token:Ee,factory:function(G){let ae=null;return ae=G?new G:function Kn(Ee){return new $t(Ee.get($.K0))}(d.LFG(d.zs3)),ae},providedIn:"root"}),Ee})()},649:(rt,ye,A)=>{A.d(ye,{gz:()=>nt,m2:()=>zn,F0:()=>qn,rH:()=>Br,Bz:()=>Os,lC:()=>gr,eV:()=>k});var d=A(5879),$=A(2664),re=A(7715),K=A(2096),R=A(5619),le=A(2572);const he=(0,A(2306).d)(y=>function(){y(this),this.name="EmptyError",this.message="no elements in sequence"});var be=A(5211),te=A(4911),fe=A(8407),ue=A(8504),Fe=A(6232),Te=A(3168),Ae=A(8645),ee=A(6814),Be=A(7398),st=A(4664),_t=A(8180),it=A(7921),ge=A(2181),ie=A(1631),Se=A(9360),We=A(8251);function Ke(y){return(0,Se.e)((D,m)=>{let b=!1;D.subscribe((0,We.x)(m,N=>{b=!0,m.next(N)},()=>{b||m.next(y),m.complete()}))})}function ze(y=dt){return(0,Se.e)((D,m)=>{let b=!1;D.subscribe((0,We.x)(m,N=>{b=!0,m.next(N)},()=>b?m.complete():m.error(y())))})}function dt(){return new he}var Ze=A(2737);function Et(y,D){const m=arguments.length>=2;return b=>b.pipe(y?(0,ge.h)((N,V)=>y(N,V,b)):Ze.y,(0,_t.q)(1),m?Ke(D):ze(()=>new he))}var Ot=A(6328),Vt=A(9397),hn=A(6306),Xt=A(6699);function Hn(y){return y<=0?()=>Fe.E:(0,Se.e)((D,m)=>{let b=[];D.subscribe((0,We.x)(m,N=>{b.push(N),y<b.length&&b.shift()},()=>{for(const N of b)m.next(N);m.complete()},void 0,()=>{b=null}))})}var we=A(4716),J=A(6196),oe=A(7537),H=A(6593);const z="primary",_e=Symbol("RouteTitle");class xe{constructor(D){this.params=D||{}}has(D){return Object.prototype.hasOwnProperty.call(this.params,D)}get(D){if(this.has(D)){const m=this.params[D];return Array.isArray(m)?m[0]:m}return null}getAll(D){if(this.has(D)){const m=this.params[D];return Array.isArray(m)?m:[m]}return[]}get keys(){return Object.keys(this.params)}}function ot(y){return new xe(y)}function ft(y,D,m){const b=m.path.split("/");if(b.length>y.length||"full"===m.pathMatch&&(D.hasChildren()||b.length<y.length))return null;const N={};for(let V=0;V<b.length;V++){const B=b[V],de=y[V];if(B.startsWith(":"))N[B.substring(1)]=de;else if(B!==de.path)return null}return{consumed:y.slice(0,b.length),posParams:N}}function pt(y,D){const m=y?Object.keys(y):void 0,b=D?Object.keys(D):void 0;if(!m||!b||m.length!=b.length)return!1;let N;for(let V=0;V<m.length;V++)if(N=m[V],!bt(y[N],D[N]))return!1;return!0}function bt(y,D){if(Array.isArray(y)&&Array.isArray(D)){if(y.length!==D.length)return!1;const m=[...y].sort(),b=[...D].sort();return m.every((N,V)=>b[V]===N)}return y===D}function Me(y){return y.length>0?y[y.length-1]:null}function at(y){return(0,$.b)(y)?y:(0,d.QGY)(y)?(0,re.D)(Promise.resolve(y)):(0,K.of)(y)}const $e={exact:function Un(y,D,m){if(!tn(y.segments,D.segments)||!Ie(y.segments,D.segments,m)||y.numberOfChildren!==D.numberOfChildren)return!1;for(const b in D.children)if(!y.children[b]||!Un(y.children[b],D.children[b],m))return!1;return!0},subset:ht},St={exact:function Qn(y,D){return pt(y,D)},subset:function qe(y,D){return Object.keys(D).length<=Object.keys(y).length&&Object.keys(D).every(m=>bt(y[m],D[m]))},ignored:()=>!0};function en(y,D,m){return $e[m.paths](y.root,D.root,m.matrixParams)&&St[m.queryParams](y.queryParams,D.queryParams)&&!("exact"===m.fragment&&y.fragment!==D.fragment)}function ht(y,D,m){return Le(y,D,D.segments,m)}function Le(y,D,m,b){if(y.segments.length>m.length){const N=y.segments.slice(0,m.length);return!(!tn(N,m)||D.hasChildren()||!Ie(N,m,b))}if(y.segments.length===m.length){if(!tn(y.segments,m)||!Ie(y.segments,m,b))return!1;for(const N in D.children)if(!y.children[N]||!ht(y.children[N],D.children[N],b))return!1;return!0}{const N=m.slice(0,y.segments.length),V=m.slice(y.segments.length);return!!(tn(y.segments,N)&&Ie(y.segments,N,b)&&y.children[z])&&Le(y.children[z],D,V,b)}}function Ie(y,D,m){return D.every((b,N)=>St[m](y[N].parameters,b.parameters))}class je{constructor(D=new Ne([],{}),m={},b=null){this.root=D,this.queryParams=m,this.fragment=b}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ot(this.queryParams)),this._queryParamMap}toString(){return on.serialize(this)}}class Ne{constructor(D,m){this.segments=D,this.children=m,this.parent=null,Object.values(m).forEach(b=>b.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Wn(this)}}class Rt{constructor(D,m){this.path=D,this.parameters=m}get parameterMap(){return this._parameterMap||(this._parameterMap=ot(this.parameters)),this._parameterMap}toString(){return fo(this)}}function tn(y,D){return y.length===D.length&&y.every((m,b)=>m.path===D[b].path)}let kt=(()=>{class y{}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=d.Yz7({token:y,factory:function(){return new bn},providedIn:"root"}),y})();class bn{parse(D){const m=new He(D);return new je(m.parseRootSegment(),m.parseQueryParams(),m.parseFragment())}serialize(D){const m=`/${Ut(D.root,!0)}`,b=function qr(y){const D=Object.keys(y).map(m=>{const b=y[m];return Array.isArray(b)?b.map(N=>`${jn(m)}=${jn(N)}`).join("&"):`${jn(m)}=${jn(b)}`}).filter(m=>!!m);return D.length?`?${D.join("&")}`:""}(D.queryParams);return`${m}${b}${"string"==typeof D.fragment?`#${function Ar(y){return encodeURI(y)}(D.fragment)}`:""}`}}const on=new bn;function Wn(y){return y.segments.map(D=>fo(D)).join("/")}function Ut(y,D){if(!y.hasChildren())return Wn(y);if(D){const m=y.children[z]?Ut(y.children[z],!1):"",b=[];return Object.entries(y.children).forEach(([N,V])=>{N!==z&&b.push(`${N}:${Ut(V,!1)}`)}),b.length>0?`${m}(${b.join("//")})`:m}{const m=function Zt(y,D){let m=[];return Object.entries(y.children).forEach(([b,N])=>{b===z&&(m=m.concat(D(N,b)))}),Object.entries(y.children).forEach(([b,N])=>{b!==z&&(m=m.concat(D(N,b)))}),m}(y,(b,N)=>N===z?[Ut(y.children[z],!1)]:[`${N}:${Ut(b,!1)}`]);return 1===Object.keys(y.children).length&&null!=y.children[z]?`${Wn(y)}/${m[0]}`:`${Wn(y)}/(${m.join("//")})`}}function ur(y){return encodeURIComponent(y).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function jn(y){return ur(y).replace(/%3B/gi,";")}function Kn(y){return ur(y).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function $t(y){return decodeURIComponent(y)}function Tn(y){return $t(y.replace(/\+/g,"%20"))}function fo(y){return`${Kn(y.path)}${function rr(y){return Object.keys(y).map(D=>`;${Kn(D)}=${Kn(y[D])}`).join("")}(y.parameters)}`}const wn=/^[^\/()?;#]+/;function Qr(y){const D=y.match(wn);return D?D[0]:""}const Kt=/^[^\/()?;=#]+/,Ee=/^[^=?&#]+/,G=/^[^&#]+/;class He{constructor(D){this.url=D,this.remaining=D}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ne([],{}):new Ne([],this.parseChildren())}parseQueryParams(){const D={};if(this.consumeOptional("?"))do{this.parseQueryParam(D)}while(this.consumeOptional("&"));return D}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const D=[];for(this.peekStartsWith("(")||D.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),D.push(this.parseSegment());let m={};this.peekStartsWith("/(")&&(this.capture("/"),m=this.parseParens(!0));let b={};return this.peekStartsWith("(")&&(b=this.parseParens(!1)),(D.length>0||Object.keys(m).length>0)&&(b[z]=new Ne(D,m)),b}parseSegment(){const D=Qr(this.remaining);if(""===D&&this.peekStartsWith(";"))throw new d.vHH(4009,!1);return this.capture(D),new Rt($t(D),this.parseMatrixParams())}parseMatrixParams(){const D={};for(;this.consumeOptional(";");)this.parseParam(D);return D}parseParam(D){const m=function Or(y){const D=y.match(Kt);return D?D[0]:""}(this.remaining);if(!m)return;this.capture(m);let b="";if(this.consumeOptional("=")){const N=Qr(this.remaining);N&&(b=N,this.capture(b))}D[$t(m)]=$t(b)}parseQueryParam(D){const m=function se(y){const D=y.match(Ee);return D?D[0]:""}(this.remaining);if(!m)return;this.capture(m);let b="";if(this.consumeOptional("=")){const B=function ae(y){const D=y.match(G);return D?D[0]:""}(this.remaining);B&&(b=B,this.capture(b))}const N=Tn(m),V=Tn(b);if(D.hasOwnProperty(N)){let B=D[N];Array.isArray(B)||(B=[B],D[N]=B),B.push(V)}else D[N]=V}parseParens(D){const m={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const b=Qr(this.remaining),N=this.remaining[b.length];if("/"!==N&&")"!==N&&";"!==N)throw new d.vHH(4010,!1);let V;b.indexOf(":")>-1?(V=b.slice(0,b.indexOf(":")),this.capture(V),this.capture(":")):D&&(V=z);const B=this.parseChildren();m[V]=1===Object.keys(B).length?B[z]:new Ne([],B),this.consumeOptional("//")}return m}peekStartsWith(D){return this.remaining.startsWith(D)}consumeOptional(D){return!!this.peekStartsWith(D)&&(this.remaining=this.remaining.substring(D.length),!0)}capture(D){if(!this.consumeOptional(D))throw new d.vHH(4011,!1)}}function Xe(y){return y.segments.length>0?new Ne([],{[z]:y}):y}function ct(y){const D={};for(const b of Object.keys(y.children)){const V=ct(y.children[b]);if(b===z&&0===V.segments.length&&V.hasChildren())for(const[B,de]of Object.entries(V.children))D[B]=de;else(V.segments.length>0||V.hasChildren())&&(D[b]=V)}return function Ft(y){if(1===y.numberOfChildren&&y.children[z]){const D=y.children[z];return new Ne(y.segments.concat(D.segments),D.children)}return y}(new Ne(y.segments,D))}function Mt(y){return y instanceof je}function An(y){let D;const N=Xe(function m(V){const B={};for(const Ge of V.children){const mt=m(Ge);B[Ge.outlet]=mt}const de=new Ne(V.url,B);return V===y&&(D=de),de}(y.root));return D??N}function Cn(y,D,m,b){let N=y;for(;N.parent;)N=N.parent;if(0===D.length)return Y(N,N,N,m,b);const V=function tt(y){if("string"==typeof y[0]&&1===y.length&&"/"===y[0])return new Qe(!0,0,y);let D=0,m=!1;const b=y.reduce((N,V,B)=>{if("object"==typeof V&&null!=V){if(V.outlets){const de={};return Object.entries(V.outlets).forEach(([Ge,mt])=>{de[Ge]="string"==typeof mt?mt.split("/"):mt}),[...N,{outlets:de}]}if(V.segmentPath)return[...N,V.segmentPath]}return"string"!=typeof V?[...N,V]:0===B?(V.split("/").forEach((de,Ge)=>{0==Ge&&"."===de||(0==Ge&&""===de?m=!0:".."===de?D++:""!=de&&N.push(de))}),N):[...N,V]},[]);return new Qe(m,D,b)}(D);if(V.toRoot())return Y(N,N,new Ne([],{}),m,b);const B=function nn(y,D,m){if(y.isAbsolute)return new Je(D,!0,0);if(!m)return new Je(D,!1,NaN);if(null===m.parent)return new Je(m,!0,0);const b=ve(y.commands[0])?0:1;return function xt(y,D,m){let b=y,N=D,V=m;for(;V>N;){if(V-=N,b=b.parent,!b)throw new d.vHH(4005,!1);N=b.segments.length}return new Je(b,!1,N-V)}(m,m.segments.length-1+b,y.numberOfDoubleDots)}(V,N,y),de=B.processChildren?Pn(B.segmentGroup,B.index,V.commands):ln(B.segmentGroup,B.index,V.commands);return Y(N,B.segmentGroup,de,m,b)}function ve(y){return"object"==typeof y&&null!=y&&!y.outlets&&!y.segmentPath}function Z(y){return"object"==typeof y&&null!=y&&y.outlets}function Y(y,D,m,b,N){let B,V={};b&&Object.entries(b).forEach(([Ge,mt])=>{V[Ge]=Array.isArray(mt)?mt.map(yt=>`${yt}`):`${mt}`}),B=y===D?m:Oe(y,D,m);const de=Xe(ct(B));return new je(de,V,N)}function Oe(y,D,m){const b={};return Object.entries(y.children).forEach(([N,V])=>{b[N]=V===D?m:Oe(V,D,m)}),new Ne(y.segments,b)}class Qe{constructor(D,m,b){if(this.isAbsolute=D,this.numberOfDoubleDots=m,this.commands=b,D&&b.length>0&&ve(b[0]))throw new d.vHH(4003,!1);const N=b.find(Z);if(N&&N!==Me(b))throw new d.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Je{constructor(D,m,b){this.segmentGroup=D,this.processChildren=m,this.index=b}}function ln(y,D,m){if(y||(y=new Ne([],{})),0===y.segments.length&&y.hasChildren())return Pn(y,D,m);const b=function hr(y,D,m){let b=0,N=D;const V={match:!1,pathIndex:0,commandIndex:0};for(;N<y.segments.length;){if(b>=m.length)return V;const B=y.segments[N],de=m[b];if(Z(de))break;const Ge=`${de}`,mt=b<m.length-1?m[b+1]:null;if(N>0&&void 0===Ge)break;if(Ge&&mt&&"object"==typeof mt&&void 0===mt.outlets){if(!Bt(Ge,mt,B))return V;b+=2}else{if(!Bt(Ge,{},B))return V;b++}N++}return{match:!0,pathIndex:N,commandIndex:b}}(y,D,m),N=m.slice(b.commandIndex);if(b.match&&b.pathIndex<y.segments.length){const V=new Ne(y.segments.slice(0,b.pathIndex),{});return V.children[z]=new Ne(y.segments.slice(b.pathIndex),y.children),Pn(V,0,N)}return b.match&&0===N.length?new Ne(y.segments,{}):b.match&&!y.hasChildren()?Nr(y,D,m):b.match?Pn(y,0,N):Nr(y,D,m)}function Pn(y,D,m){if(0===m.length)return new Ne(y.segments,{});{const b=function Yt(y){return Z(y[0])?y[0].outlets:{[z]:y}}(m),N={};if(!b[z]&&y.children[z]&&1===y.numberOfChildren&&0===y.children[z].segments.length){const V=Pn(y.children[z],D,m);return new Ne(y.segments,V.children)}return Object.entries(b).forEach(([V,B])=>{"string"==typeof B&&(B=[B]),null!==B&&(N[V]=ln(y.children[V],D,B))}),Object.entries(y.children).forEach(([V,B])=>{void 0===b[V]&&(N[V]=B)}),new Ne(y.segments,N)}}function Nr(y,D,m){const b=y.segments.slice(0,D);let N=0;for(;N<m.length;){const V=m[N];if(Z(V)){const Ge=Ur(V.outlets);return new Ne(b,Ge)}if(0===N&&ve(m[0])){b.push(new Rt(y.segments[D].path,fn(m[0]))),N++;continue}const B=Z(V)?V.outlets[z]:`${V}`,de=N<m.length-1?m[N+1]:null;B&&de&&ve(de)?(b.push(new Rt(B,fn(de))),N+=2):(b.push(new Rt(B,{})),N++)}return new Ne(b,{})}function Ur(y){const D={};return Object.entries(y).forEach(([m,b])=>{"string"==typeof b&&(b=[b]),null!==b&&(D[m]=Nr(new Ne([],{}),0,b))}),D}function fn(y){const D={};return Object.entries(y).forEach(([m,b])=>D[m]=`${b}`),D}function Bt(y,D,m){return y==m.path&&pt(D,m.parameters)}const cr="imperative";class Zn{constructor(D,m){this.id=D,this.url=m}}class Rn extends Zn{constructor(D,m,b="imperative",N=null){super(D,m),this.type=0,this.navigationTrigger=b,this.restoredState=N}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class zn extends Zn{constructor(D,m,b){super(D,m),this.urlAfterRedirects=b,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Er extends Zn{constructor(D,m,b,N){super(D,m),this.reason=b,this.code=N,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Xr extends Zn{constructor(D,m,b,N){super(D,m),this.reason=b,this.code=N,this.type=16}}class wo extends Zn{constructor(D,m,b,N){super(D,m),this.error=b,this.target=N,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Mo extends Zn{constructor(D,m,b,N){super(D,m),this.urlAfterRedirects=b,this.state=N,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ji extends Zn{constructor(D,m,b,N){super(D,m),this.urlAfterRedirects=b,this.state=N,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class eo extends Zn{constructor(D,m,b,N,V){super(D,m),this.urlAfterRedirects=b,this.state=N,this.shouldActivate=V,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class zo extends Zn{constructor(D,m,b,N){super(D,m),this.urlAfterRedirects=b,this.state=N,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ui extends Zn{constructor(D,m,b,N){super(D,m),this.urlAfterRedirects=b,this.state=N,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qi{constructor(D){this.route=D,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ya{constructor(D){this.route=D,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ci{constructor(D){this.snapshot=D,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qi{constructor(D){this.snapshot=D,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ei{constructor(D){this.snapshot=D,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $o{constructor(D){this.snapshot=D,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ti{constructor(D,m,b){this.routerEvent=D,this.position=m,this.anchor=b,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class On{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Mn,this.attachRef=null}}let Mn=(()=>{class y{constructor(){this.contexts=new Map}onChildOutletCreated(m,b){const N=this.getOrCreateContext(m);N.outlet=b,this.contexts.set(m,N)}onChildOutletDestroyed(m){const b=this.getContext(m);b&&(b.outlet=null,b.attachRef=null)}onOutletDeactivated(){const m=this.contexts;return this.contexts=new Map,m}onOutletReAttached(m){this.contexts=m}getOrCreateContext(m){let b=this.getContext(m);return b||(b=new On,this.contexts.set(m,b)),b}getContext(m){return this.contexts.get(m)||null}}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=d.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();class Pr{constructor(D){this._root=D}get root(){return this._root.value}parent(D){const m=this.pathFromRoot(D);return m.length>1?m[m.length-2]:null}children(D){const m=Xn(D,this._root);return m?m.children.map(b=>b.value):[]}firstChild(D){const m=Xn(D,this._root);return m&&m.children.length>0?m.children[0].value:null}siblings(D){const m=So(D,this._root);return m.length<2?[]:m[m.length-2].children.map(N=>N.value).filter(N=>N!==D)}pathFromRoot(D){return So(D,this._root).map(m=>m.value)}}function Xn(y,D){if(y===D.value)return D;for(const m of D.children){const b=Xn(y,m);if(b)return b}return null}function So(y,D){if(y===D.value)return[D];for(const m of D.children){const b=So(y,m);if(b.length)return b.unshift(D),b}return[]}class br{constructor(D,m){this.value=D,this.children=m}toString(){return`TreeNode(${this.value})`}}function jr(y){const D={};return y&&y.children.forEach(m=>D[m.value.outlet]=m),D}class di extends Pr{constructor(D,m){super(D),this.snapshot=m,Fn(this,D)}toString(){return this.snapshot.toString()}}function fi(y,D){const m=function kn(y,D){const B=new Ln([],{},{},"",{},z,D,null,{});return new zr("",new br(B,[]))}(0,D),b=new R.X([new Rt("",{})]),N=new R.X({}),V=new R.X({}),B=new R.X({}),de=new R.X(""),Ge=new nt(b,N,B,de,V,z,D,m.root);return Ge.snapshot=m.root,new di(new br(Ge,[]),m)}class nt{constructor(D,m,b,N,V,B,de,Ge){this.urlSubject=D,this.paramsSubject=m,this.queryParamsSubject=b,this.fragmentSubject=N,this.dataSubject=V,this.outlet=B,this.component=de,this._futureSnapshot=Ge,this.title=this.dataSubject?.pipe((0,Be.U)(mt=>mt[_e]))??(0,K.of)(void 0),this.url=D,this.params=m,this.queryParams=b,this.fragment=N,this.data=V}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Be.U)(D=>ot(D)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Be.U)(D=>ot(D)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Nt(y,D="emptyOnly"){const m=y.pathFromRoot;let b=0;if("always"!==D)for(b=m.length-1;b>=1;){const N=m[b],V=m[b-1];if(N.routeConfig&&""===N.routeConfig.path)b--;else{if(V.component)break;b--}}return function un(y){return y.reduce((D,m)=>({params:{...D.params,...m.params},data:{...D.data,...m.data},resolve:{...m.data,...D.resolve,...m.routeConfig?.data,...m._resolvedData}}),{params:{},data:{},resolve:{}})}(m.slice(b))}class Ln{get title(){return this.data?.[_e]}constructor(D,m,b,N,V,B,de,Ge,mt){this.url=D,this.params=m,this.queryParams=b,this.fragment=N,this.data=V,this.outlet=B,this.component=de,this.routeConfig=Ge,this._resolve=mt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ot(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ot(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(b=>b.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class zr extends Pr{constructor(D,m){super(m),this.url=D,Fn(this,m)}toString(){return Ht(this._root)}}function Fn(y,D){D.value._routerState=y,D.children.forEach(m=>Fn(y,m))}function Ht(y){const D=y.children.length>0?` { ${y.children.map(Ht).join(", ")} } `:"";return`${y.value}${D}`}function Sn(y){if(y.snapshot){const D=y.snapshot,m=y._futureSnapshot;y.snapshot=m,pt(D.queryParams,m.queryParams)||y.queryParamsSubject.next(m.queryParams),D.fragment!==m.fragment&&y.fragmentSubject.next(m.fragment),pt(D.params,m.params)||y.paramsSubject.next(m.params),function At(y,D){if(y.length!==D.length)return!1;for(let m=0;m<y.length;++m)if(!pt(y[m],D[m]))return!1;return!0}(D.url,m.url)||y.urlSubject.next(m.url),pt(D.data,m.data)||y.dataSubject.next(m.data)}else y.snapshot=y._futureSnapshot,y.dataSubject.next(y._futureSnapshot.data)}function pr(y,D){const m=pt(y.params,D.params)&&function In(y,D){return tn(y,D)&&y.every((m,b)=>pt(m.parameters,D[b].parameters))}(y.url,D.url);return m&&!(!y.parent!=!D.parent)&&(!y.parent||pr(y.parent,D.parent))}let gr=(()=>{class y{constructor(){this.activated=null,this._activatedRoute=null,this.name=z,this.activateEvents=new d.vpe,this.deactivateEvents=new d.vpe,this.attachEvents=new d.vpe,this.detachEvents=new d.vpe,this.parentContexts=(0,d.f3M)(Mn),this.location=(0,d.f3M)(d.s_b),this.changeDetector=(0,d.f3M)(d.sBO),this.environmentInjector=(0,d.f3M)(d.lqb),this.inputBinder=(0,d.f3M)(dr,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(m){if(m.name){const{firstChange:b,previousValue:N}=m.name;if(b)return;this.isTrackedInParentContexts(N)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(N)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(m){return this.parentContexts.getContext(m)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const m=this.parentContexts.getContext(this.name);m?.route&&(m.attachRef?this.attach(m.attachRef,m.route):this.activateWith(m.route,m.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new d.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new d.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new d.vHH(4012,!1);this.location.detach();const m=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(m.instance),m}attach(m,b){this.activated=m,this._activatedRoute=b,this.location.insert(m.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(m.instance)}deactivate(){if(this.activated){const m=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(m)}}activateWith(m,b){if(this.isActivated)throw new d.vHH(4013,!1);this._activatedRoute=m;const N=this.location,B=m.snapshot.component,de=this.parentContexts.getOrCreateContext(this.name).children,Ge=new lt(m,de,N.injector);this.activated=N.createComponent(B,{index:N.length,injector:Ge,environmentInjector:b??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return y.\u0275fac=function(m){return new(m||y)},y.\u0275dir=d.lG2({type:y,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[d.TTD]}),y})();class lt{constructor(D,m,b){this.route=D,this.childContexts=m,this.parent=b}get(D,m){return D===nt?this.route:D===Mn?this.childContexts:this.parent.get(D,m)}}const dr=new d.OlP("");let It=(()=>{class y{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(m){this.unsubscribeFromRouteData(m),this.subscribeToRouteData(m)}unsubscribeFromRouteData(m){this.outletDataSubscriptions.get(m)?.unsubscribe(),this.outletDataSubscriptions.delete(m)}subscribeToRouteData(m){const{activatedRoute:b}=m,N=(0,le.a)([b.queryParams,b.params,b.data]).pipe((0,st.w)(([V,B,de],Ge)=>(de={...V,...B,...de},0===Ge?(0,K.of)(de):Promise.resolve(de)))).subscribe(V=>{if(!m.isActivated||!m.activatedComponentRef||m.activatedRoute!==b||null===b.component)return void this.unsubscribeFromRouteData(m);const B=(0,d.qFp)(b.component);if(B)for(const{templateName:de}of B.inputs)m.activatedComponentRef.setInput(de,V[de]);else this.unsubscribeFromRouteData(m)});this.outletDataSubscriptions.set(m,N)}}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=d.Yz7({token:y,factory:y.\u0275fac}),y})();function Gt(y,D,m){if(m&&y.shouldReuseRoute(D.value,m.value.snapshot)){const b=m.value;b._futureSnapshot=D.value;const N=function xo(y,D,m){return D.children.map(b=>{for(const N of m.children)if(y.shouldReuseRoute(b.value,N.value.snapshot))return Gt(y,b,N);return Gt(y,b)})}(y,D,m);return new br(b,N)}{if(y.shouldAttach(D.value)){const V=y.retrieve(D.value);if(null!==V){const B=V.route;return B.value._futureSnapshot=D.value,B.children=D.children.map(de=>Gt(y,de)),B}}const b=function Rr(y){return new nt(new R.X(y.url),new R.X(y.params),new R.X(y.queryParams),new R.X(y.fragment),new R.X(y.data),y.outlet,y.component,y)}(D.value),N=D.children.map(V=>Gt(y,V));return new br(b,N)}}const fr="ngNavigationCancelingError";function $r(y,D){const{redirectTo:m,navigationBehaviorOptions:b}=Mt(D)?{redirectTo:D,navigationBehaviorOptions:void 0}:D,N=Io(!1,0,D);return N.url=m,N.navigationBehaviorOptions=b,N}function Io(y,D,m){const b=new Error("NavigationCancelingError: "+(y||""));return b[fr]=!0,b.cancellationCode=D,m&&(b.url=m),b}function Gr(y){return mr(y)&&Mt(y.url)}function mr(y){return y&&y[fr]}let To=(()=>{class y{}return y.\u0275fac=function(m){return new(m||y)},y.\u0275cmp=d.Xpm({type:y,selectors:[["ng-component"]],standalone:!0,features:[d.jDz],decls:1,vars:0,template:function(m,b){1&m&&d._UZ(0,"router-outlet")},dependencies:[gr],encapsulation:2}),y})();function rn(y){const D=y.children&&y.children.map(rn),m=D?{...y,children:D}:{...y};return!m.component&&!m.loadComponent&&(D||m.loadChildren)&&m.outlet&&m.outlet!==z&&(m.component=To),m}function sr(y){return y.outlet||z}function mn(y){if(!y)return null;if(y.routeConfig?._injector)return y.routeConfig._injector;for(let D=y.parent;D;D=D.parent){const m=D.routeConfig;if(m?._loadedInjector)return m._loadedInjector;if(m?._injector)return m._injector}return null}class Go{constructor(D,m,b,N,V){this.routeReuseStrategy=D,this.futureState=m,this.currState=b,this.forwardEvent=N,this.inputBindingEnabled=V}activate(D){const m=this.futureState._root,b=this.currState?this.currState._root:null;this.deactivateChildRoutes(m,b,D),Sn(this.futureState.root),this.activateChildRoutes(m,b,D)}deactivateChildRoutes(D,m,b){const N=jr(m);D.children.forEach(V=>{const B=V.value.outlet;this.deactivateRoutes(V,N[B],b),delete N[B]}),Object.values(N).forEach(V=>{this.deactivateRouteAndItsChildren(V,b)})}deactivateRoutes(D,m,b){const N=D.value,V=m?m.value:null;if(N===V)if(N.component){const B=b.getContext(N.outlet);B&&this.deactivateChildRoutes(D,m,B.children)}else this.deactivateChildRoutes(D,m,b);else V&&this.deactivateRouteAndItsChildren(m,b)}deactivateRouteAndItsChildren(D,m){D.value.component&&this.routeReuseStrategy.shouldDetach(D.value.snapshot)?this.detachAndStoreRouteSubtree(D,m):this.deactivateRouteAndOutlet(D,m)}detachAndStoreRouteSubtree(D,m){const b=m.getContext(D.value.outlet),N=b&&D.value.component?b.children:m,V=jr(D);for(const B of Object.keys(V))this.deactivateRouteAndItsChildren(V[B],N);if(b&&b.outlet){const B=b.outlet.detach(),de=b.children.onOutletDeactivated();this.routeReuseStrategy.store(D.value.snapshot,{componentRef:B,route:D,contexts:de})}}deactivateRouteAndOutlet(D,m){const b=m.getContext(D.value.outlet),N=b&&D.value.component?b.children:m,V=jr(D);for(const B of Object.keys(V))this.deactivateRouteAndItsChildren(V[B],N);b&&(b.outlet&&(b.outlet.deactivate(),b.children.onOutletDeactivated()),b.attachRef=null,b.route=null)}activateChildRoutes(D,m,b){const N=jr(m);D.children.forEach(V=>{this.activateRoutes(V,N[V.value.outlet],b),this.forwardEvent(new $o(V.value.snapshot))}),D.children.length&&this.forwardEvent(new Qi(D.value.snapshot))}activateRoutes(D,m,b){const N=D.value,V=m?m.value:null;if(Sn(N),N===V)if(N.component){const B=b.getOrCreateContext(N.outlet);this.activateChildRoutes(D,m,B.children)}else this.activateChildRoutes(D,m,b);else if(N.component){const B=b.getOrCreateContext(N.outlet);if(this.routeReuseStrategy.shouldAttach(N.snapshot)){const de=this.routeReuseStrategy.retrieve(N.snapshot);this.routeReuseStrategy.store(N.snapshot,null),B.children.onOutletReAttached(de.contexts),B.attachRef=de.componentRef,B.route=de.route.value,B.outlet&&B.outlet.attach(de.componentRef,de.route.value),Sn(de.route.value),this.activateChildRoutes(D,null,B.children)}else{const de=mn(N.snapshot);B.attachRef=null,B.route=N,B.injector=de,B.outlet&&B.outlet.activateWith(N,B.injector),this.activateChildRoutes(D,null,B.children)}}else this.activateChildRoutes(D,null,b)}}class yn{constructor(D){this.path=D,this.route=this.path[this.path.length-1]}}class No{constructor(D,m){this.component=D,this.route=m}}function Xi(y,D,m){const b=y._root;return gi(b,D?D._root:null,m,[b.value])}function kr(y,D){const m=Symbol(),b=D.get(y,m);return b===m?"function"!=typeof y||(0,d.Z0I)(y)?D.get(y):y:b}function gi(y,D,m,b,N={canDeactivateChecks:[],canActivateChecks:[]}){const V=jr(D);return y.children.forEach(B=>{(function es(y,D,m,b,N={canDeactivateChecks:[],canActivateChecks:[]}){const V=y.value,B=D?D.value:null,de=m?m.getContext(y.value.outlet):null;if(B&&V.routeConfig===B.routeConfig){const Ge=function Fr(y,D,m){if("function"==typeof m)return m(y,D);switch(m){case"pathParamsChange":return!tn(y.url,D.url);case"pathParamsOrQueryParamsChange":return!tn(y.url,D.url)||!pt(y.queryParams,D.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!pr(y,D)||!pt(y.queryParams,D.queryParams);default:return!pr(y,D)}}(B,V,V.routeConfig.runGuardsAndResolvers);Ge?N.canActivateChecks.push(new yn(b)):(V.data=B.data,V._resolvedData=B._resolvedData),gi(y,D,V.component?de?de.children:null:m,b,N),Ge&&de&&de.outlet&&de.outlet.isActivated&&N.canDeactivateChecks.push(new No(de.outlet.component,B))}else B&&ni(D,de,N),N.canActivateChecks.push(new yn(b)),gi(y,null,V.component?de?de.children:null:m,b,N)})(B,V[B.value.outlet],m,b.concat([B.value]),N),delete V[B.value.outlet]}),Object.entries(V).forEach(([B,de])=>ni(de,m.getContext(B),N)),N}function ni(y,D,m){const b=jr(y),N=y.value;Object.entries(b).forEach(([V,B])=>{ni(B,N.component?D?D.children.getContext(V):null:D,m)}),m.canDeactivateChecks.push(new No(N.component&&D&&D.outlet&&D.outlet.isActivated?D.outlet.component:null,N))}function Lr(y){return"function"==typeof y}function S(y){return y instanceof he||"EmptyError"===y?.name}const w=Symbol("INITIAL_VALUE");function L(){return(0,st.w)(y=>(0,le.a)(y.map(D=>D.pipe((0,_t.q)(1),(0,it.O)(w)))).pipe((0,Be.U)(D=>{for(const m of D)if(!0!==m){if(m===w)return w;if(!1===m||m instanceof je)return m}return!0}),(0,ge.h)(D=>D!==w),(0,_t.q)(1)))}function da(y){return(0,fe.z)((0,Vt.b)(D=>{if(Mt(D))throw $r(0,D)}),(0,Be.U)(D=>!0===D))}class ws{constructor(D){this.segmentGroup=D||null}}class Ni{constructor(D){this.urlTree=D}}function $n(y){return(0,ue._)(new ws(y))}function mi(y){return(0,ue._)(new Ni(y))}class ha{constructor(D,m){this.urlSerializer=D,this.urlTree=m}noMatchError(D){return new d.vHH(4002,!1)}lineralizeSegments(D,m){let b=[],N=m.root;for(;;){if(b=b.concat(N.segments),0===N.numberOfChildren)return(0,K.of)(b);if(N.numberOfChildren>1||!N.children[z])return(0,ue._)(new d.vHH(4e3,!1));N=N.children[z]}}applyRedirectCommands(D,m,b){return this.applyRedirectCreateUrlTree(m,this.urlSerializer.parse(m),D,b)}applyRedirectCreateUrlTree(D,m,b,N){const V=this.createSegmentGroup(D,m.root,b,N);return new je(V,this.createQueryParams(m.queryParams,this.urlTree.queryParams),m.fragment)}createQueryParams(D,m){const b={};return Object.entries(D).forEach(([N,V])=>{if("string"==typeof V&&V.startsWith(":")){const de=V.substring(1);b[N]=m[de]}else b[N]=V}),b}createSegmentGroup(D,m,b,N){const V=this.createSegments(D,m.segments,b,N);let B={};return Object.entries(m.children).forEach(([de,Ge])=>{B[de]=this.createSegmentGroup(D,Ge,b,N)}),new Ne(V,B)}createSegments(D,m,b,N){return m.map(V=>V.path.startsWith(":")?this.findPosParam(D,V,N):this.findOrReturn(V,b))}findPosParam(D,m,b){const N=b[m.path.substring(1)];if(!N)throw new d.vHH(4001,!1);return N}findOrReturn(D,m){let b=0;for(const N of m){if(N.path===D.path)return m.splice(b),N;b++}return D}}const Pi={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ri(y,D,m,b,N){const V=Wo(y,D,m);return V.matched?(b=function Wr(y,D){return y.providers&&!y._injector&&(y._injector=(0,d.MMx)(y.providers,D,`Route: ${y.path}`)),y._injector??D}(D,b),function fa(y,D,m,b){const N=D.canMatch;if(!N||0===N.length)return(0,K.of)(!0);const V=N.map(B=>{const de=kr(B,y);return at(function Kr(y){return y&&Lr(y.canMatch)}(de)?de.canMatch(D,m):y.runInContext(()=>de(D,m)))});return(0,K.of)(V).pipe(L(),da())}(b,D,m).pipe((0,Be.U)(B=>!0===B?V:{...Pi}))):(0,K.of)(V)}function Wo(y,D,m){if(""===D.path)return"full"===D.pathMatch&&(y.hasChildren()||m.length>0)?{...Pi}:{matched:!0,consumedSegments:[],remainingSegments:m,parameters:{},positionalParamSegments:{}};const N=(D.matcher||ft)(m,y,D);if(!N)return{...Pi};const V={};Object.entries(N.posParams??{}).forEach(([de,Ge])=>{V[de]=Ge.path});const B=N.consumed.length>0?{...V,...N.consumed[N.consumed.length-1].parameters}:V;return{matched:!0,consumedSegments:N.consumed,remainingSegments:m.slice(N.consumed.length),parameters:B,positionalParamSegments:N.posParams??{}}}function Ms(y,D,m,b){return m.length>0&&function Zr(y,D,m){return m.some(b=>Ko(y,D,b)&&sr(b)!==z)}(y,m,b)?{segmentGroup:new Ne(D,rs(b,new Ne(m,y.children))),slicedSegments:[]}:0===m.length&&function Ja(y,D,m){return m.some(b=>Ko(y,D,b))}(y,m,b)?{segmentGroup:new Ne(y.segments,au(y,0,m,b,y.children)),slicedSegments:m}:{segmentGroup:new Ne(y.segments,y.children),slicedSegments:m}}function au(y,D,m,b,N){const V={};for(const B of b)if(Ko(y,m,B)&&!N[sr(B)]){const de=new Ne([],{});V[sr(B)]=de}return{...N,...V}}function rs(y,D){const m={};m[z]=D;for(const b of y)if(""===b.path&&sr(b)!==z){const N=new Ne([],{});m[sr(b)]=N}return m}function Ko(y,D,m){return(!(y.hasChildren()||D.length>0)||"full"!==m.pathMatch)&&""===m.path}class Qa{constructor(D,m,b,N,V,B,de){this.injector=D,this.configLoader=m,this.rootComponentType=b,this.config=N,this.urlTree=V,this.paramsInheritanceStrategy=B,this.urlSerializer=de,this.allowRedirects=!0,this.applyRedirects=new ha(this.urlSerializer,this.urlTree)}noMatchError(D){return new d.vHH(4002,!1)}recognize(){const D=Ms(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,D,z).pipe((0,hn.K)(m=>{if(m instanceof Ni)return this.allowRedirects=!1,this.urlTree=m.urlTree,this.match(m.urlTree);throw m instanceof ws?this.noMatchError(m):m}),(0,Be.U)(m=>{const b=new Ln([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},z,this.rootComponentType,null,{}),N=new br(b,m),V=new zr("",N),B=function Dt(y,D,m=null,b=null){return Cn(An(y),D,m,b)}(b,[],this.urlTree.queryParams,this.urlTree.fragment);return B.queryParams=this.urlTree.queryParams,V.url=this.urlSerializer.serialize(B),this.inheritParamsAndData(V._root),{state:V,tree:B}}))}match(D){return this.processSegmentGroup(this.injector,this.config,D.root,z).pipe((0,hn.K)(b=>{throw b instanceof ws?this.noMatchError(b):b}))}inheritParamsAndData(D){const m=D.value,b=Nt(m,this.paramsInheritanceStrategy);m.params=Object.freeze(b.params),m.data=Object.freeze(b.data),D.children.forEach(N=>this.inheritParamsAndData(N))}processSegmentGroup(D,m,b,N){return 0===b.segments.length&&b.hasChildren()?this.processChildren(D,m,b):this.processSegment(D,m,b,b.segments,N,!0)}processChildren(D,m,b){const N=[];for(const V of Object.keys(b.children))"primary"===V?N.unshift(V):N.push(V);return(0,re.D)(N).pipe((0,Ot.b)(V=>{const B=b.children[V],de=function er(y,D){const m=y.filter(b=>sr(b)===D);return m.push(...y.filter(b=>sr(b)!==D)),m}(m,V);return this.processSegmentGroup(D,de,B,V)}),(0,Xt.R)((V,B)=>(V.push(...B),V)),Ke(null),function Gn(y,D){const m=arguments.length>=2;return b=>b.pipe(y?(0,ge.h)((N,V)=>y(N,V,b)):Ze.y,Hn(1),m?Ke(D):ze(()=>new he))}(),(0,ie.z)(V=>{if(null===V)return $n(b);const B=is(V);return function ga(y){y.sort((D,m)=>D.value.outlet===z?-1:m.value.outlet===z?1:D.value.outlet.localeCompare(m.value.outlet))}(B),(0,K.of)(B)}))}processSegment(D,m,b,N,V,B){return(0,re.D)(m).pipe((0,Ot.b)(de=>this.processSegmentAgainstRoute(de._injector??D,m,de,b,N,V,B).pipe((0,hn.K)(Ge=>{if(Ge instanceof ws)return(0,K.of)(null);throw Ge}))),Et(de=>!!de),(0,hn.K)(de=>{if(S(de))return function pa(y,D,m){return 0===D.length&&!y.children[m]}(b,N,V)?(0,K.of)([]):$n(b);throw de}))}processSegmentAgainstRoute(D,m,b,N,V,B,de){return function ki(y,D,m,b){return!!(sr(y)===b||b!==z&&Ko(D,m,y))&&("**"===y.path||Wo(D,y,m).matched)}(b,N,V,B)?void 0===b.redirectTo?this.matchSegmentAgainstRoute(D,N,b,V,B,de):de&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(D,N,m,b,V,B):$n(N):$n(N)}expandSegmentAgainstRouteUsingRedirect(D,m,b,N,V,B){return"**"===N.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(D,b,N,B):this.expandRegularSegmentAgainstRouteUsingRedirect(D,m,b,N,V,B)}expandWildCardWithParamsAgainstRouteUsingRedirect(D,m,b,N){const V=this.applyRedirects.applyRedirectCommands([],b.redirectTo,{});return b.redirectTo.startsWith("/")?mi(V):this.applyRedirects.lineralizeSegments(b,V).pipe((0,ie.z)(B=>{const de=new Ne(B,{});return this.processSegment(D,m,de,B,N,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(D,m,b,N,V,B){const{matched:de,consumedSegments:Ge,remainingSegments:mt,positionalParamSegments:yt}=Wo(m,N,V);if(!de)return $n(m);const En=this.applyRedirects.applyRedirectCommands(Ge,N.redirectTo,yt);return N.redirectTo.startsWith("/")?mi(En):this.applyRedirects.lineralizeSegments(N,En).pipe((0,ie.z)(or=>this.processSegment(D,b,m,or.concat(mt),B,!1)))}matchSegmentAgainstRoute(D,m,b,N,V,B){let de;if("**"===b.path){const Ge=N.length>0?Me(N).parameters:{},mt=new Ln(N,Ge,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Fi(b),sr(b),b.component??b._loadedComponent??null,b,xs(b));de=(0,K.of)({snapshot:mt,consumedSegments:[],remainingSegments:[]}),m.children={}}else de=Ri(m,b,N,D).pipe((0,Be.U)(({matched:Ge,consumedSegments:mt,remainingSegments:yt,parameters:En})=>Ge?{snapshot:new Ln(mt,En,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Fi(b),sr(b),b.component??b._loadedComponent??null,b,xs(b)),consumedSegments:mt,remainingSegments:yt}:null));return de.pipe((0,st.w)(Ge=>null===Ge?$n(m):this.getChildConfig(D=b._injector??D,b,N).pipe((0,st.w)(({routes:mt})=>{const yt=b._loadedInjector??D,{snapshot:En,consumedSegments:or,remainingSegments:Bi}=Ge,{segmentGroup:Vo,slicedSegments:so}=Ms(m,or,Bi,mt);if(0===so.length&&Vo.hasChildren())return this.processChildren(yt,mt,Vo).pipe((0,Be.U)(ls=>null===ls?null:[new br(En,ls)]));if(0===mt.length&&0===so.length)return(0,K.of)([new br(En,[])]);const Rs=sr(b)===V;return this.processSegment(yt,mt,Vo,so,Rs?z:V,!0).pipe((0,Be.U)(ls=>[new br(En,ls)]))}))))}getChildConfig(D,m,b){return m.children?(0,K.of)({routes:m.children,injector:D}):m.loadChildren?void 0!==m._loadedRoutes?(0,K.of)({routes:m._loadedRoutes,injector:m._loadedInjector}):function bs(y,D,m,b){const N=D.canLoad;if(void 0===N||0===N.length)return(0,K.of)(!0);const V=N.map(B=>{const de=kr(B,y);return at(function Cs(y){return y&&Lr(y.canLoad)}(de)?de.canLoad(D,m):y.runInContext(()=>de(D,m)))});return(0,K.of)(V).pipe(L(),da())}(D,m,b).pipe((0,ie.z)(N=>N?this.configLoader.loadChildren(D,m).pipe((0,Vt.b)(V=>{m._loadedRoutes=V.routes,m._loadedInjector=V.injector})):function oi(y){return(0,ue._)(Io(!1,3))}())):(0,K.of)({routes:[],injector:D})}}function Xa(y){const D=y.value.routeConfig;return D&&""===D.path}function is(y){const D=[],m=new Set;for(const b of y){if(!Xa(b)){D.push(b);continue}const N=D.find(V=>b.value.routeConfig===V.value.routeConfig);void 0!==N?(N.children.push(...b.children),m.add(N)):D.push(b)}for(const b of m){const N=is(b.children);D.push(new br(b.value,N))}return D.filter(b=>!m.has(b))}function Fi(y){return y.data||{}}function xs(y){return y.resolve||{}}function ro(y){return"string"==typeof y.title||null===y.title}function yo(y){return(0,st.w)(D=>{const m=y(D);return m?(0,re.D)(m).pipe((0,Be.U)(()=>D)):(0,K.of)(D)})}const Mr=new d.OlP("ROUTES");let vn=(()=>{class y{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,d.f3M)(d.Sil)}loadComponent(m){if(this.componentLoaders.get(m))return this.componentLoaders.get(m);if(m._loadedComponent)return(0,K.of)(m._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(m);const b=at(m.loadComponent()).pipe((0,Be.U)(E),(0,Vt.b)(V=>{this.onLoadEndListener&&this.onLoadEndListener(m),m._loadedComponent=V}),(0,we.x)(()=>{this.componentLoaders.delete(m)})),N=new Te.c(b,()=>new Ae.x).pipe((0,J.x)());return this.componentLoaders.set(m,N),N}loadChildren(m,b){if(this.childrenLoaders.get(b))return this.childrenLoaders.get(b);if(b._loadedRoutes)return(0,K.of)({routes:b._loadedRoutes,injector:b._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(b);const V=this.loadModuleFactoryOrRoutes(b.loadChildren).pipe((0,Be.U)(de=>{this.onLoadEndListener&&this.onLoadEndListener(b);let Ge,mt;return Array.isArray(de)?mt=de:(Ge=de.create(m).injector,mt=Ge.get(Mr,[],d.XFs.Self|d.XFs.Optional).flat()),{routes:mt.map(rn),injector:Ge}}),(0,we.x)(()=>{this.childrenLoaders.delete(b)})),B=new Te.c(V,()=>new Ae.x).pipe((0,J.x)());return this.childrenLoaders.set(b,B),B}loadModuleFactoryOrRoutes(m){return at(m()).pipe((0,Be.U)(E),(0,ie.z)(b=>b instanceof d.YKP||Array.isArray(b)?(0,K.of)(b):(0,re.D)(this.compiler.compileModuleAsync(b))))}}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=d.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();function E(y){return function Yo(y){return y&&"object"==typeof y&&"default"in y}(y)?y.default:y}let O=(()=>{class y{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Ae.x,this.configLoader=(0,d.f3M)(vn),this.environmentInjector=(0,d.f3M)(d.lqb),this.urlSerializer=(0,d.f3M)(kt),this.rootContexts=(0,d.f3M)(Mn),this.inputBindingEnabled=null!==(0,d.f3M)(dr,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,K.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=N=>this.events.next(new Ya(N)),this.configLoader.onLoadStartListener=N=>this.events.next(new qi(N))}complete(){this.transitions?.complete()}handleNavigationRequest(m){const b=++this.navigationId;this.transitions?.next({...this.transitions.value,...m,id:b})}setupNavigations(m){return this.transitions=new R.X({id:0,currentUrlTree:m.currentUrlTree,currentRawUrl:m.currentUrlTree,extractedUrl:m.urlHandlingStrategy.extract(m.currentUrlTree),urlAfterRedirects:m.urlHandlingStrategy.extract(m.currentUrlTree),rawUrl:m.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:cr,restoredState:null,currentSnapshot:m.routerState.snapshot,targetSnapshot:null,currentRouterState:m.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,ge.h)(b=>0!==b.id),(0,Be.U)(b=>({...b,extractedUrl:m.urlHandlingStrategy.extract(b.rawUrl)})),(0,st.w)(b=>{let N=!1,V=!1;return(0,K.of)(b).pipe((0,Vt.b)(B=>{this.currentNavigation={id:B.id,initialUrl:B.rawUrl,extractedUrl:B.extractedUrl,trigger:B.source,extras:B.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,st.w)(B=>{const de=m.browserUrlTree.toString(),Ge=!m.navigated||B.extractedUrl.toString()!==de||de!==m.currentUrlTree.toString();if(!Ge&&"reload"!==(B.extras.onSameUrlNavigation??m.onSameUrlNavigation)){const yt="";return this.events.next(new Xr(B.id,m.serializeUrl(b.rawUrl),yt,0)),m.rawUrlTree=B.rawUrl,B.resolve(null),Fe.E}if(m.urlHandlingStrategy.shouldProcessUrl(B.rawUrl))return M(B.source)&&(m.browserUrlTree=B.extractedUrl),(0,K.of)(B).pipe((0,st.w)(yt=>{const En=this.transitions?.getValue();return this.events.next(new Rn(yt.id,this.urlSerializer.serialize(yt.extractedUrl),yt.source,yt.restoredState)),En!==this.transitions?.getValue()?Fe.E:Promise.resolve(yt)}),function Yr(y,D,m,b,N,V){return(0,ie.z)(B=>function qa(y,D,m,b,N,V,B="emptyOnly"){return new Qa(y,D,m,b,N,B,V).recognize()}(y,D,m,b,B.extractedUrl,N,V).pipe((0,Be.U)(({state:de,tree:Ge})=>({...B,targetSnapshot:de,urlAfterRedirects:Ge}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,m.config,this.urlSerializer,m.paramsInheritanceStrategy),(0,Vt.b)(yt=>{if(b.targetSnapshot=yt.targetSnapshot,b.urlAfterRedirects=yt.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:yt.urlAfterRedirects},"eager"===m.urlUpdateStrategy){if(!yt.extras.skipLocationChange){const or=m.urlHandlingStrategy.merge(yt.urlAfterRedirects,yt.rawUrl);m.setBrowserUrl(or,yt)}m.browserUrlTree=yt.urlAfterRedirects}const En=new Mo(yt.id,this.urlSerializer.serialize(yt.extractedUrl),this.urlSerializer.serialize(yt.urlAfterRedirects),yt.targetSnapshot);this.events.next(En)}));if(Ge&&m.urlHandlingStrategy.shouldProcessUrl(m.rawUrlTree)){const{id:yt,extractedUrl:En,source:or,restoredState:Bi,extras:Vo}=B,so=new Rn(yt,this.urlSerializer.serialize(En),or,Bi);this.events.next(so);const Rs=fi(0,this.rootComponentType).snapshot;return b={...B,targetSnapshot:Rs,urlAfterRedirects:En,extras:{...Vo,skipLocationChange:!1,replaceUrl:!1}},(0,K.of)(b)}{const yt="";return this.events.next(new Xr(B.id,m.serializeUrl(b.extractedUrl),yt,1)),m.rawUrlTree=B.rawUrl,B.resolve(null),Fe.E}}),(0,Vt.b)(B=>{const de=new Ji(B.id,this.urlSerializer.serialize(B.extractedUrl),this.urlSerializer.serialize(B.urlAfterRedirects),B.targetSnapshot);this.events.next(de)}),(0,Be.U)(B=>b={...B,guards:Xi(B.targetSnapshot,B.currentSnapshot,this.rootContexts)}),function De(y,D){return(0,ie.z)(m=>{const{targetSnapshot:b,currentSnapshot:N,guards:{canActivateChecks:V,canDeactivateChecks:B}}=m;return 0===B.length&&0===V.length?(0,K.of)({...m,guardsResult:!0}):function et(y,D,m,b){return(0,re.D)(y).pipe((0,ie.z)(N=>function ca(y,D,m,b,N){const V=D&&D.routeConfig?D.routeConfig.canDeactivate:null;if(!V||0===V.length)return(0,K.of)(!0);const B=V.map(de=>{const Ge=mn(D)??N,mt=kr(de,Ge);return at(function Po(y){return y&&Lr(y.canDeactivate)}(mt)?mt.canDeactivate(y,D,m,b):Ge.runInContext(()=>mt(y,D,m,b))).pipe(Et())});return(0,K.of)(B).pipe(L())}(N.component,N.route,m,D,b)),Et(N=>!0!==N,!0))}(B,b,N,y).pipe((0,ie.z)(de=>de&&function Oi(y){return"boolean"==typeof y}(de)?function pn(y,D,m,b){return(0,re.D)(D).pipe((0,Ot.b)(N=>(0,be.z)(function ri(y,D){return null!==y&&D&&D(new ci(y)),(0,K.of)(!0)}(N.route.parent,b),function Yn(y,D){return null!==y&&D&&D(new ei(y)),(0,K.of)(!0)}(N.route,b),function go(y,D,m){const b=D[D.length-1],V=D.slice(0,D.length-1).reverse().map(B=>function pi(y){const D=y.routeConfig?y.routeConfig.canActivateChild:null;return D&&0!==D.length?{node:y,guards:D}:null}(B)).filter(B=>null!==B).map(B=>(0,te.P)(()=>{const de=B.guards.map(Ge=>{const mt=mn(B.node)??m,yt=kr(Ge,mt);return at(function vr(y){return y&&Lr(y.canActivateChild)}(yt)?yt.canActivateChild(b,y):mt.runInContext(()=>yt(b,y))).pipe(Et())});return(0,K.of)(de).pipe(L())}));return(0,K.of)(V).pipe(L())}(y,N.path,m),function ns(y,D,m){const b=D.routeConfig?D.routeConfig.canActivate:null;if(!b||0===b.length)return(0,K.of)(!0);const N=b.map(V=>(0,te.P)(()=>{const B=mn(D)??m,de=kr(V,B);return at(function ts(y){return y&&Lr(y.canActivate)}(de)?de.canActivate(D,y):B.runInContext(()=>de(D,y))).pipe(Et())}));return(0,K.of)(N).pipe(L())}(y,N.route,m))),Et(N=>!0!==N,!0))}(b,V,y,D):(0,K.of)(de)),(0,Be.U)(de=>({...m,guardsResult:de})))})}(this.environmentInjector,B=>this.events.next(B)),(0,Vt.b)(B=>{if(b.guardsResult=B.guardsResult,Mt(B.guardsResult))throw $r(0,B.guardsResult);const de=new eo(B.id,this.urlSerializer.serialize(B.extractedUrl),this.urlSerializer.serialize(B.urlAfterRedirects),B.targetSnapshot,!!B.guardsResult);this.events.next(de)}),(0,ge.h)(B=>!!B.guardsResult||(m.restoreHistory(B),this.cancelNavigationTransition(B,"",3),!1)),yo(B=>{if(B.guards.canActivateChecks.length)return(0,K.of)(B).pipe((0,Vt.b)(de=>{const Ge=new zo(de.id,this.urlSerializer.serialize(de.extractedUrl),this.urlSerializer.serialize(de.urlAfterRedirects),de.targetSnapshot);this.events.next(Ge)}),(0,st.w)(de=>{let Ge=!1;return(0,K.of)(de).pipe(function Is(y,D){return(0,ie.z)(m=>{const{targetSnapshot:b,guards:{canActivateChecks:N}}=m;if(!N.length)return(0,K.of)(m);let V=0;return(0,re.D)(N).pipe((0,Ot.b)(B=>function Zo(y,D,m,b){const N=y.routeConfig,V=y._resolve;return void 0!==N?.title&&!ro(N)&&(V[_e]=N.title),function mo(y,D,m,b){const N=function ii(y){return[...Object.keys(y),...Object.getOwnPropertySymbols(y)]}(y);if(0===N.length)return(0,K.of)({});const V={};return(0,re.D)(N).pipe((0,ie.z)(B=>function ma(y,D,m,b){const N=mn(D)??b,V=kr(y,N);return at(V.resolve?V.resolve(D,m):N.runInContext(()=>V(D,m)))}(y[B],D,m,b).pipe(Et(),(0,Vt.b)(de=>{V[B]=de}))),Hn(1),function Ce(y){return(0,Be.U)(()=>y)}(V),(0,hn.K)(B=>S(B)?Fe.E:(0,ue._)(B)))}(V,y,D,b).pipe((0,Be.U)(B=>(y._resolvedData=B,y.data=Nt(y,m).resolve,N&&ro(N)&&(y.data[_e]=N.title),null)))}(B.route,b,y,D)),(0,Vt.b)(()=>V++),Hn(1),(0,ie.z)(B=>V===N.length?(0,K.of)(m):Fe.E))})}(m.paramsInheritanceStrategy,this.environmentInjector),(0,Vt.b)({next:()=>Ge=!0,complete:()=>{Ge||(m.restoreHistory(de),this.cancelNavigationTransition(de,"",2))}}))}),(0,Vt.b)(de=>{const Ge=new ui(de.id,this.urlSerializer.serialize(de.extractedUrl),this.urlSerializer.serialize(de.urlAfterRedirects),de.targetSnapshot);this.events.next(Ge)}))}),yo(B=>{const de=Ge=>{const mt=[];Ge.routeConfig?.loadComponent&&!Ge.routeConfig._loadedComponent&&mt.push(this.configLoader.loadComponent(Ge.routeConfig).pipe((0,Vt.b)(yt=>{Ge.component=yt}),(0,Be.U)(()=>{})));for(const yt of Ge.children)mt.push(...de(yt));return mt};return(0,le.a)(de(B.targetSnapshot.root)).pipe(Ke(),(0,_t.q)(1))}),yo(()=>this.afterPreactivation()),(0,Be.U)(B=>{const de=function wr(y,D,m){const b=Gt(y,D._root,m?m._root:void 0);return new di(b,D)}(m.routeReuseStrategy,B.targetSnapshot,B.currentRouterState);return b={...B,targetRouterState:de}}),(0,Vt.b)(B=>{m.currentUrlTree=B.urlAfterRedirects,m.rawUrlTree=m.urlHandlingStrategy.merge(B.urlAfterRedirects,B.rawUrl),m.routerState=B.targetRouterState,"deferred"===m.urlUpdateStrategy&&(B.extras.skipLocationChange||m.setBrowserUrl(m.rawUrlTree,B),m.browserUrlTree=B.urlAfterRedirects)}),((y,D,m,b)=>(0,Be.U)(N=>(new Go(D,N.targetRouterState,N.currentRouterState,m,b).activate(y),N)))(this.rootContexts,m.routeReuseStrategy,B=>this.events.next(B),this.inputBindingEnabled),(0,_t.q)(1),(0,Vt.b)({next:B=>{N=!0,this.lastSuccessfulNavigation=this.currentNavigation,m.navigated=!0,this.events.next(new zn(B.id,this.urlSerializer.serialize(B.extractedUrl),this.urlSerializer.serialize(m.currentUrlTree))),m.titleStrategy?.updateTitle(B.targetRouterState.snapshot),B.resolve(!0)},complete:()=>{N=!0}}),(0,we.x)(()=>{N||V||this.cancelNavigationTransition(b,"",1),this.currentNavigation?.id===b.id&&(this.currentNavigation=null)}),(0,hn.K)(B=>{if(V=!0,mr(B)){Gr(B)||(m.navigated=!0,m.restoreHistory(b,!0));const de=new Er(b.id,this.urlSerializer.serialize(b.extractedUrl),B.message,B.cancellationCode);if(this.events.next(de),Gr(B)){const Ge=m.urlHandlingStrategy.merge(B.url,m.rawUrlTree),mt={skipLocationChange:b.extras.skipLocationChange,replaceUrl:"eager"===m.urlUpdateStrategy||M(b.source)};m.scheduleNavigation(Ge,cr,null,mt,{resolve:b.resolve,reject:b.reject,promise:b.promise})}else b.resolve(!1)}else{m.restoreHistory(b,!0);const de=new wo(b.id,this.urlSerializer.serialize(b.extractedUrl),B,b.targetSnapshot??void 0);this.events.next(de);try{b.resolve(m.errorHandler(B))}catch(Ge){b.reject(Ge)}}return Fe.E}))}))}cancelNavigationTransition(m,b,N){const V=new Er(m.id,this.urlSerializer.serialize(m.extractedUrl),b,N);this.events.next(V),m.resolve(!1)}}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=d.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();function M(y){return y!==cr}let k=(()=>{class y{buildTitle(m){let b,N=m.root;for(;void 0!==N;)b=this.getResolvedTitleForRoute(N)??b,N=N.children.find(V=>V.outlet===z);return b}getResolvedTitleForRoute(m){return m.data[_e]}}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=d.Yz7({token:y,factory:function(){return(0,d.f3M)(W)},providedIn:"root"}),y})(),W=(()=>{class y extends k{constructor(m){super(),this.title=m}updateTitle(m){const b=this.buildTitle(m);void 0!==b&&this.title.setTitle(b)}}return y.\u0275fac=function(m){return new(m||y)(d.LFG(H.Dx))},y.\u0275prov=d.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})(),me=(()=>{class y{}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=d.Yz7({token:y,factory:function(){return(0,d.f3M)(gt)},providedIn:"root"}),y})();class Pe{shouldDetach(D){return!1}store(D,m){}shouldAttach(D){return!1}retrieve(D){return null}shouldReuseRoute(D,m){return D.routeConfig===m.routeConfig}}let gt=(()=>{class y extends Pe{}return y.\u0275fac=function(){let D;return function(b){return(D||(D=d.n5z(y)))(b||y)}}(),y.\u0275prov=d.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();const cn=new d.OlP("",{providedIn:"root",factory:()=>({})});let Qt=(()=>{class y{}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=d.Yz7({token:y,factory:function(){return(0,d.f3M)(sn)},providedIn:"root"}),y})(),sn=(()=>{class y{shouldProcessUrl(m){return!0}extract(m){return m}merge(m,b){return m}}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=d.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();var Tt=(()=>((Tt=Tt||{})[Tt.COMPLETE=0]="COMPLETE",Tt[Tt.FAILED=1]="FAILED",Tt[Tt.REDIRECTING=2]="REDIRECTING",Tt))();function Nn(y,D){y.events.pipe((0,ge.h)(m=>m instanceof zn||m instanceof Er||m instanceof wo||m instanceof Xr),(0,Be.U)(m=>m instanceof zn||m instanceof Xr?Tt.COMPLETE:m instanceof Er&&(0===m.code||1===m.code)?Tt.REDIRECTING:Tt.FAILED),(0,ge.h)(m=>m!==Tt.REDIRECTING),(0,_t.q)(1)).subscribe(()=>{D()})}function _n(y){throw y}function Jn(y,D,m){return D.parse("/")}const Ro={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ct={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let qn=(()=>{class y{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,d.f3M)(d.c2e),this.isNgZoneEnabled=!1,this.options=(0,d.f3M)(cn,{optional:!0})||{},this.pendingTasks=(0,d.f3M)(d.HDt),this.errorHandler=this.options.errorHandler||_n,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Jn,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,d.f3M)(Qt),this.routeReuseStrategy=(0,d.f3M)(me),this.titleStrategy=(0,d.f3M)(k),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,d.f3M)(Mr,{optional:!0})?.flat()??[],this.navigationTransitions=(0,d.f3M)(O),this.urlSerializer=(0,d.f3M)(kt),this.location=(0,d.f3M)(ee.Ye),this.componentInputBindingEnabled=!!(0,d.f3M)(dr,{optional:!0}),this.isNgZoneEnabled=(0,d.f3M)(d.R0b)instanceof d.R0b&&d.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new je,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=fi(0,null),this.navigationTransitions.setupNavigations(this).subscribe(m=>{this.lastSuccessfulId=m.id,this.currentPageId=this.browserPageId??0},m=>{this.console.warn(`Unhandled Navigation Error: ${m}`)})}resetRootComponentType(m){this.routerState.root.component=m,this.navigationTransitions.rootComponentType=m}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const m=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),cr,m)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(m=>{const b="popstate"===m.type?"popstate":"hashchange";"popstate"===b&&setTimeout(()=>{this.navigateToSyncWithBrowser(m.url,b,m.state)},0)}))}navigateToSyncWithBrowser(m,b,N){const V={replaceUrl:!0},B=N?.navigationId?N:null;if(N){const Ge={...N};delete Ge.navigationId,delete Ge.\u0275routerPageId,0!==Object.keys(Ge).length&&(V.state=Ge)}const de=this.parseUrl(m);this.scheduleNavigation(de,b,B,V)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(m){this.config=m.map(rn),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(m,b={}){const{relativeTo:N,queryParams:V,fragment:B,queryParamsHandling:de,preserveFragment:Ge}=b,mt=Ge?this.currentUrlTree.fragment:B;let En,yt=null;switch(de){case"merge":yt={...this.currentUrlTree.queryParams,...V};break;case"preserve":yt=this.currentUrlTree.queryParams;break;default:yt=V||null}null!==yt&&(yt=this.removeEmptyProps(yt));try{En=An(N?N.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof m[0]||!m[0].startsWith("/"))&&(m=[]),En=this.currentUrlTree.root}return Cn(En,m,yt,mt??null)}navigateByUrl(m,b={skipLocationChange:!1}){const N=Mt(m)?m:this.parseUrl(m),V=this.urlHandlingStrategy.merge(N,this.rawUrlTree);return this.scheduleNavigation(V,cr,null,b)}navigate(m,b={skipLocationChange:!1}){return function Vr(y){for(let D=0;D<y.length;D++)if(null==y[D])throw new d.vHH(4008,!1)}(m),this.navigateByUrl(this.createUrlTree(m,b),b)}serializeUrl(m){return this.urlSerializer.serialize(m)}parseUrl(m){let b;try{b=this.urlSerializer.parse(m)}catch(N){b=this.malformedUriErrorHandler(N,this.urlSerializer,m)}return b}isActive(m,b){let N;if(N=!0===b?{...Ro}:!1===b?{...Ct}:b,Mt(m))return en(this.currentUrlTree,m,N);const V=this.parseUrl(m);return en(this.currentUrlTree,V,N)}removeEmptyProps(m){return Object.keys(m).reduce((b,N)=>{const V=m[N];return null!=V&&(b[N]=V),b},{})}scheduleNavigation(m,b,N,V,B){if(this.disposed)return Promise.resolve(!1);let de,Ge,mt;B?(de=B.resolve,Ge=B.reject,mt=B.promise):mt=new Promise((En,or)=>{de=En,Ge=or});const yt=this.pendingTasks.add();return Nn(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(yt))}),this.navigationTransitions.handleNavigationRequest({source:b,restoredState:N,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:m,extras:V,resolve:de,reject:Ge,promise:mt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),mt.catch(En=>Promise.reject(En))}setBrowserUrl(m,b){const N=this.urlSerializer.serialize(m);if(this.location.isCurrentPathEqualTo(N)||b.extras.replaceUrl){const B={...b.extras.state,...this.generateNgRouterState(b.id,this.browserPageId)};this.location.replaceState(N,"",B)}else{const V={...b.extras.state,...this.generateNgRouterState(b.id,(this.browserPageId??0)+1)};this.location.go(N,"",V)}}restoreHistory(m,b=!1){if("computed"===this.canceledNavigationResolution){const V=this.currentPageId-(this.browserPageId??this.currentPageId);0!==V?this.location.historyGo(V):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===V&&(this.resetState(m),this.browserUrlTree=m.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(b&&this.resetState(m),this.resetUrlToCurrentUrlTree())}resetState(m){this.routerState=m.currentRouterState,this.currentUrlTree=m.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,m.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(m,b){return"computed"===this.canceledNavigationResolution?{navigationId:m,\u0275routerPageId:b}:{navigationId:m}}}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=d.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})(),Br=(()=>{class y{constructor(m,b,N,V,B,de){this.router=m,this.route=b,this.tabIndexAttribute=N,this.renderer=V,this.el=B,this.locationStrategy=de,this.href=null,this.commands=null,this.onChanges=new Ae.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const Ge=B.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Ge||"area"===Ge,this.isAnchorElement?this.subscription=m.events.subscribe(mt=>{mt instanceof zn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(m){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",m)}ngOnChanges(m){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(m){null!=m?(this.commands=Array.isArray(m)?m:[m],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(m,b,N,V,B){return!!(null===this.urlTree||this.isAnchorElement&&(0!==m||b||N||V||B||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const m=null===this.href?null:(0,d.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",m)}applyAttributeValue(m,b){const N=this.renderer,V=this.el.nativeElement;null!==b?N.setAttribute(V,m,b):N.removeAttribute(V,m)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return y.\u0275fac=function(m){return new(m||y)(d.Y36(qn),d.Y36(nt),d.$8M("tabindex"),d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(ee.S$))},y.\u0275dir=d.lG2({type:y,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(m,b){1&m&&d.NdJ("click",function(V){return b.onClick(V.button,V.ctrlKey,V.shiftKey,V.altKey,V.metaKey)}),2&m&&d.uIk("target",b.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",d.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",d.VuI],replaceUrl:["replaceUrl","replaceUrl",d.VuI],routerLink:"routerLink"},standalone:!0,features:[d.Xq5,d.TTD]}),y})();class Ts{}let tl=(()=>{class y{constructor(m,b,N,V,B){this.router=m,this.injector=N,this.preloadingStrategy=V,this.loader=B}setUpPreloading(){this.subscription=this.router.events.pipe((0,ge.h)(m=>m instanceof zn),(0,Ot.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(m,b){const N=[];for(const V of b){V.providers&&!V._injector&&(V._injector=(0,d.MMx)(V.providers,m,`Route: ${V.path}`));const B=V._injector??m,de=V._loadedInjector??B;(V.loadChildren&&!V._loadedRoutes&&void 0===V.canLoad||V.loadComponent&&!V._loadedComponent)&&N.push(this.preloadConfig(B,V)),(V.children||V._loadedRoutes)&&N.push(this.processRoutes(de,V.children??V._loadedRoutes))}return(0,re.D)(N).pipe((0,oe.J)())}preloadConfig(m,b){return this.preloadingStrategy.preload(b,()=>{let N;N=b.loadChildren&&void 0===b.canLoad?this.loader.loadChildren(m,b):(0,K.of)(null);const V=N.pipe((0,ie.z)(B=>null===B?(0,K.of)(void 0):(b._loadedRoutes=B.routes,b._loadedInjector=B.injector,this.processRoutes(B.injector??m,B.routes))));if(b.loadComponent&&!b._loadedComponent){const B=this.loader.loadComponent(b);return(0,re.D)([V,B]).pipe((0,oe.J)())}return V})}}return y.\u0275fac=function(m){return new(m||y)(d.LFG(qn),d.LFG(d.Sil),d.LFG(d.lqb),d.LFG(Ts),d.LFG(vn))},y.\u0275prov=d.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();const ya=new d.OlP("");let nl=(()=>{class y{constructor(m,b,N,V,B={}){this.urlSerializer=m,this.transitions=b,this.viewportScroller=N,this.zone=V,this.options=B,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},B.scrollPositionRestoration=B.scrollPositionRestoration||"disabled",B.anchorScrolling=B.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(m=>{m instanceof Rn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=m.navigationTrigger,this.restoredId=m.restoredState?m.restoredState.navigationId:0):m instanceof zn?(this.lastId=m.id,this.scheduleScrollEvent(m,this.urlSerializer.parse(m.urlAfterRedirects).fragment)):m instanceof Xr&&0===m.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(m,this.urlSerializer.parse(m.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(m=>{m instanceof ti&&(m.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(m.position):m.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(m.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(m,b){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ti(m,"popstate"===this.lastSource?this.store[this.restoredId]:null,b))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return y.\u0275fac=function(m){d.$Z()},y.\u0275prov=d.Yz7({token:y,factory:y.\u0275fac}),y})();function jt(y,D){return{\u0275kind:y,\u0275providers:D}}function oo(){const y=(0,d.f3M)(d.zs3);return D=>{const m=y.get(d.z2F);if(D!==m.components[0])return;const b=y.get(qn),N=y.get(io);1===y.get(si)&&b.initialNavigation(),y.get(As,null,d.XFs.Optional)?.setUpPreloading(),y.get(ya,null,d.XFs.Optional)?.init(),b.resetRootComponentType(m.componentTypes[0]),N.closed||(N.next(),N.complete(),N.unsubscribe())}}const io=new d.OlP("",{factory:()=>new Ae.x}),si=new d.OlP("",{providedIn:"root",factory:()=>1}),As=new d.OlP("");function Cr(y){return jt(0,[{provide:As,useExisting:tl},{provide:Ts,useExisting:y}])}const Da=new d.OlP("ROUTER_FORROOT_GUARD"),cu=[ee.Ye,{provide:kt,useClass:bn},qn,Mn,{provide:nt,useFactory:function Ue(y){return y.routerState.root},deps:[qn]},vn,[]];function du(){return new d.PXZ("Router",qn)}let Os=(()=>{class y{constructor(m){}static forRoot(m,b){return{ngModule:y,providers:[cu,[],{provide:Mr,multi:!0,useValue:m},{provide:Da,useFactory:sl,deps:[[qn,new d.FiY,new d.tp0]]},{provide:cn,useValue:b||{}},b?.useHash?{provide:ee.S$,useClass:ee.Do}:{provide:ee.S$,useClass:ee.b0},{provide:ya,useFactory:()=>{const y=(0,d.f3M)(ee.EM),D=(0,d.f3M)(d.R0b),m=(0,d.f3M)(cn),b=(0,d.f3M)(O),N=(0,d.f3M)(kt);return m.scrollOffset&&y.setOffset(m.scrollOffset),new nl(N,b,y,D,m)}},b?.preloadingStrategy?Cr(b.preloadingStrategy).\u0275providers:[],{provide:d.PXZ,multi:!0,useFactory:du},b?.initialNavigation?Ea(b):[],b?.bindToComponentInputs?jt(8,[It,{provide:dr,useExisting:It}]).\u0275providers:[],[{provide:as,useFactory:oo},{provide:d.tb,multi:!0,useExisting:as}]]}}static forChild(m){return{ngModule:y,providers:[{provide:Mr,multi:!0,useValue:m}]}}}return y.\u0275fac=function(m){return new(m||y)(d.LFG(Da,8))},y.\u0275mod=d.oAB({type:y}),y.\u0275inj=d.cJS({}),y})();function sl(y){return"guarded"}function Ea(y){return["disabled"===y.initialNavigation?jt(3,[{provide:d.ip1,multi:!0,useFactory:()=>{const D=(0,d.f3M)(qn);return()=>{D.setUpLocationChangeListener()}}},{provide:si,useValue:2}]).\u0275providers:[],"enabledBlocking"===y.initialNavigation?jt(2,[{provide:si,useValue:0},{provide:d.ip1,multi:!0,deps:[d.zs3],useFactory:D=>{const m=D.get(ee.V_,Promise.resolve());return()=>m.then(()=>new Promise(b=>{const N=D.get(qn),V=D.get(io);Nn(N,()=>{b(!0)}),D.get(O).afterPreactivation=()=>(b(!0),V.closed?(0,K.of)(void 0):V),N.initialNavigation()}))}}]).\u0275providers:[]]}const as=new d.OlP("")},7852:(rt,ye,A)=>{A.d(ye,{D:()=>xe,e:()=>Un});var d=A(5879),$=A(6814),re=A(8645),K=A(5619),R=A(2096),le=A(5592),X=A(4674),he=A(7400);function be(qe,ht,Le){return Le?be(qe,ht).pipe((0,he.Z)(Le)):new le.y(Ie=>{const je=(...Rt)=>Ie.next(1===Rt.length?Rt[0]:Rt),Ne=qe(je);return(0,X.m)(ht)?()=>ht(je,Ne):void 0})}var te=A(2572),fe=A(8407),ue=A(3019),Fe=A(8180),Te=A(7921),Ae=A(7398),ee=A(9397),Be=A(9773),st=A(3168),_t=A(4829),it=A(9360);const ie={connector:()=>new re.x};function Se(qe,ht=ie){const{connector:Le}=ht;return(0,it.e)((Ie,je)=>{const Ne=Le();(0,_t.Xf)(qe(function ge(qe){return new le.y(ht=>qe.subscribe(ht))}(Ne))).subscribe(je),je.add(Ie.subscribe(Ne))})}var ze=A(4664),dt=A(1631),Ze=A(8251),Et=A(2737),Ot=A(2420),Vt=A(4564);function hn(...qe){const ht=(0,Vt.jO)(qe);return(0,it.e)((Le,Ie)=>{const je=qe.length,Ne=new Array(je);let Rt=qe.map(()=>!1),In=!1;for(let tn=0;tn<je;tn++)(0,_t.Xf)(qe[tn]).subscribe((0,Ze.x)(Ie,Zt=>{Ne[tn]=Zt,!In&&!Rt[tn]&&(Rt[tn]=!0,(In=Rt.every(Et.y))&&(Rt=null))},Ot.Z));Le.subscribe((0,Ze.x)(Ie,tn=>{if(In){const Zt=[tn,...Ne];Ie.next(ht?ht(...Zt):Zt)}}))})}var Xt=A(6699),Hn=A(3997);const{isArray:Gn}=Array;function Ce(qe){return 1===qe.length&&Gn(qe[0])?qe[0]:qe}function we(...qe){const ht=(0,Vt.jO)(qe);return ht?(0,fe.z)(we(...qe),(0,he.Z)(ht)):(0,it.e)((Le,Ie)=>{(0,te.l)([Le,...Ce(qe)])(Ie)})}var oe=A(2181);const H=["youtubeContainer"];let xe=(()=>{class qe{get videoId(){return this._videoId.value}set videoId(Le){this._videoId.next(Le)}get height(){return this._height.value}set height(Le){this._height.next(Le||390)}get width(){return this._width.value}set width(Le){this._width.next(Le||640)}set startSeconds(Le){this._startSeconds.next(Le)}set endSeconds(Le){this._endSeconds.next(Le)}set suggestedQuality(Le){this._suggestedQuality.next(Le)}get playerVars(){return this._playerVars.value}set playerVars(Le){this._playerVars.next(Le)}get disableCookies(){return this._disableCookies.value}set disableCookies(Le){this._disableCookies.next(!!Le)}constructor(Le,Ie){this._ngZone=Le,this._youtubeContainer=new re.x,this._destroyed=new re.x,this._playerChanges=new K.X(void 0),this._videoId=new K.X(void 0),this._height=new K.X(390),this._width=new K.X(640),this._startSeconds=new K.X(void 0),this._endSeconds=new K.X(void 0),this._suggestedQuality=new K.X(void 0),this._playerVars=new K.X(void 0),this._disableCookies=new K.X(!1),this.ready=this._getLazyEmitter("onReady"),this.stateChange=this._getLazyEmitter("onStateChange"),this.error=this._getLazyEmitter("onError"),this.apiChange=this._getLazyEmitter("onApiChange"),this.playbackQualityChange=this._getLazyEmitter("onPlaybackQualityChange"),this.playbackRateChange=this._getLazyEmitter("onPlaybackRateChange"),this._isBrowser=(0,$.NF)(Ie)}ngOnInit(){if(!this._isBrowser)return;let Le=(0,R.of)(!0);if(!window.YT||!window.YT.Player){const Ne=new re.x;this._existingApiReadyCallback=window.onYouTubeIframeAPIReady,window.onYouTubeIframeAPIReady=()=>{this._existingApiReadyCallback&&this._existingApiReadyCallback(),this._ngZone.run(()=>Ne.next(!0))},Le=Ne.pipe((0,Fe.q)(1),(0,Te.O)(!1))}const Ie=this._disableCookies.pipe((0,Ae.U)(Ne=>Ne?"https://www.youtube-nocookie.com":void 0)),je=function pt(qe,ht,Le,Ie,je,Ne,Rt,In){const tn=(0,te.a)([ht,Le,Rt]).pipe(hn((0,te.a)([je,Ne])),(0,Ae.U)(([Zt,kt])=>{const[bn,on,Wn]=Zt,[Ut,ur]=kt;if(bn||Wn?.list&&Wn?.listType)return{videoId:bn,playerVars:Wn,width:Ut,height:ur,host:on}}));return(0,te.a)([qe,tn,(0,R.of)(In)]).pipe(function bt(qe){return(0,fe.z)(we(qe),function J(qe){return(0,it.e)((ht,Le)=>{let Ie=!1,je=0;ht.subscribe((0,Ze.x)(Le,Ne=>(Ie||(Ie=!qe(Ne,je++)))&&Le.next(Ne)))})}(([ht,Le])=>!Le),(0,Ae.U)(([ht])=>ht))}(Ie),(0,Xt.R)(Me,void 0),(0,Hn.x)())}(this._youtubeContainer,this._videoId,Ie,Le,this._width,this._height,this._playerVars,this._ngZone).pipe((0,ee.b)(Ne=>{this._playerChanges.next(Ne)}),function At(qe){return(0,dt.z)(ht=>ht?St(ht)?(0,R.of)(ht):new le.y(Le=>{let Ie=!1,je=!1;const Ne=Rt=>{je=!0,Ie||(Rt.target.removeEventListener("onReady",Ne),Le.next(Rt.target))};return ht.addEventListener("onReady",Ne),()=>{Ie=!0,je||qe(ht)}}).pipe((0,Fe.q)(1),(0,Te.O)(void 0)):(0,R.of)(void 0))}(Ne=>{St(Ne)||Ne.destroy()}),(0,Be.R)(this._destroyed),function Ke(qe){return qe?ht=>Se(qe)(ht):ht=>function We(qe,ht){const Le=(0,X.m)(qe)?qe:()=>qe;return(0,X.m)(ht)?Se(ht,{connector:Le}):Ie=>new st.c(Ie,Le)}(new re.x)(ht)}());je.subscribe(Ne=>{this._player=Ne,Ne&&this._pendingPlayerState&&this._initializePlayer(Ne,this._pendingPlayerState),this._pendingPlayerState=void 0}),function ot(qe,ht,Le){(0,te.a)([qe,ht,Le]).subscribe(([Ie,je,Ne])=>Ie&&Ie.setSize(je,Ne))}(je,this._width,this._height),function ft(qe,ht){(0,te.a)([qe,ht]).subscribe(([Le,Ie])=>Le&&Ie&&Le.setPlaybackQuality(Ie))}(je,this._suggestedQuality),function at(qe,ht,Le,Ie,je,Ne){const Rt=(0,te.a)([Le,Ie]).pipe((0,Ae.U)(([kt,bn])=>({startSeconds:kt,endSeconds:bn}))),In=Rt.pipe(en(qe,kt=>!!kt&&!function $e(qe){const ht=qe.getPlayerState();return ht!==YT.PlayerState.UNSTARTED&&ht!==YT.PlayerState.CUED}(kt))),tn=ht.pipe(en(qe,(kt,bn)=>!!kt&&kt.videoId!==bn)),Zt=qe.pipe(en((0,te.a)([ht,Rt]),([kt,bn],on)=>!(!on||kt==on.videoId&&!bn.startSeconds&&!bn.endSeconds)));(0,ue.T)(Zt,tn,In).pipe(hn((0,te.a)([qe,ht,Rt,je])),(0,Ae.U)(([kt,bn])=>bn),(0,Be.R)(Ne)).subscribe(([kt,bn,on,Wn])=>{!bn||!kt||(kt.videoId=bn,kt.cueVideoById({videoId:bn,suggestedQuality:Wn,...on}))})}(je,this._videoId,this._startSeconds,this._endSeconds,this._suggestedQuality,this._destroyed),je.connect()}ngAfterViewInit(){this._youtubeContainer.next(this.youtubeContainer.nativeElement)}ngOnDestroy(){this._player&&(this._player.destroy(),window.onYouTubeIframeAPIReady=this._existingApiReadyCallback),this._playerChanges.complete(),this._videoId.complete(),this._height.complete(),this._width.complete(),this._startSeconds.complete(),this._endSeconds.complete(),this._suggestedQuality.complete(),this._youtubeContainer.complete(),this._playerVars.complete(),this._destroyed.next(),this._destroyed.complete()}playVideo(){this._player?this._player.playVideo():this._getPendingState().playbackState=YT.PlayerState.PLAYING}pauseVideo(){this._player?this._player.pauseVideo():this._getPendingState().playbackState=YT.PlayerState.PAUSED}stopVideo(){this._player?this._player.stopVideo():this._getPendingState().playbackState=YT.PlayerState.CUED}seekTo(Le,Ie){this._player?this._player.seekTo(Le,Ie):this._getPendingState().seek={seconds:Le,allowSeekAhead:Ie}}mute(){this._player?this._player.mute():this._getPendingState().muted=!0}unMute(){this._player?this._player.unMute():this._getPendingState().muted=!1}isMuted(){return this._player?this._player.isMuted():!!this._pendingPlayerState&&!!this._pendingPlayerState.muted}setVolume(Le){this._player?this._player.setVolume(Le):this._getPendingState().volume=Le}getVolume(){return this._player?this._player.getVolume():this._pendingPlayerState&&null!=this._pendingPlayerState.volume?this._pendingPlayerState.volume:0}setPlaybackRate(Le){if(this._player)return this._player.setPlaybackRate(Le);this._getPendingState().playbackRate=Le}getPlaybackRate(){return this._player?this._player.getPlaybackRate():this._pendingPlayerState&&null!=this._pendingPlayerState.playbackRate?this._pendingPlayerState.playbackRate:0}getAvailablePlaybackRates(){return this._player?this._player.getAvailablePlaybackRates():[]}getVideoLoadedFraction(){return this._player?this._player.getVideoLoadedFraction():0}getPlayerState(){if(this._isBrowser&&window.YT)return this._player?this._player.getPlayerState():this._pendingPlayerState&&null!=this._pendingPlayerState.playbackState?this._pendingPlayerState.playbackState:YT.PlayerState.UNSTARTED}getCurrentTime(){return this._player?this._player.getCurrentTime():this._pendingPlayerState&&this._pendingPlayerState.seek?this._pendingPlayerState.seek.seconds:0}getPlaybackQuality(){return this._player?this._player.getPlaybackQuality():"default"}getAvailableQualityLevels(){return this._player?this._player.getAvailableQualityLevels():[]}getDuration(){return this._player?this._player.getDuration():0}getVideoUrl(){return this._player?this._player.getVideoUrl():""}getVideoEmbedCode(){return this._player?this._player.getVideoEmbedCode():""}_getPendingState(){return this._pendingPlayerState||(this._pendingPlayerState={}),this._pendingPlayerState}_initializePlayer(Le,Ie){const{playbackState:je,playbackRate:Ne,volume:Rt,muted:In,seek:tn}=Ie;switch(je){case YT.PlayerState.PLAYING:Le.playVideo();break;case YT.PlayerState.PAUSED:Le.pauseVideo();break;case YT.PlayerState.CUED:Le.stopVideo()}null!=Ne&&Le.setPlaybackRate(Ne),null!=Rt&&Le.setVolume(Rt),null!=In&&(In?Le.mute():Le.unMute()),null!=tn&&Le.seekTo(tn.seconds,tn.allowSeekAhead)}_getLazyEmitter(Le){return this._playerChanges.pipe((0,ze.w)(Ie=>Ie?be(je=>{Ie.addEventListener(Le,je)},je=>{try{Ie.removeEventListener&&Ie.removeEventListener(Le,je)}catch{}}):(0,R.of)()),Ie=>new le.y(je=>Ie.subscribe({next:Ne=>this._ngZone.run(()=>je.next(Ne)),error:Ne=>je.error(Ne),complete:()=>je.complete()})),(0,Be.R)(this._destroyed))}}return qe.\u0275fac=function(Le){return new(Le||qe)(d.Y36(d.R0b),d.Y36(d.Lbi))},qe.\u0275cmp=d.Xpm({type:qe,selectors:[["youtube-player"]],viewQuery:function(Le,Ie){if(1&Le&&d.Gf(H,5),2&Le){let je;d.iGM(je=d.CRH())&&(Ie.youtubeContainer=je.first)}},inputs:{videoId:"videoId",height:"height",width:"width",startSeconds:"startSeconds",endSeconds:"endSeconds",suggestedQuality:"suggestedQuality",playerVars:"playerVars",disableCookies:"disableCookies",showBeforeIframeApiLoads:"showBeforeIframeApiLoads"},outputs:{ready:"ready",stateChange:"stateChange",error:"error",apiChange:"apiChange",playbackQualityChange:"playbackQualityChange",playbackRateChange:"playbackRateChange"},decls:2,vars:0,consts:[["youtubeContainer",""]],template:function(Le,Ie){1&Le&&d._UZ(0,"div",null,0)},encapsulation:2,changeDetection:0}),qe})();function Me(qe,[ht,Le,Ie]){if(qe&&Le&&(qe.playerVars!==Le.playerVars||qe.host!==Le.host))qe.destroy();else{if(!Le)return void(qe&&qe.destroy());if(qe)return qe}const je=Ie.runOutsideAngular(()=>new YT.Player(ht,Le));return je.videoId=Le.videoId,je.playerVars=Le.playerVars,je.host=Le.host,je}function St(qe){return"getPlayerStatus"in qe}function en(qe,ht){return(0,fe.z)(hn(qe),(0,oe.h)(([Le,Ie])=>ht(Ie,Le)),(0,Ae.U)(([Le])=>Le))}let Un=(()=>{class qe{}return qe.\u0275fac=function(Le){return new(Le||qe)},qe.\u0275mod=d.oAB({type:qe}),qe.\u0275inj=d.cJS({}),qe})()},3911:(rt,ye,A)=>{A.d(ye,{Zw:()=>Be,aw:()=>we,X$:()=>Ce,sK:()=>Hn});var d=A(1180),$=A(5879),re=A(2096),K=A(2664),R=A(9315),le=A(5211),X=A(4911),he=A(8180),be=A(8645);const te={now:()=>(te.delegate||Date).now(),delegate:void 0};class fe extends be.x{constructor(oe=1/0,H=1/0,z=te){super(),this._bufferSize=oe,this._windowTime=H,this._timestampProvider=z,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=H===1/0,this._bufferSize=Math.max(1,oe),this._windowTime=Math.max(1,H)}next(oe){const{isStopped:H,_buffer:z,_infiniteTimeWindow:_e,_timestampProvider:xe,_windowTime:ot}=this;H||(z.push(oe),!_e&&z.push(xe.now()+ot)),this._trimBuffer(),super.next(oe)}_subscribe(oe){this._throwIfClosed(),this._trimBuffer();const H=this._innerSubscribe(oe),{_infiniteTimeWindow:z,_buffer:_e}=this,xe=_e.slice();for(let ot=0;ot<xe.length&&!oe.closed;ot+=z?1:2)oe.next(xe[ot]);return this._checkFinalizedStatuses(oe),H}_trimBuffer(){const{_bufferSize:oe,_timestampProvider:H,_buffer:z,_infiniteTimeWindow:_e}=this,xe=(_e?1:2)*oe;if(oe<1/0&&xe<z.length&&z.splice(0,z.length-xe),!_e){const ot=H.now();let ft=0;for(let At=1;At<z.length&&z[At]<=ot;At+=2)ft=At;ft&&z.splice(0,ft+1)}}}var ue=A(3020);function Fe(J,oe,H){let z,_e=!1;return J&&"object"==typeof J?({bufferSize:z=1/0,windowTime:oe=1/0,refCount:_e=!1,scheduler:H}=J):z=J??1/0,(0,ue.B)({connector:()=>new fe(z,oe,H),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:_e})}var Te=A(7398),Ae=A(6328),ee=A(4664);class Be{}let st=(()=>{class J extends Be{getTranslation(H){return(0,re.of)({})}}return(0,d.Z)(J,"\u0275fac",function(){let oe;return function(z){return(oe||(oe=$.n5z(J)))(z||J)}}()),(0,d.Z)(J,"\u0275prov",$.Yz7({token:J,factory:J.\u0275fac})),J})();class _t{}let it=(()=>{class J{handle(H){return H.key}}return(0,d.Z)(J,"\u0275fac",function(H){return new(H||J)}),(0,d.Z)(J,"\u0275prov",$.Yz7({token:J,factory:J.\u0275fac})),J})();function ge(J,oe){if(J===oe)return!0;if(null===J||null===oe)return!1;if(J!=J&&oe!=oe)return!0;let _e,xe,ot,H=typeof J;if(H==typeof oe&&"object"==H){if(!Array.isArray(J)){if(Array.isArray(oe))return!1;for(xe in ot=Object.create(null),J){if(!ge(J[xe],oe[xe]))return!1;ot[xe]=!0}for(xe in oe)if(!(xe in ot)&&typeof oe[xe]<"u")return!1;return!0}if(!Array.isArray(oe))return!1;if((_e=J.length)==oe.length){for(xe=0;xe<_e;xe++)if(!ge(J[xe],oe[xe]))return!1;return!0}}return!1}function ie(J){return typeof J<"u"&&null!==J}function Se(J){return J&&"object"==typeof J&&!Array.isArray(J)}function We(J,oe){let H=Object.assign({},J);return Se(J)&&Se(oe)&&Object.keys(oe).forEach(z=>{Se(oe[z])?z in J?H[z]=We(J[z],oe[z]):Object.assign(H,{[z]:oe[z]}):Object.assign(H,{[z]:oe[z]})}),H}class Ke{}let ze=(()=>{class J extends Ke{constructor(...H){super(...H),(0,d.Z)(this,"templateMatcher",/{{\s?([^{}\s]*)\s?}}/g)}interpolate(H,z){let _e;return _e="string"==typeof H?this.interpolateString(H,z):"function"==typeof H?this.interpolateFunction(H,z):H,_e}getValue(H,z){let _e="string"==typeof z?z.split("."):[z];z="";do{z+=_e.shift(),!ie(H)||!ie(H[z])||"object"!=typeof H[z]&&_e.length?_e.length?z+=".":H=void 0:(H=H[z],z="")}while(_e.length);return H}interpolateFunction(H,z){return H(z)}interpolateString(H,z){return z?H.replace(this.templateMatcher,(_e,xe)=>{let ot=this.getValue(z,xe);return ie(ot)?ot:_e}):H}}return(0,d.Z)(J,"\u0275fac",function(){let oe;return function(z){return(oe||(oe=$.n5z(J)))(z||J)}}()),(0,d.Z)(J,"\u0275prov",$.Yz7({token:J,factory:J.\u0275fac})),J})();class dt{}let Ze=(()=>{class J extends dt{compile(H,z){return H}compileTranslations(H,z){return H}}return(0,d.Z)(J,"\u0275fac",function(){let oe;return function(z){return(oe||(oe=$.n5z(J)))(z||J)}}()),(0,d.Z)(J,"\u0275prov",$.Yz7({token:J,factory:J.\u0275fac})),J})();class Et{constructor(){(0,d.Z)(this,"defaultLang",void 0),(0,d.Z)(this,"currentLang",this.defaultLang),(0,d.Z)(this,"translations",{}),(0,d.Z)(this,"langs",[]),(0,d.Z)(this,"onTranslationChange",new $.vpe),(0,d.Z)(this,"onLangChange",new $.vpe),(0,d.Z)(this,"onDefaultLangChange",new $.vpe)}}const Ot=new $.OlP("USE_STORE"),Vt=new $.OlP("USE_DEFAULT_LANG"),hn=new $.OlP("DEFAULT_LANGUAGE"),Xt=new $.OlP("USE_EXTEND");let Hn=(()=>{class J{get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(H){this.isolate?this._defaultLang=H:this.store.defaultLang=H}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(H){this.isolate?this._currentLang=H:this.store.currentLang=H}get langs(){return this.isolate?this._langs:this.store.langs}set langs(H){this.isolate?this._langs=H:this.store.langs=H}get translations(){return this.isolate?this._translations:this.store.translations}set translations(H){this.isolate?this._translations=H:this.store.translations=H}constructor(H,z,_e,xe,ot,ft=!0,At=!1,pt=!1,bt){(0,d.Z)(this,"store",void 0),(0,d.Z)(this,"currentLoader",void 0),(0,d.Z)(this,"compiler",void 0),(0,d.Z)(this,"parser",void 0),(0,d.Z)(this,"missingTranslationHandler",void 0),(0,d.Z)(this,"useDefaultLang",void 0),(0,d.Z)(this,"isolate",void 0),(0,d.Z)(this,"extend",void 0),(0,d.Z)(this,"loadingTranslations",void 0),(0,d.Z)(this,"pending",!1),(0,d.Z)(this,"_onTranslationChange",new $.vpe),(0,d.Z)(this,"_onLangChange",new $.vpe),(0,d.Z)(this,"_onDefaultLangChange",new $.vpe),(0,d.Z)(this,"_defaultLang",void 0),(0,d.Z)(this,"_currentLang",void 0),(0,d.Z)(this,"_langs",[]),(0,d.Z)(this,"_translations",{}),(0,d.Z)(this,"_translationRequests",{}),this.store=H,this.currentLoader=z,this.compiler=_e,this.parser=xe,this.missingTranslationHandler=ot,this.useDefaultLang=ft,this.isolate=At,this.extend=pt,bt&&this.setDefaultLang(bt)}setDefaultLang(H){if(H===this.defaultLang)return;let z=this.retrieveTranslations(H);typeof z<"u"?(null==this.defaultLang&&(this.defaultLang=H),z.pipe((0,he.q)(1)).subscribe(_e=>{this.changeDefaultLang(H)})):this.changeDefaultLang(H)}getDefaultLang(){return this.defaultLang}use(H){if(H===this.currentLang)return(0,re.of)(this.translations[H]);let z=this.retrieveTranslations(H);return typeof z<"u"?(this.currentLang||(this.currentLang=H),z.pipe((0,he.q)(1)).subscribe(_e=>{this.changeLang(H)}),z):(this.changeLang(H),(0,re.of)(this.translations[H]))}retrieveTranslations(H){let z;return(typeof this.translations[H]>"u"||this.extend)&&(this._translationRequests[H]=this._translationRequests[H]||this.getTranslation(H),z=this._translationRequests[H]),z}getTranslation(H){this.pending=!0;const z=this.currentLoader.getTranslation(H).pipe(Fe(1),(0,he.q)(1));return this.loadingTranslations=z.pipe((0,Te.U)(_e=>this.compiler.compileTranslations(_e,H)),Fe(1),(0,he.q)(1)),this.loadingTranslations.subscribe({next:_e=>{this.translations[H]=this.extend&&this.translations[H]?{..._e,...this.translations[H]}:_e,this.updateLangs(),this.pending=!1},error:_e=>{this.pending=!1}}),z}setTranslation(H,z,_e=!1){z=this.compiler.compileTranslations(z,H),this.translations[H]=(_e||this.extend)&&this.translations[H]?We(this.translations[H],z):z,this.updateLangs(),this.onTranslationChange.emit({lang:H,translations:this.translations[H]})}getLangs(){return this.langs}addLangs(H){H.forEach(z=>{-1===this.langs.indexOf(z)&&this.langs.push(z)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(H,z,_e){let xe;if(z instanceof Array){let ot={},ft=!1;for(let At of z)ot[At]=this.getParsedResult(H,At,_e),(0,K.b)(ot[At])&&(ft=!0);if(ft){const At=z.map(pt=>(0,K.b)(ot[pt])?ot[pt]:(0,re.of)(ot[pt]));return(0,R.D)(At).pipe((0,Te.U)(pt=>{let bt={};return pt.forEach((Me,at)=>{bt[z[at]]=Me}),bt}))}return ot}if(H&&(xe=this.parser.interpolate(this.parser.getValue(H,z),_e)),typeof xe>"u"&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(xe=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],z),_e)),typeof xe>"u"){let ot={key:z,translateService:this};typeof _e<"u"&&(ot.interpolateParams=_e),xe=this.missingTranslationHandler.handle(ot)}return typeof xe<"u"?xe:z}get(H,z){if(!ie(H)||!H.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe((0,Ae.b)(_e=>(_e=this.getParsedResult(_e,H,z),(0,K.b)(_e)?_e:(0,re.of)(_e))));{let _e=this.getParsedResult(this.translations[this.currentLang],H,z);return(0,K.b)(_e)?_e:(0,re.of)(_e)}}getStreamOnTranslationChange(H,z){if(!ie(H)||!H.length)throw new Error('Parameter "key" required');return(0,le.z)((0,X.P)(()=>this.get(H,z)),this.onTranslationChange.pipe((0,ee.w)(_e=>{const xe=this.getParsedResult(_e.translations,H,z);return"function"==typeof xe.subscribe?xe:(0,re.of)(xe)})))}stream(H,z){if(!ie(H)||!H.length)throw new Error('Parameter "key" required');return(0,le.z)((0,X.P)(()=>this.get(H,z)),this.onLangChange.pipe((0,ee.w)(_e=>{const xe=this.getParsedResult(_e.translations,H,z);return(0,K.b)(xe)?xe:(0,re.of)(xe)})))}instant(H,z){if(!ie(H)||!H.length)throw new Error('Parameter "key" required');let _e=this.getParsedResult(this.translations[this.currentLang],H,z);if((0,K.b)(_e)){if(H instanceof Array){let xe={};return H.forEach((ot,ft)=>{xe[H[ft]]=H[ft]}),xe}return H}return _e}set(H,z,_e=this.currentLang){this.translations[_e][H]=this.compiler.compile(z,_e),this.updateLangs(),this.onTranslationChange.emit({lang:_e,translations:this.translations[_e]})}changeLang(H){this.currentLang=H,this.onLangChange.emit({lang:H,translations:this.translations[H]}),null==this.defaultLang&&this.changeDefaultLang(H)}changeDefaultLang(H){this.defaultLang=H,this.onDefaultLangChange.emit({lang:H,translations:this.translations[H]})}reloadLang(H){return this.resetLang(H),this.getTranslation(H)}resetLang(H){this._translationRequests[H]=void 0,this.translations[H]=void 0}getBrowserLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let H=window.navigator.languages?window.navigator.languages[0]:null;return H=H||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,typeof H>"u"?void 0:(-1!==H.indexOf("-")&&(H=H.split("-")[0]),-1!==H.indexOf("_")&&(H=H.split("_")[0]),H)}getBrowserCultureLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let H=window.navigator.languages?window.navigator.languages[0]:null;return H=H||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,H}}return(0,d.Z)(J,"\u0275fac",function(H){return new(H||J)($.LFG(Et),$.LFG(Be),$.LFG(dt),$.LFG(Ke),$.LFG(_t),$.LFG(Vt),$.LFG(Ot),$.LFG(Xt),$.LFG(hn))}),(0,d.Z)(J,"\u0275prov",$.Yz7({token:J,factory:J.\u0275fac})),J})(),Ce=(()=>{class J{constructor(H,z){(0,d.Z)(this,"translate",void 0),(0,d.Z)(this,"_ref",void 0),(0,d.Z)(this,"value",""),(0,d.Z)(this,"lastKey",null),(0,d.Z)(this,"lastParams",[]),(0,d.Z)(this,"onTranslationChange",void 0),(0,d.Z)(this,"onLangChange",void 0),(0,d.Z)(this,"onDefaultLangChange",void 0),this.translate=H,this._ref=z}updateValue(H,z,_e){let xe=ot=>{this.value=void 0!==ot?ot:H,this.lastKey=H,this._ref.markForCheck()};if(_e){let ot=this.translate.getParsedResult(_e,H,z);(0,K.b)(ot.subscribe)?ot.subscribe(xe):xe(ot)}this.translate.get(H,z).subscribe(xe)}transform(H,...z){if(!H||!H.length)return H;if(ge(H,this.lastKey)&&ge(z,this.lastParams))return this.value;let _e;if(ie(z[0])&&z.length)if("string"==typeof z[0]&&z[0].length){let xe=z[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{_e=JSON.parse(xe)}catch{throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${z[0]}`)}}else"object"==typeof z[0]&&!Array.isArray(z[0])&&(_e=z[0]);return this.lastKey=H,this.lastParams=z,this.updateValue(H,_e),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(xe=>{this.lastKey&&xe.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(H,_e,xe.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(xe=>{this.lastKey&&(this.lastKey=null,this.updateValue(H,_e,xe.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(H,_e))})),this.value}_dispose(){typeof this.onTranslationChange<"u"&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),typeof this.onLangChange<"u"&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),typeof this.onDefaultLangChange<"u"&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}}return(0,d.Z)(J,"\u0275fac",function(H){return new(H||J)($.Y36(Hn,16),$.Y36($.sBO,16))}),(0,d.Z)(J,"\u0275pipe",$.Yjl({name:"translate",type:J,pure:!1})),(0,d.Z)(J,"\u0275prov",$.Yz7({token:J,factory:J.\u0275fac})),J})(),we=(()=>{class J{static forRoot(H={}){return{ngModule:J,providers:[H.loader||{provide:Be,useClass:st},H.compiler||{provide:dt,useClass:Ze},H.parser||{provide:Ke,useClass:ze},H.missingTranslationHandler||{provide:_t,useClass:it},Et,{provide:Ot,useValue:H.isolate},{provide:Vt,useValue:H.useDefaultLang},{provide:Xt,useValue:H.extend},{provide:hn,useValue:H.defaultLanguage},Hn]}}static forChild(H={}){return{ngModule:J,providers:[H.loader||{provide:Be,useClass:st},H.compiler||{provide:dt,useClass:Ze},H.parser||{provide:Ke,useClass:ze},H.missingTranslationHandler||{provide:_t,useClass:it},{provide:Ot,useValue:H.isolate},{provide:Vt,useValue:H.useDefaultLang},{provide:Xt,useValue:H.extend},{provide:hn,useValue:H.defaultLanguage},Hn]}}}return(0,d.Z)(J,"\u0275fac",function(H){return new(H||J)}),(0,d.Z)(J,"\u0275mod",$.oAB({type:J})),(0,d.Z)(J,"\u0275inj",$.cJS({})),J})()},8915:(rt,ye,A)=>{A.d(ye,{ML:()=>za,Mn:()=>ym,tP:()=>Nl,FP:()=>dc});var d=A(5879),$=A(6223),re=A(8645),K=A(2664),R=A(2096),le=A(9773);const te=s=>{const t=(s=>{const t={};return Object.keys(s).forEach(r=>{s[r]&&(t[r]=s[r])}),t})(s);return Object.entries(t).map(([r,i])=>`${(s=>s.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`))(r)}:${i}`).join(";")};class fe extends Error{constructor(t){super(t),this.name=this.constructor.name}}function ue(s){this.content=s}ue.prototype={constructor:ue,find:function(s){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===s)return t;return-1},get:function(s){var t=this.find(s);return-1==t?void 0:this.content[t+1]},update:function(s,t,r){var i=r&&r!=s?this.remove(r):this,l=i.find(s),c=i.content.slice();return-1==l?c.push(r||s,t):(c[l+1]=t,r&&(c[l]=r)),new ue(c)},remove:function(s){var t=this.find(s);if(-1==t)return this;var r=this.content.slice();return r.splice(t,2),new ue(r)},addToStart:function(s,t){return new ue([s,t].concat(this.remove(s).content))},addToEnd:function(s,t){var r=this.remove(s).content.slice();return r.push(s,t),new ue(r)},addBefore:function(s,t,r){var i=this.remove(t),l=i.content.slice(),c=i.find(s);return l.splice(-1==c?l.length:c,0,t,r),new ue(l)},forEach:function(s){for(var t=0;t<this.content.length;t+=2)s(this.content[t],this.content[t+1])},prepend:function(s){return(s=ue.from(s)).size?new ue(s.content.concat(this.subtract(s).content)):this},append:function(s){return(s=ue.from(s)).size?new ue(this.subtract(s).content.concat(s.content)):this},subtract:function(s){var t=this;s=ue.from(s);for(var r=0;r<s.content.length;r+=2)t=t.remove(s.content[r]);return t},toObject:function(){var s={};return this.forEach(function(t,r){s[t]=r}),s},get size(){return this.content.length>>1}},ue.from=function(s){if(s instanceof ue)return s;var t=[];if(s)for(var r in s)t.push(r,s[r]);return new ue(t)};const Fe=ue;function Te(s,t,r){for(let i=0;;i++){if(i==s.childCount||i==t.childCount)return s.childCount==t.childCount?null:r;let l=s.child(i),c=t.child(i);if(l!=c){if(!l.sameMarkup(c))return r;if(l.isText&&l.text!=c.text){for(let h=0;l.text[h]==c.text[h];h++)r++;return r}if(l.content.size||c.content.size){let h=Te(l.content,c.content,r+1);if(null!=h)return h}r+=l.nodeSize}else r+=l.nodeSize}}function Ae(s,t,r,i){for(let l=s.childCount,c=t.childCount;;){if(0==l||0==c)return l==c?null:{a:r,b:i};let h=s.child(--l),g=t.child(--c),_=h.nodeSize;if(h!=g){if(!h.sameMarkup(g))return{a:r,b:i};if(h.isText&&h.text!=g.text){let I=0,P=Math.min(h.text.length,g.text.length);for(;I<P&&h.text[h.text.length-I-1]==g.text[g.text.length-I-1];)I++,r--,i--;return{a:r,b:i}}if(h.content.size||g.content.size){let I=Ae(h.content,g.content,r-1,i-1);if(I)return I}r-=_,i-=_}else r-=_,i-=_}}class ee{constructor(t,r){if(this.content=t,this.size=r||0,null==r)for(let i=0;i<t.length;i++)this.size+=t[i].nodeSize}nodesBetween(t,r,i,l=0,c){for(let h=0,g=0;g<r;h++){let _=this.content[h],I=g+_.nodeSize;if(I>t&&!1!==i(_,l+g,c||null,h)&&_.content.size){let P=g+1;_.nodesBetween(Math.max(0,t-P),Math.min(_.content.size,r-P),i,l+P)}g=I}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,r,i,l){let c="",h=!0;return this.nodesBetween(t,r,(g,_)=>{g.isText?(c+=g.text.slice(Math.max(t,_)-_,r-_),h=!i):g.isLeaf?(l?c+="function"==typeof l?l(g):l:g.type.spec.leafText&&(c+=g.type.spec.leafText(g)),h=!i):!h&&g.isBlock&&(c+=i,h=!0)},0),c}append(t){if(!t.size)return this;if(!this.size)return t;let r=this.lastChild,i=t.firstChild,l=this.content.slice(),c=0;for(r.isText&&r.sameMarkup(i)&&(l[l.length-1]=r.withText(r.text+i.text),c=1);c<t.content.length;c++)l.push(t.content[c]);return new ee(l,this.size+t.size)}cut(t,r=this.size){if(0==t&&r==this.size)return this;let i=[],l=0;if(r>t)for(let c=0,h=0;h<r;c++){let g=this.content[c],_=h+g.nodeSize;_>t&&((h<t||_>r)&&(g=g.isText?g.cut(Math.max(0,t-h),Math.min(g.text.length,r-h)):g.cut(Math.max(0,t-h-1),Math.min(g.content.size,r-h-1))),i.push(g),l+=g.nodeSize),h=_}return new ee(i,l)}cutByIndex(t,r){return t==r?ee.empty:0==t&&r==this.content.length?this:new ee(this.content.slice(t,r))}replaceChild(t,r){let i=this.content[t];if(i==r)return this;let l=this.content.slice(),c=this.size+r.nodeSize-i.nodeSize;return l[t]=r,new ee(l,c)}addToStart(t){return new ee([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new ee(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let r=0;r<this.content.length;r++)if(!this.content[r].eq(t.content[r]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let r=this.content[t];if(!r)throw new RangeError("Index "+t+" out of range for "+this);return r}maybeChild(t){return this.content[t]||null}forEach(t){for(let r=0,i=0;r<this.content.length;r++){let l=this.content[r];t(l,i,r),i+=l.nodeSize}}findDiffStart(t,r=0){return Te(this,t,r)}findDiffEnd(t,r=this.size,i=t.size){return Ae(this,t,r,i)}findIndex(t,r=-1){if(0==t)return st(0,t);if(t==this.size)return st(this.content.length,t);if(t>this.size||t<0)throw new RangeError(`Position ${t} outside of fragment (${this})`);for(let i=0,l=0;;i++){let h=l+this.child(i).nodeSize;if(h>=t)return h==t||r>0?st(i+1,h):st(i,l);l=h}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(t=>t.toJSON()):null}static fromJSON(t,r){if(!r)return ee.empty;if(!Array.isArray(r))throw new RangeError("Invalid input for Fragment.fromJSON");return new ee(r.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return ee.empty;let r,i=0;for(let l=0;l<t.length;l++){let c=t[l];i+=c.nodeSize,l&&c.isText&&t[l-1].sameMarkup(c)?(r||(r=t.slice(0,l)),r[r.length-1]=c.withText(r[r.length-1].text+c.text)):r&&r.push(c)}return new ee(r||t,i)}static from(t){if(!t)return ee.empty;if(t instanceof ee)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new ee([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}ee.empty=new ee([],0);const Be={index:0,offset:0};function st(s,t){return Be.index=s,Be.offset=t,Be}function _t(s,t){if(s===t)return!0;if(!s||"object"!=typeof s||!t||"object"!=typeof t)return!1;let r=Array.isArray(s);if(Array.isArray(t)!=r)return!1;if(r){if(s.length!=t.length)return!1;for(let i=0;i<s.length;i++)if(!_t(s[i],t[i]))return!1}else{for(let i in s)if(!(i in t)||!_t(s[i],t[i]))return!1;for(let i in t)if(!(i in s))return!1}return!0}let it=(()=>{class s{constructor(r,i){this.type=r,this.attrs=i}addToSet(r){let i,l=!1;for(let c=0;c<r.length;c++){let h=r[c];if(this.eq(h))return r;if(this.type.excludes(h.type))i||(i=r.slice(0,c));else{if(h.type.excludes(this.type))return r;!l&&h.type.rank>this.type.rank&&(i||(i=r.slice(0,c)),i.push(this),l=!0),i&&i.push(h)}}return i||(i=r.slice()),l||i.push(this),i}removeFromSet(r){for(let i=0;i<r.length;i++)if(this.eq(r[i]))return r.slice(0,i).concat(r.slice(i+1));return r}isInSet(r){for(let i=0;i<r.length;i++)if(this.eq(r[i]))return!0;return!1}eq(r){return this==r||this.type==r.type&&_t(this.attrs,r.attrs)}toJSON(){let r={type:this.type.name};for(let i in this.attrs){r.attrs=this.attrs;break}return r}static fromJSON(r,i){if(!i)throw new RangeError("Invalid input for Mark.fromJSON");let l=r.marks[i.type];if(!l)throw new RangeError(`There is no mark type ${i.type} in this schema`);return l.create(i.attrs)}static sameSet(r,i){if(r==i)return!0;if(r.length!=i.length)return!1;for(let l=0;l<r.length;l++)if(!r[l].eq(i[l]))return!1;return!0}static setFrom(r){if(!r||Array.isArray(r)&&0==r.length)return s.none;if(r instanceof s)return[r];let i=r.slice();return i.sort((l,c)=>l.type.rank-c.type.rank),i}}return s.none=[],s})();class ge extends Error{}class ie{constructor(t,r,i){this.content=t,this.openStart=r,this.openEnd=i}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,r){let i=We(this.content,t+this.openStart,r);return i&&new ie(i,this.openStart,this.openEnd)}removeBetween(t,r){return new ie(Se(this.content,t+this.openStart,r+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,r){if(!r)return ie.empty;let i=r.openStart||0,l=r.openEnd||0;if("number"!=typeof i||"number"!=typeof l)throw new RangeError("Invalid input for Slice.fromJSON");return new ie(ee.fromJSON(t,r.content),i,l)}static maxOpen(t,r=!0){let i=0,l=0;for(let c=t.firstChild;c&&!c.isLeaf&&(r||!c.type.spec.isolating);c=c.firstChild)i++;for(let c=t.lastChild;c&&!c.isLeaf&&(r||!c.type.spec.isolating);c=c.lastChild)l++;return new ie(t,i,l)}}function Se(s,t,r){let{index:i,offset:l}=s.findIndex(t),c=s.maybeChild(i),{index:h,offset:g}=s.findIndex(r);if(l==t||c.isText){if(g!=r&&!s.child(h).isText)throw new RangeError("Removing non-flat range");return s.cut(0,t).append(s.cut(r))}if(i!=h)throw new RangeError("Removing non-flat range");return s.replaceChild(i,c.copy(Se(c.content,t-l-1,r-l-1)))}function We(s,t,r,i){let{index:l,offset:c}=s.findIndex(t),h=s.maybeChild(l);if(c==t||h.isText)return i&&!i.canReplace(l,l,r)?null:s.cut(0,t).append(r).append(s.cut(t));let g=We(h.content,t-c-1,r);return g&&s.replaceChild(l,h.copy(g))}function Ke(s,t,r){if(r.openStart>s.depth)throw new ge("Inserted content deeper than insertion position");if(s.depth-r.openStart!=t.depth-r.openEnd)throw new ge("Inconsistent open depths");return ze(s,t,r,0)}function ze(s,t,r,i){let l=s.index(i),c=s.node(i);if(l==t.index(i)&&i<s.depth-r.openStart){let h=ze(s,t,r,i+1);return c.copy(c.content.replaceChild(l,h))}if(r.content.size){if(r.openStart||r.openEnd||s.depth!=i||t.depth!=i){let{start:h,end:g}=function Hn(s,t){let r=t.depth-s.openStart,l=t.node(r).copy(s.content);for(let c=r-1;c>=0;c--)l=t.node(c).copy(ee.from(l));return{start:l.resolveNoCache(s.openStart+r),end:l.resolveNoCache(l.content.size-s.openEnd-r)}}(r,s);return Vt(c,hn(s,h,g,t,i))}{let h=s.parent,g=h.content;return Vt(h,g.cut(0,s.parentOffset).append(r.content).append(g.cut(t.parentOffset)))}}return Vt(c,Xt(s,t,i))}function dt(s,t){if(!t.type.compatibleContent(s.type))throw new ge("Cannot join "+t.type.name+" onto "+s.type.name)}function Ze(s,t,r){let i=s.node(r);return dt(i,t.node(r)),i}function Et(s,t){let r=t.length-1;r>=0&&s.isText&&s.sameMarkup(t[r])?t[r]=s.withText(t[r].text+s.text):t.push(s)}function Ot(s,t,r,i){let l=(t||s).node(r),c=0,h=t?t.index(r):l.childCount;s&&(c=s.index(r),s.depth>r?c++:s.textOffset&&(Et(s.nodeAfter,i),c++));for(let g=c;g<h;g++)Et(l.child(g),i);t&&t.depth==r&&t.textOffset&&Et(t.nodeBefore,i)}function Vt(s,t){return s.type.checkContent(t),s.copy(t)}function hn(s,t,r,i,l){let c=s.depth>l&&Ze(s,t,l+1),h=i.depth>l&&Ze(r,i,l+1),g=[];return Ot(null,s,l,g),c&&h&&t.index(l)==r.index(l)?(dt(c,h),Et(Vt(c,hn(s,t,r,i,l+1)),g)):(c&&Et(Vt(c,Xt(s,t,l+1)),g),Ot(t,r,l,g),h&&Et(Vt(h,Xt(r,i,l+1)),g)),Ot(i,null,l,g),new ee(g)}function Xt(s,t,r){let i=[];return Ot(null,s,r,i),s.depth>r&&Et(Vt(Ze(s,t,r+1),Xt(s,t,r+1)),i),Ot(t,null,r,i),new ee(i)}ie.empty=new ie(ee.empty,0,0);class Gn{constructor(t,r,i){this.pos=t,this.path=r,this.parentOffset=i,this.depth=r.length/3-1}resolveDepth(t){return null==t?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[3*this.resolveDepth(t)]}index(t){return this.path[3*this.resolveDepth(t)+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t!=this.depth||this.textOffset?1:0)}start(t){return 0==(t=this.resolveDepth(t))?0:this.path[3*t-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(!(t=this.resolveDepth(t)))throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]}after(t){if(!(t=this.resolveDepth(t)))throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]+this.path[3*t].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,r=this.index(this.depth);if(r==t.childCount)return null;let i=this.pos-this.path[this.path.length-1],l=t.child(r);return i?t.child(r).cut(i):l}get nodeBefore(){let t=this.index(this.depth),r=this.pos-this.path[this.path.length-1];return r?this.parent.child(t).cut(0,r):0==t?null:this.parent.child(t-1)}posAtIndex(t,r){r=this.resolveDepth(r);let i=this.path[3*r],l=0==r?0:this.path[3*r-1]+1;for(let c=0;c<t;c++)l+=i.child(c).nodeSize;return l}marks(){let t=this.parent,r=this.index();if(0==t.content.size)return it.none;if(this.textOffset)return t.child(r).marks;let i=t.maybeChild(r-1),l=t.maybeChild(r);if(!i){let g=i;i=l,l=g}let c=i.marks;for(var h=0;h<c.length;h++)!1===c[h].type.spec.inclusive&&(!l||!c[h].isInSet(l.marks))&&(c=c[h--].removeFromSet(c));return c}marksAcross(t){let r=this.parent.maybeChild(this.index());if(!r||!r.isInline)return null;let i=r.marks,l=t.parent.maybeChild(t.index());for(var c=0;c<i.length;c++)!1===i[c].type.spec.inclusive&&(!l||!i[c].isInSet(l.marks))&&(i=i[c--].removeFromSet(i));return i}sharedDepth(t){for(let r=this.depth;r>0;r--)if(this.start(r)<=t&&this.end(r)>=t)return r;return 0}blockRange(t=this,r){if(t.pos<this.pos)return t.blockRange(this);for(let i=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);i>=0;i--)if(t.pos<=this.end(i)&&(!r||r(this.node(i))))return new oe(this,t,i);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let r=1;r<=this.depth;r++)t+=(t?"/":"")+this.node(r).type.name+"_"+this.index(r-1);return t+":"+this.parentOffset}static resolve(t,r){if(!(r>=0&&r<=t.content.size))throw new RangeError("Position "+r+" out of range");let i=[],l=0,c=r;for(let h=t;;){let{index:g,offset:_}=h.content.findIndex(c),I=c-_;if(i.push(h,g,l+_),!I||(h=h.child(g),h.isText))break;c=I-1,l+=_+1}return new Gn(r,i,c)}static resolveCached(t,r){for(let l=0;l<Ce.length;l++){let c=Ce[l];if(c.pos==r&&c.doc==t)return c}let i=Ce[we]=Gn.resolve(t,r);return we=(we+1)%J,i}}let Ce=[],we=0,J=12;class oe{constructor(t,r,i){this.$from=t,this.$to=r,this.depth=i}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const H=Object.create(null);class z{constructor(t,r,i,l=it.none){this.type=t,this.attrs=r,this.marks=l,this.content=i||ee.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,r,i,l=0){this.content.nodesBetween(t,r,i,l,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(t,r,i,l){return this.content.textBetween(t,r,i,l)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,r,i){return this.type==t&&_t(this.attrs,r||t.defaultAttrs||H)&&it.sameSet(this.marks,i||it.none)}copy(t=null){return t==this.content?this:new z(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new z(this.type,this.attrs,this.content,t)}cut(t,r=this.content.size){return 0==t&&r==this.content.size?this:this.copy(this.content.cut(t,r))}slice(t,r=this.content.size,i=!1){if(t==r)return ie.empty;let l=this.resolve(t),c=this.resolve(r),h=i?0:l.sharedDepth(r),g=l.start(h),I=l.node(h).content.cut(l.pos-g,c.pos-g);return new ie(I,l.depth-h,c.depth-h)}replace(t,r,i){return Ke(this.resolve(t),this.resolve(r),i)}nodeAt(t){for(let r=this;;){let{index:i,offset:l}=r.content.findIndex(t);if(r=r.maybeChild(i),!r)return null;if(l==t||r.isText)return r;t-=l+1}}childAfter(t){let{index:r,offset:i}=this.content.findIndex(t);return{node:this.content.maybeChild(r),index:r,offset:i}}childBefore(t){if(0==t)return{node:null,index:0,offset:0};let{index:r,offset:i}=this.content.findIndex(t);if(i<t)return{node:this.content.child(r),index:r,offset:i};let l=this.content.child(r-1);return{node:l,index:r-1,offset:i-l.nodeSize}}resolve(t){return Gn.resolveCached(this,t)}resolveNoCache(t){return Gn.resolve(this,t)}rangeHasMark(t,r,i){let l=!1;return r>t&&this.nodesBetween(t,r,c=>(i.isInSet(c.marks)&&(l=!0),!l)),l}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),xe(this.marks,t)}contentMatchAt(t){let r=this.type.contentMatch.matchFragment(this.content,0,t);if(!r)throw new Error("Called contentMatchAt on a node with invalid content");return r}canReplace(t,r,i=ee.empty,l=0,c=i.childCount){let h=this.contentMatchAt(t).matchFragment(i,l,c),g=h&&h.matchFragment(this.content,r);if(!g||!g.validEnd)return!1;for(let _=l;_<c;_++)if(!this.type.allowsMarks(i.child(_).marks))return!1;return!0}canReplaceWith(t,r,i,l){if(l&&!this.type.allowsMarks(l))return!1;let c=this.contentMatchAt(t).matchType(i),h=c&&c.matchFragment(this.content,r);return!!h&&h.validEnd}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){this.type.checkContent(this.content);let t=it.none;for(let r=0;r<this.marks.length;r++)t=this.marks[r].addToSet(t);if(!it.sameSet(t,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(r=>r.type.name)}`);this.content.forEach(r=>r.check())}toJSON(){let t={type:this.type.name};for(let r in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(r=>r.toJSON())),t}static fromJSON(t,r){if(!r)throw new RangeError("Invalid input for Node.fromJSON");let i=null;if(r.marks){if(!Array.isArray(r.marks))throw new RangeError("Invalid mark data for Node.fromJSON");i=r.marks.map(t.markFromJSON)}if("text"==r.type){if("string"!=typeof r.text)throw new RangeError("Invalid text node in JSON");return t.text(r.text,i)}let l=ee.fromJSON(t,r.content);return t.nodeType(r.type).create(r.attrs,l,i)}}z.prototype.text=void 0;class _e extends z{constructor(t,r,i,l){if(super(t,r,null,l),!i)throw new RangeError("Empty text nodes are not allowed");this.text=i}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):xe(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(t,r){return this.text.slice(t,r)}get nodeSize(){return this.text.length}mark(t){return t==this.marks?this:new _e(this.type,this.attrs,this.text,t)}withText(t){return t==this.text?this:new _e(this.type,this.attrs,t,this.marks)}cut(t=0,r=this.text.length){return 0==t&&r==this.text.length?this:this.withText(this.text.slice(t,r))}eq(t){return this.sameMarkup(t)&&this.text==t.text}toJSON(){let t=super.toJSON();return t.text=this.text,t}}function xe(s,t){for(let r=s.length-1;r>=0;r--)t=s[r].type.name+"("+t+")";return t}class ot{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,r){let i=new ft(t,r);if(null==i.next)return ot.empty;let l=At(i);i.next&&i.err("Unexpected trailing text");let c=function qe(s){let t=Object.create(null);return function r(i){let l=[];i.forEach(h=>{s[h].forEach(({term:g,to:_})=>{if(!g)return;let I;for(let P=0;P<l.length;P++)l[P][0]==g&&(I=l[P][1]);Un(s,_).forEach(P=>{I||l.push([g,I=[]]),-1==I.indexOf(P)&&I.push(P)})})});let c=t[i.join(",")]=new ot(i.indexOf(s.length-1)>-1);for(let h=0;h<l.length;h++){let g=l[h][1].sort(Qn);c.next.push({type:l[h][0],next:t[g.join(",")]||r(g)})}return c}(Un(s,0))}(function en(s){let t=[[]];return l(function c(h,g){if("choice"==h.type)return h.exprs.reduce((_,I)=>_.concat(c(I,g)),[]);if("seq"!=h.type){if("star"==h.type){let _=r();return i(g,_),l(c(h.expr,_),_),[i(_)]}if("plus"==h.type){let _=r();return l(c(h.expr,g),_),l(c(h.expr,_),_),[i(_)]}if("opt"==h.type)return[i(g)].concat(c(h.expr,g));if("range"==h.type){let _=g;for(let I=0;I<h.min;I++){let P=r();l(c(h.expr,_),P),_=P}if(-1==h.max)l(c(h.expr,_),_);else for(let I=h.min;I<h.max;I++){let P=r();i(_,P),l(c(h.expr,_),P),_=P}return[i(_)]}if("name"==h.type)return[i(g,void 0,h.value)];throw new Error("Unknown expr type")}for(let _=0;;_++){let I=c(h.exprs[_],g);if(_==h.exprs.length-1)return I;l(I,g=r())}}(s,0),r()),t;function r(){return t.push([])-1}function i(h,g,_){let I={term:_,to:g};return t[h].push(I),I}function l(h,g){h.forEach(_=>_.to=g)}}(l));return function ht(s,t){for(let r=0,i=[s];r<i.length;r++){let l=i[r],c=!l.validEnd,h=[];for(let g=0;g<l.next.length;g++){let{type:_,next:I}=l.next[g];h.push(_.name),c&&!(_.isText||_.hasRequiredAttrs())&&(c=!1),-1==i.indexOf(I)&&i.push(I)}c&&t.err("Only non-generatable nodes ("+h.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}(c,i),c}matchType(t){for(let r=0;r<this.next.length;r++)if(this.next[r].type==t)return this.next[r].next;return null}matchFragment(t,r=0,i=t.childCount){let l=this;for(let c=r;l&&c<i;c++)l=l.matchType(t.child(c).type);return l}get inlineContent(){return 0!=this.next.length&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:r}=this.next[t];if(!r.isText&&!r.hasRequiredAttrs())return r}return null}compatible(t){for(let r=0;r<this.next.length;r++)for(let i=0;i<t.next.length;i++)if(this.next[r].type==t.next[i].type)return!0;return!1}fillBefore(t,r=!1,i=0){let l=[this];return function c(h,g){let _=h.matchFragment(t,i);if(_&&(!r||_.validEnd))return ee.from(g.map(I=>I.createAndFill()));for(let I=0;I<h.next.length;I++){let{type:P,next:U}=h.next[I];if(!P.isText&&!P.hasRequiredAttrs()&&-1==l.indexOf(U)){l.push(U);let q=c(U,g.concat(P));if(q)return q}}return null}(this,[])}findWrapping(t){for(let i=0;i<this.wrapCache.length;i+=2)if(this.wrapCache[i]==t)return this.wrapCache[i+1];let r=this.computeWrapping(t);return this.wrapCache.push(t,r),r}computeWrapping(t){let r=Object.create(null),i=[{match:this,type:null,via:null}];for(;i.length;){let l=i.shift(),c=l.match;if(c.matchType(t)){let h=[];for(let g=l;g.type;g=g.via)h.push(g.type);return h.reverse()}for(let h=0;h<c.next.length;h++){let{type:g,next:_}=c.next[h];!g.isLeaf&&!g.hasRequiredAttrs()&&!(g.name in r)&&(!l.type||_.validEnd)&&(i.push({match:g.contentMatch,type:g,via:l}),r[g.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw new RangeError(`There's no ${t}th edge in this content match`);return this.next[t]}toString(){let t=[];return function r(i){t.push(i);for(let l=0;l<i.next.length;l++)-1==t.indexOf(i.next[l].next)&&r(i.next[l].next)}(this),t.map((i,l)=>{let c=l+(i.validEnd?"*":" ")+" ";for(let h=0;h<i.next.length;h++)c+=(h?", ":"")+i.next[h].type.name+"->"+t.indexOf(i.next[h].next);return c}).join("\n")}}ot.empty=new ot(!0);class ft{constructor(t,r){this.string=t,this.nodeTypes=r,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(t){return this.next==t&&(this.pos++||!0)}err(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")}}function At(s){let t=[];do{t.push(pt(s))}while(s.eat("|"));return 1==t.length?t[0]:{type:"choice",exprs:t}}function pt(s){let t=[];do{t.push(bt(s))}while(s.next&&")"!=s.next&&"|"!=s.next);return 1==t.length?t[0]:{type:"seq",exprs:t}}function bt(s){let t=function St(s){if(s.eat("(")){let t=At(s);return s.eat(")")||s.err("Missing closing paren"),t}if(!/\W/.test(s.next)){let t=function $e(s,t){let r=s.nodeTypes,i=r[t];if(i)return[i];let l=[];for(let c in r){let h=r[c];h.groups.indexOf(t)>-1&&l.push(h)}return 0==l.length&&s.err("No node type or group '"+t+"' found"),l}(s,s.next).map(r=>(null==s.inline?s.inline=r.isInline:s.inline!=r.isInline&&s.err("Mixing inline and block content"),{type:"name",value:r}));return s.pos++,1==t.length?t[0]:{type:"choice",exprs:t}}s.err("Unexpected token '"+s.next+"'")}(s);for(;;)if(s.eat("+"))t={type:"plus",expr:t};else if(s.eat("*"))t={type:"star",expr:t};else if(s.eat("?"))t={type:"opt",expr:t};else{if(!s.eat("{"))break;t=at(s,t)}return t}function Me(s){/\D/.test(s.next)&&s.err("Expected number, got '"+s.next+"'");let t=Number(s.next);return s.pos++,t}function at(s,t){let r=Me(s),i=r;return s.eat(",")&&(i="}"!=s.next?Me(s):-1),s.eat("}")||s.err("Unclosed braced range"),{type:"range",min:r,max:i,expr:t}}function Qn(s,t){return t-s}function Un(s,t){let r=[];return function i(l){let c=s[l];if(1==c.length&&!c[0].term)return i(c[0].to);r.push(l);for(let h=0;h<c.length;h++){let{term:g,to:_}=c[h];!g&&-1==r.indexOf(_)&&i(_)}}(t),r.sort(Qn)}function Le(s){let t=Object.create(null);for(let r in s){let i=s[r];if(!i.hasDefault)return null;t[r]=i.default}return t}function Ie(s,t){let r=Object.create(null);for(let i in s){let l=t&&t[i];if(void 0===l){let c=s[i];if(!c.hasDefault)throw new RangeError("No value supplied for attribute "+i);l=c.default}r[i]=l}return r}function je(s){let t=Object.create(null);if(s)for(let r in s)t[r]=new Rt(s[r]);return t}class Ne{constructor(t,r,i){this.name=t,this.schema=r,this.spec=i,this.markSet=null,this.groups=i.group?i.group.split(" "):[],this.attrs=je(i.attrs),this.defaultAttrs=Le(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(i.inline||"text"==t),this.isText="text"==t}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==ot.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1}compatibleContent(t){return this==t||this.contentMatch.compatible(t.contentMatch)}computeAttrs(t){return!t&&this.defaultAttrs?this.defaultAttrs:Ie(this.attrs,t)}create(t=null,r,i){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new z(this,this.computeAttrs(t),ee.from(r),it.setFrom(i))}createChecked(t=null,r,i){return r=ee.from(r),this.checkContent(r),new z(this,this.computeAttrs(t),r,it.setFrom(i))}createAndFill(t=null,r,i){if(t=this.computeAttrs(t),(r=ee.from(r)).size){let h=this.contentMatch.fillBefore(r);if(!h)return null;r=h.append(r)}let l=this.contentMatch.matchFragment(r),c=l&&l.fillBefore(ee.empty,!0);return c?new z(this,t,r.append(c),it.setFrom(i)):null}validContent(t){let r=this.contentMatch.matchFragment(t);if(!r||!r.validEnd)return!1;for(let i=0;i<t.childCount;i++)if(!this.allowsMarks(t.child(i).marks))return!1;return!0}checkContent(t){if(!this.validContent(t))throw new RangeError(`Invalid content for node ${this.name}: ${t.toString().slice(0,50)}`)}allowsMarkType(t){return null==this.markSet||this.markSet.indexOf(t)>-1}allowsMarks(t){if(null==this.markSet)return!0;for(let r=0;r<t.length;r++)if(!this.allowsMarkType(t[r].type))return!1;return!0}allowedMarks(t){if(null==this.markSet)return t;let r;for(let i=0;i<t.length;i++)this.allowsMarkType(t[i].type)?r&&r.push(t[i]):r||(r=t.slice(0,i));return r?r.length?r:it.none:t}static compile(t,r){let i=Object.create(null);t.forEach((c,h)=>i[c]=new Ne(c,r,h));let l=r.spec.topNode||"doc";if(!i[l])throw new RangeError("Schema is missing its top node type ('"+l+"')");if(!i.text)throw new RangeError("Every schema needs a 'text' type");for(let c in i.text.attrs)throw new RangeError("The text node type should not have attributes");return i}}class Rt{constructor(t){this.hasDefault=Object.prototype.hasOwnProperty.call(t,"default"),this.default=t.default}get isRequired(){return!this.hasDefault}}class In{constructor(t,r,i,l){this.name=t,this.rank=r,this.schema=i,this.spec=l,this.attrs=je(l.attrs),this.excluded=null;let c=Le(this.attrs);this.instance=c?new it(this,c):null}create(t=null){return!t&&this.instance?this.instance:new it(this,Ie(this.attrs,t))}static compile(t,r){let i=Object.create(null),l=0;return t.forEach((c,h)=>i[c]=new In(c,l++,r,h)),i}removeFromSet(t){for(var r=0;r<t.length;r++)t[r].type==this&&(t=t.slice(0,r).concat(t.slice(r+1)),r--);return t}isInSet(t){for(let r=0;r<t.length;r++)if(t[r].type==this)return t[r]}excludes(t){return this.excluded.indexOf(t)>-1}}function Zt(s,t){let r=[];for(let i=0;i<t.length;i++){let l=t[i],c=s.marks[l],h=c;if(c)r.push(c);else for(let g in s.marks){let _=s.marks[g];("_"==l||_.spec.group&&_.spec.group.split(" ").indexOf(l)>-1)&&r.push(h=_)}if(!h)throw new SyntaxError("Unknown mark type: '"+t[i]+"'")}return r}class kt{constructor(t,r){this.schema=t,this.rules=r,this.tags=[],this.styles=[],r.forEach(i=>{i.tag?this.tags.push(i):i.style&&this.styles.push(i)}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let l=t.nodes[i.node];return l.contentMatch.matchType(l)})}parse(t,r={}){let i=new $t(this,r,!1);return i.addAll(t,r.from,r.to),i.finish()}parseSlice(t,r={}){let i=new $t(this,r,!0);return i.addAll(t,r.from,r.to),ie.maxOpen(i.finish())}matchTag(t,r,i){for(let l=i?this.tags.indexOf(i)+1:0;l<this.tags.length;l++){let c=this.tags[l];if(fo(t,c.tag)&&(void 0===c.namespace||t.namespaceURI==c.namespace)&&(!c.context||r.matchesContext(c.context))){if(c.getAttrs){let h=c.getAttrs(t);if(!1===h)continue;c.attrs=h||void 0}return c}}}matchStyle(t,r,i,l){for(let c=l?this.styles.indexOf(l)+1:0;c<this.styles.length;c++){let h=this.styles[c],g=h.style;if(!(0!=g.indexOf(t)||h.context&&!i.matchesContext(h.context)||g.length>t.length&&(61!=g.charCodeAt(t.length)||g.slice(t.length+1)!=r))){if(h.getAttrs){let _=h.getAttrs(r);if(!1===_)continue;h.attrs=_||void 0}return h}}}static schemaRules(t){let r=[];function i(l){let c=null==l.priority?50:l.priority,h=0;for(;h<r.length;h++){let g=r[h];if((null==g.priority?50:g.priority)<c)break}r.splice(h,0,l)}for(let l in t.marks){let c=t.marks[l].spec.parseDOM;c&&c.forEach(h=>{i(h=qr(h)),h.mark||h.ignore||h.clearMark||(h.mark=l)})}for(let l in t.nodes){let c=t.nodes[l].spec.parseDOM;c&&c.forEach(h=>{i(h=qr(h)),h.node||h.ignore||h.mark||(h.node=l)})}return r}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new kt(t,kt.schemaRules(t)))}}const bn={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},on={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},Wn={ol:!0,ul:!0};function Ar(s,t,r){return null!=t?(t?1:0)|("full"===t?2:0):s&&"pre"==s.whitespace?3:-5&r}class Kn{constructor(t,r,i,l,c,h,g){this.type=t,this.attrs=r,this.marks=i,this.pendingMarks=l,this.solid=c,this.options=g,this.content=[],this.activeMarks=it.none,this.stashMarks=[],this.match=h||(4&g?null:t.contentMatch)}findWrapping(t){if(!this.match){if(!this.type)return[];let r=this.type.contentMatch.fillBefore(ee.from(t));if(!r){let l,i=this.type.contentMatch;return(l=i.findWrapping(t.type))?(this.match=i,l):null}this.match=this.type.contentMatch.matchFragment(r)}return this.match.findWrapping(t.type)}finish(t){if(!(1&this.options)){let l,i=this.content[this.content.length-1];if(i&&i.isText&&(l=/[ \t\r\n\u000c]+$/.exec(i.text))){let c=i;i.text.length==l[0].length?this.content.pop():this.content[this.content.length-1]=c.withText(c.text.slice(0,c.text.length-l[0].length))}}let r=ee.from(this.content);return!t&&this.match&&(r=r.append(this.match.fillBefore(ee.empty,!0))),this.type?this.type.create(this.attrs,r,this.marks):r}popFromStashMark(t){for(let r=this.stashMarks.length-1;r>=0;r--)if(t.eq(this.stashMarks[r]))return this.stashMarks.splice(r,1)[0]}applyPending(t){for(let r=0,i=this.pendingMarks;r<i.length;r++){let l=i[r];(this.type?this.type.allowsMarkType(l.type):wn(l.type,t))&&!l.isInSet(this.activeMarks)&&(this.activeMarks=l.addToSet(this.activeMarks),this.pendingMarks=l.removeFromSet(this.pendingMarks))}}inlineContext(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!bn.hasOwnProperty(t.parentNode.nodeName.toLowerCase())}}class $t{constructor(t,r,i){this.parser=t,this.options=r,this.isOpen=i,this.open=0;let c,l=r.topNode,h=Ar(null,r.preserveWhitespace,0)|(i?4:0);c=l?new Kn(l.type,l.attrs,it.none,it.none,!0,r.topMatch||l.type.contentMatch,h):new Kn(i?null:t.schema.topNodeType,null,it.none,it.none,!0,null,h),this.nodes=[c],this.find=r.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(t){3==t.nodeType?this.addTextNode(t):1==t.nodeType&&this.addElement(t)}withStyleRules(t,r){let i=t.getAttribute("style");if(!i)return r();let l=this.readStyles(function rr(s){let r,t=/\s*([\w-]+)\s*:\s*([^;]+)/g,i=[];for(;r=t.exec(s);)i.push(r[1],r[2].trim());return i}(i));if(!l)return;let[c,h]=l,g=this.top;for(let _=0;_<h.length;_++)this.removePendingMark(h[_],g);for(let _=0;_<c.length;_++)this.addPendingMark(c[_]);r();for(let _=0;_<c.length;_++)this.removePendingMark(c[_],g);for(let _=0;_<h.length;_++)this.addPendingMark(h[_])}addTextNode(t){let r=t.nodeValue,i=this.top;if(2&i.options||i.inlineContext(t)||/[^ \t\r\n\u000c]/.test(r)){if(1&i.options)r=2&i.options?r.replace(/\r\n?/g,"\n"):r.replace(/\r?\n|\r/g," ");else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let l=i.content[i.content.length-1],c=t.previousSibling;(!l||c&&"BR"==c.nodeName||l.isText&&/[ \t\r\n\u000c]$/.test(l.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r)),this.findInText(t)}else this.findInside(t)}addElement(t,r){let l,i=t.nodeName.toLowerCase();Wn.hasOwnProperty(i)&&this.parser.normalizeLists&&function Tn(s){for(let t=s.firstChild,r=null;t;t=t.nextSibling){let i=1==t.nodeType?t.nodeName.toLowerCase():null;i&&Wn.hasOwnProperty(i)&&r?(r.appendChild(t),t=r):"li"==i?r=t:i&&(r=null)}}(t);let c=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(l=this.parser.matchTag(t,this,r));if(c?c.ignore:on.hasOwnProperty(i))this.findInside(t),this.ignoreFallback(t);else if(!c||c.skip||c.closeParent){c&&c.closeParent?this.open=Math.max(0,this.open-1):c&&c.skip.nodeType&&(t=c.skip);let h,g=this.top,_=this.needsBlock;if(bn.hasOwnProperty(i))g.content.length&&g.content[0].isInline&&this.open&&(this.open--,g=this.top),h=!0,g.type||(this.needsBlock=!0);else if(!t.firstChild)return void this.leafFallback(t);c&&c.skip?this.addAll(t):this.withStyleRules(t,()=>this.addAll(t)),h&&this.sync(g),this.needsBlock=_}else this.withStyleRules(t,()=>{this.addElementByRule(t,c,!1===c.consuming?l:void 0)})}leafFallback(t){"BR"==t.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode("\n"))}ignoreFallback(t){"BR"==t.nodeName&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))}readStyles(t){let r=it.none,i=it.none;for(let l=0;l<t.length;l+=2)for(let c;;){let h=this.parser.matchStyle(t[l],t[l+1],this,c);if(!h)break;if(h.ignore)return null;if(h.clearMark?this.top.pendingMarks.concat(this.top.activeMarks).forEach(g=>{h.clearMark(g)&&(i=g.addToSet(i))}):r=this.parser.schema.marks[h.mark].create(h.attrs).addToSet(r),!1!==h.consuming)break;c=h}return[r,i]}addElementByRule(t,r,i){let l,c,h;r.node?(c=this.parser.schema.nodes[r.node],c.isLeaf?this.insertNode(c.create(r.attrs))||this.leafFallback(t):l=this.enter(c,r.attrs||null,r.preserveWhitespace)):(h=this.parser.schema.marks[r.mark].create(r.attrs),this.addPendingMark(h));let g=this.top;if(c&&c.isLeaf)this.findInside(t);else if(i)this.addElement(t,i);else if(r.getContent)this.findInside(t),r.getContent(t,this.parser.schema).forEach(_=>this.insertNode(_));else{let _=t;"string"==typeof r.contentElement?_=t.querySelector(r.contentElement):"function"==typeof r.contentElement?_=r.contentElement(t):r.contentElement&&(_=r.contentElement),this.findAround(t,_,!0),this.addAll(_)}l&&this.sync(g)&&this.open--,h&&this.removePendingMark(h,g)}addAll(t,r,i){let l=r||0;for(let c=r?t.childNodes[r]:t.firstChild,h=null==i?null:t.childNodes[i];c!=h;c=c.nextSibling,++l)this.findAtPoint(t,l),this.addDOM(c);this.findAtPoint(t,l)}findPlace(t){let r,i;for(let l=this.open;l>=0;l--){let c=this.nodes[l],h=c.findWrapping(t);if(h&&(!r||r.length>h.length)&&(r=h,i=c,!h.length)||c.solid)break}if(!r)return!1;this.sync(i);for(let l=0;l<r.length;l++)this.enterInner(r[l],null,!1);return!0}insertNode(t){if(t.isInline&&this.needsBlock&&!this.top.type){let r=this.textblockFromContext();r&&this.enterInner(r)}if(this.findPlace(t)){this.closeExtra();let r=this.top;r.applyPending(t.type),r.match&&(r.match=r.match.matchType(t.type));let i=r.activeMarks;for(let l=0;l<t.marks.length;l++)(!r.type||r.type.allowsMarkType(t.marks[l].type))&&(i=t.marks[l].addToSet(i));return r.content.push(t.mark(i)),!0}return!1}enter(t,r,i){let l=this.findPlace(t.create(r));return l&&this.enterInner(t,r,!0,i),l}enterInner(t,r=null,i=!1,l){this.closeExtra();let c=this.top;c.applyPending(t),c.match=c.match&&c.match.matchType(t);let h=Ar(t,l,c.options);4&c.options&&0==c.content.length&&(h|=4),this.nodes.push(new Kn(t,r,c.activeMarks,c.pendingMarks,i,null,h)),this.open++}closeExtra(t=!1){let r=this.nodes.length-1;if(r>this.open){for(;r>this.open;r--)this.nodes[r-1].content.push(this.nodes[r].finish(t));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(t){for(let r=this.open;r>=0;r--)if(this.nodes[r]==t)return this.open=r,!0;return!1}get currentPos(){this.closeExtra();let t=0;for(let r=this.open;r>=0;r--){let i=this.nodes[r].content;for(let l=i.length-1;l>=0;l--)t+=i[l].nodeSize;r&&t++}return t}findAtPoint(t,r){if(this.find)for(let i=0;i<this.find.length;i++)this.find[i].node==t&&this.find[i].offset==r&&(this.find[i].pos=this.currentPos)}findInside(t){if(this.find)for(let r=0;r<this.find.length;r++)null==this.find[r].pos&&1==t.nodeType&&t.contains(this.find[r].node)&&(this.find[r].pos=this.currentPos)}findAround(t,r,i){if(t!=r&&this.find)for(let l=0;l<this.find.length;l++)null==this.find[l].pos&&1==t.nodeType&&t.contains(this.find[l].node)&&r.compareDocumentPosition(this.find[l].node)&(i?2:4)&&(this.find[l].pos=this.currentPos)}findInText(t){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==t&&(this.find[r].pos=this.currentPos-(t.nodeValue.length-this.find[r].offset))}matchesContext(t){if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);let r=t.split("/"),i=this.options.context,l=!(this.isOpen||i&&i.parent.type!=this.nodes[0].type),c=(l?0:1)-(i?i.depth+1:0),h=(g,_)=>{for(;g>=0;g--){let I=r[g];if(""==I){if(g==r.length-1||0==g)continue;for(;_>=c;_--)if(h(g-1,_))return!0;return!1}{let P=_>0||0==_&&l?this.nodes[_].type:i&&_>=c?i.node(_-c).type:null;if(!P||P.name!=I&&-1==P.groups.indexOf(I))return!1;_--}}return!0};return h(r.length-1,this.open)}textblockFromContext(){let t=this.options.context;if(t)for(let r=t.depth;r>=0;r--){let i=t.node(r).contentMatchAt(t.indexAfter(r)).defaultType;if(i&&i.isTextblock&&i.defaultAttrs)return i}for(let r in this.parser.schema.nodes){let i=this.parser.schema.nodes[r];if(i.isTextblock&&i.defaultAttrs)return i}}addPendingMark(t){let r=function Qr(s,t){for(let r=0;r<t.length;r++)if(s.eq(t[r]))return t[r]}(t,this.top.pendingMarks);r&&this.top.stashMarks.push(r),this.top.pendingMarks=t.addToSet(this.top.pendingMarks)}removePendingMark(t,r){for(let i=this.open;i>=0;i--){let l=this.nodes[i];if(l.pendingMarks.lastIndexOf(t)>-1)l.pendingMarks=t.removeFromSet(l.pendingMarks);else{l.activeMarks=t.removeFromSet(l.activeMarks);let h=l.popFromStashMark(t);h&&l.type&&l.type.allowsMarkType(h.type)&&(l.activeMarks=h.addToSet(l.activeMarks))}if(l==r)break}}}function fo(s,t){return(s.matches||s.msMatchesSelector||s.webkitMatchesSelector||s.mozMatchesSelector).call(s,t)}function qr(s){let t={};for(let r in s)t[r]=s[r];return t}function wn(s,t){let r=t.schema.nodes;for(let i in r){let l=r[i];if(!l.allowsMarkType(s))continue;let c=[],h=g=>{c.push(g);for(let _=0;_<g.edgeCount;_++){let{type:I,next:P}=g.edge(_);if(I==t||c.indexOf(P)<0&&h(P))return!0}};if(h(l.contentMatch))return!0}}class Kt{constructor(t,r){this.nodes=t,this.marks=r}serializeFragment(t,r={},i){i||(i=Ee(r).createDocumentFragment());let l=i,c=[];return t.forEach(h=>{if(c.length||h.marks.length){let g=0,_=0;for(;g<c.length&&_<h.marks.length;){let I=h.marks[_];if(this.marks[I.type.name]){if(!I.eq(c[g][0])||!1===I.type.spec.spanning)break;g++,_++}else _++}for(;g<c.length;)l=c.pop()[1];for(;_<h.marks.length;){let I=h.marks[_++],P=this.serializeMark(I,h.isInline,r);P&&(c.push([I,l]),l.appendChild(P.dom),l=P.contentDOM||P.dom)}}l.appendChild(this.serializeNodeInner(h,r))}),i}serializeNodeInner(t,r){let{dom:i,contentDOM:l}=Kt.renderSpec(Ee(r),this.nodes[t.type.name](t));if(l){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,r,l)}return i}serializeNode(t,r={}){let i=this.serializeNodeInner(t,r);for(let l=t.marks.length-1;l>=0;l--){let c=this.serializeMark(t.marks[l],t.isInline,r);c&&((c.contentDOM||c.dom).appendChild(i),i=c.dom)}return i}serializeMark(t,r,i={}){let l=this.marks[t.type.name];return l&&Kt.renderSpec(Ee(i),l(t,r))}static renderSpec(t,r,i=null){if("string"==typeof r)return{dom:t.createTextNode(r)};if(null!=r.nodeType)return{dom:r};if(r.dom&&null!=r.dom.nodeType)return r;let l=r[0],c=l.indexOf(" ");c>0&&(i=l.slice(0,c),l=l.slice(c+1));let h,g=i?t.createElementNS(i,l):t.createElement(l),_=r[1],I=1;if(_&&"object"==typeof _&&null==_.nodeType&&!Array.isArray(_)){I=2;for(let P in _)if(null!=_[P]){let U=P.indexOf(" ");U>0?g.setAttributeNS(P.slice(0,U),P.slice(U+1),_[P]):g.setAttribute(P,_[P])}}for(let P=I;P<r.length;P++){let U=r[P];if(0===U){if(P<r.length-1||P>I)throw new RangeError("Content hole must be the only child of its parent node");return{dom:g,contentDOM:g}}{let{dom:q,contentDOM:Q}=Kt.renderSpec(t,U,i);if(g.appendChild(q),Q){if(h)throw new RangeError("Multiple content holes");h=Q}}}return{dom:g,contentDOM:h}}static fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new Kt(this.nodesFromSchema(t),this.marksFromSchema(t)))}static nodesFromSchema(t){let r=Or(t.nodes);return r.text||(r.text=i=>i.text),r}static marksFromSchema(t){return Or(t.marks)}}function Or(s){let t={};for(let r in s){let i=s[r].spec.toDOM;i&&(t[r]=i)}return t}function Ee(s){return s.document||window.document}const G=Math.pow(2,16);function ae(s,t){return s+t*G}function He(s){return 65535&s}class An{constructor(t,r,i){this.pos=t,this.delInfo=r,this.recover=i}get deleted(){return(8&this.delInfo)>0}get deletedBefore(){return(5&this.delInfo)>0}get deletedAfter(){return(6&this.delInfo)>0}get deletedAcross(){return(4&this.delInfo)>0}}class Cn{constructor(t,r=!1){if(this.ranges=t,this.inverted=r,!t.length&&Cn.empty)return Cn.empty}recover(t){let r=0,i=He(t);if(!this.inverted)for(let l=0;l<i;l++)r+=this.ranges[3*l+2]-this.ranges[3*l+1];return this.ranges[3*i]+r+function Xe(s){return(s-(65535&s))/G}(t)}mapResult(t,r=1){return this._map(t,r,!1)}map(t,r=1){return this._map(t,r,!0)}_map(t,r,i){let l=0,c=this.inverted?2:1,h=this.inverted?1:2;for(let g=0;g<this.ranges.length;g+=3){let _=this.ranges[g]-(this.inverted?l:0);if(_>t)break;let I=this.ranges[g+c],P=this.ranges[g+h],U=_+I;if(t<=U){let Q=_+l+((I?t==_?-1:t==U?1:r:r)<0?0:P);if(i)return Q;let ce=t==(r<0?_:U)?null:ae(g/3,t-_),Re=t==_?2:t==U?1:4;return(r<0?t!=_:t!=U)&&(Re|=8),new An(Q,Re,ce)}l+=P-I}return i?t+l:new An(t+l,0,null)}touches(t,r){let i=0,l=He(r),c=this.inverted?2:1,h=this.inverted?1:2;for(let g=0;g<this.ranges.length;g+=3){let _=this.ranges[g]-(this.inverted?i:0);if(_>t)break;let I=this.ranges[g+c];if(t<=_+I&&g==3*l)return!0;i+=this.ranges[g+h]-I}return!1}forEach(t){let r=this.inverted?2:1,i=this.inverted?1:2;for(let l=0,c=0;l<this.ranges.length;l+=3){let h=this.ranges[l],g=h-(this.inverted?c:0),_=h+(this.inverted?0:c),I=this.ranges[l+r],P=this.ranges[l+i];t(g,g+I,_,_+P),c+=P-I}}invert(){return new Cn(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return 0==t?Cn.empty:new Cn(t<0?[0,-t,0]:[0,0,t])}}Cn.empty=new Cn([]);class ve{constructor(t=[],r,i=0,l=t.length){this.maps=t,this.mirror=r,this.from=i,this.to=l}slice(t=0,r=this.maps.length){return new ve(this.maps,this.mirror,t,r)}copy(){return new ve(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(t,r){this.to=this.maps.push(t),null!=r&&this.setMirror(this.maps.length-1,r)}appendMapping(t){for(let r=0,i=this.maps.length;r<t.maps.length;r++){let l=t.getMirror(r);this.appendMap(t.maps[r],null!=l&&l<r?i+l:void 0)}}getMirror(t){if(this.mirror)for(let r=0;r<this.mirror.length;r++)if(this.mirror[r]==t)return this.mirror[r+(r%2?-1:1)]}setMirror(t,r){this.mirror||(this.mirror=[]),this.mirror.push(t,r)}appendMappingInverted(t){for(let r=t.maps.length-1,i=this.maps.length+t.maps.length;r>=0;r--){let l=t.getMirror(r);this.appendMap(t.maps[r].invert(),null!=l&&l>r?i-l-1:void 0)}}invert(){let t=new ve;return t.appendMappingInverted(this),t}map(t,r=1){if(this.mirror)return this._map(t,r,!0);for(let i=this.from;i<this.to;i++)t=this.maps[i].map(t,r);return t}mapResult(t,r=1){return this._map(t,r,!1)}_map(t,r,i){let l=0;for(let c=this.from;c<this.to;c++){let g=this.maps[c].mapResult(t,r);if(null!=g.recover){let _=this.getMirror(c);if(null!=_&&_>c&&_<this.to){c=_,t=this.maps[_].recover(g.recover);continue}}l|=g.delInfo,t=g.pos}return i?t:new An(t,l,null)}}const Z=Object.create(null);class Y{getMap(){return Cn.empty}merge(t){return null}static fromJSON(t,r){if(!r||!r.stepType)throw new RangeError("Invalid input for Step.fromJSON");let i=Z[r.stepType];if(!i)throw new RangeError(`No step type ${r.stepType} defined`);return i.fromJSON(t,r)}static jsonID(t,r){if(t in Z)throw new RangeError("Duplicate use of step JSON ID "+t);return Z[t]=r,r.prototype.jsonID=t,r}}class Oe{constructor(t,r){this.doc=t,this.failed=r}static ok(t){return new Oe(t,null)}static fail(t){return new Oe(null,t)}static fromReplace(t,r,i,l){try{return Oe.ok(t.replace(r,i,l))}catch(c){if(c instanceof ge)return Oe.fail(c.message);throw c}}}function Qe(s,t,r){let i=[];for(let l=0;l<s.childCount;l++){let c=s.child(l);c.content.size&&(c=c.copy(Qe(c.content,t,c))),c.isInline&&(c=t(c,r,l)),i.push(c)}return ee.fromArray(i)}class tt extends Y{constructor(t,r,i){super(),this.from=t,this.to=r,this.mark=i}apply(t){let r=t.slice(this.from,this.to),i=t.resolve(this.from),l=i.node(i.sharedDepth(this.to)),c=new ie(Qe(r.content,(h,g)=>h.isAtom&&g.type.allowsMarkType(this.mark.type)?h.mark(this.mark.addToSet(h.marks)):h,l),r.openStart,r.openEnd);return Oe.fromReplace(t,this.from,this.to,c)}invert(){return new Je(this.from,this.to,this.mark)}map(t){let r=t.mapResult(this.from,1),i=t.mapResult(this.to,-1);return r.deleted&&i.deleted||r.pos>=i.pos?null:new tt(r.pos,i.pos,this.mark)}merge(t){return t instanceof tt&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new tt(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,r){if("number"!=typeof r.from||"number"!=typeof r.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new tt(r.from,r.to,t.markFromJSON(r.mark))}}Y.jsonID("addMark",tt);class Je extends Y{constructor(t,r,i){super(),this.from=t,this.to=r,this.mark=i}apply(t){let r=t.slice(this.from,this.to),i=new ie(Qe(r.content,l=>l.mark(this.mark.removeFromSet(l.marks)),t),r.openStart,r.openEnd);return Oe.fromReplace(t,this.from,this.to,i)}invert(){return new tt(this.from,this.to,this.mark)}map(t){let r=t.mapResult(this.from,1),i=t.mapResult(this.to,-1);return r.deleted&&i.deleted||r.pos>=i.pos?null:new Je(r.pos,i.pos,this.mark)}merge(t){return t instanceof Je&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new Je(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,r){if("number"!=typeof r.from||"number"!=typeof r.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Je(r.from,r.to,t.markFromJSON(r.mark))}}Y.jsonID("removeMark",Je);class nn extends Y{constructor(t,r){super(),this.pos=t,this.mark=r}apply(t){let r=t.nodeAt(this.pos);if(!r)return Oe.fail("No node at mark step's position");let i=r.type.create(r.attrs,null,this.mark.addToSet(r.marks));return Oe.fromReplace(t,this.pos,this.pos+1,new ie(ee.from(i),0,r.isLeaf?0:1))}invert(t){let r=t.nodeAt(this.pos);if(r){let i=this.mark.addToSet(r.marks);if(i.length==r.marks.length){for(let l=0;l<r.marks.length;l++)if(!r.marks[l].isInSet(i))return new nn(this.pos,r.marks[l]);return new nn(this.pos,this.mark)}}return new xt(this.pos,this.mark)}map(t){let r=t.mapResult(this.pos,1);return r.deletedAfter?null:new nn(r.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,r){if("number"!=typeof r.pos)throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new nn(r.pos,t.markFromJSON(r.mark))}}Y.jsonID("addNodeMark",nn);class xt extends Y{constructor(t,r){super(),this.pos=t,this.mark=r}apply(t){let r=t.nodeAt(this.pos);if(!r)return Oe.fail("No node at mark step's position");let i=r.type.create(r.attrs,null,this.mark.removeFromSet(r.marks));return Oe.fromReplace(t,this.pos,this.pos+1,new ie(ee.from(i),0,r.isLeaf?0:1))}invert(t){let r=t.nodeAt(this.pos);return r&&this.mark.isInSet(r.marks)?new nn(this.pos,this.mark):this}map(t){let r=t.mapResult(this.pos,1);return r.deletedAfter?null:new xt(r.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,r){if("number"!=typeof r.pos)throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new xt(r.pos,t.markFromJSON(r.mark))}}Y.jsonID("removeNodeMark",xt);class Yt extends Y{constructor(t,r,i,l=!1){super(),this.from=t,this.to=r,this.slice=i,this.structure=l}apply(t){return this.structure&&Pn(t,this.from,this.to)?Oe.fail("Structure replace would overwrite content"):Oe.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new Cn([this.from,this.to-this.from,this.slice.size])}invert(t){return new Yt(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let r=t.mapResult(this.from,1),i=t.mapResult(this.to,-1);return r.deletedAcross&&i.deletedAcross?null:new Yt(r.pos,Math.max(r.pos,i.pos),this.slice)}merge(t){if(!(t instanceof Yt)||t.structure||this.structure)return null;if(this.from+this.slice.size!=t.from||this.slice.openEnd||t.slice.openStart){if(t.to!=this.from||this.slice.openStart||t.slice.openEnd)return null;{let r=this.slice.size+t.slice.size==0?ie.empty:new ie(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new Yt(t.from,this.to,r,this.structure)}}{let r=this.slice.size+t.slice.size==0?ie.empty:new ie(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new Yt(this.from,this.to+(t.to-t.from),r,this.structure)}}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,r){if("number"!=typeof r.from||"number"!=typeof r.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Yt(r.from,r.to,ie.fromJSON(t,r.slice),!!r.structure)}}Y.jsonID("replace",Yt);class ln extends Y{constructor(t,r,i,l,c,h,g=!1){super(),this.from=t,this.to=r,this.gapFrom=i,this.gapTo=l,this.slice=c,this.insert=h,this.structure=g}apply(t){if(this.structure&&(Pn(t,this.from,this.gapFrom)||Pn(t,this.gapTo,this.to)))return Oe.fail("Structure gap-replace would overwrite content");let r=t.slice(this.gapFrom,this.gapTo);if(r.openStart||r.openEnd)return Oe.fail("Gap is not a flat range");let i=this.slice.insertAt(this.insert,r.content);return i?Oe.fromReplace(t,this.from,this.to,i):Oe.fail("Content does not fit in gap")}getMap(){return new Cn([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let r=this.gapTo-this.gapFrom;return new ln(this.from,this.from+this.slice.size+r,this.from+this.insert,this.from+this.insert+r,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let r=t.mapResult(this.from,1),i=t.mapResult(this.to,-1),l=t.map(this.gapFrom,-1),c=t.map(this.gapTo,1);return r.deletedAcross&&i.deletedAcross||l<r.pos||c>i.pos?null:new ln(r.pos,i.pos,l,c,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,r){if("number"!=typeof r.from||"number"!=typeof r.to||"number"!=typeof r.gapFrom||"number"!=typeof r.gapTo||"number"!=typeof r.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new ln(r.from,r.to,r.gapFrom,r.gapTo,ie.fromJSON(t,r.slice),r.insert,!!r.structure)}}function Pn(s,t,r){let i=s.resolve(t),l=r-t,c=i.depth;for(;l>0&&c>0&&i.indexAfter(c)==i.node(c).childCount;)c--,l--;if(l>0){let h=i.node(c).maybeChild(i.indexAfter(c));for(;l>0;){if(!h||h.isLeaf)return!0;h=h.firstChild,l--}}return!1}function fn(s,t,r){return(0==t||s.canReplace(t,s.childCount))&&(r==s.childCount||s.canReplace(0,r))}function Bt(s){let r=s.parent.content.cutByIndex(s.startIndex,s.endIndex);for(let i=s.depth;;--i){let l=s.$from.node(i),c=s.$from.index(i),h=s.$to.indexAfter(i);if(i<s.depth&&l.canReplace(c,h,r))return i;if(0==i||l.type.spec.isolating||!fn(l,c,h))break}return null}function Zn(s,t,r=null,i=s){let l=function zn(s,t){let{parent:r,startIndex:i,endIndex:l}=s,c=r.contentMatchAt(i).findWrapping(t);return c&&r.canReplaceWith(i,l,c.length?c[0]:t)?c:null}(s,t),c=l&&function Er(s,t){let{parent:r,startIndex:i,endIndex:l}=s,c=r.child(i),h=t.contentMatch.findWrapping(c.type);if(!h)return null;let _=(h.length?h[h.length-1]:t).contentMatch;for(let I=i;_&&I<l;I++)_=_.matchType(r.child(I).type);return _&&_.validEnd?h:null}(i,t);return c?l.map(Rn).concat({type:t,attrs:r}).concat(c.map(Rn)):null}function Rn(s){return{type:s,attrs:null}}function eo(s,t,r=1,i){let l=s.resolve(t),c=l.depth-r,h=i&&i[i.length-1]||l.parent;if(c<0||l.parent.type.spec.isolating||!l.parent.canReplace(l.index(),l.parent.childCount)||!h.type.validContent(l.parent.content.cutByIndex(l.index(),l.parent.childCount)))return!1;for(let I=l.depth-1,P=r-2;I>c;I--,P--){let U=l.node(I),q=l.index(I);if(U.type.spec.isolating)return!1;let Q=U.content.cutByIndex(q,U.childCount),ce=i&&i[P+1];ce&&(Q=Q.replaceChild(0,ce.type.create(ce.attrs)));let Re=i&&i[P]||U;if(!U.canReplace(q+1,U.childCount)||!Re.type.validContent(Q))return!1}let g=l.indexAfter(c),_=i&&i[0];return l.node(c).canReplaceWith(g,g,_?_.type:l.node(c+1).type)}function ui(s,t){let r=s.resolve(t),i=r.index();return function qi(s,t){return!(!s||!t||s.isLeaf||!s.canAppend(t))}(r.nodeBefore,r.nodeAfter)&&r.parent.canReplace(i,i+1)}function $o(s,t,r=t,i=ie.empty){if(t==r&&!i.size)return null;let l=s.resolve(t),c=s.resolve(r);return ti(l,c,i)?new Yt(t,r,i):new Lt(l,c,i).fit()}function ti(s,t,r){return!r.openStart&&!r.openEnd&&s.start()==t.start()&&s.parent.canReplace(s.index(),t.index(),r.content)}Y.jsonID("replaceAround",ln);class Lt{constructor(t,r,i){this.$from=t,this.$to=r,this.unplaced=i,this.frontier=[],this.placed=ee.empty;for(let l=0;l<=t.depth;l++){let c=t.node(l);this.frontier.push({type:c.type,match:c.contentMatchAt(t.indexAfter(l))})}for(let l=t.depth;l>0;l--)this.placed=ee.from(t.node(l).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let I=this.findFittable();I?this.placeNodes(I):this.openMore()||this.dropNode()}let t=this.mustMoveInline(),r=this.placed.size-this.depth-this.$from.depth,i=this.$from,l=this.close(t<0?this.$to:i.doc.resolve(t));if(!l)return null;let c=this.placed,h=i.depth,g=l.depth;for(;h&&g&&1==c.childCount;)c=c.firstChild.content,h--,g--;let _=new ie(c,h,g);return t>-1?new ln(i.pos,t,this.$to.pos,this.$to.end(),_,r):_.size||i.pos!=this.$to.pos?new Yt(i.pos,l.pos,_):null}findFittable(){let t=this.unplaced.openStart;for(let r=this.unplaced.content,i=0,l=this.unplaced.openEnd;i<t;i++){let c=r.firstChild;if(r.childCount>1&&(l=0),c.type.spec.isolating&&l<=i){t=i;break}r=c.content}for(let r=1;r<=2;r++)for(let i=1==r?t:this.unplaced.openStart;i>=0;i--){let l,c=null;i?(c=Pr(this.unplaced.content,i-1).firstChild,l=c.content):l=this.unplaced.content;let h=l.firstChild;for(let g=this.depth;g>=0;g--){let P,{type:_,match:I}=this.frontier[g],U=null;if(1==r&&(h?I.matchType(h.type)||(U=I.fillBefore(ee.from(h),!1)):c&&_.compatibleContent(c.type)))return{sliceDepth:i,frontierDepth:g,parent:c,inject:U};if(2==r&&h&&(P=I.findWrapping(h.type)))return{sliceDepth:i,frontierDepth:g,parent:c,wrap:P};if(c&&I.matchType(c.type))break}}}openMore(){let{content:t,openStart:r,openEnd:i}=this.unplaced,l=Pr(t,r);return!(!l.childCount||l.firstChild.isLeaf||(this.unplaced=new ie(t,r+1,Math.max(i,l.size+r>=t.size-i?r+1:0)),0))}dropNode(){let{content:t,openStart:r,openEnd:i}=this.unplaced,l=Pr(t,r);if(l.childCount<=1&&r>0){let c=t.size-r<=r+l.size;this.unplaced=new ie(On(t,r-1,1),r-1,c?r-1:i)}else this.unplaced=new ie(On(t,r,1),r,i)}placeNodes({sliceDepth:t,frontierDepth:r,parent:i,inject:l,wrap:c}){for(;this.depth>r;)this.closeFrontierNode();if(c)for(let Re=0;Re<c.length;Re++)this.openFrontierNode(c[Re]);let h=this.unplaced,g=i?i.content:h.content,_=h.openStart-t,I=0,P=[],{match:U,type:q}=this.frontier[r];if(l){for(let Re=0;Re<l.childCount;Re++)P.push(l.child(Re));U=U.matchFragment(l)}let Q=g.size+t-(h.content.size-h.openEnd);for(;I<g.childCount;){let Re=g.child(I),vt=U.matchType(Re.type);if(!vt)break;I++,(I>1||0==_||Re.content.size)&&(U=vt,P.push(Xn(Re.mark(q.allowedMarks(Re.marks)),1==I?_:0,I==g.childCount?Q:-1)))}let ce=I==g.childCount;ce||(Q=-1),this.placed=Mn(this.placed,r,ee.from(P)),this.frontier[r].match=U,ce&&Q<0&&i&&i.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let Re=0,vt=g;Re<Q;Re++){let zt=vt.lastChild;this.frontier.push({type:zt.type,match:zt.contentMatchAt(zt.childCount)}),vt=zt.content}this.unplaced=ce?0==t?ie.empty:new ie(On(h.content,t-1,1),t-1,Q<0?h.openEnd:t-1):new ie(On(h.content,t,I),h.openStart,h.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let r,t=this.frontier[this.depth];if(!t.type.isTextblock||!So(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(r=this.findCloseLevel(this.$to))&&r.depth==this.depth)return-1;let{depth:i}=this.$to,l=this.$to.after(i);for(;i>1&&l==this.$to.end(--i);)++l;return l}findCloseLevel(t){e:for(let r=Math.min(this.depth,t.depth);r>=0;r--){let{match:i,type:l}=this.frontier[r],c=r<t.depth&&t.end(r+1)==t.pos+(t.depth-(r+1)),h=So(t,r,l,i,c);if(h){for(let g=r-1;g>=0;g--){let{match:_,type:I}=this.frontier[g],P=So(t,g,I,_,!0);if(!P||P.childCount)continue e}return{depth:r,fit:h,move:c?t.doc.resolve(t.after(r+1)):t}}}}close(t){let r=this.findCloseLevel(t);if(!r)return null;for(;this.depth>r.depth;)this.closeFrontierNode();r.fit.childCount&&(this.placed=Mn(this.placed,r.depth,r.fit)),t=r.move;for(let i=r.depth+1;i<=t.depth;i++){let l=t.node(i),c=l.type.contentMatch.fillBefore(l.content,!0,t.index(i));this.openFrontierNode(l.type,l.attrs,c)}return t}openFrontierNode(t,r=null,i){let l=this.frontier[this.depth];l.match=l.match.matchType(t),this.placed=Mn(this.placed,this.depth,ee.from(t.create(r,i))),this.frontier.push({type:t,match:t.contentMatch})}closeFrontierNode(){let r=this.frontier.pop().match.fillBefore(ee.empty,!0);r.childCount&&(this.placed=Mn(this.placed,this.frontier.length,r))}}function On(s,t,r){return 0==t?s.cutByIndex(r,s.childCount):s.replaceChild(0,s.firstChild.copy(On(s.firstChild.content,t-1,r)))}function Mn(s,t,r){return 0==t?s.append(r):s.replaceChild(s.childCount-1,s.lastChild.copy(Mn(s.lastChild.content,t-1,r)))}function Pr(s,t){for(let r=0;r<t;r++)s=s.firstChild.content;return s}function Xn(s,t,r){if(t<=0)return s;let i=s.content;return t>1&&(i=i.replaceChild(0,Xn(i.firstChild,t-1,1==i.childCount?r-1:0))),t>0&&(i=s.type.contentMatch.fillBefore(i).append(i),r<=0&&(i=i.append(s.type.contentMatch.matchFragment(i).fillBefore(ee.empty,!0)))),s.copy(i)}function So(s,t,r,i,l){let c=s.node(t),h=l?s.indexAfter(t):s.index(t);if(h==c.childCount&&!r.compatibleContent(c.type))return null;let g=i.fillBefore(c.content,!0,h);return g&&!function br(s,t,r){for(let i=r;i<t.childCount;i++)if(!s.allowsMarks(t.child(i).marks))return!0;return!1}(r,c.content,h)?g:null}function jr(s){return s.spec.defining||s.spec.definingForContent}function fi(s,t,r,i,l){if(t<r){let c=s.firstChild;s=s.replaceChild(0,c.copy(fi(c.content,t+1,r,i,c)))}if(t>i){let c=l.contentMatchAt(0),h=c.fillBefore(s).append(s);s=h.append(c.matchFragment(h).fillBefore(ee.empty,!0))}return s}function Nt(s,t){let r=[];for(let l=Math.min(s.depth,t.depth);l>=0;l--){let c=s.start(l);if(c<s.pos-(s.depth-l)||t.end(l)>t.pos+(t.depth-l)||s.node(l).type.spec.isolating||t.node(l).type.spec.isolating)break;(c==t.start(l)||l==s.depth&&l==t.depth&&s.parent.inlineContent&&t.parent.inlineContent&&l&&t.start(l-1)==c-1)&&r.push(l)}return r}class un extends Y{constructor(t,r,i){super(),this.pos=t,this.attr=r,this.value=i}apply(t){let r=t.nodeAt(this.pos);if(!r)return Oe.fail("No node at attribute step's position");let i=Object.create(null);for(let c in r.attrs)i[c]=r.attrs[c];i[this.attr]=this.value;let l=r.type.create(i,null,r.marks);return Oe.fromReplace(t,this.pos,this.pos+1,new ie(ee.from(l),0,r.isLeaf?0:1))}getMap(){return Cn.empty}invert(t){return new un(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let r=t.mapResult(this.pos,1);return r.deletedAfter?null:new un(r.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,r){if("number"!=typeof r.pos||"string"!=typeof r.attr)throw new RangeError("Invalid input for AttrStep.fromJSON");return new un(r.pos,r.attr,r.value)}}Y.jsonID("attr",un);let Ln=class extends Error{};Ln=function s(t){let r=Error.call(this,t);return r.__proto__=s.prototype,r},(Ln.prototype=Object.create(Error.prototype)).constructor=Ln,Ln.prototype.name="TransformError";class zr{constructor(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new ve}get before(){return this.docs.length?this.docs[0]:this.doc}step(t){let r=this.maybeStep(t);if(r.failed)throw new Ln(r.failed);return this}maybeStep(t){let r=t.apply(this.doc);return r.failed||this.addStep(t,r.doc),r}get docChanged(){return this.steps.length>0}addStep(t,r){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=r}replace(t,r=t,i=ie.empty){let l=$o(this.doc,t,r,i);return l&&this.step(l),this}replaceWith(t,r,i){return this.replace(t,r,new ie(ee.from(i),0,0))}delete(t,r){return this.replace(t,r,ie.empty)}insert(t,r){return this.replaceWith(t,t,r)}replaceRange(t,r,i){return function di(s,t,r,i){if(!i.size)return s.deleteRange(t,r);let l=s.doc.resolve(t),c=s.doc.resolve(r);if(ti(l,c,i))return s.step(new Yt(t,r,i));let h=Nt(l,s.doc.resolve(r));0==h[h.length-1]&&h.pop();let g=-(l.depth+1);h.unshift(g);for(let q=l.depth,Q=l.pos-1;q>0;q--,Q--){let ce=l.node(q).type.spec;if(ce.defining||ce.definingAsContext||ce.isolating)break;h.indexOf(q)>-1?g=q:l.before(q)==Q&&h.splice(1,0,-q)}let _=h.indexOf(g),I=[],P=i.openStart;for(let q=i.content,Q=0;;Q++){let ce=q.firstChild;if(I.push(ce),Q==i.openStart)break;q=ce.content}for(let q=P-1;q>=0;q--){let Q=I[q].type,ce=jr(Q);if(ce&&l.node(_).type!=Q)P=q;else if(ce||!Q.isTextblock)break}for(let q=i.openStart;q>=0;q--){let Q=(q+P+1)%(i.openStart+1),ce=I[Q];if(ce)for(let Re=0;Re<h.length;Re++){let vt=h[(Re+_)%h.length],zt=!0;vt<0&&(zt=!1,vt=-vt);let Jr=l.node(vt-1),Co=l.index(vt-1);if(Jr.canReplaceWith(Co,Co,ce.type,ce.marks))return s.replace(l.before(vt),zt?c.after(vt):r,new ie(fi(i.content,0,i.openStart,Q),Q,i.openEnd))}}let U=s.steps.length;for(let q=h.length-1;q>=0&&(s.replace(t,r,i),!(s.steps.length>U));q--){let Q=h[q];Q<0||(t=l.before(Q),r=c.after(Q))}}(this,t,r,i),this}replaceRangeWith(t,r,i){return function kn(s,t,r,i){if(!i.isInline&&t==r&&s.doc.resolve(t).parent.content.size){let l=function Qi(s,t,r){let i=s.resolve(t);if(i.parent.canReplaceWith(i.index(),i.index(),r))return t;if(0==i.parentOffset)for(let l=i.depth-1;l>=0;l--){let c=i.index(l);if(i.node(l).canReplaceWith(c,c,r))return i.before(l+1);if(c>0)return null}if(i.parentOffset==i.parent.content.size)for(let l=i.depth-1;l>=0;l--){let c=i.indexAfter(l);if(i.node(l).canReplaceWith(c,c,r))return i.after(l+1);if(c<i.node(l).childCount)return null}return null}(s.doc,t,i.type);null!=l&&(t=r=l)}s.replaceRange(t,r,new ie(ee.from(i),0,0))}(this,t,r,i),this}deleteRange(t,r){return function nt(s,t,r){let i=s.doc.resolve(t),l=s.doc.resolve(r),c=Nt(i,l);for(let h=0;h<c.length;h++){let g=c[h],_=h==c.length-1;if(_&&0==g||i.node(g).type.contentMatch.validEnd)return s.delete(i.start(g),l.end(g));if(g>0&&(_||i.node(g-1).canReplace(i.index(g-1),l.indexAfter(g-1))))return s.delete(i.before(g),l.after(g))}for(let h=1;h<=i.depth&&h<=l.depth;h++)if(t-i.start(h)==i.depth-h&&r>i.end(h)&&l.end(h)-r!=l.depth-h)return s.delete(i.before(h),r);s.delete(t,r)}(this,t,r),this}lift(t,r){return function cr(s,t,r){let{$from:i,$to:l,depth:c}=t,h=i.before(c+1),g=l.after(c+1),_=h,I=g,P=ee.empty,U=0;for(let ce=c,Re=!1;ce>r;ce--)Re||i.index(ce)>0?(Re=!0,P=ee.from(i.node(ce).copy(P)),U++):_--;let q=ee.empty,Q=0;for(let ce=c,Re=!1;ce>r;ce--)Re||l.after(ce+1)<l.end(ce)?(Re=!0,q=ee.from(l.node(ce).copy(q)),Q++):I++;s.step(new ln(_,I,h,g,new ie(P.append(q),U,Q),P.size-U,!0))}(this,t,r),this}join(t,r=1){return function ci(s,t,r){let i=new Yt(t-r,t+r,ie.empty,!0);s.step(i)}(this,t,r),this}wrap(t,r){return function Xr(s,t,r){let i=ee.empty;for(let h=r.length-1;h>=0;h--){if(i.size){let g=r[h].type.contentMatch.matchFragment(i);if(!g||!g.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}i=ee.from(r[h].type.create(r[h].attrs,i))}let l=t.start,c=t.end;s.step(new ln(l,c,l,c,new ie(i,0,0),r.length,!0))}(this,t,r),this}setBlockType(t,r=t,i,l=null){return function wo(s,t,r,i,l){if(!i.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let c=s.steps.length;s.doc.nodesBetween(t,r,(h,g)=>{if(h.isTextblock&&!h.hasMarkup(i,l)&&function Mo(s,t,r){let i=s.resolve(t),l=i.index();return i.parent.canReplaceWith(l,l+1,r)}(s.doc,s.mapping.slice(c).map(g),i)){s.clearIncompatible(s.mapping.slice(c).map(g,1),i);let _=s.mapping.slice(c),I=_.map(g,1),P=_.map(g+h.nodeSize,1);return s.step(new ln(I,P,I+1,P-1,new ie(ee.from(i.create(l,null,h.marks)),0,0),1,!0)),!1}})}(this,t,r,i,l),this}setNodeMarkup(t,r,i=null,l){return function Ji(s,t,r,i,l){let c=s.doc.nodeAt(t);if(!c)throw new RangeError("No node at given position");r||(r=c.type);let h=r.create(i,null,l||c.marks);if(c.isLeaf)return s.replaceWith(t,t+c.nodeSize,h);if(!r.validContent(c.content))throw new RangeError("Invalid content for node type "+r.name);s.step(new ln(t,t+c.nodeSize,t+1,t+c.nodeSize-1,new ie(ee.from(h),0,0),1,!0))}(this,t,r,i,l),this}setNodeAttribute(t,r,i){return this.step(new un(t,r,i)),this}addNodeMark(t,r){return this.step(new nn(t,r)),this}removeNodeMark(t,r){if(!(r instanceof it)){let i=this.doc.nodeAt(t);if(!i)throw new RangeError("No node at position "+t);if(!(r=r.isInSet(i.marks)))return this}return this.step(new xt(t,r)),this}split(t,r=1,i){return function zo(s,t,r=1,i){let l=s.doc.resolve(t),c=ee.empty,h=ee.empty;for(let g=l.depth,_=l.depth-r,I=r-1;g>_;g--,I--){c=ee.from(l.node(g).copy(c));let P=i&&i[I];h=ee.from(P?P.type.create(P.attrs,h):l.node(g).copy(h))}s.step(new Yt(t,t,new ie(c.append(h),r,r),!0))}(this,t,r,i),this}addMark(t,r,i){return function hr(s,t,r,i){let h,g,l=[],c=[];s.doc.nodesBetween(t,r,(_,I,P)=>{if(!_.isInline)return;let U=_.marks;if(!i.isInSet(U)&&P.type.allowsMarkType(i.type)){let q=Math.max(I,t),Q=Math.min(I+_.nodeSize,r),ce=i.addToSet(U);for(let Re=0;Re<U.length;Re++)U[Re].isInSet(ce)||(h&&h.to==q&&h.mark.eq(U[Re])?h.to=Q:l.push(h=new Je(q,Q,U[Re])));g&&g.to==q?g.to=Q:c.push(g=new tt(q,Q,i))}}),l.forEach(_=>s.step(_)),c.forEach(_=>s.step(_))}(this,t,r,i),this}removeMark(t,r,i){return function Nr(s,t,r,i){let l=[],c=0;s.doc.nodesBetween(t,r,(h,g)=>{if(!h.isInline)return;c++;let _=null;if(i instanceof In){let P,I=h.marks;for(;P=i.isInSet(I);)(_||(_=[])).push(P),I=P.removeFromSet(I)}else i?i.isInSet(h.marks)&&(_=[i]):_=h.marks;if(_&&_.length){let I=Math.min(g+h.nodeSize,r);for(let P=0;P<_.length;P++){let q,U=_[P];for(let Q=0;Q<l.length;Q++){let ce=l[Q];ce.step==c-1&&U.eq(l[Q].style)&&(q=ce)}q?(q.to=I,q.step=c):l.push({style:U,from:Math.max(g,t),to:I,step:c})}}}),l.forEach(h=>s.step(new Je(h.from,h.to,h.style)))}(this,t,r,i),this}clearIncompatible(t,r,i){return function Ur(s,t,r,i=r.contentMatch){let l=s.doc.nodeAt(t),c=[],h=t+1;for(let g=0;g<l.childCount;g++){let _=l.child(g),I=h+_.nodeSize,P=i.matchType(_.type);if(P){i=P;for(let U=0;U<_.marks.length;U++)r.allowsMarkType(_.marks[U].type)||s.step(new Je(h,I,_.marks[U]));if(_.isText&&!r.spec.code){let U,Q,q=/\r?\n|\r/g;for(;U=q.exec(_.text);)Q||(Q=new ie(ee.from(r.schema.text(" ",r.allowedMarks(_.marks))),0,0)),c.push(new Yt(h+U.index,h+U.index+U[0].length,Q))}}else c.push(new Yt(h,I,ie.empty));h=I}if(!i.validEnd){let g=i.fillBefore(ee.empty,!0);s.replace(h,h,new ie(g,0,0))}for(let g=c.length-1;g>=0;g--)s.step(c[g])}(this,t,r,i),this}}const Fn=Object.create(null);class Ht{constructor(t,r,i){this.$anchor=t,this.$head=r,this.ranges=i||[new Sn(t.min(r),t.max(r))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let t=this.ranges;for(let r=0;r<t.length;r++)if(t[r].$from.pos!=t[r].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t,r=ie.empty){let i=r.content.lastChild,l=null;for(let g=0;g<r.openEnd;g++)l=i,i=i.lastChild;let c=t.steps.length,h=this.ranges;for(let g=0;g<h.length;g++){let{$from:_,$to:I}=h[g],P=t.mapping.slice(c);t.replaceRange(P.map(_.pos),P.map(I.pos),g?ie.empty:r),0==g&&fr(t,c,(i?i.isInline:l&&l.isTextblock)?-1:1)}}replaceWith(t,r){let i=t.steps.length,l=this.ranges;for(let c=0;c<l.length;c++){let{$from:h,$to:g}=l[c],_=t.mapping.slice(i),I=_.map(h.pos),P=_.map(g.pos);c?t.deleteRange(I,P):(t.replaceRangeWith(I,P,r),fr(t,i,r.isInline?-1:1))}}static findFrom(t,r,i=!1){let l=t.parent.inlineContent?new lt(t):Rr(t.node(0),t.parent,t.pos,t.index(),r,i);if(l)return l;for(let c=t.depth-1;c>=0;c--){let h=r<0?Rr(t.node(0),t.node(c),t.before(c+1),t.index(c),r,i):Rr(t.node(0),t.node(c),t.after(c+1),t.index(c)+1,r,i);if(h)return h}return null}static near(t,r=1){return this.findFrom(t,r)||this.findFrom(t,-r)||new Gt(t.node(0))}static atStart(t){return Rr(t,t,0,0,1)||new Gt(t)}static atEnd(t){return Rr(t,t,t.content.size,t.childCount,-1)||new Gt(t)}static fromJSON(t,r){if(!r||!r.type)throw new RangeError("Invalid input for Selection.fromJSON");let i=Fn[r.type];if(!i)throw new RangeError(`No selection type ${r.type} defined`);return i.fromJSON(t,r)}static jsonID(t,r){if(t in Fn)throw new RangeError("Duplicate use of selection JSON ID "+t);return Fn[t]=r,r.prototype.jsonID=t,r}getBookmark(){return lt.between(this.$anchor,this.$head).getBookmark()}}Ht.prototype.visible=!0;class Sn{constructor(t,r){this.$from=t,this.$to=r}}let pr=!1;function gr(s){!pr&&!s.parent.inlineContent&&(pr=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+s.parent.type.name+")"))}class lt extends Ht{constructor(t,r=t){gr(t),gr(r),super(t,r)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,r){let i=t.resolve(r.map(this.head));if(!i.parent.inlineContent)return Ht.near(i);let l=t.resolve(r.map(this.anchor));return new lt(l.parent.inlineContent?l:i,i)}replace(t,r=ie.empty){if(super.replace(t,r),r==ie.empty){let i=this.$from.marksAcross(this.$to);i&&t.ensureMarks(i)}}eq(t){return t instanceof lt&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new dr(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,r){if("number"!=typeof r.anchor||"number"!=typeof r.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new lt(t.resolve(r.anchor),t.resolve(r.head))}static create(t,r,i=r){let l=t.resolve(r);return new this(l,i==r?l:t.resolve(i))}static between(t,r,i){let l=t.pos-r.pos;if((!i||l)&&(i=l>=0?1:-1),!r.parent.inlineContent){let c=Ht.findFrom(r,i,!0)||Ht.findFrom(r,-i,!0);if(!c)return Ht.near(r,i);r=c.$head}return t.parent.inlineContent||(0==l||(t=(Ht.findFrom(t,-i,!0)||Ht.findFrom(t,i,!0)).$anchor).pos<r.pos!=l<0)&&(t=r),new lt(t,r)}}Ht.jsonID("text",lt);class dr{constructor(t,r){this.anchor=t,this.head=r}map(t){return new dr(t.map(this.anchor),t.map(this.head))}resolve(t){return lt.between(t.resolve(this.anchor),t.resolve(this.head))}}class It extends Ht{constructor(t){let r=t.nodeAfter,i=t.node(0).resolve(t.pos+r.nodeSize);super(t,i),this.node=r}map(t,r){let{deleted:i,pos:l}=r.mapResult(this.anchor),c=t.resolve(l);return i?Ht.near(c):new It(c)}content(){return new ie(ee.from(this.node),0,0)}eq(t){return t instanceof It&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new wr(this.anchor)}static fromJSON(t,r){if("number"!=typeof r.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new It(t.resolve(r.anchor))}static create(t,r){return new It(t.resolve(r))}static isSelectable(t){return!t.isText&&!1!==t.type.spec.selectable}}It.prototype.visible=!1,Ht.jsonID("node",It);class wr{constructor(t){this.anchor=t}map(t){let{deleted:r,pos:i}=t.mapResult(this.anchor);return r?new dr(i,i):new wr(i)}resolve(t){let r=t.resolve(this.anchor),i=r.nodeAfter;return i&&It.isSelectable(i)?new It(r):Ht.near(r)}}class Gt extends Ht{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,r=ie.empty){if(r==ie.empty){t.delete(0,t.doc.content.size);let i=Ht.atStart(t.doc);i.eq(t.selection)||t.setSelection(i)}else super.replace(t,r)}toJSON(){return{type:"all"}}static fromJSON(t){return new Gt(t)}map(t){return new Gt(t)}eq(t){return t instanceof Gt}getBookmark(){return xo}}Ht.jsonID("all",Gt);const xo={map(){return this},resolve:s=>new Gt(s)};function Rr(s,t,r,i,l,c=!1){if(t.inlineContent)return lt.create(s,r);for(let h=i-(l>0?0:1);l>0?h<t.childCount:h>=0;h+=l){let g=t.child(h);if(g.isAtom){if(!c&&It.isSelectable(g))return It.create(s,r-(l<0?g.nodeSize:0))}else{let _=Rr(s,g,r+l,l<0?g.childCount:0,l,c);if(_)return _}r+=g.nodeSize*l}return null}function fr(s,t,r){let i=s.steps.length-1;if(i<t)return;let h,l=s.steps[i];(l instanceof Yt||l instanceof ln)&&(s.mapping.maps[i].forEach((g,_,I,P)=>{null==h&&(h=P)}),s.setSelection(Ht.near(s.doc.resolve(h),r)))}class mr extends zr{constructor(t){super(t.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=t.selection,this.storedMarks=t.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=-3&(1|this.updated),this.storedMarks=null,this}get selectionSet(){return(1&this.updated)>0}setStoredMarks(t){return this.storedMarks=t,this.updated|=2,this}ensureMarks(t){return it.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this}addStoredMark(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(2&this.updated)>0}addStep(t,r){super.addStep(t,r),this.updated=-3&this.updated,this.storedMarks=null}setTime(t){return this.time=t,this}replaceSelection(t){return this.selection.replace(this,t),this}replaceSelectionWith(t,r=!0){let i=this.selection;return r&&(t=t.mark(this.storedMarks||(i.empty?i.$from.marks():i.$from.marksAcross(i.$to)||it.none))),i.replaceWith(this,t),this}deleteSelection(){return this.selection.replace(this),this}insertText(t,r,i){let l=this.doc.type.schema;if(null==r)return t?this.replaceSelectionWith(l.text(t),!0):this.deleteSelection();{if(null==i&&(i=r),i=i??r,!t)return this.deleteRange(r,i);let c=this.storedMarks;if(!c){let h=this.doc.resolve(r);c=i==r?h.marks():h.marksAcross(this.doc.resolve(i))}return this.replaceRangeWith(r,i,l.text(t,c)),this.selection.empty||this.setSelection(Ht.near(this.selection.$to)),this}}setMeta(t,r){return this.meta["string"==typeof t?t:t.key]=r,this}getMeta(t){return this.meta["string"==typeof t?t:t.key]}get isGeneric(){for(let t in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=4,this}get scrolledIntoView(){return(4&this.updated)>0}}function To(s,t){return t&&s?s.bind(t):s}class Wr{constructor(t,r,i){this.name=t,this.init=To(r.init,i),this.apply=To(r.apply,i)}}const qt=[new Wr("doc",{init:s=>s.doc||s.schema.topNodeType.createAndFill(),apply:s=>s.doc}),new Wr("selection",{init:(s,t)=>s.selection||Ht.atStart(t.doc),apply:s=>s.selection}),new Wr("storedMarks",{init:s=>s.storedMarks||null,apply:(s,t,r,i)=>i.selection.$cursor?s.storedMarks:null}),new Wr("scrollToSelection",{init:()=>0,apply:(s,t)=>s.scrolledIntoView?t+1:t})];class Ao{constructor(t,r){this.schema=t,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=qt.slice(),r&&r.forEach(i=>{if(this.pluginsByKey[i.key])throw new RangeError("Adding different instances of a keyed plugin ("+i.key+")");this.plugins.push(i),this.pluginsByKey[i.key]=i,i.spec.state&&this.fields.push(new Wr(i.key,i.spec.state,i))})}}class Oo{constructor(t){this.config=t}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(t){return this.applyTransaction(t).state}filterTransaction(t,r=-1){for(let i=0;i<this.config.plugins.length;i++)if(i!=r){let l=this.config.plugins[i];if(l.spec.filterTransaction&&!l.spec.filterTransaction.call(l,t,this))return!1}return!0}applyTransaction(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};let r=[t],i=this.applyInner(t),l=null;for(;;){let c=!1;for(let h=0;h<this.config.plugins.length;h++){let g=this.config.plugins[h];if(g.spec.appendTransaction){let _=l?l[h].n:0,I=l?l[h].state:this,P=_<r.length&&g.spec.appendTransaction.call(g,_?r.slice(_):r,I,i);if(P&&i.filterTransaction(P,h)){if(P.setMeta("appendedTransaction",t),!l){l=[];for(let U=0;U<this.config.plugins.length;U++)l.push(U<h?{state:i,n:r.length}:{state:this,n:0})}r.push(P),i=i.applyInner(P),c=!0}l&&(l[h]={state:i,n:r.length})}}if(!c)return{state:i,transactions:r}}}applyInner(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let r=new Oo(this.config),i=this.config.fields;for(let l=0;l<i.length;l++){let c=i[l];r[c.name]=c.apply(t,this[c.name],this,r)}return r}get tr(){return new mr(this)}static create(t){let r=new Ao(t.doc?t.doc.type.schema:t.schema,t.plugins),i=new Oo(r);for(let l=0;l<r.fields.length;l++)i[r.fields[l].name]=r.fields[l].init(t,i);return i}reconfigure(t){let r=new Ao(this.schema,t.plugins),i=r.fields,l=new Oo(r);for(let c=0;c<i.length;c++){let h=i[c].name;l[h]=this.hasOwnProperty(h)?this[h]:i[c].init(t,l)}return l}toJSON(t){let r={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(r.storedMarks=this.storedMarks.map(i=>i.toJSON())),t&&"object"==typeof t)for(let i in t){if("doc"==i||"selection"==i)throw new RangeError("The JSON fields `doc` and `selection` are reserved");let l=t[i],c=l.spec.state;c&&c.toJSON&&(r[i]=c.toJSON.call(l,this[l.key]))}return r}static fromJSON(t,r,i){if(!r)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");let l=new Ao(t.schema,t.plugins),c=new Oo(l);return l.fields.forEach(h=>{if("doc"==h.name)c.doc=z.fromJSON(t.schema,r.doc);else if("selection"==h.name)c.selection=Ht.fromJSON(c.doc,r.selection);else if("storedMarks"==h.name)r.storedMarks&&(c.storedMarks=r.storedMarks.map(t.schema.markFromJSON));else{if(i)for(let g in i){let _=i[g],I=_.spec.state;if(_.key==h.name&&I&&I.fromJSON&&Object.prototype.hasOwnProperty.call(r,g))return void(c[h.name]=I.fromJSON.call(_,t,r[g],c))}c[h.name]=h.init(t,c)}}),c}}function hi(s,t,r){for(let i in s){let l=s[i];l instanceof Function?l=l.bind(t):"handleDOMEvents"==i&&(l=hi(l,t,{})),r[i]=l}return r}class Vn{constructor(t){this.spec=t,this.props={},t.props&&hi(t.props,this,this.props),this.key=t.key?t.key.key:po("plugin")}getState(t){return t[this.key]}}const ho=Object.create(null);function po(s){return s in ho?s+"$"+ ++ho[s]:(ho[s]=0,s+"$")}class yr{constructor(t="key"){this.key=po(t)}get(t){return t.config.pluginsByKey[this.key]}getState(t){return t[this.key]}}const rn=function(s){for(var t=0;;t++)if(!(s=s.previousSibling))return t},sr=function(s){let t=s.assignedSlot||s.parentNode;return t&&11==t.nodeType?t.host:t};let er=null;const mn=function(s,t,r){let i=er||(er=document.createRange());return i.setEnd(s,r??s.nodeValue.length),i.setStart(s,t||0),i},to=function(s,t,r,i){return r&&(Go(s,t,r,i,-1)||Go(s,t,r,i,1))},no=/^(img|br|input|textarea|hr)$/i;function Go(s,t,r,i,l){for(;;){if(s==r&&t==i)return!0;if(t==(l<0?0:yn(s))){let c=s.parentNode;if(!c||1!=c.nodeType||Xi(s)||no.test(s.nodeName)||"false"==s.contentEditable)return!1;t=rn(s)+(l<0?0:1),s=c}else{if(1!=s.nodeType)return!1;if("false"==(s=s.childNodes[t+(l<0?-1:0)]).contentEditable)return!1;t=l<0?yn(s):0}}}function yn(s){return 3==s.nodeType?s.nodeValue.length:s.childNodes.length}function Xi(s){let t;for(let r=s;r&&!(t=r.pmViewDesc);r=r.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==s||t.contentDOM==s)}const pi=function(s){return s.focusNode&&to(s.focusNode,s.focusOffset,s.anchorNode,s.anchorOffset)};function kr(s,t){let r=document.createEvent("Event");return r.initEvent("keydown",!0,!0),r.keyCode=s,r.key=r.code=t,r}const Fr=typeof navigator<"u"?navigator:null,ni=typeof document<"u"?document:null,Lr=Fr&&Fr.userAgent||"",Oi=/Edge\/(\d+)/.exec(Lr),Cs=/MSIE \d/.exec(Lr),ts=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Lr),vr=!!(Cs||ts||Oi),Po=Cs?document.documentMode:ts?+ts[1]:Oi?+Oi[1]:0,Kr=!vr&&/gecko\/(\d+)/i.test(Lr);Kr&&/Firefox\/(\d+)/.exec(Lr);const Es=!vr&&/Chrome\/(\d+)/.exec(Lr),x=!!Es,S=Es?+Es[1]:0,w=!vr&&!!Fr&&/Apple Computer/.test(Fr.vendor),L=w&&(/Mobile\/\w+/.test(Lr)||!!Fr&&Fr.maxTouchPoints>2),De=L||!!Fr&&/Mac/.test(Fr.platform),et=!!Fr&&/Win/.test(Fr.platform),pn=/Android \d/.test(Lr),Yn=!!ni&&"webkitFontSmoothing"in ni.documentElement.style,ri=Yn?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function ns(s){return{left:0,right:s.documentElement.clientWidth,top:0,bottom:s.documentElement.clientHeight}}function go(s,t){return"number"==typeof s?s:s[t]}function ca(s){let t=s.getBoundingClientRect();return{left:t.left,right:t.left+s.clientWidth*(t.width/s.offsetWidth||1),top:t.top,bottom:t.top+s.clientHeight*(t.height/s.offsetHeight||1)}}function bs(s,t,r){let i=s.someProp("scrollThreshold")||0,l=s.someProp("scrollMargin")||5,c=s.dom.ownerDocument;for(let h=r||s.dom;h;h=sr(h)){if(1!=h.nodeType)continue;let g=h,_=g==c.body,I=_?ns(c):ca(g),P=0,U=0;if(t.top<I.top+go(i,"top")?U=-(I.top-t.top+go(l,"top")):t.bottom>I.bottom-go(i,"bottom")&&(U=t.bottom-I.bottom+go(l,"bottom")),t.left<I.left+go(i,"left")?P=-(I.left-t.left+go(l,"left")):t.right>I.right-go(i,"right")&&(P=t.right-I.right+go(l,"right")),P||U)if(_)c.defaultView.scrollBy(P,U);else{let q=g.scrollLeft,Q=g.scrollTop;U&&(g.scrollTop+=U),P&&(g.scrollLeft+=P);let ce=g.scrollLeft-q,Re=g.scrollTop-Q;t={left:t.left-ce,top:t.top-Re,right:t.right-ce,bottom:t.bottom-Re}}if(_||/^(fixed|sticky)$/.test(getComputedStyle(h).position))break}}function fa(s){let t=[],r=s.ownerDocument;for(let i=s;i&&(t.push({dom:i,top:i.scrollTop,left:i.scrollLeft}),s!=r);i=sr(i));return t}function Ni(s,t){for(let r=0;r<s.length;r++){let{dom:i,top:l,left:c}=s[r];i.scrollTop!=l+t&&(i.scrollTop=l+t),i.scrollLeft!=c&&(i.scrollLeft=c)}}let $n=null;function Bn(s,t){let r,l,_,I,i=2e8,c=0,h=t.top,g=t.top;for(let P=s.firstChild,U=0;P;P=P.nextSibling,U++){let q;if(1==P.nodeType)q=P.getClientRects();else{if(3!=P.nodeType)continue;q=mn(P).getClientRects()}for(let Q=0;Q<q.length;Q++){let ce=q[Q];if(ce.top<=h&&ce.bottom>=g){h=Math.max(ce.bottom,h),g=Math.min(ce.top,g);let Re=ce.left>t.left?ce.left-t.left:ce.right<t.left?t.left-ce.right:0;if(Re<i){r=P,i=Re,l=Re&&3==r.nodeType?{left:ce.right<t.left?ce.right:ce.left,top:t.top}:t,1==P.nodeType&&Re&&(c=U+(t.left>=(ce.left+ce.right)/2?1:0));continue}}else ce.top>t.top&&!_&&ce.left<=t.left&&ce.right>=t.left&&(_=P,I={left:Math.max(ce.left,Math.min(ce.right,t.left)),top:ce.top});!r&&(t.left>=ce.right&&t.top>=ce.top||t.left>=ce.left&&t.top>=ce.bottom)&&(c=U+1)}}return!r&&_&&(r=_,l=I,i=0),r&&3==r.nodeType?function oi(s,t){let r=s.nodeValue.length,i=document.createRange();for(let l=0;l<r;l++){i.setEnd(s,l+1),i.setStart(s,l);let c=Zr(i,1);if(c.top!=c.bottom&&ha(t,c))return{node:s,offset:l+(t.left>=(c.left+c.right)/2?1:0)}}return{node:s,offset:0}}(r,l):!r||i&&1==r.nodeType?{node:s,offset:c}:Bn(r,l)}function ha(s,t){return s.left>=t.left-1&&s.left<=t.right+1&&s.top>=t.top-1&&s.top<=t.bottom+1}function Ms(s,t,r){let i=s.childNodes.length;if(i&&r.top<r.bottom)for(let l=Math.max(0,Math.min(i-1,Math.floor(i*(t.top-r.top)/(r.bottom-r.top))-2)),c=l;;){let h=s.childNodes[c];if(1==h.nodeType){let g=h.getClientRects();for(let _=0;_<g.length;_++){let I=g[_];if(ha(t,I))return Ms(h,t,I)}}if((c=(c+1)%i)==l)break}return s}function au(s,t){let i,r=s.dom.ownerDocument,l=0,c=function es(s,t,r){if(s.caretPositionFromPoint)try{let i=s.caretPositionFromPoint(t,r);if(i)return{node:i.offsetNode,offset:i.offset}}catch{}if(s.caretRangeFromPoint){let i=s.caretRangeFromPoint(t,r);if(i)return{node:i.startContainer,offset:i.startOffset}}}(r,t.left,t.top);c&&({node:i,offset:l}=c);let g,h=(s.root.elementFromPoint?s.root:r).elementFromPoint(t.left,t.top);if(!h||!s.dom.contains(1!=h.nodeType?h.parentNode:h)){let I=s.dom.getBoundingClientRect();if(!ha(t,I)||(h=Ms(s.dom,t,I),!h))return null}if(w)for(let I=h;i&&I;I=sr(I))I.draggable&&(i=void 0);if(h=function Pi(s,t){let r=s.parentNode;return r&&/^li$/i.test(r.nodeName)&&t.left<s.getBoundingClientRect().left?r:s}(h,t),i){if(Kr&&1==i.nodeType&&(l=Math.min(l,i.childNodes.length),l<i.childNodes.length)){let P,I=i.childNodes[l];"IMG"==I.nodeName&&(P=I.getBoundingClientRect()).right<=t.left&&P.bottom>t.top&&l++}i==s.dom&&l==i.childNodes.length-1&&1==i.lastChild.nodeType&&t.top>i.lastChild.getBoundingClientRect().bottom?g=s.state.doc.content.size:(0==l||1!=i.nodeType||"BR"!=i.childNodes[l-1].nodeName)&&(g=function Wo(s,t,r,i){let l=-1;for(let c=t,h=!1;c!=s.dom;){let g=s.docView.nearestDesc(c,!0);if(!g)return null;if(1==g.dom.nodeType&&(g.node.isBlock&&g.parent&&!h||!g.contentDOM)){let _=g.dom.getBoundingClientRect();if(g.node.isBlock&&g.parent&&!h&&(h=!0,_.left>i.left||_.top>i.top?l=g.posBefore:(_.right<i.left||_.bottom<i.top)&&(l=g.posAfter)),!g.contentDOM&&l<0&&!g.node.isText)return(g.node.isBlock?i.top<(_.top+_.bottom)/2:i.left<(_.left+_.right)/2)?g.posBefore:g.posAfter}c=g.dom.parentNode}return l>-1?l:s.docView.posFromDOM(t,r,-1)}(s,i,l,t))}null==g&&(g=function Ri(s,t,r){let{node:i,offset:l}=Bn(t,r),c=-1;if(1==i.nodeType&&!i.firstChild){let h=i.getBoundingClientRect();c=h.left!=h.right&&r.left>(h.left+h.right)/2?1:-1}return s.docView.posFromDOM(i,l,c)}(s,h,t));let _=s.docView.nearestDesc(h,!0);return{pos:g,inside:_?_.posAtStart-_.border:-1}}function rs(s){return s.top<s.bottom||s.left<s.right}function Zr(s,t){let r=s.getClientRects();if(r.length){let i=r[t<0?0:r.length-1];if(rs(i))return i}return Array.prototype.find.call(r,rs)||s.getBoundingClientRect()}const Ja=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function Ko(s,t,r){let{node:i,offset:l,atom:c}=s.docView.domFromPos(t,r<0?-1:1),h=Yn||Kr;if(3==i.nodeType){if(!h||!Ja.test(i.nodeValue)&&(r<0?l:l!=i.nodeValue.length)){let _=l,I=l,P=r<0?1:-1;return r<0&&!l?(I++,P=-1):r>=0&&l==i.nodeValue.length?(_--,P=1):r<0?_--:I++,ki(Zr(mn(i,_,I),P),P<0)}{let _=Zr(mn(i,l,l),r);if(Kr&&l&&/\s/.test(i.nodeValue[l-1])&&l<i.nodeValue.length){let I=Zr(mn(i,l-1,l-1),-1);if(I.top==_.top){let P=Zr(mn(i,l,l+1),-1);if(P.top!=_.top)return ki(P,P.left<I.left)}}return _}}if(!s.state.doc.resolve(t-(c||0)).parent.inlineContent){if(null==c&&l&&(r<0||l==yn(i))){let _=i.childNodes[l-1];if(1==_.nodeType)return pa(_.getBoundingClientRect(),!1)}if(null==c&&l<yn(i)){let _=i.childNodes[l];if(1==_.nodeType)return pa(_.getBoundingClientRect(),!0)}return pa(i.getBoundingClientRect(),r>=0)}if(null==c&&l&&(r<0||l==yn(i))){let _=i.childNodes[l-1],I=3==_.nodeType?mn(_,yn(_)-(h?0:1)):1!=_.nodeType||"BR"==_.nodeName&&_.nextSibling?null:_;if(I)return ki(Zr(I,1),!1)}if(null==c&&l<yn(i)){let _=i.childNodes[l];for(;_.pmViewDesc&&_.pmViewDesc.ignoreForCoords;)_=_.nextSibling;let I=_?3==_.nodeType?mn(_,0,h?0:1):1==_.nodeType?_:null:null;if(I)return ki(Zr(I,-1),!0)}return ki(Zr(3==i.nodeType?mn(i):i,-r),r>=0)}function ki(s,t){if(0==s.width)return s;let r=t?s.left:s.right;return{top:s.top,bottom:s.bottom,left:r,right:r}}function pa(s,t){if(0==s.height)return s;let r=t?s.top:s.bottom;return{top:r,bottom:r,left:s.left,right:s.right}}function qa(s,t,r){let i=s.state,l=s.root.activeElement;i!=t&&s.updateState(t),l!=s.dom&&s.focus();try{return r()}finally{i!=t&&s.updateState(i),l!=s.dom&&l&&l.focus()}}const ga=/[\u0590-\u08ac]/;let is=null,Ss=null,Fi=!1;class ii{constructor(t,r,i,l){this.parent=t,this.children=r,this.dom=i,this.contentDOM=l,this.dirty=0,i.pmViewDesc=this}matchesWidget(t){return!1}matchesMark(t){return!1}matchesNode(t,r,i){return!1}matchesHack(t){return!1}parseRule(){return null}stopEvent(t){return!1}get size(){let t=0;for(let r=0;r<this.children.length;r++)t+=this.children[r].size;return t}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let t=0;t<this.children.length;t++)this.children[t].destroy()}posBeforeChild(t){for(let r=0,i=this.posAtStart;;r++){let l=this.children[r];if(l==t)return i;i+=l.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(t,r,i){if(this.contentDOM&&this.contentDOM.contains(1==t.nodeType?t:t.parentNode)){if(i<0){let c,h;if(t==this.contentDOM)c=t.childNodes[r-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;c=t.previousSibling}for(;c&&(!(h=c.pmViewDesc)||h.parent!=this);)c=c.previousSibling;return c?this.posBeforeChild(h)+h.size:this.posAtStart}{let c,h;if(t==this.contentDOM)c=t.childNodes[r];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;c=t.nextSibling}for(;c&&(!(h=c.pmViewDesc)||h.parent!=this);)c=c.nextSibling;return c?this.posBeforeChild(h):this.posAtEnd}}let l;if(t==this.dom&&this.contentDOM)l=r>rn(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))l=2&t.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==r)for(let c=t;;c=c.parentNode){if(c==this.dom){l=!1;break}if(c.previousSibling)break}if(null==l&&r==t.childNodes.length)for(let c=t;;c=c.parentNode){if(c==this.dom){l=!0;break}if(c.nextSibling)break}}return l??i>0?this.posAtEnd:this.posAtStart}nearestDesc(t,r=!1){for(let i=!0,l=t;l;l=l.parentNode){let h,c=this.getDesc(l);if(c&&(!r||c.node)){if(!i||!(h=c.nodeDOM)||(1==h.nodeType?h.contains(1==t.nodeType?t:t.parentNode):h==t))return c;i=!1}}}getDesc(t){let r=t.pmViewDesc;for(let i=r;i;i=i.parent)if(i==this)return r}posFromDOM(t,r,i){for(let l=t;l;l=l.parentNode){let c=this.getDesc(l);if(c)return c.localPosFromDOM(t,r,i)}return-1}descAt(t){for(let r=0,i=0;r<this.children.length;r++){let l=this.children[r],c=i+l.size;if(i==t&&c!=i){for(;!l.border&&l.children.length;)l=l.children[0];return l}if(t<c)return l.descAt(t-i-l.border);i=c}}domFromPos(t,r){if(!this.contentDOM)return{node:this.dom,offset:0,atom:t+1};let i=0,l=0;for(let c=0;i<this.children.length;i++){let h=this.children[i],g=c+h.size;if(g>t||h instanceof E){l=t-c;break}c=g}if(l)return this.children[i].domFromPos(l-this.children[i].border,r);for(let c;i&&!(c=this.children[i-1]).size&&c instanceof ma&&c.side>=0;i--);if(r<=0){let c,h=!0;for(;c=i?this.children[i-1]:null,c&&c.dom.parentNode!=this.contentDOM;i--,h=!1);return c&&r&&h&&!c.border&&!c.domAtom?c.domFromPos(c.size,r):{node:this.contentDOM,offset:c?rn(c.dom)+1:0}}{let c,h=!0;for(;c=i<this.children.length?this.children[i]:null,c&&c.dom.parentNode!=this.contentDOM;i++,h=!1);return c&&h&&!c.border&&!c.domAtom?c.domFromPos(0,r):{node:this.contentDOM,offset:c?rn(c.dom):this.contentDOM.childNodes.length}}}parseRange(t,r,i=0){if(0==this.children.length)return{node:this.contentDOM,from:t,to:r,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let l=-1,c=-1;for(let h=i,g=0;;g++){let _=this.children[g],I=h+_.size;if(-1==l&&t<=I){let P=h+_.border;if(t>=P&&r<=I-_.border&&_.node&&_.contentDOM&&this.contentDOM.contains(_.contentDOM))return _.parseRange(t,r,P);t=h;for(let U=g;U>0;U--){let q=this.children[U-1];if(q.size&&q.dom.parentNode==this.contentDOM&&!q.emptyChildAt(1)){l=rn(q.dom)+1;break}t-=q.size}-1==l&&(l=0)}if(l>-1&&(I>r||g==this.children.length-1)){r=I;for(let P=g+1;P<this.children.length;P++){let U=this.children[P];if(U.size&&U.dom.parentNode==this.contentDOM&&!U.emptyChildAt(-1)){c=rn(U.dom);break}r+=U.size}-1==c&&(c=this.contentDOM.childNodes.length);break}h=I}return{node:this.contentDOM,from:t,to:r,fromOffset:l,toOffset:c}}emptyChildAt(t){if(this.border||!this.contentDOM||!this.children.length)return!1;let r=this.children[t<0?0:this.children.length-1];return 0==r.size||r.emptyChildAt(t)}domAfterPos(t){let{node:r,offset:i}=this.domFromPos(t,0);if(1!=r.nodeType||i==r.childNodes.length)throw new RangeError("No node after pos "+t);return r.childNodes[i]}setSelection(t,r,i,l=!1){let c=Math.min(t,r),h=Math.max(t,r);for(let q=0,Q=0;q<this.children.length;q++){let ce=this.children[q],Re=Q+ce.size;if(c>Q&&h<Re)return ce.setSelection(t-Q-ce.border,r-Q-ce.border,i,l);Q=Re}let g=this.domFromPos(t,t?-1:1),_=r==t?g:this.domFromPos(r,r?-1:1),I=i.getSelection(),P=!1;if((Kr||w)&&t==r){let{node:q,offset:Q}=g;if(3==q.nodeType){if(P=!(!Q||"\n"!=q.nodeValue[Q-1]),P&&Q==q.nodeValue.length)for(let Re,ce=q;ce;ce=ce.parentNode){if(Re=ce.nextSibling){"BR"==Re.nodeName&&(g=_={node:Re.parentNode,offset:rn(Re)+1});break}let vt=ce.pmViewDesc;if(vt&&vt.node&&vt.node.isBlock)break}}else{let ce=q.childNodes[Q-1];P=ce&&("BR"==ce.nodeName||"false"==ce.contentEditable)}}if(Kr&&I.focusNode&&I.focusNode!=_.node&&1==I.focusNode.nodeType){let q=I.focusNode.childNodes[I.focusOffset];q&&"false"==q.contentEditable&&(l=!0)}if(!(l||P&&w)&&to(g.node,g.offset,I.anchorNode,I.anchorOffset)&&to(_.node,_.offset,I.focusNode,I.focusOffset))return;let U=!1;if((I.extend||t==r)&&!P){I.collapse(g.node,g.offset);try{t!=r&&I.extend(_.node,_.offset),U=!0}catch{}}if(!U){if(t>r){let Q=g;g=_,_=Q}let q=document.createRange();q.setEnd(_.node,_.offset),q.setStart(g.node,g.offset),I.removeAllRanges(),I.addRange(q)}}ignoreMutation(t){return!this.contentDOM&&"selection"!=t.type}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(t,r){for(let i=0,l=0;l<this.children.length;l++){let c=this.children[l],h=i+c.size;if(i==h?t<=h&&r>=i:t<h&&r>i){let g=i+c.border,_=h-c.border;if(t>=g&&r<=_)return this.dirty=t==i||r==h?2:1,void(t!=g||r!=_||!c.contentLost&&c.dom.parentNode==this.contentDOM?c.markDirty(t-g,r-g):c.dirty=3);c.dirty=c.dom!=c.contentDOM||c.dom.parentNode!=this.contentDOM||c.children.length?3:2}i=h}this.dirty=2}markParentsDirty(){let t=1;for(let r=this.parent;r;r=r.parent,t++){let i=1==t?2:1;r.dirty<i&&(r.dirty=i)}}get domAtom(){return!1}get ignoreForCoords(){return!1}}class ma extends ii{constructor(t,r,i,l){let c,h=r.type.toDOM;if("function"==typeof h&&(h=h(i,()=>c?c.parent?c.parent.posBeforeChild(c):void 0:l)),!r.type.spec.raw){if(1!=h.nodeType){let g=document.createElement("span");g.appendChild(h),h=g}h.contentEditable="false",h.classList.add("ProseMirror-widget")}super(t,[],h,null),this.widget=r,this.widget=r,c=this}matchesWidget(t){return 0==this.dirty&&t.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(t){let r=this.widget.spec.stopEvent;return!!r&&r(t)}ignoreMutation(t){return"selection"!=t.type||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class ro extends ii{constructor(t,r,i,l){super(t,[],r,null),this.textDOM=i,this.text=l}get size(){return this.text.length}localPosFromDOM(t,r){return t!=this.textDOM?this.posAtStart+(r?this.size:0):this.posAtStart+r}domFromPos(t){return{node:this.textDOM,offset:t}}ignoreMutation(t){return"characterData"===t.type&&t.target.nodeValue==t.oldValue}}class yo extends ii{constructor(t,r,i,l){super(t,[],i,l),this.mark=r}static create(t,r,i,l){let c=l.nodeViews[r.type.name],h=c&&c(r,l,i);return(!h||!h.dom)&&(h=Kt.renderSpec(document,r.type.spec.toDOM(r,i))),new yo(t,r,h.dom,h.contentDOM||h.dom)}parseRule(){return 3&this.dirty||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(t){return 3!=this.dirty&&this.mark.eq(t)}markDirty(t,r){if(super.markDirty(t,r),0!=this.dirty){let i=this.parent;for(;!i.node;)i=i.parent;i.dirty<this.dirty&&(i.dirty=this.dirty),this.dirty=0}}slice(t,r,i){let l=yo.create(this.parent,this.mark,!0,i),c=this.children,h=this.size;r<h&&(c=Vr(c,r,h,i)),t>0&&(c=Vr(c,0,t,i));for(let g=0;g<c.length;g++)c[g].parent=l;return l.children=c,l}}class Mr extends ii{constructor(t,r,i,l,c,h,g,_,I){super(t,[],c,h),this.node=r,this.outerDeco=i,this.innerDeco=l,this.nodeDOM=g}static create(t,r,i,l,c,h){let _,g=c.nodeViews[r.type.name],I=g&&g(r,c,()=>_?_.parent?_.parent.posBeforeChild(_):void 0:h,i,l),P=I&&I.dom,U=I&&I.contentDOM;if(r.isText)if(P){if(3!=P.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else P=document.createTextNode(r.text);else P||({dom:P,contentDOM:U}=Kt.renderSpec(document,r.type.spec.toDOM(r)));!U&&!r.isText&&"BR"!=P.nodeName&&(P.hasAttribute("contenteditable")||(P.contentEditable="false"),r.type.spec.draggable&&(P.draggable=!0));let q=P;return P=cn(P,i,r),I?_=new O(t,r,i,l,P,U||null,q,I,c,h+1):r.isText?new Yo(t,r,i,l,P,q,c):new Mr(t,r,i,l,P,U||null,q,c,h+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let t={node:this.node.type.name,attrs:this.node.attrs};if("pre"==this.node.type.whitespace&&(t.preserveWhitespace="full"),this.contentDOM)if(this.contentLost){for(let r=this.children.length-1;r>=0;r--){let i=this.children[r];if(this.dom.contains(i.dom.parentNode)){t.contentElement=i.dom.parentNode;break}}t.contentElement||(t.getContent=()=>ee.empty)}else t.contentElement=this.contentDOM;else t.getContent=()=>this.node.content;return t}matchesNode(t,r,i){return 0==this.dirty&&t.eq(this.node)&&Qt(r,this.outerDeco)&&i.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(t,r){let i=this.node.inlineContent,l=r,c=t.composing?this.localCompositionInfo(t,r):null,h=c&&c.pos>-1?c:null,g=c&&c.pos<0,_=new Tt(this,h&&h.node,t);(function Jn(s,t,r,i){let l=t.locals(s),c=0;if(0==l.length){for(let I=0;I<s.childCount;I++){let P=s.child(I);i(P,l,t.forChild(c,P),I),c+=P.nodeSize}return}let h=0,g=[],_=null;for(let I=0;;){if(h<l.length&&l[h].to==c){let Re,ce=l[h++];for(;h<l.length&&l[h].to==c;)(Re||(Re=[ce])).push(l[h++]);if(Re){Re.sort(_n);for(let vt=0;vt<Re.length;vt++)r(Re[vt],I,!!_)}else r(ce,I,!!_)}let P,U;if(_)U=-1,P=_,_=null;else{if(!(I<s.childCount))break;U=I,P=s.child(I++)}for(let ce=0;ce<g.length;ce++)g[ce].to<=c&&g.splice(ce--,1);for(;h<l.length&&l[h].from<=c&&l[h].to>c;)g.push(l[h++]);let q=c+P.nodeSize;if(P.isText){let ce=q;h<l.length&&l[h].from<ce&&(ce=l[h].from);for(let Re=0;Re<g.length;Re++)g[Re].to<ce&&(ce=g[Re].to);ce<q&&(_=P.cut(ce-c),P=P.cut(0,ce-c),q=ce,U=-1)}i(P,P.isInline&&!P.isLeaf?g.filter(ce=>!ce.inline):g.slice(),t.forChild(c,P),U),c=q}})(this.node,this.innerDeco,(I,P,U)=>{I.spec.marks?_.syncToMarks(I.spec.marks,i,t):I.type.side>=0&&!U&&_.syncToMarks(P==this.node.childCount?it.none:this.node.child(P).marks,i,t),_.placeWidget(I,t,l)},(I,P,U,q)=>{let Q;_.syncToMarks(I.marks,i,t),_.findNodeMatch(I,P,U,q)||g&&t.state.selection.from>l&&t.state.selection.to<l+I.nodeSize&&(Q=_.findIndexWithChild(c.node))>-1&&_.updateNodeAt(I,P,U,Q,t)||_.updateNextNode(I,P,U,t,q,l)||_.addNode(I,P,U,t,l),l+=I.nodeSize}),_.syncToMarks([],i,t),this.node.isTextblock&&_.addTextblockHacks(),_.destroyRest(),(_.changed||2==this.dirty)&&(h&&this.protectLocalComposition(t,h),M(this.contentDOM,this.children,t),L&&function Ro(s){if("UL"==s.nodeName||"OL"==s.nodeName){let t=s.style.cssText;s.style.cssText=t+"; list-style: square !important",window.getComputedStyle(s),s.style.cssText=t}}(this.dom))}localCompositionInfo(t,r){let{from:i,to:l}=t.state.selection;if(!(t.state.selection instanceof lt)||i<r||l>r+this.node.content.size)return null;let c=t.domSelectionRange(),h=function Ct(s,t){for(;;){if(3==s.nodeType)return s;if(1==s.nodeType&&t>0){if(s.childNodes.length>t&&3==s.childNodes[t].nodeType)return s.childNodes[t];t=yn(s=s.childNodes[t-1])}else{if(!(1==s.nodeType&&t<s.childNodes.length))return null;s=s.childNodes[t],t=0}}}(c.focusNode,c.focusOffset);if(!h||!this.dom.contains(h.parentNode))return null;if(this.node.inlineContent){let g=h.nodeValue,_=function qn(s,t,r,i){for(let l=0,c=0;l<s.childCount&&c<=i;){let h=s.child(l++),g=c;if(c+=h.nodeSize,!h.isText)continue;let _=h.text;for(;l<s.childCount;){let I=s.child(l++);if(c+=I.nodeSize,!I.isText)break;_+=I.text}if(c>=r){let I=g<i?_.lastIndexOf(t,i-g-1):-1;if(I>=0&&I+t.length+g>=r)return g+I;if(r==i&&_.length>=i+t.length-g&&_.slice(i-g,i-g+t.length)==t)return i}}return-1}(this.node.content,g,i-r,l-r);return _<0?null:{node:h,pos:_,text:g}}return{node:h,pos:-1,text:""}}protectLocalComposition(t,{node:r,pos:i,text:l}){if(this.getDesc(r))return;let c=r;for(;c.parentNode!=this.contentDOM;c=c.parentNode){for(;c.previousSibling;)c.parentNode.removeChild(c.previousSibling);for(;c.nextSibling;)c.parentNode.removeChild(c.nextSibling);c.pmViewDesc&&(c.pmViewDesc=void 0)}let h=new ro(this,c,r,l);t.input.compositionNodes.push(h),this.children=Vr(this.children,i,i+l.length,t,h)}update(t,r,i,l){return!(3==this.dirty||!t.sameMarkup(this.node)||(this.updateInner(t,r,i,l),0))}updateInner(t,r,i,l){this.updateOuterDeco(r),this.node=t,this.innerDeco=i,this.contentDOM&&this.updateChildren(l,this.posAtStart),this.dirty=0}updateOuterDeco(t){if(Qt(t,this.outerDeco))return;let r=1!=this.nodeDOM.nodeType,i=this.dom;this.dom=Pe(this.dom,this.nodeDOM,me(this.outerDeco,this.node,r),me(t,this.node,r)),this.dom!=i&&(i.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=t}selectNode(){1==this.nodeDOM.nodeType&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){1==this.nodeDOM.nodeType&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable")}get domAtom(){return this.node.isAtom}}function vn(s,t,r,i,l){cn(i,t,s);let c=new Mr(void 0,s,t,r,i,i,i,l,0);return c.contentDOM&&c.updateChildren(l,0),c}class Yo extends Mr{constructor(t,r,i,l,c,h,g){super(t,r,i,l,c,null,h,g,0)}parseRule(){let t=this.nodeDOM.parentNode;for(;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}}update(t,r,i,l){return!(3==this.dirty||0!=this.dirty&&!this.inParent()||!t.sameMarkup(this.node)||(this.updateOuterDeco(r),(0!=this.dirty||t.text!=this.node.text)&&t.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=t.text,l.trackWrites==this.nodeDOM&&(l.trackWrites=null)),this.node=t,this.dirty=0,0))}inParent(){let t=this.parent.contentDOM;for(let r=this.nodeDOM;r;r=r.parentNode)if(r==t)return!0;return!1}domFromPos(t){return{node:this.nodeDOM,offset:t}}localPosFromDOM(t,r,i){return t==this.nodeDOM?this.posAtStart+Math.min(r,this.node.text.length):super.localPosFromDOM(t,r,i)}ignoreMutation(t){return"characterData"!=t.type&&"selection"!=t.type}slice(t,r,i){let l=this.node.cut(t,r),c=document.createTextNode(l.text);return new Yo(this.parent,l,this.outerDeco,this.innerDeco,c,c,i)}markDirty(t,r){super.markDirty(t,r),this.dom!=this.nodeDOM&&(0==t||r==this.nodeDOM.nodeValue.length)&&(this.dirty=3)}get domAtom(){return!1}}class E extends ii{parseRule(){return{ignore:!0}}matchesHack(t){return 0==this.dirty&&this.dom.nodeName==t}get domAtom(){return!0}get ignoreForCoords(){return"IMG"==this.dom.nodeName}}class O extends Mr{constructor(t,r,i,l,c,h,g,_,I,P){super(t,r,i,l,c,h,g,I,P),this.spec=_}update(t,r,i,l){if(3==this.dirty)return!1;if(this.spec.update){let c=this.spec.update(t,r,i);return c&&this.updateInner(t,r,i,l),c}return!(!this.contentDOM&&!t.isLeaf)&&super.update(t,r,i,l)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(t,r,i,l){this.spec.setSelection?this.spec.setSelection(t,r,i):super.setSelection(t,r,i,l)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(t){return!!this.spec.stopEvent&&this.spec.stopEvent(t)}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}}function M(s,t,r){let i=s.firstChild,l=!1;for(let c=0;c<t.length;c++){let h=t[c],g=h.dom;if(g.parentNode==s){for(;g!=i;)i=sn(i),l=!0;i=i.nextSibling}else l=!0,s.insertBefore(g,i);if(h instanceof yo){let _=i?i.previousSibling:s.lastChild;M(h.contentDOM,h.children,r),i=_?_.nextSibling:s.firstChild}}for(;i;)i=sn(i),l=!0;l&&r.trackWrites==s&&(r.trackWrites=null)}const k=function(s){s&&(this.nodeName=s)};k.prototype=Object.create(null);const W=[new k];function me(s,t,r){if(0==s.length)return W;let i=r?W[0]:new k,l=[i];for(let c=0;c<s.length;c++){let h=s[c].type.attrs;if(h){h.nodeName&&l.push(i=new k(h.nodeName));for(let g in h){let _=h[g];null!=_&&(r&&1==l.length&&l.push(i=new k(t.isInline?"span":"div")),"class"==g?i.class=(i.class?i.class+" ":"")+_:"style"==g?i.style=(i.style?i.style+";":"")+_:"nodeName"!=g&&(i[g]=_))}}}return l}function Pe(s,t,r,i){if(r==W&&i==W)return t;let l=t;for(let c=0;c<i.length;c++){let h=i[c],g=r[c];if(c){let _;g&&g.nodeName==h.nodeName&&l!=s&&(_=l.parentNode)&&_.nodeName.toLowerCase()==h.nodeName||(_=document.createElement(h.nodeName),_.pmIsDeco=!0,_.appendChild(l),g=W[0]),l=_}gt(l,g||W[0],h)}return l}function gt(s,t,r){for(let i in t)"class"!=i&&"style"!=i&&"nodeName"!=i&&!(i in r)&&s.removeAttribute(i);for(let i in r)"class"!=i&&"style"!=i&&"nodeName"!=i&&r[i]!=t[i]&&s.setAttribute(i,r[i]);if(t.class!=r.class){let i=t.class?t.class.split(" ").filter(Boolean):[],l=r.class?r.class.split(" ").filter(Boolean):[];for(let c=0;c<i.length;c++)-1==l.indexOf(i[c])&&s.classList.remove(i[c]);for(let c=0;c<l.length;c++)-1==i.indexOf(l[c])&&s.classList.add(l[c]);0==s.classList.length&&s.removeAttribute("class")}if(t.style!=r.style){if(t.style){let l,i=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;for(;l=i.exec(t.style);)s.style.removeProperty(l[1])}r.style&&(s.style.cssText+=r.style)}}function cn(s,t,r){return Pe(s,s,W,me(t,r,1!=s.nodeType))}function Qt(s,t){if(s.length!=t.length)return!1;for(let r=0;r<s.length;r++)if(!s[r].type.eq(t[r].type))return!1;return!0}function sn(s){let t=s.nextSibling;return s.parentNode.removeChild(s),t}class Tt{constructor(t,r,i){this.lock=r,this.view=i,this.index=0,this.stack=[],this.changed=!1,this.top=t,this.preMatch=function Nn(s,t){let r=t,i=r.children.length,l=s.childCount,c=new Map,h=[];e:for(;l>0;){let g;for(;;)if(i){let I=r.children[i-1];if(!(I instanceof yo)){g=I,i--;break}r=I,i=I.children.length}else{if(r==t)break e;i=r.parent.children.indexOf(r),r=r.parent}let _=g.node;if(_){if(_!=s.child(l-1))break;--l,c.set(g,l),h.push(g)}}return{index:l,matched:c,matches:h.reverse()}}(t.node.content,t)}destroyBetween(t,r){if(t!=r){for(let i=t;i<r;i++)this.top.children[i].destroy();this.top.children.splice(t,r-t),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(t,r,i){let l=0,c=this.stack.length>>1,h=Math.min(c,t.length);for(;l<h&&(l==c-1?this.top:this.stack[l+1<<1]).matchesMark(t[l])&&!1!==t[l].type.spec.spanning;)l++;for(;l<c;)this.destroyRest(),this.top.dirty=0,this.index=this.stack.pop(),this.top=this.stack.pop(),c--;for(;c<t.length;){this.stack.push(this.top,this.index+1);let g=-1;for(let _=this.index;_<Math.min(this.index+3,this.top.children.length);_++){let I=this.top.children[_];if(I.matchesMark(t[c])&&!this.isLocked(I.dom)){g=_;break}}if(g>-1)g>this.index&&(this.changed=!0,this.destroyBetween(this.index,g)),this.top=this.top.children[this.index];else{let _=yo.create(this.top,t[c],r,i);this.top.children.splice(this.index,0,_),this.top=_,this.changed=!0}this.index=0,c++}}findNodeMatch(t,r,i,l){let h,c=-1;if(l>=this.preMatch.index&&(h=this.preMatch.matches[l-this.preMatch.index]).parent==this.top&&h.matchesNode(t,r,i))c=this.top.children.indexOf(h,this.index);else for(let g=this.index,_=Math.min(this.top.children.length,g+5);g<_;g++){let I=this.top.children[g];if(I.matchesNode(t,r,i)&&!this.preMatch.matched.has(I)){c=g;break}}return!(c<0||(this.destroyBetween(this.index,c),this.index++,0))}updateNodeAt(t,r,i,l,c){let h=this.top.children[l];return 3==h.dirty&&h.dom==h.contentDOM&&(h.dirty=2),!!h.update(t,r,i,c)&&(this.destroyBetween(this.index,l),this.index++,!0)}findIndexWithChild(t){for(;;){let r=t.parentNode;if(!r)return-1;if(r==this.top.contentDOM){let i=t.pmViewDesc;if(i)for(let l=this.index;l<this.top.children.length;l++)if(this.top.children[l]==i)return l;return-1}t=r}}updateNextNode(t,r,i,l,c,h){for(let g=this.index;g<this.top.children.length;g++){let _=this.top.children[g];if(_ instanceof Mr){let I=this.preMatch.matched.get(_);if(null!=I&&I!=c)return!1;let U,P=_.dom,q=this.isLocked(P)&&!(t.isText&&_.node&&_.node.isText&&_.nodeDOM.nodeValue==t.text&&3!=_.dirty&&Qt(r,_.outerDeco));if(!q&&_.update(t,r,i,l))return this.destroyBetween(this.index,g),_.dom!=P&&(this.changed=!0),this.index++,!0;if(!q&&(U=this.recreateWrapper(_,t,r,i,l,h)))return this.top.children[this.index]=U,U.dirty=2,U.updateChildren(l,h+1),U.dirty=0,this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(t,r,i,l,c,h){if(t.dirty||r.isAtom||!t.children.length||!t.node.content.eq(r.content))return null;let g=Mr.create(this.top,r,i,l,c,h);if(!g.contentDOM)return null;g.children=t.children,t.children=[],t.destroy();for(let _ of g.children)_.parent=g;return g}addNode(t,r,i,l,c){let h=Mr.create(this.top,t,r,i,l,c);h.contentDOM&&h.updateChildren(l,c+1),this.top.children.splice(this.index++,0,h),this.changed=!0}placeWidget(t,r,i){let l=this.index<this.top.children.length?this.top.children[this.index]:null;if(!l||!l.matchesWidget(t)||t!=l.widget&&l.widget.type.toDOM.parentNode){let c=new ma(this.top,t,r,i);this.top.children.splice(this.index++,0,c),this.changed=!0}else this.index++}addTextblockHacks(){let t=this.top.children[this.index-1],r=this.top;for(;t instanceof yo;)r=t,t=r.children[r.children.length-1];(!t||!(t instanceof Yo)||/\n$/.test(t.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(t.node.text))&&((w||x)&&t&&"false"==t.dom.contentEditable&&this.addHackNode("IMG",r),this.addHackNode("BR",this.top))}addHackNode(t,r){if(r==this.top&&this.index<r.children.length&&r.children[this.index].matchesHack(t))this.index++;else{let i=document.createElement(t);"IMG"==t&&(i.className="ProseMirror-separator",i.alt=""),"BR"==t&&(i.className="ProseMirror-trailingBreak");let l=new E(this.top,[],i,null);r!=this.top?r.children.push(l):r.children.splice(this.index++,0,l),this.changed=!0}}isLocked(t){return this.lock&&(t==this.lock||1==t.nodeType&&t.contains(this.lock.parentNode))}}function _n(s,t){return s.type.side-t.type.side}function Vr(s,t,r,i,l){let c=[];for(let h=0,g=0;h<s.length;h++){let _=s[h],I=g,P=g+=_.size;I>=r||P<=t?c.push(_):(I<t&&c.push(_.slice(0,t-I,i)),l&&(c.push(l),l=void 0),P>r&&c.push(_.slice(r-I,_.size,i)))}return c}function Br(s,t=null){let r=s.domSelectionRange(),i=s.state.doc;if(!r.focusNode)return null;let l=s.docView.nearestDesc(r.focusNode),c=l&&0==l.size,h=s.docView.posFromDOM(r.focusNode,r.focusOffset,1);if(h<0)return null;let _,I,g=i.resolve(h);if(pi(r)){for(_=g;l&&!l.node;)l=l.parent;let P=l.node;if(l&&P.isAtom&&It.isSelectable(P)&&l.parent&&(!P.isInline||!function No(s,t,r){for(let i=0==t,l=t==yn(s);i||l;){if(s==r)return!0;let c=rn(s);if(!(s=s.parentNode))return!1;i=i&&0==c,l=l&&c==yn(s)}}(r.focusNode,r.focusOffset,l.dom))){let U=l.posBefore;I=new It(h==U?g:i.resolve(U))}}else{let P=s.docView.posFromDOM(r.anchorNode,r.anchorOffset,1);if(P<0)return null;_=i.resolve(P)}return I||(I=jt(s,_,g,"pointer"==t||s.state.selection.head<g.pos&&!c?1:-1)),I}function ko(s){return s.editable?s.hasFocus():rl(s)&&document.activeElement&&document.activeElement.contains(s.dom)}function _r(s,t=!1){let r=s.state.selection;if(lu(s,r),ko(s)){if(!t&&s.input.mouseDown&&s.input.mouseDown.allowDefault&&x){let i=s.domSelectionRange(),l=s.domObserver.currentSelection;if(i.anchorNode&&l.anchorNode&&to(i.anchorNode,i.anchorOffset,l.anchorNode,l.anchorOffset))return s.input.mouseDown.delayedSelectionSync=!0,void s.domObserver.setCurSelection()}if(s.domObserver.disconnectSelection(),s.cursorWrapper)!function nl(s){let t=s.domSelection(),r=document.createRange(),i=s.cursorWrapper.dom,l="IMG"==i.nodeName;l?r.setEnd(i.parentNode,rn(i)+1):r.setEnd(i,0),r.collapse(!1),t.removeAllRanges(),t.addRange(r),!l&&!s.state.selection.visible&&vr&&Po<=11&&(i.disabled=!0,i.disabled=!1)}(s);else{let c,h,{anchor:i,head:l}=r;Ts&&!(r instanceof lt)&&(r.$from.parent.inlineContent||(c=Li(s,r.from)),!r.empty&&!r.$from.parent.inlineContent&&(h=Li(s,r.to))),s.docView.setSelection(i,l,s.root,t),Ts&&(c&&tl(c),h&&tl(h)),r.visible?s.dom.classList.remove("ProseMirror-hideselection"):(s.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&function ya(s){let t=s.dom.ownerDocument;t.removeEventListener("selectionchange",s.input.hideSelectionGuard);let r=s.domSelectionRange(),i=r.anchorNode,l=r.anchorOffset;t.addEventListener("selectionchange",s.input.hideSelectionGuard=()=>{(r.anchorNode!=i||r.anchorOffset!=l)&&(t.removeEventListener("selectionchange",s.input.hideSelectionGuard),setTimeout(()=>{(!ko(s)||s.state.selection.visible)&&s.dom.classList.remove("ProseMirror-hideselection")},20))})}(s))}s.domObserver.setCurSelection(),s.domObserver.connectSelection()}}const Ts=w||x&&S<63;function Li(s,t){let{node:r,offset:i}=s.docView.domFromPos(t,0),l=i<r.childNodes.length?r.childNodes[i]:null,c=i?r.childNodes[i-1]:null;if(w&&l&&"false"==l.contentEditable)return el(l);if(!(l&&"false"!=l.contentEditable||c&&"false"!=c.contentEditable)){if(l)return el(l);if(c)return el(c)}}function el(s){return s.contentEditable="true",w&&s.draggable&&(s.draggable=!1,s.wasDraggable=!0),s}function tl(s){s.contentEditable="false",s.wasDraggable&&(s.draggable=!0,s.wasDraggable=null)}function lu(s,t){if(t instanceof It){let r=s.docView.descAt(t.from);r!=s.lastSelectedViewDesc&&(Ue(s),r&&r.selectNode(),s.lastSelectedViewDesc=r)}else Ue(s)}function Ue(s){s.lastSelectedViewDesc&&(s.lastSelectedViewDesc.parent&&s.lastSelectedViewDesc.deselectNode(),s.lastSelectedViewDesc=void 0)}function jt(s,t,r,i){return s.someProp("createSelectionBetween",l=>l(s,t,r))||lt.between(t,r,i)}function va(s){return!(s.editable&&!s.hasFocus())&&rl(s)}function rl(s){let t=s.domSelectionRange();if(!t.anchorNode)return!1;try{return s.dom.contains(3==t.anchorNode.nodeType?t.anchorNode.parentNode:t.anchorNode)&&(s.editable||s.dom.contains(3==t.focusNode.nodeType?t.focusNode.parentNode:t.focusNode))}catch{return!1}}function _a(s,t){let{$anchor:r,$head:i}=s.selection,l=t>0?r.max(i):r.min(i),c=l.parent.inlineContent?l.depth?s.doc.resolve(t>0?l.after():l.before()):null:l;return c&&Ht.findFrom(c,t)}function oo(s,t){return s.dispatch(s.state.tr.setSelection(t).scrollIntoView()),!0}function io(s,t,r){let i=s.state.selection;if(!(i instanceof lt)){if(i instanceof It&&i.node.isInline)return oo(s,new lt(t>0?i.$to:i.$from));{let l=_a(s.state,t);return!!l&&oo(s,l)}}if(!i.empty||r.indexOf("s")>-1)return!1;if(s.endOfTextblock(t>0?"forward":"backward")){let l=_a(s.state,t);return!!(l&&l instanceof It)&&oo(s,l)}if(!(De&&r.indexOf("m")>-1)){let h,l=i.$head,c=l.textOffset?null:t<0?l.nodeBefore:l.nodeAfter;if(!c||c.isText)return!1;let g=t<0?l.pos-c.nodeSize:l.pos;return!!(c.isAtom||(h=s.docView.descAt(g))&&!h.contentDOM)&&(It.isSelectable(c)?oo(s,new It(t<0?s.state.doc.resolve(l.pos-c.nodeSize):l)):!!Yn&&oo(s,new lt(s.state.doc.resolve(t<0?g:g+c.nodeSize))))}}function si(s){return 3==s.nodeType?s.nodeValue.length:s.childNodes.length}function yi(s){let t=s.pmViewDesc;return t&&0==t.size&&(s.nextSibling||"BR"!=s.nodeName)}function ss(s,t){return t<0?function kf(s){let t=s.domSelectionRange(),r=t.focusNode,i=t.focusOffset;if(!r)return;let l,c,h=!1;for(Kr&&1==r.nodeType&&i<si(r)&&yi(r.childNodes[i])&&(h=!0);;)if(i>0){if(1!=r.nodeType)break;{let g=r.childNodes[i-1];if(yi(g))l=r,c=--i;else{if(3!=g.nodeType)break;r=g,i=r.nodeValue.length}}}else{if(Cr(r))break;{let g=r.previousSibling;for(;g&&yi(g);)l=r.parentNode,c=rn(g),g=g.previousSibling;if(g)r=g,i=si(r);else{if(r=r.parentNode,r==s.dom)break;i=0}}}h?Fo(s,r,i):l&&Fo(s,l,c)}(s):As(s)}function As(s){let t=s.domSelectionRange(),r=t.focusNode,i=t.focusOffset;if(!r)return;let c,h,l=si(r);for(;;)if(i<l){if(1!=r.nodeType)break;if(!yi(r.childNodes[i]))break;c=r,h=++i}else{if(Cr(r))break;{let g=r.nextSibling;for(;g&&yi(g);)c=g.parentNode,h=rn(g)+1,g=g.nextSibling;if(g)r=g,i=0,l=si(r);else{if(r=r.parentNode,r==s.dom)break;i=l=0}}}c&&Fo(s,c,h)}function Cr(s){let t=s.pmViewDesc;return t&&t.node&&t.node.isBlock}function Fo(s,t,r){let i=s.domSelection();if(pi(i)){let c=document.createRange();c.setEnd(t,r),c.setStart(t,r),i.removeAllRanges(),i.addRange(c)}else i.extend&&i.extend(t,r);s.domObserver.setCurSelection();let{state:l}=s;setTimeout(()=>{s.state==l&&_r(s)},50)}function ol(s,t){let r=s.state.doc.resolve(t);if(!x&&!et&&r.parent.inlineContent){let l=s.coordsAtPos(t);if(t>r.start()){let c=s.coordsAtPos(t-1),h=(c.top+c.bottom)/2;if(h>l.top&&h<l.bottom&&Math.abs(c.left-l.left)>1)return c.left<l.left?"ltr":"rtl"}if(t<r.end()){let c=s.coordsAtPos(t+1),h=(c.top+c.bottom)/2;if(h>l.top&&h<l.bottom&&Math.abs(c.left-l.left)>1)return c.left>l.left?"ltr":"rtl"}}return"rtl"==getComputedStyle(s.dom).direction?"rtl":"ltr"}function Vi(s,t,r){let i=s.state.selection;if(i instanceof lt&&!i.empty||r.indexOf("s")>-1||De&&r.indexOf("m")>-1)return!1;let{$from:l,$to:c}=i;if(!l.parent.inlineContent||s.endOfTextblock(t<0?"up":"down")){let h=_a(s.state,t);if(h&&h instanceof It)return oo(s,h)}if(!l.parent.inlineContent){let h=t<0?l:c,g=i instanceof Gt?Ht.near(h,t):Ht.findFrom(h,t);return!!g&&oo(s,g)}return!1}function Lo(s,t){if(!(s.state.selection instanceof lt))return!0;let{$head:r,$anchor:i,empty:l}=s.state.selection;if(!r.sameParent(i))return!0;if(!l)return!1;if(s.endOfTextblock(t>0?"forward":"backward"))return!0;let c=!r.textOffset&&(t<0?r.nodeBefore:r.nodeAfter);if(c&&!c.isText){let h=s.state.tr;return t<0?h.delete(r.pos-c.nodeSize,r.pos):h.delete(r.pos,r.pos+c.nodeSize),s.dispatch(h),!0}return!1}function uu(s,t,r){s.domObserver.stop(),t.contentEditable=r,s.domObserver.start()}function Os(s,t){s.someProp("transformCopied",Q=>{t=Q(t,s)});let r=[],{content:i,openStart:l,openEnd:c}=t;for(;l>1&&c>1&&1==i.childCount&&1==i.firstChild.childCount;){l--,c--;let Q=i.firstChild;r.push(Q.type.name,Q.attrs!=Q.type.defaultAttrs?Q.attrs:null),i=Q.content}let h=s.someProp("clipboardSerializer")||Kt.fromSchema(s.state.schema),g=ba(),_=g.createElement("div");_.appendChild(h.serializeFragment(i,{document:g}));let P,I=_.firstChild,U=0;for(;I&&1==I.nodeType&&(P=ll[I.nodeName.toLowerCase()]);){for(let Q=P.length-1;Q>=0;Q--){let ce=g.createElement(P[Q]);for(;_.firstChild;)ce.appendChild(_.firstChild);_.appendChild(ce),U++}I=_.firstChild}return I&&1==I.nodeType&&I.setAttribute("data-pm-slice",`${l} ${c}${U?` -${U}`:""} ${JSON.stringify(r)}`),{dom:_,text:s.someProp("clipboardTextSerializer",Q=>Q(t,s))||t.content.textBetween(0,t.content.size,"\n\n")}}function Ns(s,t,r,i,l){let h,g,c=l.parent.type.spec.code;if(!r&&!t)return null;let _=t&&(i||c||!r);if(_){if(s.someProp("transformPastedText",q=>{t=q(t,c||i,s)}),c)return t?new ie(ee.from(s.state.schema.text(t.replace(/\r\n?/g,"\n"))),0,0):ie.empty;let U=s.someProp("clipboardTextParser",q=>q(t,l,i,s));if(U)g=U;else{let q=l.marks(),{schema:Q}=s.state,ce=Kt.fromSchema(Q);h=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(Re=>{let vt=h.appendChild(document.createElement("p"));Re&&vt.appendChild(ce.serializeNode(Q.text(Re,q)))})}}else s.someProp("transformPastedHTML",U=>{r=U(r,s)}),h=function Oc(s){let t=/^(\s*<meta [^>]*>)*/.exec(s);t&&(s=s.slice(t[0].length));let l,r=ba().createElement("div"),i=/<([a-z][^>\s]+)/i.exec(s);if((l=i&&ll[i[1].toLowerCase()])&&(s=l.map(c=>"<"+c+">").join("")+s+l.map(c=>"</"+c+">").reverse().join("")),r.innerHTML=s,l)for(let c=0;c<l.length;c++)r=r.querySelector(l[c])||r;return r}(r),Yn&&function Nc(s){let t=s.querySelectorAll(x?"span:not([class]):not([style])":"span.Apple-converted-space");for(let r=0;r<t.length;r++){let i=t[r];1==i.childNodes.length&&"\xa0"==i.textContent&&i.parentNode&&i.parentNode.replaceChild(s.ownerDocument.createTextNode(" "),i)}}(h);let I=h&&h.querySelector("[data-pm-slice]"),P=I&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(I.getAttribute("data-pm-slice")||"");if(P&&P[3])for(let U=+P[3];U>0;U--){let q=h.firstChild;for(;q&&1!=q.nodeType;)q=q.nextSibling;if(!q)break;h=q}if(g||(g=(s.someProp("clipboardParser")||s.someProp("domParser")||kt.fromSchema(s.state.schema)).parseSlice(h,{preserveWhitespace:!(!_&&!P),context:l,ruleFromNode:q=>"BR"!=q.nodeName||q.nextSibling||!q.parentNode||il.test(q.parentNode.nodeName)?null:{ignore:!0}})),P)g=function y(s,t){if(!s.size)return s;let i,r=s.content.firstChild.type.schema;try{i=JSON.parse(t)}catch{return s}let{content:l,openStart:c,openEnd:h}=s;for(let g=i.length-2;g>=0;g-=2){let _=r.nodes[i[g]];if(!_||_.hasRequiredAttrs())break;l=ee.from(_.create(i[g+1],l)),c++,h++}return new ie(l,c,h)}(al(g,+P[1],+P[2]),P[4]);else if(g=ie.maxOpen(function Ca(s,t){if(s.childCount<2)return s;for(let r=t.depth;r>=0;r--){let c,l=t.node(r).contentMatchAt(t.index(r)),h=[];if(s.forEach(g=>{if(!h)return;let I,_=l.findWrapping(g.type);if(!_)return h=null;if(I=h.length&&c.length&&Ea(_,c,g,h[h.length-1],0))h[h.length-1]=I;else{h.length&&(h[h.length-1]=as(h[h.length-1],c.length));let P=sl(g,_);h.push(P),l=l.matchType(P.type),c=_}}),h)return ee.from(h)}return s}(g.content,l),!0),g.openStart||g.openEnd){let U=0,q=0;for(let Q=g.content.firstChild;U<g.openStart&&!Q.type.spec.isolating;U++,Q=Q.firstChild);for(let Q=g.content.lastChild;q<g.openEnd&&!Q.type.spec.isolating;q++,Q=Q.lastChild);g=al(g,U,q)}return s.someProp("transformPasted",U=>{g=U(g,s)}),g}const il=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function sl(s,t,r=0){for(let i=t.length-1;i>=r;i--)s=t[i].create(null,ee.from(s));return s}function Ea(s,t,r,i,l){if(l<s.length&&l<t.length&&s[l]==t[l]){let c=Ea(s,t,r,i.lastChild,l+1);if(c)return i.copy(i.content.replaceChild(i.childCount-1,c));if(i.contentMatchAt(i.childCount).matchType(l==s.length-1?r.type:s[l+1]))return i.copy(i.content.append(ee.from(sl(r,s,l+1))))}}function as(s,t){if(0==t)return s;let r=s.content.replaceChild(s.childCount-1,as(s.lastChild,t-1)),i=s.contentMatchAt(s.childCount).fillBefore(ee.empty,!0);return s.copy(r.append(i))}function Ps(s,t,r,i,l,c){let h=t<0?s.firstChild:s.lastChild,g=h.content;return s.childCount>1&&(c=0),l<i-1&&(g=Ps(g,t,r,i,l+1,c)),l>=r&&(g=t<0?h.contentMatchAt(0).fillBefore(g,c<=l).append(g):g.append(h.contentMatchAt(h.childCount).fillBefore(ee.empty,!0))),s.replaceChild(t<0?0:s.childCount-1,h.copy(g))}function al(s,t,r){return t<s.openStart&&(s=new ie(Ps(s.content,-1,t,s.openStart,0,s.openEnd),t,s.openEnd)),r<s.openEnd&&(s=new ie(Ps(s.content,1,r,s.openEnd,0,0),s.openStart,r)),s}const ll={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let ul=null;function ba(){return ul||(ul=document.implementation.createHTMLDocument("title"))}const D={},m={},b={touchstart:!0,touchmove:!0};class N{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function B(s,t){s.input.lastSelectionOrigin=t,s.input.lastSelectionTime=Date.now()}function Ge(s){s.someProp("handleDOMEvents",t=>{for(let r in t)s.input.eventHandlers[r]||s.dom.addEventListener(r,s.input.eventHandlers[r]=i=>mt(s,i))})}function mt(s,t){return s.someProp("handleDOMEvents",r=>{let i=r[t.type];return!!i&&(i(s,t)||t.defaultPrevented)})}function yt(s,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let r=t.target;r!=s.dom;r=r.parentNode)if(!r||11==r.nodeType||r.pmViewDesc&&r.pmViewDesc.stopEvent(t))return!1;return!0}function or(s){return{left:s.clientX,top:s.clientY}}function Vo(s,t,r,i,l){if(-1==i)return!1;let c=s.state.doc.resolve(i);for(let h=c.depth+1;h>0;h--)if(s.someProp(t,g=>h>c.depth?g(s,r,c.nodeAfter,c.before(h),l,!0):g(s,r,c.node(h),c.before(h),l,!1)))return!0;return!1}function so(s,t,r){s.focused||s.focus();let i=s.state.tr.setSelection(t);"pointer"==r&&i.setMeta("pointer",!0),s.dispatch(i)}function ks(s,t,r,i){return Vo(s,"handleDoubleClickOn",t,r,i)||s.someProp("handleDoubleClick",l=>l(s,t,i))}function wa(s,t,r,i){return Vo(s,"handleTripleClickOn",t,r,i)||s.someProp("handleTripleClick",l=>l(s,t,i))||function Lf(s,t,r){if(0!=r.button)return!1;let i=s.state.doc;if(-1==t)return!!i.inlineContent&&(so(s,lt.create(i,0,i.content.size),"pointer"),!0);let l=i.resolve(t);for(let c=l.depth+1;c>0;c--){let h=c>l.depth?l.nodeAfter:l.node(c),g=l.before(c);if(h.inlineContent)so(s,lt.create(i,g+1,g+1+h.content.size),"pointer");else{if(!It.isSelectable(h))continue;so(s,It.create(i,g),"pointer")}return!0}}(s,r,i)}function Pc(s){return us(s)}m.keydown=(s,t)=>{let r=t;if(s.input.shiftKey=16==r.keyCode||r.shiftKey,!Rc(s,r)&&(s.input.lastKeyCode=r.keyCode,s.input.lastKeyCodeTime=Date.now(),!pn||!x||13!=r.keyCode))if(229!=r.keyCode&&s.domObserver.forceFlush(),!L||13!=r.keyCode||r.ctrlKey||r.altKey||r.metaKey)s.someProp("handleKeyDown",i=>i(s,r))||function du(s,t){let r=t.keyCode,i=function cu(s){let t="";return s.ctrlKey&&(t+="c"),s.metaKey&&(t+="m"),s.altKey&&(t+="a"),s.shiftKey&&(t+="s"),t}(t);if(8==r||De&&72==r&&"c"==i)return Lo(s,-1)||ss(s,-1);if(46==r&&!t.shiftKey||De&&68==r&&"c"==i)return Lo(s,1)||ss(s,1);if(13==r||27==r)return!0;if(37==r||De&&66==r&&"c"==i){let l=37==r?"ltr"==ol(s,s.state.selection.from)?-1:1:-1;return io(s,l,i)||ss(s,l)}if(39==r||De&&70==r&&"c"==i){let l=39==r?"ltr"==ol(s,s.state.selection.from)?1:-1:1;return io(s,l,i)||ss(s,l)}return 38==r||De&&80==r&&"c"==i?Vi(s,-1,i)||ss(s,-1):40==r||De&&78==r&&"c"==i?function Da(s){if(!w||s.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:r}=s.domSelectionRange();if(t&&1==t.nodeType&&0==r&&t.firstChild&&"false"==t.firstChild.contentEditable){let i=t.firstChild;uu(s,i,"true"),setTimeout(()=>uu(s,i,"false"),20)}return!1}(s)||Vi(s,1,i)||As(s):i==(De?"m":"c")&&(66==r||73==r||89==r||90==r)}(s,r)?r.preventDefault():B(s,"key");else{let i=Date.now();s.input.lastIOSEnter=i,s.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{s.input.lastIOSEnter==i&&(s.someProp("handleKeyDown",l=>l(s,kr(13,"Enter"))),s.input.lastIOSEnter=0)},200)}},m.keyup=(s,t)=>{16==t.keyCode&&(s.input.shiftKey=!1)},m.keypress=(s,t)=>{let r=t;if(Rc(s,r)||!r.charCode||r.ctrlKey&&!r.altKey||De&&r.metaKey)return;if(s.someProp("handleKeyPress",l=>l(s,r)))return void r.preventDefault();let i=s.state.selection;if(!(i instanceof lt&&i.$from.sameParent(i.$to))){let l=String.fromCharCode(r.charCode);!/[\r\n]/.test(l)&&!s.someProp("handleTextInput",c=>c(s,i.$from.pos,i.$to.pos,l))&&s.dispatch(s.state.tr.insertText(l).scrollIntoView()),r.preventDefault()}};const cl=De?"metaKey":"ctrlKey";D.mousedown=(s,t)=>{let r=t;s.input.shiftKey=r.shiftKey;let i=Pc(s),l=Date.now(),c="singleClick";l-s.input.lastClick.time<500&&function Bi(s,t){let r=t.x-s.clientX,i=t.y-s.clientY;return r*r+i*i<100}(r,s.input.lastClick)&&!r[cl]&&("singleClick"==s.input.lastClick.type?c="doubleClick":"doubleClick"==s.input.lastClick.type&&(c="tripleClick")),s.input.lastClick={time:l,x:r.clientX,y:r.clientY,type:c};let h=s.posAtCoords(or(r));h&&("singleClick"==c?(s.input.mouseDown&&s.input.mouseDown.done(),s.input.mouseDown=new jg(s,h,r,!!i)):("doubleClick"==c?ks:wa)(s,h.pos,h.inside,r)?r.preventDefault():B(s,"pointer"))};class jg{constructor(t,r,i,l){let c,h;if(this.view=t,this.pos=r,this.event=i,this.flushed=l,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=t.state.doc,this.selectNode=!!i[cl],this.allowDefault=i.shiftKey,r.inside>-1)c=t.state.doc.nodeAt(r.inside),h=r.inside;else{let P=t.state.doc.resolve(r.pos);c=P.parent,h=P.depth?P.before():0}const g=l?null:i.target,_=g?t.docView.nearestDesc(g,!0):null;this.target=_?_.dom:null;let{selection:I}=t.state;(0==i.button&&c.type.spec.draggable&&!1!==c.type.spec.selectable||I instanceof It&&I.from<=h&&I.to>h)&&(this.mightDrag={node:c,pos:h,addAttr:!(!this.target||this.target.draggable),setUneditable:!(!this.target||!Kr||this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),B(t,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>_r(this.view)),this.view.input.mouseDown=null}up(t){if(this.done(),!this.view.dom.contains(t.target))return;let r=this.pos;this.view.state.doc!=this.startDoc&&(r=this.view.posAtCoords(or(t))),this.updateAllowDefault(t),this.allowDefault||!r?B(this.view,"pointer"):function Ff(s,t,r,i,l){return Vo(s,"handleClickOn",t,r,i)||s.someProp("handleClick",c=>c(s,t,i))||(l?function ls(s,t){if(-1==t)return!1;let i,l,r=s.state.selection;r instanceof It&&(i=r.node);let c=s.state.doc.resolve(t);for(let h=c.depth+1;h>0;h--){let g=h>c.depth?c.nodeAfter:c.node(h);if(It.isSelectable(g)){l=i&&r.$from.depth>0&&h>=r.$from.depth&&c.before(r.$from.depth+1)==r.$from.pos?c.before(r.$from.depth):c.before(h);break}}return null!=l&&(so(s,It.create(s.state.doc,l),"pointer"),!0)}(s,r):function Rs(s,t){if(-1==t)return!1;let r=s.state.doc.resolve(t),i=r.nodeAfter;return!!(i&&i.isAtom&&It.isSelectable(i))&&(so(s,new It(r),"pointer"),!0)}(s,r))}(this.view,r.pos,r.inside,t,this.selectNode)?t.preventDefault():0==t.button&&(this.flushed||w&&this.mightDrag&&!this.mightDrag.node.isAtom||x&&!this.view.state.selection.visible&&Math.min(Math.abs(r.pos-this.view.state.selection.from),Math.abs(r.pos-this.view.state.selection.to))<=2)?(so(this.view,Ht.near(this.view.state.doc.resolve(r.pos)),"pointer"),t.preventDefault()):B(this.view,"pointer")}move(t){this.updateAllowDefault(t),B(this.view,"pointer"),0==t.buttons&&this.done()}updateAllowDefault(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0)}}function Rc(s,t){return!!s.composing||!!(w&&Math.abs(t.timeStamp-s.input.compositionEndedAt)<500)&&(s.input.compositionEndedAt=-2e8,!0)}D.touchstart=s=>{s.input.lastTouch=Date.now(),Pc(s),B(s,"pointer")},D.touchmove=s=>{s.input.lastTouch=Date.now(),B(s,"pointer")},D.contextmenu=s=>Pc(s);const Vf=pn?5e3:-1;function Bf(s,t){clearTimeout(s.input.composingTimeout),t>-1&&(s.input.composingTimeout=setTimeout(()=>us(s),t))}function Hf(s){for(s.composing&&(s.input.composing=!1,s.input.compositionEndedAt=function kc(){let s=document.createEvent("Event");return s.initEvent("event",!0,!0),s.timeStamp}());s.input.compositionNodes.length>0;)s.input.compositionNodes.pop().markParentsDirty()}function us(s,t=!1){if(!(pn&&s.domObserver.flushingSoon>=0)){if(s.domObserver.forceFlush(),Hf(s),t||s.docView&&s.docView.dirty){let r=Br(s);return r&&!r.eq(s.state.selection)?s.dispatch(s.state.tr.setSelection(r)):s.updateState(s.state),!0}return!1}}m.compositionstart=m.compositionupdate=s=>{if(!s.composing){s.domObserver.flush();let{state:t}=s,r=t.selection.$from;if(t.selection.empty&&(t.storedMarks||!r.textOffset&&r.parentOffset&&r.nodeBefore.marks.some(i=>!1===i.type.spec.inclusive)))s.markCursor=s.state.storedMarks||r.marks(),us(s,!0),s.markCursor=null;else if(us(s),Kr&&t.selection.empty&&r.parentOffset&&!r.textOffset&&r.nodeBefore.marks.length){let i=s.domSelectionRange();for(let l=i.focusNode,c=i.focusOffset;l&&1==l.nodeType&&0!=c;){let h=c<0?l.lastChild:l.childNodes[c-1];if(!h)break;if(3==h.nodeType){s.domSelection().collapse(h,h.nodeValue.length);break}l=h,c=-1}}s.input.composing=!0}Bf(s,Vf)},m.compositionend=(s,t)=>{s.composing&&(s.input.composing=!1,s.input.compositionEndedAt=t.timeStamp,s.input.compositionID++,Bf(s,20))};const vi=vr&&Po<15||L&&ri<604;function fl(s,t,r,i,l){let c=Ns(s,t,r,i,s.state.selection.$from);if(s.someProp("handlePaste",_=>_(s,l,c||ie.empty)))return!0;if(!c)return!1;let h=function fu(s){return 0==s.openStart&&0==s.openEnd&&1==s.content.childCount?s.content.firstChild:null}(c),g=h?s.state.tr.replaceSelectionWith(h,i):s.state.tr.replaceSelection(c);return s.dispatch(g.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}D.copy=m.cut=(s,t)=>{let r=t,i=s.state.selection,l="cut"==r.type;if(i.empty)return;let c=vi?null:r.clipboardData,h=i.content(),{dom:g,text:_}=Os(s,h);c?(r.preventDefault(),c.clearData(),c.setData("text/html",g.innerHTML),c.setData("text/plain",_)):function Uf(s,t){if(!s.dom.parentNode)return;let r=s.dom.parentNode.appendChild(document.createElement("div"));r.appendChild(t),r.style.cssText="position: fixed; left: -10000px; top: 10px";let i=getSelection(),l=document.createRange();l.selectNodeContents(t),s.dom.blur(),i.removeAllRanges(),i.addRange(l),setTimeout(()=>{r.parentNode&&r.parentNode.removeChild(r),s.focus()},50)}(s,g),l&&s.dispatch(s.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))},m.paste=(s,t)=>{let r=t;if(s.composing&&!pn)return;let i=vi?null:r.clipboardData,l=s.input.shiftKey&&45!=s.input.lastKeyCode;i&&fl(s,i.getData("text/plain"),i.getData("text/html"),l,r)?r.preventDefault():function dl(s,t){if(!s.dom.parentNode)return;let r=s.input.shiftKey||s.state.selection.$from.parent.type.spec.code,i=s.dom.parentNode.appendChild(document.createElement(r?"textarea":"div"));r||(i.contentEditable="true"),i.style.cssText="position: fixed; left: -10000px; top: 10px",i.focus();let l=s.input.shiftKey&&45!=s.input.lastKeyCode;setTimeout(()=>{s.focus(),i.parentNode&&i.parentNode.removeChild(i),r?fl(s,i.value,null,l,t):fl(s,i.textContent,i.innerHTML,l,t)},50)}(s,r)};class Fc{constructor(t,r){this.slice=t,this.move=r}}const hu=De?"altKey":"ctrlKey";D.dragstart=(s,t)=>{let r=t,i=s.input.mouseDown;if(i&&i.done(),!r.dataTransfer)return;let l=s.state.selection,c=l.empty?null:s.posAtCoords(or(r));if(!(c&&c.pos>=l.from&&c.pos<=(l instanceof It?l.to-1:l.to)))if(i&&i.mightDrag)s.dispatch(s.state.tr.setSelection(It.create(s.state.doc,i.mightDrag.pos)));else if(r.target&&1==r.target.nodeType){let I=s.docView.nearestDesc(r.target,!0);I&&I.node.type.spec.draggable&&I!=s.docView&&s.dispatch(s.state.tr.setSelection(It.create(s.state.doc,I.posBefore)))}let h=s.state.selection.content(),{dom:g,text:_}=Os(s,h);r.dataTransfer.clearData(),r.dataTransfer.setData(vi?"Text":"text/html",g.innerHTML),r.dataTransfer.effectAllowed="copyMove",vi||r.dataTransfer.setData("text/plain",_),s.dragging=new Fc(h,!r[hu])},D.dragend=s=>{let t=s.dragging;window.setTimeout(()=>{s.dragging==t&&(s.dragging=null)},50)},m.dragover=m.dragenter=(s,t)=>t.preventDefault(),m.drop=(s,t)=>{let r=t,i=s.dragging;if(s.dragging=null,!r.dataTransfer)return;let l=s.posAtCoords(or(r));if(!l)return;let c=s.state.doc.resolve(l.pos),h=i&&i.slice;h?s.someProp("transformPasted",ce=>{h=ce(h,s)}):h=Ns(s,r.dataTransfer.getData(vi?"Text":"text/plain"),vi?null:r.dataTransfer.getData("text/html"),!1,c);let g=!(!i||r[hu]);if(s.someProp("handleDrop",ce=>ce(s,r,h||ie.empty,g)))return void r.preventDefault();if(!h)return;r.preventDefault();let _=h?function ei(s,t,r){let i=s.resolve(t);if(!r.content.size)return t;let l=r.content;for(let c=0;c<r.openStart;c++)l=l.firstChild.content;for(let c=1;c<=(0==r.openStart&&r.size?2:1);c++)for(let h=i.depth;h>=0;h--){let g=h==i.depth?0:i.pos<=(i.start(h+1)+i.end(h+1))/2?-1:1,_=i.index(h)+(g>0?1:0),I=i.node(h),P=!1;if(1==c)P=I.canReplace(_,_,l);else{let U=I.contentMatchAt(_).findWrapping(l.firstChild.type);P=U&&I.canReplaceWith(_,_,U[0])}if(P)return 0==g?i.pos:g<0?i.before(h+1):i.after(h+1)}return null}(s.state.doc,c.pos,h):c.pos;null==_&&(_=c.pos);let I=s.state.tr;g&&I.deleteSelection();let P=I.mapping.map(_),U=0==h.openStart&&0==h.openEnd&&1==h.content.childCount,q=I.doc;if(U?I.replaceRangeWith(P,P,h.content.firstChild):I.replaceRange(P,P,h),I.doc.eq(q))return;let Q=I.doc.resolve(P);if(U&&It.isSelectable(h.content.firstChild)&&Q.nodeAfter&&Q.nodeAfter.sameMarkup(h.content.firstChild))I.setSelection(new It(Q));else{let ce=I.mapping.map(_);I.mapping.maps[I.mapping.maps.length-1].forEach((Re,vt,zt,Jr)=>ce=Jr),I.setSelection(jt(s,Q,I.doc.resolve(ce)))}s.focus(),s.dispatch(I.setMeta("uiEvent","drop"))},D.focus=s=>{s.input.lastFocus=Date.now(),s.focused||(s.domObserver.stop(),s.dom.classList.add("ProseMirror-focused"),s.domObserver.start(),s.focused=!0,setTimeout(()=>{s.docView&&s.hasFocus()&&!s.domObserver.currentSelection.eq(s.domSelectionRange())&&_r(s)},20))},D.blur=(s,t)=>{let r=t;s.focused&&(s.domObserver.stop(),s.dom.classList.remove("ProseMirror-focused"),s.domObserver.start(),r.relatedTarget&&s.dom.contains(r.relatedTarget)&&s.domObserver.currentSelection.clear(),s.focused=!1)},D.beforeinput=(s,t)=>{if(x&&pn&&"deleteContentBackward"==t.inputType){s.domObserver.flushSoon();let{domChangeCount:i}=s.input;setTimeout(()=>{if(s.input.domChangeCount!=i||(s.dom.blur(),s.focus(),s.someProp("handleKeyDown",c=>c(s,kr(8,"Backspace")))))return;let{$cursor:l}=s.state.selection;l&&l.pos>0&&s.dispatch(s.state.tr.delete(l.pos-1,l.pos).scrollIntoView())},50)}};for(let s in m)D[s]=m[s];function Ma(s,t){if(s==t)return!0;for(let r in s)if(s[r]!==t[r])return!1;for(let r in t)if(!(r in s))return!1;return!0}class Bo{constructor(t,r){this.toDOM=t,this.spec=r||_i,this.side=this.spec.side||0}map(t,r,i,l){let{pos:c,deleted:h}=t.mapResult(r.from+l,this.side<0?-1:1);return h?null:new ao(c-i,c-i,this)}valid(){return!0}eq(t){return this==t||t instanceof Bo&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&Ma(this.spec,t.spec))}destroy(t){this.spec.destroy&&this.spec.destroy(t)}}class Hi{constructor(t,r){this.attrs=t,this.spec=r||_i}map(t,r,i,l){let c=t.map(r.from+l,this.spec.inclusiveStart?-1:1)-i,h=t.map(r.to+l,this.spec.inclusiveEnd?1:-1)-i;return c>=h?null:new ao(c,h,this)}valid(t,r){return r.from<r.to}eq(t){return this==t||t instanceof Hi&&Ma(this.attrs,t.attrs)&&Ma(this.spec,t.spec)}static is(t){return t.type instanceof Hi}destroy(){}}class Fs{constructor(t,r){this.attrs=t,this.spec=r||_i}map(t,r,i,l){let c=t.mapResult(r.from+l,1);if(c.deleted)return null;let h=t.mapResult(r.to+l,-1);return h.deleted||h.pos<=c.pos?null:new ao(c.pos-i,h.pos-i,this)}valid(t,r){let c,{index:i,offset:l}=t.content.findIndex(r.from);return l==r.from&&!(c=t.child(i)).isText&&l+c.nodeSize==r.to}eq(t){return this==t||t instanceof Fs&&Ma(this.attrs,t.attrs)&&Ma(this.spec,t.spec)}destroy(){}}class ao{constructor(t,r,i){this.from=t,this.to=r,this.type=i}copy(t,r){return new ao(t,r,this.type)}eq(t,r=0){return this.type.eq(t.type)&&this.from+r==t.from&&this.to+r==t.to}map(t,r,i){return this.type.map(t,this,r,i)}static widget(t,r,i){return new ao(t,t,new Bo(r,i))}static inline(t,r,i,l){return new ao(t,r,new Hi(i,l))}static node(t,r,i,l){return new ao(t,r,new Fs(i,l))}get spec(){return this.type.spec}get inline(){return this.type instanceof Hi}}const cs=[],_i={};class tr{constructor(t,r){this.local=t.length?t:cs,this.children=r.length?r:cs}static create(t,r){return r.length?ai(r,t,0,_i):Hr}find(t,r,i){let l=[];return this.findInner(t??0,r??1e9,l,0,i),l}findInner(t,r,i,l,c){for(let h=0;h<this.local.length;h++){let g=this.local[h];g.from<=r&&g.to>=t&&(!c||c(g.spec))&&i.push(g.copy(g.from+l,g.to+l))}for(let h=0;h<this.children.length;h+=3)if(this.children[h]<r&&this.children[h+1]>t){let g=this.children[h]+1;this.children[h+2].findInner(t-g,r-g,i,l+g,c)}}map(t,r,i){return this==Hr||0==t.maps.length?this:this.mapInner(t,r,0,0,i||_i)}mapInner(t,r,i,l,c){let h;for(let g=0;g<this.local.length;g++){let _=this.local[g].map(t,i,l);_&&_.type.valid(r,_)?(h||(h=[])).push(_):c.onRemove&&c.onRemove(this.local[g].spec)}return this.children.length?function Lc(s,t,r,i,l,c,h){let g=s.slice();for(let I=0,P=c;I<r.maps.length;I++){let U=0;r.maps[I].forEach((q,Q,ce,Re)=>{let vt=Re-ce-(Q-q);for(let zt=0;zt<g.length;zt+=3){let Jr=g[zt+1];if(Jr<0||q>Jr+P-U)continue;let Co=g[zt]+P-U;Q>=Co?g[zt+1]=q<=Co?-2:-1:ce>=l&&vt&&(g[zt]+=vt,g[zt+1]+=vt)}U+=vt}),P=r.maps[I].map(P,-1)}let _=!1;for(let I=0;I<g.length;I+=3)if(g[I+1]<0){if(-2==g[I+1]){_=!0,g[I+1]=-1;continue}let P=r.map(s[I]+c),U=P-l;if(U<0||U>=i.content.size){_=!0;continue}let Q=r.map(s[I+1]+c,-1)-l,{index:ce,offset:Re}=i.content.findIndex(U),vt=i.maybeChild(ce);if(vt&&Re==U&&Re+vt.nodeSize==Q){let zt=g[I+2].mapInner(r,vt,P+1,s[I]+c+1,h);zt!=Hr?(g[I]=U,g[I+1]=Q,g[I+2]=zt):(g[I+1]=-2,_=!0)}else _=!0}if(_){let I=function Vc(s,t,r,i,l,c,h){function g(_,I){for(let P=0;P<_.local.length;P++){let U=_.local[P].map(i,l,I);U?r.push(U):h.onRemove&&h.onRemove(_.local[P].spec)}for(let P=0;P<_.children.length;P+=3)g(_.children[P+2],_.children[P]+I+1)}for(let _=0;_<s.length;_+=3)-1==s[_+1]&&g(s[_+2],t[_]+c+1);return r}(g,s,t,r,l,c,h),P=ai(I,i,0,h);t=P.local;for(let U=0;U<g.length;U+=3)g[U+1]<0&&(g.splice(U,3),U-=3);for(let U=0,q=0;U<P.children.length;U+=3){let Q=P.children[U];for(;q<g.length&&g[q]<Q;)q+=3;g.splice(q,0,P.children[U],P.children[U+1],P.children[U+2])}}return new tr(t.sort(ds),g)}(this.children,h||[],t,r,i,l,c):h?new tr(h.sort(ds),cs):Hr}add(t,r){return r.length?this==Hr?tr.create(t,r):this.addInner(t,r,0):this}addInner(t,r,i){let l,c=0;t.forEach((g,_)=>{let P,I=_+i;if(P=Bc(r,g,I)){for(l||(l=this.children.slice());c<l.length&&l[c]<_;)c+=3;l[c]==_?l[c+2]=l[c+2].addInner(g,P,I+1):l.splice(c,0,_,_+g.nodeSize,ai(P,g,I+1,_i)),c+=3}});let h=pu(c?Sa(r):r,-i);for(let g=0;g<h.length;g++)h[g].type.valid(t,h[g])||h.splice(g--,1);return new tr(h.length?this.local.concat(h).sort(ds):this.local,l||this.children)}remove(t){return 0==t.length||this==Hr?this:this.removeInner(t,0)}removeInner(t,r){let i=this.children,l=this.local;for(let c=0;c<i.length;c+=3){let h,g=i[c]+r,_=i[c+1]+r;for(let U,P=0;P<t.length;P++)(U=t[P])&&U.from>g&&U.to<_&&(t[P]=null,(h||(h=[])).push(U));if(!h)continue;i==this.children&&(i=this.children.slice());let I=i[c+2].removeInner(h,g+1);I!=Hr?i[c+2]=I:(i.splice(c,3),c-=3)}if(l.length)for(let h,c=0;c<t.length;c++)if(h=t[c])for(let g=0;g<l.length;g++)l[g].eq(h,r)&&(l==this.local&&(l=this.local.slice()),l.splice(g--,1));return i==this.children&&l==this.local?this:l.length||i.length?new tr(l,i):Hr}forChild(t,r){if(this==Hr)return this;if(r.isLeaf)return tr.empty;let i,l;for(let g=0;g<this.children.length;g+=3)if(this.children[g]>=t){this.children[g]==t&&(i=this.children[g+2]);break}let c=t+1,h=c+r.content.size;for(let g=0;g<this.local.length;g++){let _=this.local[g];if(_.from<h&&_.to>c&&_.type instanceof Hi){let I=Math.max(c,_.from)-c,P=Math.min(h,_.to)-c;I<P&&(l||(l=[])).push(_.copy(I,P))}}if(l){let g=new tr(l.sort(ds),cs);return i?new Di([g,i]):g}return i||Hr}eq(t){if(this==t)return!0;if(!(t instanceof tr)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let r=0;r<this.local.length;r++)if(!this.local[r].eq(t.local[r]))return!1;for(let r=0;r<this.children.length;r+=3)if(this.children[r]!=t.children[r]||this.children[r+1]!=t.children[r+1]||!this.children[r+2].eq(t.children[r+2]))return!1;return!0}locals(t){return hl(this.localsInner(t))}localsInner(t){if(this==Hr)return cs;if(t.inlineContent||!this.local.some(Hi.is))return this.local;let r=[];for(let i=0;i<this.local.length;i++)this.local[i].type instanceof Hi||r.push(this.local[i]);return r}}tr.empty=new tr([],[]),tr.removeOverlap=hl;const Hr=tr.empty;class Di{constructor(t){this.members=t}map(t,r){const i=this.members.map(l=>l.map(t,r,_i));return Di.from(i)}forChild(t,r){if(r.isLeaf)return tr.empty;let i=[];for(let l=0;l<this.members.length;l++){let c=this.members[l].forChild(t,r);c!=Hr&&(c instanceof Di?i=i.concat(c.members):i.push(c))}return Di.from(i)}eq(t){if(!(t instanceof Di)||t.members.length!=this.members.length)return!1;for(let r=0;r<this.members.length;r++)if(!this.members[r].eq(t.members[r]))return!1;return!0}locals(t){let r,i=!0;for(let l=0;l<this.members.length;l++){let c=this.members[l].localsInner(t);if(c.length)if(r){i&&(r=r.slice(),i=!1);for(let h=0;h<c.length;h++)r.push(c[h])}else r=c}return r?hl(i?r:r.sort(ds)):cs}static from(t){switch(t.length){case 0:return Hr;case 1:return t[0];default:return new Di(t.every(r=>r instanceof tr)?t:t.reduce((r,i)=>r.concat(i instanceof tr?i:i.members),[]))}}}function pu(s,t){if(!t||!s.length)return s;let r=[];for(let i=0;i<s.length;i++){let l=s[i];r.push(new ao(l.from+t,l.to+t,l.type))}return r}function Bc(s,t,r){if(t.isLeaf)return null;let i=r+t.nodeSize,l=null;for(let h,c=0;c<s.length;c++)(h=s[c])&&h.from>r&&h.to<i&&((l||(l=[])).push(h),s[c]=null);return l}function Sa(s){let t=[];for(let r=0;r<s.length;r++)null!=s[r]&&t.push(s[r]);return t}function ai(s,t,r,i){let l=[],c=!1;t.forEach((g,_)=>{let I=Bc(s,g,_+r);if(I){c=!0;let P=ai(I,g,r+_+1,i);P!=Hr&&l.push(_,_+g.nodeSize,P)}});let h=pu(c?Sa(s):s,-r).sort(ds);for(let g=0;g<h.length;g++)h[g].type.valid(t,h[g])||(i.onRemove&&i.onRemove(h[g].spec),h.splice(g--,1));return h.length||l.length?new tr(h,l):Hr}function ds(s,t){return s.from-t.from||s.to-t.to}function hl(s){let t=s;for(let r=0;r<t.length-1;r++){let i=t[r];if(i.from!=i.to)for(let l=r+1;l<t.length;l++){let c=t[l];if(c.from!=i.from){c.from<i.to&&(t==s&&(t=s.slice()),t[r]=i.copy(i.from,c.from),gu(t,l,i.copy(c.from,i.to)));break}c.to!=i.to&&(t==s&&(t=s.slice()),t[l]=c.copy(c.from,i.to),gu(t,l+1,c.copy(i.to,c.to)))}}return t}function gu(s,t,r){for(;t<s.length&&ds(r,s[t])>0;)t++;s.splice(t,0,r)}function Ui(s){let t=[];return s.someProp("decorations",r=>{let i=r(s.state);i&&i!=Hr&&t.push(i)}),s.cursorWrapper&&t.push(tr.create(s.state.doc,[s.cursorWrapper.deco])),Di.from(t)}const jf={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Hc=vr&&Po<=11;class mu{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset}}class zf{constructor(t,r){this.view=t,this.handleDOMChange=r,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new mu,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver(i=>{for(let l=0;l<i.length;l++)this.queue.push(i[l]);vr&&Po<=11&&i.some(l=>"childList"==l.type&&l.removedNodes.length||"characterData"==l.type&&l.oldValue.length>l.target.nodeValue.length)?this.flushSoon():this.flush()}),Hc&&(this.onCharData=i=>{this.queue.push({target:i.target,type:"characterData",oldValue:i.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,jf)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let t=this.observer.takeRecords();if(t.length){for(let r=0;r<t.length;r++)this.queue.push(t[r]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(va(this.view)){if(this.suppressingSelectionUpdates)return _r(this.view);if(vr&&Po<=11&&!this.view.state.selection.empty){let t=this.view.domSelectionRange();if(t.focusNode&&to(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(t){if(!t.focusNode)return!0;let i,r=new Set;for(let c=t.focusNode;c;c=sr(c))r.add(c);for(let c=t.anchorNode;c;c=sr(c))if(r.has(c)){i=c;break}let l=i&&this.view.docView.nearestDesc(i);return l&&l.ignoreMutation({type:"selection",target:3==i.nodeType?i.parentNode:i})?(this.setCurSelection(),!0):void 0}flush(){let{view:t}=this;if(!t.docView||this.flushingSoon>-1)return;let r=this.observer?this.observer.takeRecords():[];this.queue.length&&(r=this.queue.concat(r),this.queue.length=0);let i=t.domSelectionRange(),l=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(i)&&va(t)&&!this.ignoreSelectionChange(i),c=-1,h=-1,g=!1,_=[];if(t.editable)for(let P=0;P<r.length;P++){let U=this.registerMutation(r[P],_);U&&(c=c<0?U.from:Math.min(U.from,c),h=h<0?U.to:Math.max(U.to,h),U.typeOver&&(g=!0))}if(Kr&&_.length>1){let P=_.filter(U=>"BR"==U.nodeName);if(2==P.length){let U=P[0],q=P[1];U.parentNode&&U.parentNode.parentNode==q.parentNode?q.remove():U.remove()}}let I=null;c<0&&l&&t.input.lastFocus>Date.now()-200&&Math.max(t.input.lastTouch,t.input.lastClick.time)<Date.now()-300&&pi(i)&&(I=Br(t))&&I.eq(Ht.near(t.state.doc.resolve(0),1))?(t.input.lastFocus=0,_r(t),this.currentSelection.set(i),t.scrollToSelection()):(c>-1||l)&&(c>-1&&(t.docView.markDirty(c,h),function Ls(s){if(!yu.has(s)&&(yu.set(s,null),-1!==["normal","nowrap","pre-line"].indexOf(getComputedStyle(s.dom).whiteSpace))){if(s.requiresGeckoHackNode=Kr,pl)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),pl=!0}}(t)),this.handleDOMChange(c,h,g,_),t.docView&&t.docView.dirty?t.updateState(t.state):this.currentSelection.eq(i)||_r(t),this.currentSelection.set(i))}registerMutation(t,r){if(r.indexOf(t.target)>-1)return null;let i=this.view.docView.nearestDesc(t.target);if("attributes"==t.type&&(i==this.view.docView||"contenteditable"==t.attributeName||"style"==t.attributeName&&!t.oldValue&&!t.target.getAttribute("style"))||!i||i.ignoreMutation(t))return null;if("childList"==t.type){for(let P=0;P<t.addedNodes.length;P++)r.push(t.addedNodes[P]);if(i.contentDOM&&i.contentDOM!=i.dom&&!i.contentDOM.contains(t.target))return{from:i.posBefore,to:i.posAfter};let l=t.previousSibling,c=t.nextSibling;if(vr&&Po<=11&&t.addedNodes.length)for(let P=0;P<t.addedNodes.length;P++){let{previousSibling:U,nextSibling:q}=t.addedNodes[P];(!U||Array.prototype.indexOf.call(t.addedNodes,U)<0)&&(l=U),(!q||Array.prototype.indexOf.call(t.addedNodes,q)<0)&&(c=q)}let h=l&&l.parentNode==t.target?rn(l)+1:0,g=i.localPosFromDOM(t.target,h,-1),_=c&&c.parentNode==t.target?rn(c):t.target.childNodes.length;return{from:g,to:i.localPosFromDOM(t.target,_,1)}}return"attributes"==t.type?{from:i.posAtStart-i.border,to:i.posAtEnd+i.border}:{from:i.posAtStart,to:i.posAtEnd,typeOver:t.target.nodeValue==t.oldValue}}}let yu=new WeakMap,pl=!1;function Uc(s){let t=s.pmViewDesc;if(t)return t.parseRule();if("BR"==s.nodeName&&s.parentNode){if(w&&/^(ul|ol)$/i.test(s.parentNode.nodeName)){let r=document.createElement("div");return r.appendChild(document.createElement("li")),{skip:r}}if(s.parentNode.lastChild==s||w&&/^(tr|table)$/i.test(s.parentNode.nodeName))return{ignore:!0}}else if("IMG"==s.nodeName&&s.getAttribute("mark-placeholder"))return{ignore:!0};return null}const vu=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function $f(s,t,r){return Math.max(r.anchor,r.head)>t.content.size?null:jt(s,t.resolve(r.anchor),t.resolve(r.head))}function jc(s,t,r){let i=s.depth,l=t?s.end():s.pos;for(;i>0&&(t||s.indexAfter(i)==s.node(i).childCount);)i--,l++,t=!1;if(r){let c=s.node(i).maybeChild(s.indexAfter(i));for(;c&&!c.isLeaf;)c=c.firstChild,l++}return l}class xa{constructor(t,r){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new N,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=r,this.state=r.state,this.directPlugins=r.plugins||[],this.directPlugins.forEach(vo),this.dispatch=this.dispatch.bind(this),this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):"function"==typeof t?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=ar(this),Kf(this),this.nodeViews=Us(this),this.docView=vn(this.state.doc,Wf(this),Ui(this),this.dom,this),this.domObserver=new zf(this,(i,l,c,h)=>function Hs(s,t,r,i,l){if(t<0){let an=s.input.lastSelectionTime>Date.now()-50?s.input.lastSelectionOrigin:null,Qo=Br(s,an);if(Qo&&!s.state.selection.eq(Qo)){if(x&&pn&&13===s.input.lastKeyCode&&Date.now()-100<s.input.lastKeyCodeTime&&s.someProp("handleKeyDown",tf=>tf(s,kr(13,"Enter"))))return;let $a=s.state.tr.setSelection(Qo);"pointer"==an?$a.setMeta("pointer",!0):"key"==an&&$a.scrollIntoView(),s.composing&&$a.setMeta("composition",s.input.compositionID),s.dispatch($a)}return}let c=s.state.doc.resolve(t),h=c.sharedDepth(r);t=c.before(h+1),r=s.state.doc.resolve(r).after(h+1);let U,q,g=s.state.selection,_=function Bs(s,t,r){let I,{node:i,fromOffset:l,toOffset:c,from:h,to:g}=s.docView.parseRange(t,r),_=s.domSelectionRange(),P=_.anchorNode;if(P&&s.dom.contains(1==P.nodeType?P:P.parentNode)&&(I=[{node:P,offset:_.anchorOffset}],pi(_)||I.push({node:_.focusNode,offset:_.focusOffset})),x&&8===s.input.lastKeyCode)for(let vt=c;vt>l;vt--){let zt=i.childNodes[vt-1],Jr=zt.pmViewDesc;if("BR"==zt.nodeName&&!Jr){c=vt;break}if(!Jr||Jr.size)break}let U=s.state.doc,q=s.someProp("domParser")||kt.fromSchema(s.state.schema),Q=U.resolve(h),ce=null,Re=q.parse(i,{topNode:Q.parent,topMatch:Q.parent.contentMatchAt(Q.index()),topOpen:!0,from:l,to:c,preserveWhitespace:"pre"!=Q.parent.type.whitespace||"full",findPositions:I,ruleFromNode:Uc,context:Q});if(I&&null!=I[0].pos){let vt=I[0].pos,zt=I[1]&&I[1].pos;null==zt&&(zt=vt),ce={anchor:vt+h,head:zt+h}}return{doc:Re,sel:ce,from:h,to:g}}(s,t,r),I=s.state.doc,P=I.slice(_.from,_.to);8===s.input.lastKeyCode&&Date.now()-100<s.input.lastKeyCodeTime?(U=s.state.selection.to,q="end"):(U=s.state.selection.from,q="start"),s.input.lastKeyCode=null;let Q=function $g(s,t,r,i,l){let c=s.findDiffStart(t,r);if(null==c)return null;let{a:h,b:g}=s.findDiffEnd(t,r+s.size,r+t.size);return"end"==l&&(i-=h+Math.max(0,c-Math.min(h,g))-c),h<c&&s.size<t.size?(c-=i<=c&&i>=h?c-i:0,g=c+(g-h),h=c):g<c&&(c-=i<=c&&i>=g?c-i:0,h=c+(h-g),g=c),{start:c,endA:h,endB:g}}(P.content,_.doc.content,_.from,U,q);if((L&&s.input.lastIOSEnter>Date.now()-225||pn)&&l.some(an=>1==an.nodeType&&!vu.test(an.nodeName))&&(!Q||Q.endA>=Q.endB)&&s.someProp("handleKeyDown",an=>an(s,kr(13,"Enter"))))return void(s.input.lastIOSEnter=0);if(!Q){if(!(i&&g instanceof lt&&!g.empty&&g.$head.sameParent(g.$anchor))||s.composing||_.sel&&_.sel.anchor!=_.sel.head){if(_.sel){let an=$f(s,s.state.doc,_.sel);if(an&&!an.eq(s.state.selection)){let Qo=s.state.tr.setSelection(an);s.composing&&Qo.setMeta("composition",s.input.compositionID),s.dispatch(Qo)}}return}Q={start:g.from,endA:g.to,endB:g.to}}if(x&&s.cursorWrapper&&_.sel&&_.sel.anchor==s.cursorWrapper.deco.from&&_.sel.head==_.sel.anchor){let an=Q.endB-Q.start;_.sel={anchor:_.sel.anchor+an,head:_.sel.anchor+an}}s.input.domChangeCount++,s.state.selection.from<s.state.selection.to&&Q.start==Q.endB&&s.state.selection instanceof lt&&(Q.start>s.state.selection.from&&Q.start<=s.state.selection.from+2&&s.state.selection.from>=_.from?Q.start=s.state.selection.from:Q.endA<s.state.selection.to&&Q.endA>=s.state.selection.to-2&&s.state.selection.to<=_.to&&(Q.endB+=s.state.selection.to-Q.endA,Q.endA=s.state.selection.to)),vr&&Po<=11&&Q.endB==Q.start+1&&Q.endA==Q.start&&Q.start>_.from&&" \xa0"==_.doc.textBetween(Q.start-_.from-1,Q.start-_.from+1)&&(Q.start--,Q.endA--,Q.endB--);let Jr,ce=_.doc.resolveNoCache(Q.start-_.from),Re=_.doc.resolveNoCache(Q.endB-_.from),vt=I.resolve(Q.start),zt=ce.sameParent(Re)&&ce.parent.inlineContent&&vt.end()>=Q.endA;if((L&&s.input.lastIOSEnter>Date.now()-225&&(!zt||l.some(an=>"DIV"==an.nodeName||"P"==an.nodeName))||!zt&&ce.pos<_.doc.content.size&&!ce.sameParent(Re)&&(Jr=Ht.findFrom(_.doc.resolve(ce.pos+1),1,!0))&&Jr.head==Re.pos)&&s.someProp("handleKeyDown",an=>an(s,kr(13,"Enter"))))return void(s.input.lastIOSEnter=0);if(s.state.selection.anchor>Q.start&&function zg(s,t,r,i,l){if(!i.parent.isTextblock||r-t<=l.pos-i.pos||jc(i,!0,!1)<l.pos)return!1;let c=s.resolve(t);if(c.parentOffset<c.parent.content.size||!c.parent.isTextblock)return!1;let h=s.resolve(jc(c,!0,!0));return!(!h.parent.isTextblock||h.pos>r||jc(h,!0,!1)<r)&&i.parent.content.cut(i.parentOffset).eq(h.parent.content)}(I,Q.start,Q.endA,ce,Re)&&s.someProp("handleKeyDown",an=>an(s,kr(8,"Backspace"))))return void(pn&&x&&s.domObserver.suppressSelectionUpdates());x&&pn&&Q.endB==Q.start&&(s.input.lastAndroidDelete=Date.now()),pn&&!zt&&ce.start()!=Re.start()&&0==Re.parentOffset&&ce.depth==Re.depth&&_.sel&&_.sel.anchor==_.sel.head&&_.sel.head==Q.endA&&(Q.endB-=2,Re=_.doc.resolveNoCache(Q.endB-_.from),setTimeout(()=>{s.someProp("handleKeyDown",function(an){return an(s,kr(13,"Enter"))})},20));let lo,jl,fc,Co=Q.start,sa=Q.endA;if(zt)if(ce.pos==Re.pos)vr&&Po<=11&&0==ce.parentOffset&&(s.domObserver.suppressSelectionUpdates(),setTimeout(()=>_r(s),20)),lo=s.state.tr.delete(Co,sa),jl=I.resolve(Q.start).marksAcross(I.resolve(Q.endA));else if(Q.endA==Q.endB&&(fc=function Gf(s,t){let h,g,_,r=s.firstChild.marks,i=t.firstChild.marks,l=r,c=i;for(let P=0;P<i.length;P++)l=i[P].removeFromSet(l);for(let P=0;P<r.length;P++)c=r[P].removeFromSet(c);if(1==l.length&&0==c.length)g=l[0],h="add",_=P=>P.mark(g.addToSet(P.marks));else{if(0!=l.length||1!=c.length)return null;g=c[0],h="remove",_=P=>P.mark(g.removeFromSet(P.marks))}let I=[];for(let P=0;P<t.childCount;P++)I.push(_(t.child(P)));if(ee.from(I).eq(s))return{mark:g,type:h}}(ce.parent.content.cut(ce.parentOffset,Re.parentOffset),vt.parent.content.cut(vt.parentOffset,Q.endA-vt.start()))))lo=s.state.tr,"add"==fc.type?lo.addMark(Co,sa,fc.mark):lo.removeMark(Co,sa,fc.mark);else if(ce.parent.child(ce.index()).isText&&ce.index()==Re.index()-(Re.textOffset?0:1)){let an=ce.parent.textBetween(ce.parentOffset,Re.parentOffset);if(s.someProp("handleTextInput",Qo=>Qo(s,Co,sa,an)))return;lo=s.state.tr.insertText(an,Co,sa)}if(lo||(lo=s.state.tr.replace(Co,sa,_.doc.slice(Q.start-_.from,Q.endB-_.from))),_.sel){let an=$f(s,lo.doc,_.sel);an&&!(x&&pn&&s.composing&&an.empty&&(Q.start!=Q.endB||s.input.lastAndroidDelete<Date.now()-100)&&(an.head==Co||an.head==lo.mapping.map(sa)-1)||vr&&an.empty&&an.head==Co)&&lo.setSelection(an)}jl&&lo.ensureMarks(jl),s.composing&&lo.setMeta("composition",s.input.compositionID),s.dispatch(lo.scrollIntoView())}(this,i,l,c,h)),this.domObserver.start(),function V(s){for(let t in D){let r=D[t];s.dom.addEventListener(t,s.input.eventHandlers[t]=i=>{yt(s,i)&&!mt(s,i)&&(s.editable||!(i.type in m))&&r(s,i)},b[t]?{passive:!0}:void 0)}w&&s.dom.addEventListener("input",()=>null),Ge(s)}(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let t=this._props;this._props={};for(let r in t)this._props[r]=t[r];this._props.state=this.state}return this._props}update(t){t.handleDOMEvents!=this._props.handleDOMEvents&&Ge(this);let r=this._props;this._props=t,t.plugins&&(t.plugins.forEach(vo),this.directPlugins=t.plugins),this.updateStateInner(t.state,r)}setProps(t){let r={};for(let i in this._props)r[i]=this._props[i];r.state=this.state;for(let i in t)r[i]=t[i];this.update(r)}updateState(t){this.updateStateInner(t,this._props)}updateStateInner(t,r){let i=this.state,l=!1,c=!1;t.storedMarks&&this.composing&&(Hf(this),c=!0),this.state=t;let h=i.plugins!=t.plugins||this._props.plugins!=r.plugins;if(h||this._props.plugins!=r.plugins||this._props.nodeViews!=r.nodeViews){let q=Us(this);(function Yf(s,t){let r=0,i=0;for(let l in s){if(s[l]!=t[l])return!0;r++}for(let l in t)i++;return r!=i})(q,this.nodeViews)&&(this.nodeViews=q,l=!0)}(h||r.handleDOMEvents!=this._props.handleDOMEvents)&&Ge(this),this.editable=ar(this),Kf(this);let g=Ui(this),_=Wf(this),I=i.plugins==t.plugins||i.doc.eq(t.doc)?t.scrollToSelection>i.scrollToSelection?"to selection":"preserve":"reset",P=l||!this.docView.matchesNode(t.doc,_,g);(P||!t.selection.eq(i.selection))&&(c=!0);let U="preserve"==I&&c&&null==this.dom.style.overflowAnchor&&function da(s){let i,l,t=s.dom.getBoundingClientRect(),r=Math.max(0,t.top);for(let c=(t.left+t.right)/2,h=r+1;h<Math.min(innerHeight,t.bottom);h+=5){let g=s.root.elementFromPoint(c,h);if(!g||g==s.dom||!s.dom.contains(g))continue;let _=g.getBoundingClientRect();if(_.top>=r-20){i=g,l=_.top;break}}return{refDOM:i,refTop:l,stack:fa(s.dom)}}(this);if(c){this.domObserver.stop();let q=P&&(vr||x)&&!this.composing&&!i.selection.empty&&!t.selection.empty&&function Zf(s,t){let r=Math.min(s.$anchor.sharedDepth(s.head),t.$anchor.sharedDepth(t.head));return s.$anchor.start(r)!=t.$anchor.start(r)}(i.selection,t.selection);if(P){let Q=x?this.trackWrites=this.domSelectionRange().focusNode:null;(l||!this.docView.update(t.doc,_,g,this))&&(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=vn(t.doc,_,g,this.dom,this)),Q&&!this.trackWrites&&(q=!0)}q||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&function Dr(s){let t=s.docView.domFromPos(s.state.selection.anchor,0),r=s.domSelectionRange();return to(t.node,t.offset,r.anchorNode,r.anchorOffset)}(this))?_r(this,q):(lu(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),"reset"==I?this.dom.scrollTop=0:"to selection"==I?this.scrollToSelection():U&&function ws({refDOM:s,refTop:t,stack:r}){let i=s?s.getBoundingClientRect().top:0;Ni(r,0==i?0:i-t)}(U)}scrollToSelection(){let t=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",r=>r(this)))if(this.state.selection instanceof It){let r=this.docView.domAfterPos(this.state.selection.from);1==r.nodeType&&bs(this,r.getBoundingClientRect(),t)}else bs(this,this.coordsAtPos(this.state.selection.head,1),t)}destroyPluginViews(){let t;for(;t=this.pluginViews.pop();)t.destroy&&t.destroy()}updatePluginViews(t){if(t&&t.plugins==this.state.plugins&&this.directPlugins==this.prevDirectPlugins)for(let r=0;r<this.pluginViews.length;r++){let i=this.pluginViews[r];i.update&&i.update(this,t)}else{this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let r=0;r<this.directPlugins.length;r++){let i=this.directPlugins[r];i.spec.view&&this.pluginViews.push(i.spec.view(this))}for(let r=0;r<this.state.plugins.length;r++){let i=this.state.plugins[r];i.spec.view&&this.pluginViews.push(i.spec.view(this))}}}someProp(t,r){let l,i=this._props&&this._props[t];if(null!=i&&(l=r?r(i):i))return l;for(let h=0;h<this.directPlugins.length;h++){let g=this.directPlugins[h].props[t];if(null!=g&&(l=r?r(g):g))return l}let c=this.state.plugins;if(c)for(let h=0;h<c.length;h++){let g=c[h].props[t];if(null!=g&&(l=r?r(g):g))return l}}hasFocus(){if(vr){let t=this.root.activeElement;if(t==this.dom)return!0;if(!t||!this.dom.contains(t))return!1;for(;t&&this.dom!=t&&this.dom.contains(t);){if("false"==t.contentEditable)return!1;t=t.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&function mi(s){if(s.setActive)return s.setActive();if($n)return s.focus($n);let t=fa(s);s.focus(null==$n?{get preventScroll(){return $n={preventScroll:!0},!0}}:void 0),$n||($n=!1,Ni(t,0))}(this.dom),_r(this),this.domObserver.start()}get root(){let t=this._root;if(null==t)for(let r=this.dom.parentNode;r;r=r.parentNode)if(9==r.nodeType||11==r.nodeType&&r.host)return r.getSelection||(Object.getPrototypeOf(r).getSelection=()=>r.ownerDocument.getSelection()),this._root=r;return t||document}posAtCoords(t){return au(this,t)}coordsAtPos(t,r=1){return Ko(this,t,r)}domAtPos(t,r=0){return this.docView.domFromPos(t,r)}nodeDOM(t){let r=this.docView.descAt(t);return r?r.nodeDOM:null}posAtDOM(t,r,i=-1){let l=this.docView.posFromDOM(t,r,i);if(null==l)throw new RangeError("DOM position not inside the editor");return l}endOfTextblock(t,r){return function xs(s,t,r){return is==t&&Ss==r?Fi:(is=t,Ss=r,Fi="up"==r||"down"==r?function Qa(s,t,r){let i=t.selection,l="up"==r?i.$from:i.$to;return qa(s,t,()=>{let{node:c}=s.docView.domFromPos(l.pos,"up"==r?-1:1);for(;;){let g=s.docView.nearestDesc(c,!0);if(!g)break;if(g.node.isBlock){c=g.contentDOM||g.dom;break}c=g.dom.parentNode}let h=Ko(s,l.pos,1);for(let g=c.firstChild;g;g=g.nextSibling){let _;if(1==g.nodeType)_=g.getClientRects();else{if(3!=g.nodeType)continue;_=mn(g,0,g.nodeValue.length).getClientRects()}for(let I=0;I<_.length;I++){let P=_[I];if(P.bottom>P.top+1&&("up"==r?h.top-P.top>2*(P.bottom-h.top):P.bottom-h.bottom>2*(h.bottom-P.top)))return!1}}return!0})}(s,t,r):function Xa(s,t,r){let{$head:i}=t.selection;if(!i.parent.isTextblock)return!1;let l=i.parentOffset,c=!l,h=l==i.parent.content.size,g=s.domSelection();return ga.test(i.parent.textContent)&&g.modify?qa(s,t,()=>{let{focusNode:_,focusOffset:I,anchorNode:P,anchorOffset:U}=s.domSelectionRange(),q=g.caretBidiLevel;g.modify("move",r,"character");let Q=i.depth?s.docView.domAfterPos(i.before()):s.dom,{focusNode:ce,focusOffset:Re}=s.domSelectionRange(),vt=ce&&!Q.contains(1==ce.nodeType?ce:ce.parentNode)||_==ce&&I==Re;try{g.collapse(P,U),_&&(_!=P||I!=U)&&g.extend&&g.extend(_,I)}catch{}return null!=q&&(g.caretBidiLevel=q),vt}):"left"==r||"backward"==r?c:h}(s,t,r))}(this,r||this.state,t)}pasteHTML(t,r){return fl(this,"",t,!1,r||new ClipboardEvent("paste"))}pasteText(t,r){return fl(this,t,null,!0,r||new ClipboardEvent("paste"))}destroy(){this.docView&&(function de(s){s.domObserver.stop();for(let t in s.input.eventHandlers)s.dom.removeEventListener(t,s.input.eventHandlers[t]);clearTimeout(s.input.composingTimeout),clearTimeout(s.input.lastIOSEnterFallbackTimeout)}(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Ui(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)}get isDestroyed(){return null==this.docView}dispatchEvent(t){return function En(s,t){!mt(s,t)&&D[t.type]&&(s.editable||!(t.type in m))&&D[t.type](s,t)}(this,t)}dispatch(t){let r=this._props.dispatchTransaction;r?r.call(this,t):this.updateState(this.state.apply(t))}domSelectionRange(){return w&&11===this.root.nodeType&&function gi(s){let t=s.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}(this.dom.ownerDocument)==this.dom?function Vs(s){let t;function r(_){_.preventDefault(),_.stopImmediatePropagation(),t=_.getTargetRanges()[0]}s.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),s.dom.removeEventListener("beforeinput",r,!0);let i=t.startContainer,l=t.startOffset,c=t.endContainer,h=t.endOffset,g=s.domAtPos(s.state.selection.anchor);return to(g.node,g.offset,c,h)&&([i,l,c,h]=[c,h,i,l]),{anchorNode:i,anchorOffset:l,focusNode:c,focusOffset:h}}(this):this.domSelection()}domSelection(){return this.root.getSelection()}}function Wf(s){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(s.editable),s.someProp("attributes",r=>{if("function"==typeof r&&(r=r(s.state)),r)for(let i in r)"class"==i?t.class+=" "+r[i]:"style"==i?t.style=(t.style?t.style+";":"")+r[i]:!t[i]&&"contenteditable"!=i&&"nodeName"!=i&&(t[i]=String(r[i]))}),t.translate||(t.translate="no"),[ao.node(0,s.state.doc.content.size,t)]}function Kf(s){if(s.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),s.cursorWrapper={dom:t,deco:ao.widget(s.state.selection.head,t,{raw:!0,marks:s.markCursor})}}else s.cursorWrapper=null}function ar(s){return!s.someProp("editable",t=>!1===t(s.state))}function Us(s){let t=Object.create(null);function r(i){for(let l in i)Object.prototype.hasOwnProperty.call(t,l)||(t[l]=i[l])}return s.someProp("nodeViews",r),s.someProp("markViews",r),t}function vo(s){if(s.spec.state||s.spec.filterTransaction||s.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var xn=A(6814);const zc=["ol",0],gl=["ul",0],Ia=["li",0];function Gg(s,t){return function(r,i){let{$from:l,$to:c,node:h}=r.selection;if(h&&h.isBlock||l.depth<2||!l.sameParent(c))return!1;let g=l.node(-1);if(g.type!=s)return!1;if(0==l.parent.content.size&&l.node(-1).childCount==l.indexAfter(-1)){if(3==l.depth||l.node(-3).type!=s||l.index(-2)!=l.node(-2).childCount-1)return!1;if(i){let U=ee.empty,q=l.index(-1)?1:l.index(-2)?2:3;for(let zt=l.depth-q;zt>=l.depth-3;zt--)U=ee.from(l.node(zt).copy(U));let Q=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3;U=U.append(ee.from(s.createAndFill()));let ce=l.before(l.depth-(q-1)),Re=r.tr.replace(ce,l.after(-Q),new ie(U,4-q,0)),vt=-1;Re.doc.nodesBetween(ce,Re.doc.content.size,(zt,Jr)=>{if(vt>-1)return!1;zt.isTextblock&&0==zt.content.size&&(vt=Jr+1)}),vt>-1&&Re.setSelection(Ht.near(Re.doc.resolve(vt))),i(Re.scrollIntoView())}return!0}let _=c.pos==l.end()?g.contentMatchAt(0).defaultType:null,I=r.tr.delete(l.pos,c.pos),P=_?[t?{type:s,attrs:t}:null,{type:_}]:void 0;return!!eo(I.doc,l.pos,2,P)&&(i&&i(I.split(l.pos,2,P).scrollIntoView()),!0)}}function Du(s){return function(t,r){let{$from:i,$to:l}=t.selection,c=i.blockRange(l,h=>h.childCount>0&&h.firstChild.type==s);return!!c&&(!r||(i.node(c.depth-1).type==s?function qf(s,t,r,i){let l=s.tr,c=i.end,h=i.$to.end(i.depth);c<h&&(l.step(new ln(c-1,h,c,h,new ie(ee.from(r.create(null,i.parent.copy())),1,0),1,!0)),i=new oe(l.doc.resolve(i.$from.pos),l.doc.resolve(h),i.depth));const g=Bt(i);if(null==g)return!1;l.lift(i,g);let _=l.mapping.map(c,-1)-1;return ui(l.doc,_)&&l.join(_),t(l.scrollIntoView()),!0}(t,r,s,c):function Qf(s,t,r){let i=s.tr,l=r.parent;for(let Q=r.end,ce=r.endIndex-1,Re=r.startIndex;ce>Re;ce--)Q-=l.child(ce).nodeSize,i.delete(Q-1,Q+1);let c=i.doc.resolve(r.start),h=c.nodeAfter;if(i.mapping.map(r.end)!=r.start+c.nodeAfter.nodeSize)return!1;let g=0==r.startIndex,_=r.endIndex==l.childCount,I=c.node(-1),P=c.index(-1);if(!I.canReplace(P+(g?0:1),P+1,h.content.append(_?ee.empty:ee.from(l))))return!1;let U=c.pos,q=U+h.nodeSize;return i.step(new ln(U-(g?1:0),q+(_?1:0),U+1,q-1,new ie((g?ee.empty:ee.from(l.copy(ee.empty))).append(_?ee.empty:ee.from(l.copy(ee.empty))),g?0:1,_?0:1),g?0:1)),t(i.scrollIntoView()),!0}(t,r,c)))}}function Kc(s){return function(t,r){let{$from:i,$to:l}=t.selection,c=i.blockRange(l,I=>I.childCount>0&&I.firstChild.type==s);if(!c)return!1;let h=c.startIndex;if(0==h)return!1;let g=c.parent,_=g.child(h-1);if(_.type!=s)return!1;if(r){let I=_.lastChild&&_.lastChild.type==g.type,P=ee.from(I?s.create():null),U=new ie(ee.from(s.create(null,ee.from(g.type.create(null,P)))),I?3:1,0),q=c.start,Q=c.end;r(t.tr.step(new ln(q-(I?3:1),Q,q,Q,U,1,!0)).scrollIntoView())}return!0}}const ml={link:{attrs:{href:{},title:{default:null},target:{default:"_blank"}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:s=>({href:s.getAttribute("href"),title:s.getAttribute("title"),target:s.getAttribute("target")})}],toDOM(s){const{href:t,title:r,target:i}=s.attrs;return["a",{href:t,title:r,target:i},0]}},em:{parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"}],toDOM:()=>["em",0]},strong:{parseDOM:[{tag:"strong"},{tag:"b",getAttrs:s=>"normal"!==s.style.fontWeight&&null},{style:"font-weight",getAttrs:s=>/^(?:bold(?:er)?|[5-9]\d{2,})$/.test(s)&&null}],toDOM:()=>["strong",0]},code:{parseDOM:[{tag:"code"}],toDOM:()=>["code",0]},u:{parseDOM:[{tag:"u"},{style:"text-decoration=underline",consuming:!1}],toDOM:()=>["u",0]},s:{parseDOM:[{tag:"s"},{tag:"strike"},{style:"text-decoration=line-through"}],toDOM:()=>["s",0]},text_color:{attrs:{color:{default:null}},parseDOM:[{style:"color",getAttrs:s=>({color:s})}],toDOM(s){const{color:t}=s.attrs;return["span",{style:`color:${t};`},0]}},text_background_color:{attrs:{backgroundColor:{default:null}},parseDOM:[{style:"background-color",getAttrs:s=>({backgroundColor:s})}],toDOM(s){const{backgroundColor:t}=s.attrs;return["span",{style:`background-color:${t};`},0]}}},rh={doc:{content:"block+"},text:{group:"inline"},paragraph:{content:"inline*",group:"block",attrs:{align:{default:null}},parseDOM:[{tag:"p",getAttrs(s){const{textAlign:t}=s.style;return{align:s.getAttribute("align")||t||null}}}],toDOM(s){const{align:t}=s.attrs;return["p",{style:te({textAlign:"left"!==t?t:null})||null},0]}},blockquote:{content:"block+",group:"block",defining:!0,parseDOM:[{tag:"blockquote"}],toDOM:()=>["blockquote",0]},horizontal_rule:{group:"block",parseDOM:[{tag:"hr"}],toDOM:()=>["hr"]},heading:{attrs:{level:{default:1},align:{default:null}},content:"inline*",group:"block",defining:!0,parseDOM:[{tag:"h1",getAttrs(s){const{textAlign:t}=s.style;return{level:1,align:s.getAttribute("align")||t||null}}},{tag:"h2",getAttrs(s){const{textAlign:t}=s.style;return{level:2,align:s.getAttribute("align")||t||null}}},{tag:"h3",getAttrs(s){const{textAlign:t}=s.style;return{level:3,align:s.getAttribute("align")||t||null}}},{tag:"h4",getAttrs(s){const{textAlign:t}=s.style;return{level:4,align:s.getAttribute("align")||t||null}}},{tag:"h5",getAttrs(s){const{textAlign:t}=s.style;return{level:5,align:s.getAttribute("align")||t||null}}},{tag:"h6",getAttrs(s){const{textAlign:t}=s.style;return{level:6,align:s.getAttribute("align")||t||null}}}],toDOM(s){const{level:t,align:r}=s.attrs;return[`h${t}`,{style:te({textAlign:"left"!==r?r:null})||null},0]}},hard_break:{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM:()=>["br"]},code_block:{content:"text*",marks:"",group:"block",code:!0,defining:!0,parseDOM:[{tag:"pre",preserveWhitespace:"full"}],toDOM:()=>["pre",["code",0]]},image:{inline:!0,attrs:{src:{},alt:{default:null},title:{default:null},width:{default:null}},group:"inline",draggable:!0,parseDOM:[{tag:"img[src]",getAttrs:s=>({src:s.getAttribute("src"),title:s.getAttribute("title"),alt:s.getAttribute("alt"),width:s.getAttribute("width")})}],toDOM(s){const{src:t,alt:r,title:i,width:l}=s.attrs;return["img",{src:t,alt:r,title:i,width:l}]}},list_item:{...{parseDOM:[{tag:"li"}],toDOM:()=>Ia,defining:!0},content:"paragraph block*"},ordered_list:{...{attrs:{order:{default:1}},parseDOM:[{tag:"ol",getAttrs:s=>({order:s.hasAttribute("start")?+s.getAttribute("start"):1})}],toDOM:s=>1==s.attrs.order?zc:["ol",{start:s.attrs.order},0]},content:"list_item+",group:"block"},bullet_list:{...{parseDOM:[{tag:"ul"}],toDOM:()=>gl},content:"list_item+",group:"block"}},wu=new class tn{constructor(t){this.cached=Object.create(null);let r=this.spec={};for(let l in t)r[l]=t[l];r.nodes=Fe.from(t.nodes),r.marks=Fe.from(t.marks||{}),this.nodes=Ne.compile(this.spec.nodes,this),this.marks=In.compile(this.spec.marks,this);let i=Object.create(null);for(let l in this.nodes){if(l in this.marks)throw new RangeError(l+" can not be both a node and a mark");let c=this.nodes[l],h=c.spec.content||"",g=c.spec.marks;c.contentMatch=i[h]||(i[h]=ot.parse(h,this.nodes)),c.inlineContent=c.contentMatch.inlineContent,c.markSet="_"==g?null:g?Zt(this,g.split(" ")):""!=g&&c.inlineContent?null:[]}for(let l in this.marks){let c=this.marks[l],h=c.spec.excludes;c.excluded=null==h?[c]:""==h?[]:Zt(this,h.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(t,r=null,i,l){if("string"==typeof t)t=this.nodeType(t);else{if(!(t instanceof Ne))throw new RangeError("Invalid node type: "+t);if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}return t.createChecked(r,i,l)}text(t,r){let i=this.nodes.text;return new _e(i,i.defaultAttrs,t,it.setFrom(r))}mark(t,r){return"string"==typeof t&&(t=this.marks[t]),t.create(r)}nodeFromJSON(t){return z.fromJSON(this,t)}markFromJSON(t){return it.fromJSON(this,t)}nodeType(t){let r=this.nodes[t];if(!r)throw new RangeError("Unknown node type: "+t);return r}}({marks:ml,nodes:rh}),Qc=(s,t)=>!s.selection.empty&&(t&&t(s.tr.deleteSelection().scrollIntoView()),!0);function fs(s,t,r=!1){for(let i=s;i;i="start"==t?i.firstChild:i.lastChild){if(i.isTextblock)return!0;if(r&&1!=i.childCount)return!1}return!1}function vl(s){if(!s.parent.type.spec.isolating)for(let t=s.depth-1;t>=0;t--){if(s.index(t)>0)return s.doc.resolve(s.before(t+1));if(s.node(t).type.spec.isolating)break}return null}function Aa(s){if(!s.parent.type.spec.isolating)for(let t=s.depth-1;t>=0;t--){let r=s.node(t);if(s.index(t)+1<r.childCount)return s.doc.resolve(s.after(t+1));if(r.type.spec.isolating)break}return null}const uh=(s,t)=>{let{$head:r,$anchor:i}=s.selection;return!(!r.parent.type.spec.code||!r.sameParent(i)||(t&&t(s.tr.insertText("\n").scrollIntoView()),0))};function td(s){for(let t=0;t<s.edgeCount;t++){let{type:r}=s.edge(t);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}const ch=(s,t)=>{let{$head:r,$anchor:i}=s.selection;if(!r.parent.type.spec.code||!r.sameParent(i))return!1;let l=r.node(-1),c=r.indexAfter(-1),h=td(l.contentMatchAt(c));if(!h||!l.canReplaceWith(c,c,h))return!1;if(t){let g=r.after(),_=s.tr.replaceWith(g,g,h.createAndFill());_.setSelection(Ht.near(_.doc.resolve(g),1)),t(_.scrollIntoView())}return!0},dh=(s,t)=>{let r=s.selection,{$from:i,$to:l}=r;if(r instanceof Gt||i.parent.inlineContent||l.parent.inlineContent)return!1;let c=td(l.parent.contentMatchAt(l.indexAfter()));if(!c||!c.isTextblock)return!1;if(t){let h=(!i.parentOffset&&l.index()<l.parent.childCount?i:l).pos,g=s.tr.insert(h,c.createAndFill());g.setSelection(lt.create(g.doc,h+1)),t(g.scrollIntoView())}return!0},fh=(s,t)=>{let{$cursor:r}=s.selection;if(!r||r.parent.content.size)return!1;if(r.depth>1&&r.after()!=r.end(-1)){let c=r.before();if(eo(s.doc,c))return t&&t(s.tr.split(c).scrollIntoView()),!0}let i=r.blockRange(),l=i&&Bt(i);return null!=l&&(t&&t(s.tr.lift(i,l).scrollIntoView()),!0)},$s=function hh(s){return(t,r)=>{let{$from:i,$to:l}=t.selection;if(t.selection instanceof It&&t.selection.node.isBlock)return!(!i.parentOffset||!eo(t.doc,i.pos)||(r&&r(t.tr.split(i.pos).scrollIntoView()),0));if(!i.parent.isBlock)return!1;if(r){let c=l.parentOffset==l.parent.content.size,h=t.tr;(t.selection instanceof lt||t.selection instanceof Gt)&&h.deleteSelection();let g=0==i.depth?null:td(i.node(-1).contentMatchAt(i.indexAfter(-1))),_=s&&s(l.parent,c),I=_?[_]:c&&g?[{type:g}]:void 0,P=eo(h.doc,h.mapping.map(i.pos),1,I);if(!I&&!P&&eo(h.doc,h.mapping.map(i.pos),1,g?[{type:g}]:void 0)&&(g&&(I=[{type:g}]),P=!0),P&&(h.split(h.mapping.map(i.pos),1,I),!c&&!i.parentOffset&&i.parent.type!=g)){let U=h.mapping.map(i.before()),q=h.doc.resolve(U);g&&i.node(-1).canReplaceWith(q.index(),q.index()+1,g)&&h.setNodeMarkup(h.mapping.map(i.before()),g)}r(h.scrollIntoView())}return!0}}();function hs(s,t,r){let c,h,i=t.nodeBefore,l=t.nodeAfter;if(i.type.spec.isolating||l.type.spec.isolating)return!1;if(function od(s,t,r){let i=t.nodeBefore,l=t.nodeAfter,c=t.index();return!(!(i&&l&&i.type.compatibleContent(l.type))||(!i.content.size&&t.parent.canReplace(c-1,c)?(r&&r(s.tr.delete(t.pos-i.nodeSize,t.pos).scrollIntoView()),0):!t.parent.canReplace(c,c+1)||!l.isTextblock&&!ui(s.doc,t.pos)||(r&&r(s.tr.clearIncompatible(t.pos,i.type,i.contentMatchAt(i.childCount)).join(t.pos).scrollIntoView()),0)))}(s,t,r))return!0;let g=t.parent.canReplace(t.index(),t.index()+1);if(g&&(c=(h=i.contentMatchAt(i.childCount)).findWrapping(l.type))&&h.matchType(c[0]||l.type).validEnd){if(r){let U=t.pos+l.nodeSize,q=ee.empty;for(let Re=c.length-1;Re>=0;Re--)q=ee.from(c[Re].create(null,q));q=ee.from(i.copy(q));let Q=s.tr.step(new ln(t.pos-1,U,t.pos,U,new ie(q,1,0),c.length,!0)),ce=U+2*c.length;ui(Q.doc,ce)&&Q.join(ce),r(Q.scrollIntoView())}return!0}let _=Ht.findFrom(t,1),I=_&&_.$from.blockRange(_.$to),P=I&&Bt(I);if(null!=P&&P>=t.depth)return r&&r(s.tr.lift(I,P).scrollIntoView()),!0;if(g&&fs(l,"start",!0)&&fs(i,"end")){let U=i,q=[];for(;q.push(U),!U.isTextblock;)U=U.lastChild;let Q=l,ce=1;for(;!Q.isTextblock;Q=Q.firstChild)ce++;if(U.canReplace(U.childCount,U.childCount,Q.content)){if(r){let Re=ee.empty;for(let zt=q.length-1;zt>=0;zt--)Re=ee.from(q[zt].copy(Re));r(s.tr.step(new ln(t.pos-q.length,t.pos+l.nodeSize,t.pos+ce,t.pos+l.nodeSize-ce,new ie(Re,q.length,0),0,!0)).scrollIntoView())}return!0}}return!1}function xu(s){return function(t,r){let i=t.selection,l=s<0?i.$from:i.$to,c=l.depth;for(;l.node(c).isInline;){if(!c)return!1;c--}return!!l.node(c).isTextblock&&(r&&r(t.tr.setSelection(lt.create(t.doc,s<0?l.start(c):l.end(c)))),!0)}}const id=xu(-1),_l=xu(1);function Uo(s,t=null){return function(r,i){let l=!1;for(let c=0;c<r.selection.ranges.length&&!l;c++){let{$from:{pos:h},$to:{pos:g}}=r.selection.ranges[c];r.doc.nodesBetween(h,g,(_,I)=>{if(l)return!1;if(_.isTextblock&&!_.hasMarkup(s,t))if(_.type==s)l=!0;else{let P=r.doc.resolve(I),U=P.index();l=P.parent.canReplaceWith(U,U+1,s)}})}if(!l)return!1;if(i){let c=r.tr;for(let h=0;h<r.selection.ranges.length;h++){let{$from:{pos:g},$to:{pos:_}}=r.selection.ranges[h];c.setBlockType(g,_,s,t)}i(c.scrollIntoView())}return!0}}function Gs(s,t=null){return function(r,i){let{empty:l,$cursor:c,ranges:h}=r.selection;if(l&&!c||!function gh(s,t,r){for(let i=0;i<t.length;i++){let{$from:l,$to:c}=t[i],h=0==l.depth&&s.inlineContent&&s.type.allowsMarkType(r);if(s.nodesBetween(l.pos,c.pos,g=>{if(h)return!1;h=g.inlineContent&&g.type.allowsMarkType(r)}),h)return!0}return!1}(r.doc,h,s))return!1;if(i)if(c)s.isInSet(r.storedMarks||c.marks())?i(r.tr.removeStoredMark(s)):i(r.tr.addStoredMark(s.create(t)));else{let g=!1,_=r.tr;for(let I=0;!g&&I<h.length;I++){let{$from:P,$to:U}=h[I];g=r.doc.rangeHasMark(P.pos,U.pos,s)}for(let I=0;I<h.length;I++){let{$from:P,$to:U}=h[I];if(g)_.removeMark(P.pos,U.pos,s);else{let q=P.pos,Q=U.pos,ce=P.nodeAfter,Re=U.nodeBefore,vt=ce&&ce.isText?/^\s*/.exec(ce.text)[0].length:0,zt=Re&&Re.isText?/\s*$/.exec(Re.text)[0].length:0;q+vt<Q&&(q+=vt,Q-=zt),_.addMark(q,Q,s.create(t))}}i(_.scrollIntoView())}return!0}}function ps(...s){return function(t,r,i){for(let l=0;l<s.length;l++)if(s[l](t,r,i))return!0;return!1}}let Iu=ps(Qc,(s,t,r)=>{let i=function Xc(s,t){let{$cursor:r}=s.selection;return!r||(t?!t.endOfTextblock("backward",s):r.parentOffset>0)?null:r}(s,r);if(!i)return!1;let l=vl(i);if(!l){let h=i.blockRange(),g=h&&Bt(h);return null!=g&&(t&&t(s.tr.lift(h,g).scrollIntoView()),!0)}let c=l.nodeBefore;if(!c.type.spec.isolating&&hs(s,l,t))return!0;if(0==i.parent.content.size&&(fs(c,"end")||It.isSelectable(c))){let h=$o(s.doc,i.before(),i.after(),ie.empty);if(h&&h.slice.size<h.to-h.from){if(t){let g=s.tr.step(h);g.setSelection(fs(c,"end")?Ht.findFrom(g.doc.resolve(g.mapping.map(l.pos,-1)),-1):It.create(g.doc,l.pos-c.nodeSize)),t(g.scrollIntoView())}return!0}}return!(!c.isAtom||l.depth!=i.depth-1||(t&&t(s.tr.delete(l.pos-c.nodeSize,l.pos).scrollIntoView()),0))},(s,t,r)=>{let{$head:i,empty:l}=s.selection,c=i;if(!l)return!1;if(i.parent.isTextblock){if(r?!r.endOfTextblock("backward",s):i.parentOffset>0)return!1;c=vl(i)}let h=c&&c.nodeBefore;return!(!h||!It.isSelectable(h)||(t&&t(s.tr.setSelection(It.create(s.doc,c.pos-h.nodeSize)).scrollIntoView()),0))}),sd=ps(Qc,(s,t,r)=>{let i=function sh(s,t){let{$cursor:r}=s.selection;return!r||(t?!t.endOfTextblock("forward",s):r.parentOffset<r.parent.content.size)?null:r}(s,r);if(!i)return!1;let l=Aa(i);if(!l)return!1;let c=l.nodeAfter;if(hs(s,l,t))return!0;if(0==i.parent.content.size&&(fs(c,"start")||It.isSelectable(c))){let h=$o(s.doc,i.before(),i.after(),ie.empty);if(h&&h.slice.size<h.to-h.from){if(t){let g=s.tr.step(h);g.setSelection(fs(c,"start")?Ht.findFrom(g.doc.resolve(g.mapping.map(l.pos)),1):It.create(g.doc,g.mapping.map(l.pos))),t(g.scrollIntoView())}return!0}}return!(!c.isAtom||l.depth!=i.depth-1||(t&&t(s.tr.delete(l.pos,l.pos+c.nodeSize).scrollIntoView()),0))},(s,t,r)=>{let{$head:i,empty:l}=s.selection,c=i;if(!l)return!1;if(i.parent.isTextblock){if(r?!r.endOfTextblock("forward",s):i.parentOffset<i.parent.content.size)return!1;c=Aa(i)}let h=c&&c.nodeAfter;return!(!h||!It.isSelectable(h)||(t&&t(s.tr.setSelection(It.create(s.doc,c.pos)).scrollIntoView()),0))});const Ci={Enter:ps(uh,dh,fh,$s),"Mod-Enter":ch,Backspace:Iu,"Mod-Backspace":Iu,"Shift-Backspace":Iu,Delete:sd,"Mod-Delete":sd,"Mod-a":(s,t)=>(t&&t(s.tr.setSelection(new Gt(s.doc))),!0)},Tu={"Ctrl-h":Ci.Backspace,"Alt-Backspace":Ci["Mod-Backspace"],"Ctrl-d":Ci.Delete,"Ctrl-Alt-Backspace":Ci["Mod-Delete"],"Alt-Delete":Ci["Mod-Delete"],"Alt-d":Ci["Mod-Delete"],"Ctrl-a":id,"Ctrl-e":_l};for(let s in Ci)Tu[s]=Ci[s];const vh=(typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&"darwin"==os.platform())?Tu:Ci;class nr{constructor(t,r){this.match=t,this.match=t,this.handler="string"==typeof r?function Au(s){return function(t,r,i,l){let c=s;if(r[1]){let h=r[0].lastIndexOf(r[1]);c+=r[0].slice(h+r[1].length);let g=(i+=h)-l;g>0&&(c=r[0].slice(h-g,h)+c,i=l)}return t.tr.insertText(c,i,l)}}(r):r}}function Sr(s,t,r,i,l,c){if(s.composing)return!1;let h=s.state,g=h.doc.resolve(t);if(g.parent.type.spec.code)return!1;let _=g.parent.textBetween(Math.max(0,g.parentOffset-500),g.parentOffset,null,"\ufffc")+i;for(let I=0;I<l.length;I++){let P=l[I].match.exec(_),U=P&&l[I].handler(h,P,t-(P[0].length-i.length),r);if(U)return s.dispatch(U.setMeta(c,{transform:U,from:t,to:r,text:i})),!0}return!1}const ld=new nr(/--$/,"\u2014"),ud=new nr(/\.\.\.$/,"\u2026"),Ch=[new nr(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"\u201c"),new nr(/"$/,"\u201d"),new nr(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"\u2018"),new nr(/'$/,"\u2019")];function El(s,t,r=null,i){return new nr(s,(l,c,h,g)=>{let _=r instanceof Function?r(c):r,I=l.tr.delete(h,g),U=I.doc.resolve(h).blockRange(),q=U&&Zn(U,t,_);if(!q)return null;I.wrap(U,q);let Q=I.doc.resolve(h-1).nodeBefore;return Q&&Q.type==t&&ui(I.doc,h-1)&&(!i||i(c,Q))&&I.join(h-1),I})}function fd(s,t,r=null){return new nr(s,(i,l,c,h)=>{let g=i.doc.resolve(c),_=r instanceof Function?r(l):r;return g.node(-1).canReplaceWith(g.index(-1),g.indexAfter(-1),t)?i.tr.delete(c,h).setBlockType(c,c,t,_):null})}const Nu=(s,t)=>{const{from:r,$from:i,to:l,empty:c}=s.selection;return c?!!t.isInSet(s.storedMarks||i.marks()):s.doc.rangeHasMark(r,l,t)},bl=(s,t,r={})=>{const{selection:i}=s,{$from:l,to:c}=i,h=((s,t)=>{for(let r=t.depth;r>0;r-=1)if(t.node(r).type===s)return t.node(r).type;return null})(t,l);return Object.entries(r).length&&h?c<=l.end()&&l.parent.hasMarkup(t,r):!!h},Ws=s=>{const t=[],{selection:{from:r,to:i}}=s;return s.doc.nodesBetween(r,i,l=>{t.push(l)}),t},hd=(s,t,r)=>{for(const i of t){const{$from:l,$to:c}=i;let h=0===l.depth&&s.type.allowsMarkType(r);if(s.nodesBetween(l.pos,c.pos,g=>!h&&(h=g.inlineContent&&g.type.allowsMarkType(r),!0)),h)return!0}return!1},pd=(s,t,r)=>new nr(s,(i,l,c,h)=>{const{tr:g}=i,_=c;let I=h;if(l[2]){const P=c+l[0].indexOf(l[2]),U=P+l[2].length;U<h&&g.delete(U,h),P>c&&g.delete(c,P),I=c+l[2].length}return g.addMark(_,I,t.create(r))}),Ru=(s,t={})=>(r,i)=>{const{tr:l,selection:c}=r,{empty:h,ranges:g,$from:_,$to:I}=c;if(h&&c instanceof lt){const{$cursor:P}=c;if(!P||!hd(r.doc,g,s)||(l.addStoredMark(s.create(t)),!l.storedMarksSet))return!1;i?.(l)}else{if(l.addMark(_.pos,I.pos,s.create(t)),!l.docChanged)return!1;i?.(l.scrollIntoView())}return!0};for(var wl=A(6593),Ei={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Zs={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Ml=typeof navigator<"u"&&/Mac/.test(navigator.platform),bh=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),xr=0;xr<10;xr++)Ei[48+xr]=Ei[96+xr]=String(xr);for(xr=1;xr<=24;xr++)Ei[xr+111]="F"+xr;for(xr=65;xr<=90;xr++)Ei[xr]=String.fromCharCode(xr+32),Zs[xr]=String.fromCharCode(xr);for(var ku in Ei)Zs.hasOwnProperty(ku)||(Zs[ku]=Ei[ku]);const Mh=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform);function Sh(s){let i,l,c,h,t=s.split(/-(?!$)/),r=t[t.length-1];"Space"==r&&(r=" ");for(let g=0;g<t.length-1;g++){let _=t[g];if(/^(cmd|meta|m)$/i.test(_))h=!0;else if(/^a(lt)?$/i.test(_))i=!0;else if(/^(c|ctrl|control)$/i.test(_))l=!0;else if(/^s(hift)?$/i.test(_))c=!0;else{if(!/^mod$/i.test(_))throw new Error("Unrecognized modifier name: "+_);Mh?h=!0:l=!0}}return i&&(r="Alt-"+r),l&&(r="Ctrl-"+r),h&&(r="Meta-"+r),c&&(r="Shift-"+r),r}function Oa(s,t,r=!0){return t.altKey&&(s="Alt-"+s),t.ctrlKey&&(s="Ctrl-"+s),t.metaKey&&(s="Meta-"+s),r&&t.shiftKey&&(s="Shift-"+s),s}function Na(s){return new Vn({props:{handleKeyDown:Fu(s)}})}function Fu(s){let t=function yd(s){let t=Object.create(null);for(let r in s)t[Sh(r)]=s[r];return t}(s);return function(r,i){let c,l=function wh(s){var r=!(Ml&&s.metaKey&&s.shiftKey&&!s.ctrlKey&&!s.altKey||bh&&s.shiftKey&&s.key&&1==s.key.length||"Unidentified"==s.key)&&s.key||(s.shiftKey?Zs:Ei)[s.keyCode]||s.key||"Unidentified";return"Esc"==r&&(r="Escape"),"Del"==r&&(r="Delete"),"Left"==r&&(r="ArrowLeft"),"Up"==r&&(r="ArrowUp"),"Right"==r&&(r="ArrowRight"),"Down"==r&&(r="ArrowDown"),r}(i),h=t[Oa(l,i)];if(h&&h(r.state,r.dispatch,r))return!0;if(1==l.length&&" "!=l){if(i.shiftKey){let g=t[Oa(l,i,!1)];if(g&&g(r.state,r.dispatch,r))return!0}if((i.shiftKey||i.altKey||i.metaKey||l.charCodeAt(0)>127)&&(c=Ei[i.keyCode])&&c!=l){let g=t[Oa(c,i)];if(g&&g(r.state,r.dispatch,r))return!0}}return!1}}var Ir=function(){};Ir.prototype.append=function(t){return t.length?(t=Ir.from(t),!this.length&&t||t.length<200&&this.leafAppend(t)||this.length<200&&t.leafPrepend(this)||this.appendInner(t)):this},Ir.prototype.prepend=function(t){return t.length?Ir.from(t).append(this):this},Ir.prototype.appendInner=function(t){return new vd(this,t)},Ir.prototype.slice=function(t,r){return void 0===t&&(t=0),void 0===r&&(r=this.length),t>=r?Ir.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,r))},Ir.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)},Ir.prototype.forEach=function(t,r,i){void 0===r&&(r=0),void 0===i&&(i=this.length),r<=i?this.forEachInner(t,r,i,0):this.forEachInvertedInner(t,r,i,0)},Ir.prototype.map=function(t,r,i){void 0===r&&(r=0),void 0===i&&(i=this.length);var l=[];return this.forEach(function(c,h){return l.push(t(c,h))},r,i),l},Ir.from=function(t){return t instanceof Ir?t:t&&t.length?new xl(t):Ir.empty};var xl=function(s){function t(i){s.call(this),this.values=i}s&&(t.__proto__=s),(t.prototype=Object.create(s&&s.prototype)).constructor=t;var r={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(l,c){return 0==l&&c==this.length?this:new t(this.values.slice(l,c))},t.prototype.getInner=function(l){return this.values[l]},t.prototype.forEachInner=function(l,c,h,g){for(var _=c;_<h;_++)if(!1===l(this.values[_],g+_))return!1},t.prototype.forEachInvertedInner=function(l,c,h,g){for(var _=c-1;_>=h;_--)if(!1===l(this.values[_],g+_))return!1},t.prototype.leafAppend=function(l){if(this.length+l.length<=200)return new t(this.values.concat(l.flatten()))},t.prototype.leafPrepend=function(l){if(this.length+l.length<=200)return new t(l.flatten().concat(this.values))},r.length.get=function(){return this.values.length},r.depth.get=function(){return 0},Object.defineProperties(t.prototype,r),t}(Ir);Ir.empty=new xl([]);var vd=function(s){function t(r,i){s.call(this),this.left=r,this.right=i,this.length=r.length+i.length,this.depth=Math.max(r.depth,i.depth)+1}return s&&(t.__proto__=s),(t.prototype=Object.create(s&&s.prototype)).constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(i){return i<this.left.length?this.left.get(i):this.right.get(i-this.left.length)},t.prototype.forEachInner=function(i,l,c,h){var g=this.left.length;if(l<g&&!1===this.left.forEachInner(i,l,Math.min(c,g),h)||c>g&&!1===this.right.forEachInner(i,Math.max(l-g,0),Math.min(this.length,c)-g,h+g))return!1},t.prototype.forEachInvertedInner=function(i,l,c,h){var g=this.left.length;if(l>g&&!1===this.right.forEachInvertedInner(i,l-g,Math.max(c,g)-g,h+g)||c<g&&!1===this.left.forEachInvertedInner(i,Math.min(l,g),c,h))return!1},t.prototype.sliceInner=function(i,l){if(0==i&&l==this.length)return this;var c=this.left.length;return l<=c?this.left.slice(i,l):i>=c?this.right.slice(i-c,l-c):this.left.slice(i,c).append(this.right.slice(0,l-c))},t.prototype.leafAppend=function(i){var l=this.right.leafAppend(i);if(l)return new t(this.left,l)},t.prototype.leafPrepend=function(i){var l=this.left.leafPrepend(i);if(l)return new t(l,this.right)},t.prototype.appendInner=function(i){return this.left.depth>=Math.max(this.right.depth,i.depth)+1?new t(this.left,new t(this.right,i)):new t(this,i)},t}(Ir);const ji=Ir;class jo{constructor(t,r){this.items=t,this.eventCount=r}popEvent(t,r){if(0==this.eventCount)return null;let l,c,i=this.items.length;for(;;i--)if(this.items.get(i-1).selection){--i;break}r&&(l=this.remapping(i,this.items.length),c=l.maps.length);let g,_,h=t.tr,I=[],P=[];return this.items.forEach((U,q)=>{if(!U.step)return l||(l=this.remapping(i,q+1),c=l.maps.length),c--,void P.push(U);if(l){P.push(new bi(U.map));let ce,Q=U.step.map(l.slice(c));Q&&h.maybeStep(Q).doc&&(ce=h.mapping.maps[h.mapping.maps.length-1],I.push(new bi(ce,void 0,void 0,I.length+P.length))),c--,ce&&l.appendMap(ce,c)}else h.maybeStep(U.step);return U.selection?(g=l?U.selection.map(l.slice(c)):U.selection,_=new jo(this.items.slice(0,i).append(P.reverse().concat(I)),this.eventCount-1),!1):void 0},this.items.length,0),{remaining:_,transform:h,selection:g}}addTransform(t,r,i,l){let c=[],h=this.eventCount,g=this.items,_=!l&&g.length?g.get(g.length-1):null;for(let P=0;P<t.steps.length;P++){let Q,U=t.steps[P].invert(t.docs[P]),q=new bi(t.mapping.maps[P],U,r);(Q=_&&_.merge(q))&&(q=Q,P?c.pop():g=g.slice(0,g.length-1)),c.push(q),r&&(h++,r=void 0),l||(_=q)}let I=h-i.depth;return I>Ih&&(g=function xh(s,t){let r;return s.forEach((i,l)=>{if(i.selection&&0==t--)return r=l,!1}),s.slice(r)}(g,I),h-=I),new jo(g.append(c),h)}remapping(t,r){let i=new ve;return this.items.forEach((l,c)=>{i.appendMap(l.map,null!=l.mirrorOffset&&c-l.mirrorOffset>=t?i.maps.length-l.mirrorOffset:void 0)},t,r),i}addMaps(t){return 0==this.eventCount?this:new jo(this.items.append(t.map(r=>new bi(r))),this.eventCount)}rebased(t,r){if(!this.eventCount)return this;let i=[],l=Math.max(0,this.items.length-r),c=t.mapping,h=t.steps.length,g=this.eventCount;this.items.forEach(q=>{q.selection&&g--},l);let _=r;this.items.forEach(q=>{let Q=c.getMirror(--_);if(null==Q)return;h=Math.min(h,Q);let ce=c.maps[Q];if(q.step){let Re=t.steps[Q].invert(t.docs[Q]),vt=q.selection&&q.selection.map(c.slice(_+1,Q));vt&&g++,i.push(new bi(ce,Re,vt))}else i.push(new bi(ce))},l);let I=[];for(let q=r;q<h;q++)I.push(new bi(c.maps[q]));let P=this.items.slice(0,l).append(I).append(i),U=new jo(P,g);return U.emptyItemCount()>500&&(U=U.compress(this.items.length-i.length)),U}emptyItemCount(){let t=0;return this.items.forEach(r=>{r.step||t++}),t}compress(t=this.items.length){let r=this.remapping(0,t),i=r.maps.length,l=[],c=0;return this.items.forEach((h,g)=>{if(g>=t)l.push(h),h.selection&&c++;else if(h.step){let _=h.step.map(r.slice(i)),I=_&&_.getMap();if(i--,I&&r.appendMap(I,i),_){let P=h.selection&&h.selection.map(r.slice(i));P&&c++;let q,U=new bi(I.invert(),_,P),Q=l.length-1;(q=l.length&&l[Q].merge(U))?l[Q]=q:l.push(U)}}else h.map&&i--},this.items.length,0),new jo(ji.from(l.reverse()),c)}}jo.empty=new jo(ji.empty,0);class bi{constructor(t,r,i,l){this.map=t,this.step=r,this.selection=i,this.mirrorOffset=l}merge(t){if(this.step&&t.step&&!t.selection){let r=t.step.merge(this.step);if(r)return new bi(r.getMap().invert(),r,this.selection)}}}class Jo{constructor(t,r,i,l,c){this.done=t,this.undone=r,this.prevRanges=i,this.prevTime=l,this.prevComposition=c}}const Ih=20;function Lu(s){let t=[];return s.forEach((r,i,l,c)=>t.push(l,c)),t}function Pa(s,t){if(!s)return null;let r=[];for(let i=0;i<s.length;i+=2){let l=t.map(s[i],1),c=t.map(s[i+1],-1);l<=c&&r.push(l,c)}return r}function Vu(s,t,r,i){let l=Ra(t),c=_o.get(t).spec.config,h=(i?s.undone:s.done).popEvent(t,l);if(!h)return;let g=h.selection.resolve(h.transform.doc),_=(i?s.done:s.undone).addTransform(h.transform,t.selection.getBookmark(),c,l),I=new Jo(i?_:h.remaining,i?h.remaining:_,null,0,-1);r(h.transform.setSelection(g).setMeta(_o,{redo:i,historyState:I}).scrollIntoView())}let Ys=!1,Js=null;function Ra(s){let t=s.plugins;if(Js!=t){Ys=!1,Js=t;for(let r=0;r<t.length;r++)if(t[r].spec.historyPreserveItems){Ys=!0;break}}return Ys}const _o=new yr("history"),Bu=new yr("closeHistory");const qs=(s,t)=>{let r=_o.getState(s);return!(!r||0==r.done.eventCount||(t&&Vu(r,s,t,!1),0))},Uu=(s,t)=>{let r=_o.getState(s);return!(!r||0==r.undone.eventCount||(t&&Vu(r,s,t,!0),0))},Ah=["imgEl"];function Oh(s,t){if(1&s){const r=d.EpF();d.TgZ(0,"span",4)(1,"span",5),d.NdJ("mousedown",function(l){d.CHM(r);const c=d.oxw();return d.KtG(c.startResizing(l,"left"))}),d.qZA(),d.TgZ(2,"span",6),d.NdJ("mousedown",function(l){d.CHM(r);const c=d.oxw();return d.KtG(c.startResizing(l,"right"))}),d.qZA(),d.TgZ(3,"span",7),d.NdJ("mousedown",function(l){d.CHM(r);const c=d.oxw();return d.KtG(c.startResizing(l,"left"))}),d.qZA(),d.TgZ(4,"span",8),d.NdJ("mousedown",function(l){d.CHM(r);const c=d.oxw();return d.KtG(c.startResizing(l,"right"))}),d.qZA()()}}const bd=function(s){return{"NgxEditor__Resizer--Active":s}},wd=["ngxEditor"],Il=["*"];function ju(s,t){if(1&s&&(d.TgZ(0,"div",12),d._uU(1),d.qZA()),2&s){const r=d.oxw(2);d.xp6(1),d.hij(" ",(null==r.href.errors?null:r.href.errors.pattern)&&"Please enter valid url."," ")}}function Qs(s,t){if(1&s&&(d.TgZ(0,"div",12),d._uU(1),d.qZA()),2&s){const r=d.oxw(2);d.xp6(1),d.hij(" ",(null==r.text.errors?null:r.text.errors.required)&&"This is required"," ")}}function Nh(s,t){if(1&s){const r=d.EpF();d.TgZ(0,"div",2)(1,"form",3),d.NdJ("ngSubmit",function(l){d.CHM(r);const c=d.oxw();return d.KtG(c.insertLink(l))}),d.TgZ(2,"div",4)(3,"div",5)(4,"label",6),d._uU(5),d.ALo(6,"async"),d.qZA(),d._UZ(7,"input",7),d.YNc(8,ju,2,1,"div",8),d.qZA()(),d.TgZ(9,"div",4)(10,"div",5)(11,"label",6),d._uU(12),d.ALo(13,"async"),d.qZA(),d._UZ(14,"input",9),d.YNc(15,Qs,2,1,"div",8),d.qZA()(),d.TgZ(16,"div",4)(17,"div",5)(18,"label"),d._UZ(19,"input",10),d._uU(20),d.ALo(21,"async"),d.qZA()()(),d.TgZ(22,"button",11),d._uU(23),d.ALo(24,"async"),d.qZA()()()}if(2&s){const r=d.oxw();d.xp6(1),d.Q6J("formGroup",r.form),d.xp6(4),d.Oqu(d.lcZ(6,8,r.getLabel("url"))),d.xp6(3),d.Q6J("ngIf",r.href.touched&&r.href.invalid),d.xp6(4),d.Oqu(d.lcZ(13,10,r.getLabel("text"))),d.xp6(3),d.Q6J("ngIf",r.text.touched&&r.text.invalid),d.xp6(5),d.hij(" ",d.lcZ(21,12,r.getLabel("openInNewTab"))," "),d.xp6(2),d.Q6J("disabled",!r.form.valid),d.xp6(1),d.Oqu(d.lcZ(24,14,r.getLabel("insert")))}}const Ph=function(s,t){return{"NgxEditor__Dropdown--Active":s,"NgxEditor--Disabled":t}};function tm(s,t){if(1&s){const r=d.EpF();d.TgZ(0,"div",4),d.NdJ("mousedown",function(l){const h=d.CHM(r).$implicit,g=d.oxw(2);return d.KtG(g.onClick(l,h))}),d._uU(1),d.ALo(2,"async"),d.qZA()}if(2&s){const r=t.$implicit,i=d.oxw(2);d.Q6J("ngClass",d.WLB(4,Ph,r===i.activeItem,i.disabledItems.includes(r))),d.xp6(1),d.hij(" ",d.lcZ(2,2,i.getName(r))," ")}}function Rh(s,t){if(1&s&&(d.TgZ(0,"div",2),d.YNc(1,tm,3,7,"div",3),d.qZA()),2&s){const r=d.oxw();d.xp6(1),d.Q6J("ngForOf",r.items)("ngForTrackBy",r.trackByIndex)}}function zu(s,t){if(1&s&&(d.TgZ(0,"div",12),d._uU(1),d.qZA()),2&s){const r=d.oxw(2);d.xp6(1),d.hij(" ",(null==r.src.errors?null:r.src.errors.pattern)&&"Please enter valid url."," ")}}function kh(s,t){if(1&s){const r=d.EpF();d.TgZ(0,"div",2)(1,"form",3),d.NdJ("ngSubmit",function(l){d.CHM(r);const c=d.oxw();return d.KtG(c.insertLink(l))}),d.TgZ(2,"div",4)(3,"div",5)(4,"label",6),d._uU(5),d.ALo(6,"async"),d.qZA(),d._UZ(7,"input",7),d.YNc(8,zu,2,1,"div",8),d.qZA()(),d.TgZ(9,"div",4)(10,"div",5)(11,"label",6),d._uU(12),d.ALo(13,"async"),d.qZA(),d._UZ(14,"input",9),d.qZA()(),d.TgZ(15,"div",4)(16,"div",5)(17,"label",6),d._uU(18),d.ALo(19,"async"),d.qZA(),d._UZ(20,"input",10),d.qZA()(),d.TgZ(21,"button",11),d._uU(22),d.ALo(23,"async"),d.qZA()()()}if(2&s){const r=d.oxw();d.xp6(1),d.Q6J("formGroup",r.form),d.xp6(4),d.Oqu(d.lcZ(6,7,r.getLabel("url"))),d.xp6(3),d.Q6J("ngIf",r.src.touched&&r.src.invalid),d.xp6(4),d.Oqu(d.lcZ(13,9,r.getLabel("altText"))),d.xp6(6),d.Oqu(d.lcZ(19,11,r.getLabel("title"))),d.xp6(3),d.Q6J("disabled",!r.form.valid||!r.form.dirty),d.xp6(1),d.Oqu(d.lcZ(23,13,r.getLabel("insert")))}}const ka=function(s,t){return{backgroundColor:s,color:t}},Tl=function(s){return{"NgxEditor__Color--Active":s}};function $u(s,t){if(1&s){const r=d.EpF();d.TgZ(0,"button",7),d.NdJ("mousedown",function(l){const h=d.CHM(r).$implicit,g=d.oxw(3);return d.KtG(g.onColorSelect(l,h))}),d.qZA()}if(2&s){const r=t.$implicit,i=d.oxw(3);d.Q6J("ngStyle",d.WLB(3,ka,r,i.getContrastYIQ(r)))("title",r)("ngClass",d.VKq(6,Tl,i.activeColors.includes(r)))}}function Md(s,t){if(1&s&&(d.TgZ(0,"div",5),d.YNc(1,$u,1,8,"button",6),d.qZA()),2&s){const r=t.$implicit,i=d.oxw(2);d.xp6(1),d.Q6J("ngForOf",r)("ngForTrackBy",i.trackByIndex)}}function Sd(s,t){if(1&s){const r=d.EpF();d.TgZ(0,"div",2),d.YNc(1,Md,2,2,"div",3),d.TgZ(2,"button",4),d.NdJ("mousedown",function(l){d.CHM(r);const c=d.oxw();return d.KtG(c.remove(l))}),d._uU(3),d.ALo(4,"async"),d.qZA()()}if(2&s){const r=d.oxw();d.xp6(1),d.Q6J("ngForOf",r.presets)("ngForTrackBy",r.trackByIndex),d.xp6(1),d.Q6J("disabled",!r.isActive),d.xp6(1),d.hij(" ",d.lcZ(4,4,r.getLabel("remove"))," ")}}function xd(s,t){if(1&s&&d._UZ(0,"ngx-toggle-command",7),2&s){const r=d.oxw().$implicit,i=d.oxw(2);d.Tol(i.iconContainerClass),d.Q6J("toolbarItem",r)}}function gs(s,t){if(1&s&&d._UZ(0,"ngx-insert-command",7),2&s){const r=d.oxw().$implicit,i=d.oxw(2);d.Tol(i.iconContainerClass),d.Q6J("toolbarItem",r)}}function Fh(s,t){if(1&s&&d._UZ(0,"ngx-link"),2&s){const r=d.oxw(3);d.Tol(r.iconContainerClass)}}function Lh(s,t){if(1&s&&d._UZ(0,"ngx-image"),2&s){const r=d.oxw(3);d.Tol(r.iconContainerClass)}}function Vh(s,t){if(1&s&&d._UZ(0,"ngx-dropdown",9),2&s){const r=t.$implicit,i=d.oxw(4);d.Tol(i.dropdownContainerClass),d.Q6J("group",r.key)("items",r.value)}}function Bh(s,t){if(1&s&&(d.ynx(0),d.YNc(1,Vh,1,4,"ngx-dropdown",8),d.ALo(2,"keyvalue"),d.BQk()),2&s){const r=d.oxw().$implicit,i=d.oxw(2);d.xp6(1),d.Q6J("ngForOf",d.lcZ(2,2,i.getDropdownItems(r)))("ngForTrackBy",i.trackByIndex)}}function Hh(s,t){if(1&s&&d._UZ(0,"ngx-color-picker",10),2&s){const r=d.oxw(3);d.Tol(r.iconContainerClass),d.Q6J("presets",r.presets)}}function wi(s,t){if(1&s&&d._UZ(0,"ngx-color-picker",11),2&s){const r=d.oxw(3);d.Tol(r.iconContainerClass),d.Q6J("presets",r.presets)}}function Xs(s,t){if(1&s&&d._UZ(0,"div"),2&s){const r=d.oxw(3);d.Tol(r.seperatorClass)}}function Uh(s,t){if(1&s&&(d.ynx(0),d.YNc(1,xd,1,3,"ngx-toggle-command",3),d.YNc(2,gs,1,3,"ngx-insert-command",3),d.YNc(3,Fh,1,2,"ngx-link",4),d.YNc(4,Lh,1,2,"ngx-image",4),d.YNc(5,Bh,3,4,"ng-container",2),d.YNc(6,Hh,1,3,"ngx-color-picker",5),d.YNc(7,wi,1,3,"ngx-color-picker",6),d.YNc(8,Xs,1,2,"div",4),d.BQk()),2&s){const r=t.$implicit,i=t.last,l=d.oxw().last,c=d.oxw();d.xp6(1),d.Q6J("ngIf",c.toggleCommands.includes(r)),d.xp6(1),d.Q6J("ngIf",c.insertCommands.includes(r)),d.xp6(1),d.Q6J("ngIf","link"===r),d.xp6(1),d.Q6J("ngIf","image"===r),d.xp6(1),d.Q6J("ngIf",c.isDropDown(r)),d.xp6(1),d.Q6J("ngIf","text_color"===r),d.xp6(1),d.Q6J("ngIf","background_color"===r),d.xp6(1),d.Q6J("ngIf",i&&!l)}}function jh(s,t){if(1&s&&(d.ynx(0),d.YNc(1,Uh,9,8,"ng-container",1),d.BQk()),2&s){const r=t.$implicit,i=d.oxw();d.xp6(1),d.Q6J("ngForOf",r)("ngForTrackBy",i.trackByIndex)}}function zh(s,t){if(1&s&&(d.ynx(0),d.GkF(1,12),d.BQk()),2&s){const r=d.oxw();d.xp6(1),d.Q6J("ngTemplateOutlet",r.customMenuRef)}}const $h=function(s,t){return{"NgxEditor--Disabled":s,"NgxEditor__MenuBar--Reverse":t}},Zh=(s=!0)=>new Vn({key:new yr("editable"),state:{init:()=>s,apply:(t,r)=>t.getMeta("UPDATE_EDITABLE")??r},props:{editable(t){return this.getState(t)},attributes(t){return this.getState(t)?null:{class:"NgxEditor__Content--Disabled"}}}}),Mi=s=>new Vn({key:new yr("placeholder"),state:{init:()=>s??"",apply:(t,r)=>t.getMeta("UPDATE_PLACEHOLDER")??r},props:{decorations(t){const{doc:r}=t,{textContent:i,childCount:l}=r,c=this.getState(t);if(!c||l>1)return tr.empty;const h=[];return r.descendants((_,I)=>{if(_.type.isBlock&&0===_.childCount&&0===i.length){const q=ao.node(I,I+_.nodeSize,{class:"NgxEditor__Placeholder","data-placeholder":c,"data-align":_.attrs.align??null});h.push(q)}return!1}),tr.create(r,h)}}});let Od=(()=>{class s{constructor(){this.alt="",this.title="",this.outerWidth="",this.selected=!1,this.imageResize=new d.vpe}startResizing(r,i){r.preventDefault(),this.resizeImage(r,i)}resizeImage(r,i){const l=r.pageX,c=this.imgEl.nativeElement.clientWidth,h="left"===i,{width:g}=window.getComputedStyle(this.view.dom),_=parseInt(g,10),I=U=>{const Q=U.pageX-l,ce=h?c-Q:c+Q;ce>_||ce<20||(this.outerWidth=`${ce}px`)},P=U=>{U.preventDefault(),document.removeEventListener("mousemove",I),document.removeEventListener("mouseup",P),this.imageResize.emit()};document.addEventListener("mousemove",I),document.addEventListener("mouseup",P)}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275cmp=d.Xpm({type:s,selectors:[["ngx-image-view"]],viewQuery:function(r,i){if(1&r&&d.Gf(Ah,7),2&r){let l;d.iGM(l=d.CRH())&&(i.imgEl=l.first)}},inputs:{src:"src",alt:"alt",title:"title",outerWidth:"outerWidth",selected:"selected",view:"view"},outputs:{imageResize:"imageResize"},decls:4,vars:9,consts:[[1,"NgxEditor__ImageWrapper",3,"ngClass"],["class","NgxEditor__ResizeHandle",4,"ngIf"],[3,"src","alt","title"],["imgEl",""],[1,"NgxEditor__ResizeHandle"],[1,"NgxEditor__ResizeHandle--TL",3,"mousedown"],[1,"NgxEditor__ResizeHandle--TR",3,"mousedown"],[1,"NgxEditor__ResizeHandle--BL",3,"mousedown"],[1,"NgxEditor__ResizeHandle--BR",3,"mousedown"]],template:function(r,i){1&r&&(d.TgZ(0,"span",0),d.YNc(1,Oh,5,0,"span",1),d._UZ(2,"img",2,3),d.qZA()),2&r&&(d.Udp("width",i.outerWidth),d.Q6J("ngClass",d.VKq(7,bd,i.selected)),d.xp6(1),d.Q6J("ngIf",i.selected),d.xp6(1),d.Q6J("src",i.src,d.LSH)("alt",i.alt)("title",i.title))},dependencies:[xn.mk,xn.O5],styles:["*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{box-sizing:border-box}img[_ngcontent-%COMP%]{width:100%;height:100%}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]{position:relative;display:inline-block;line-height:0;padding:2px}.NgxEditor__ImageWrapper.NgxEditor__Resizer--Active[_ngcontent-%COMP%]{padding:1px;border:1px solid #1a73e8}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]{position:absolute;height:100%;width:100%}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--TL[_ngcontent-%COMP%], .NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--BL[_ngcontent-%COMP%], .NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--TR[_ngcontent-%COMP%], .NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--BR[_ngcontent-%COMP%]{position:absolute;width:7px;height:7px;background-color:#1a73e8;border:1px solid white}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--BR[_ngcontent-%COMP%]{bottom:-5px;right:-5px;cursor:se-resize}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--TR[_ngcontent-%COMP%]{top:-5px;right:-5px;cursor:ne-resize}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--TL[_ngcontent-%COMP%]{top:-5px;left:-5px;cursor:nw-resize}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--BL[_ngcontent-%COMP%]{bottom:-5px;left:-5px;cursor:sw-resize}"]}),s})();class om{constructor(t,r,i,l){this.updating=!1,this.handleResize=()=>{if(this.updating)return;const{state:c,dispatch:h}=this.view,{tr:g}=c,_=g.setNodeMarkup(this.getPos(),void 0,{...this.node.attrs,width:this.imageComponentRef.instance.outerWidth}),I=_.doc.resolve(this.getPos()),P=new It(I);_.setSelection(P),h(_)},this.applicationRef=l.get(d.z2F),this.imageComponentRef=(0,d.LMc)(Od,{environmentInjector:this.applicationRef.injector}),this.applicationRef.attachView(this.imageComponentRef.hostView),this.setNodeAttributes(t.attrs),this.imageComponentRef.instance.view=r,this.dom=this.imageComponentRef.location.nativeElement,this.view=r,this.node=t,this.getPos=i,this.resizeSubscription=this.imageComponentRef.instance.imageResize.subscribe(()=>{this.handleResize()})}computeChanges(t,r){return JSON.stringify(t)===JSON.stringify(r)}setNodeAttributes(t){this.imageComponentRef.instance.src=t.src,this.imageComponentRef.instance.alt=t.alt,this.imageComponentRef.instance.title=t.title,this.imageComponentRef.instance.outerWidth=t.width}update(t){return t.type===this.node.type&&(this.node=t,this.computeChanges(this.node.attrs,t.attrs)&&(this.updating=!0,this.setNodeAttributes(t.attrs),this.updating=!1),!0)}ignoreMutation(){return!0}selectNode(){this.imageComponentRef.instance.selected=!0}deselectNode(){this.imageComponentRef.instance.selected=!1}destroy(){this.resizeSubscription.unsubscribe(),this.applicationRef.detachView(this.imageComponentRef.hostView)}}const sm=/(?:https?:\/\/)?[\w-]+(?:\.[\w-]+)+\.?(?:\d+)?(?:\/\S*)?$/,Ol=s=>{const t=[];return s.forEach(r=>{if(r.isText){const i=r.text;let l=0;const c=sm.exec(i);if(c){const h=c.index,g=h+c[0].length,{link:_}=r.type.schema.marks;h>0&&t.push(r.cut(l,h));const I=i.slice(h,g);t.push(r.cut(h,g).mark(_.create({href:I}).addToSet(r.marks))),l=g}l<i.length&&t.push(r.cut(l))}else t.push(r.copy(Ol(r.content)))}),ee.fromArray(t)},Yh=s=>"string"==typeof s,Wu=s=>window.trustedTypes?.isHTML(s)??!1,Nd=s=>Yh(s)||Wu(s),Pd={type:"doc",content:[{type:"paragraph"}]},ea=(s,t)=>{if(!s)return t.nodeFromJSON(Pd);if(!Nd(s))return t.nodeFromJSON(s);const r=((s,t)=>{const r=t??wu,i=document.createElement("div");return i.innerHTML=s,kt.fromSchema(r).parse(i).toJSON()})(s,t);return t.nodeFromJSON(r)};let Nl=(()=>{class s{constructor(r,i,l){this.renderer=r,this.injector=i,this.elementRef=l,this.placeholder="Type Here...",this.focusOut=new d.vpe,this.focusIn=new d.vpe,this.unsubscribe=new re.x,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(r){!this.outputFormat&&Nd(r)&&(this.outputFormat="html"),this.editor.setContent(r??Pd)}registerOnChange(r){this.onChange=r}registerOnTouched(r){this.onTouched=r}setDisabledState(r){this.setMeta("UPDATE_EDITABLE",!r),this.renderer.setProperty(this.elementRef.nativeElement,"disabled",r)}handleChange(r){if("html"!==this.outputFormat)this.onChange(r);else{const i=((s,t)=>{const r=this.editor.schema??wu,i=r.nodeFromJSON(s),l=Kt.fromSchema(r).serializeFragment(i.content),c=document.createElement("div");return c.appendChild(l),c.innerHTML})(r);this.onChange(i)}}setMeta(r,i){const{dispatch:l,state:{tr:c}}=this.editor.view;l(c.setMeta(r,i))}setPlaceholder(r){this.setMeta("UPDATE_PLACEHOLDER",r)}registerPlugins(){this.editor.registerPlugin(Zh()),this.editor.registerPlugin(Mi(this.placeholder)),this.editor.registerPlugin(((s={})=>new Vn({key:new yr("attributes"),props:{attributes:s}}))({class:"NgxEditor__Content"})),this.editor.registerPlugin((s=>new Vn({key:new yr("focus"),props:{handleDOMEvents:{focus:()=>(s(),!1)}}}))(()=>{this.focusIn.emit()})),this.editor.registerPlugin((s=>new Vn({key:new yr("blur"),props:{handleDOMEvents:{blur:()=>(s(),!1)}}}))(()=>{this.focusOut.emit(),this.onTouched()})),this.editor.features.resizeImage&&this.editor.registerPlugin((s=>new Vn({key:new yr("image-resize"),props:{nodeViews:{image:(t,r,i)=>new om(t,r,i,s)}}}))(this.injector)),this.editor.features.linkOnPaste&&this.editor.registerPlugin(new Vn({key:new yr("linkify"),props:{transformPasted:s=>new ie(Ol(s.content),s.openStart,s.openEnd)}}))}ngOnInit(){if(!this.editor)throw new fe("Required editor instance for initializing editor component");this.registerPlugins(),this.renderer.appendChild(this.ngxEditor.nativeElement,this.editor.view.dom),this.editor.valueChanges.pipe((0,le.R)(this.unsubscribe)).subscribe(r=>{this.handleChange(r)})}ngOnChanges(r){r.placeholder&&!r.placeholder.isFirstChange()&&this.setPlaceholder(r.placeholder.currentValue)}ngOnDestroy(){this.unsubscribe.next(),this.unsubscribe.complete()}}return s.\u0275fac=function(r){return new(r||s)(d.Y36(d.Qsj),d.Y36(d.zs3),d.Y36(d.SBq))},s.\u0275cmp=d.Xpm({type:s,selectors:[["ngx-editor"]],viewQuery:function(r,i){if(1&r&&d.Gf(wd,7),2&r){let l;d.iGM(l=d.CRH())&&(i.ngxEditor=l.first)}},inputs:{editor:"editor",outputFormat:"outputFormat",placeholder:"placeholder"},outputs:{focusOut:"focusOut",focusIn:"focusIn"},features:[d._Bn([{provide:$.JU,useExisting:(0,d.Gpc)(()=>s),multi:!0}]),d.TTD],ngContentSelectors:Il,decls:3,vars:0,consts:[[1,"NgxEditor"],["ngxEditor",""]],template:function(r,i){1&r&&(d.F$t(),d.TgZ(0,"div",0,1),d.Hsn(2),d.qZA())},styles:['.NgxEditor{background:white;color:#000;background-clip:padding-box;border-radius:4px;border:1px solid rgba(0,0,0,.2);position:relative}.NgxEditor--Disabled{opacity:.5;pointer-events:none}.NgxEditor__Placeholder:before{color:#6c757d;opacity:1;-webkit-user-select:none;user-select:none;position:absolute;cursor:text;content:attr(data-placeholder)}.NgxEditor__Placeholder[data-align=right]:before{position:relative}.NgxEditor__Content{padding:8px;white-space:pre-wrap;outline:none;font-variant-ligatures:none;font-feature-settings:"liga" 0}.NgxEditor__Content p{margin:0 0 10px}.NgxEditor__Content blockquote{padding-left:16px;border-left:3px solid #ddd;margin-left:0;margin-right:0}.NgxEditor__Content--Disabled{-webkit-user-select:none;user-select:none;pointer-events:none}.NgxEditor__Wrapper{border:1px solid rgba(0,0,0,.4);border-radius:4px}.NgxEditor__Wrapper .NgxEditor__MenuBar{border-top-left-radius:4px;border-top-right-radius:4px;border-bottom:1px solid rgba(0,0,0,.2)}.NgxEditor__Wrapper .NgxEditor{border-top-left-radius:0;border-top-right-radius:0;border:none}.NgxEditor__MenuBar{display:flex;flex-wrap:wrap;padding:3px;cursor:default;background-color:#fff}.NgxEditor__MenuItem{border-radius:2px;display:flex;align-items:center;justify-content:center;position:relative;flex-shrink:0}.NgxEditor__MenuItem:hover{background-color:#f1f1f1}.NgxEditor__MenuItem.NgxEditor__MenuItem--Icon{height:30px;width:30px;transition:.3s ease-in-out}.NgxEditor__MenuItem.NgxEditor__MenuItem--Icon+.NgxEditor__MenuItem--Icon{margin-left:2px}.NgxEditor__MenuItem .NgxEditor__MenuItem--IconContainer{display:flex;height:100%;width:100%;align-items:center;justify-content:center}.NgxEditor__MenuItem.NgxEditor__MenuItem--Text{padding:0 5px}.NgxEditor__MenuItem.NgxEditor__MenuItem--Active,.NgxEditor__MenuItem .NgxEditor__MenuItem--Active{background-color:#e8f0fe;color:#1a73e8}.NgxEditor__Dropdown{min-width:64px;position:relative;display:flex;align-items:center;flex-shrink:0}.NgxEditor__Dropdown:hover{background-color:#f1f1f1}.NgxEditor__Dropdown .NgxEditor__Dropdown--Text{display:flex;align-items:center;justify-content:center;padding:0 5px;height:100%;width:100%}.NgxEditor__Dropdown .NgxEditor__Dropdown--Text:after{display:inline-block;content:"";margin-left:24px;vertical-align:4px;border-top:4px solid;border-right:4px solid transparent;border-bottom:0;border-left:4px solid transparent}.NgxEditor__Dropdown .NgxEditor__Dropdown--DropdownMenu{position:absolute;left:0;box-shadow:#3c404326 0 2px 6px 2px;border-radius:4px;background-color:#fff;z-index:10;width:100%;top:32px}.NgxEditor__Dropdown .NgxEditor__Dropdown--Item{padding:8px;white-space:nowrap;color:inherit}.NgxEditor__Dropdown .NgxEditor__Dropdown--Item:hover{background-color:#ececec}.NgxEditor__Dropdown .NgxEditor__Dropdown--Selected,.NgxEditor__Dropdown .NgxEditor__Dropdown--Open{color:#1a73e8;background-color:#e8f0fe}.NgxEditor__Dropdown .NgxEditor__Dropdown--Active{background-color:#f1f1f1}.NgxEditor__Dropdown .NgxEditor__Dropdown--Active:hover{background-color:#e7e7e7}.NgxEditor__MenuBar--Reverse .NgxEditor__Dropdown--DropdownMenu{top:unset;bottom:32px}.NgxEditor__MenuBar--Reverse .NgxEditor__Dropdown--Text:after{transform:rotate(180deg)}.NgxEditor__MenuBar--Reverse .NgxEditor__Popup{top:unset;bottom:32px}.NgxEditor__Popup{position:absolute;top:32px;box-shadow:#3c404326 0 2px 6px 2px;border-radius:4px;background-color:#fff;z-index:10;min-width:192px;padding:8px}.NgxEditor__Popup .NgxEditor__Popup--FormGroup{margin-bottom:8px}.NgxEditor__Popup .NgxEditor__Popup--FormGroup label{margin-bottom:3px}.NgxEditor__Popup .NgxEditor__Popup--FormGroup input[type=text],.NgxEditor__Popup .NgxEditor__Popup--FormGroup input[type=url]{padding:2px 4px}.NgxEditor__Popup .NgxEditor__Popup--Col{display:flex;flex-direction:column;position:relative}.NgxEditor__Popup .NgxEditor__Popup--Label{font-size:85%}.NgxEditor__Seperator{border-left:1px solid #ccc;margin:0 5px}.NgxEditor__HelpText{font-size:80%}.NgxEditor__HelpText.NgxEditor__HelpText--Error{color:red}\n'],encapsulation:2}),s})(),Si=(()=>{class s{constructor(){this.customMenuRefChange=new re.x}setCustomMenuRef(r){this.customMenuRefChange.next(r)}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275prov=d.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();class zi{constructor(t){this.name=t}apply(){return(t,r)=>{const{schema:i}=t,l=i.marks[this.name];return!!l&&Ru(l)(t,r)}}toggle(){return(t,r)=>{const{schema:i}=t,l=i.marks[this.name];return!!l&&Gs(l)(t,r)}}isActive(t){const{schema:r}=t,i=r.marks[this.name];return!!i&&Nu(t,i)}canExecute(t){return this.toggle()(t)}}class La{constructor(t=!1){this.isBulletList=!1,this.isBulletList=t}getType(t){return this.isBulletList?t.nodes.bullet_list:t.nodes.ordered_list}toggle(){return(t,r)=>{const{schema:i}=t,l=this.getType(i);return!!l&&(this.isActive(t)?Du(i.nodes.list_item)(t,r):function _u(s,t=null){return function(r,i){let{$from:l,$to:c}=r.selection,h=l.blockRange(c),g=!1,_=h;if(!h)return!1;if(h.depth>=2&&l.node(h.depth-1).type.compatibleContent(s)&&0==h.startIndex){if(0==l.index(h.depth-1))return!1;let P=r.doc.resolve(h.start-2);_=new oe(P,P,h.depth),h.endIndex<h.parent.childCount&&(h=new oe(l,r.doc.resolve(c.end(h.depth)),h.depth)),g=!0}let I=Zn(_,s,t,h);return!!I&&(i&&i(function js(s,t,r,i,l){let c=ee.empty;for(let P=r.length-1;P>=0;P--)c=ee.from(r[P].type.create(r[P].attrs,c));s.step(new ln(t.start-(i?2:0),t.end,t.start,t.end,new ie(c,0,0),r.length,!0));let h=0;for(let P=0;P<r.length;P++)r[P].type==l&&(h=P+1);let g=r.length-h,_=t.start+r.length-(i?2:0),I=t.parent;for(let P=t.startIndex,U=t.endIndex,q=!0;P<U;P++,q=!1)!q&&eo(s.doc,_,g)&&(s.split(_,g),_+=2*g),_+=I.child(P).nodeSize;return s}(r.tr,h,I,g,s).scrollIntoView()),!0)}}(l)(t,r))}}isActive(t){const{schema:r}=t,i=this.getType(r);return!!i&&bl(t,i)}canExecute(t){return this.toggle()(t)}}class ms{constructor(t){this.level=t}apply(){return(t,r)=>{const{schema:i}=t,l=i.nodes.heading;return!!l&&Uo(l)(t,r)}}toggle(){return(t,r)=>{const{schema:i,selection:l,doc:c}=t,h=i.nodes.heading;if(!h)return!1;const g=l.$from.before(1),I=c.nodeAt(g)?.attrs??{};return this.isActive(t)?Uo(i.nodes.paragraph,I)(t,r):Uo(h,{...I,level:this.level})(t,r)}}isActive(t){const{schema:r}=t,i=Ws(t),l=r.nodes.heading;if(!l)return!1;const c=[l,r.nodes.text,r.nodes.blockquote];return!!i.filter(_=>c.includes(_.type)).find(_=>_.attrs.level===this.level)}canExecute(t){return this.toggle()(t)}}class ys{constructor(t){this.align=t}toggle(){return(t,r)=>{const{doc:i,selection:l,tr:c,schema:h}=t,{from:g,to:_}=l;let I=!1;return i.nodesBetween(g,_,(P,U)=>{const q=P.type;return[h.nodes.paragraph,h.nodes.heading].includes(q)&&(I=!0,c.setNodeMarkup(U,q,{...P.attrs,align:this.align})),!0}),!!I&&(c.docChanged&&r?.(c),!0)}}isActive(t){return!!Ws(t).find(l=>l.attrs.align===this.align)}canExecute(t){return this.toggle()(t)}}const Rd={strict:!0};let Ku=class{update(t){return(r,i)=>{const{schema:l,selection:c}=r,h=l.marks.link;return!(!h||c.empty)&&Gs(h,t)(r,i)}}insert(t,r){return(i,l)=>{const{schema:c,tr:h}=i;if(!c.marks.link)return!1;const I=c.text(t,[c.marks.link.create({href:r.href,title:r.title??t,target:r.target??"_blank"})]);return h.replaceSelectionWith(I,!1).scrollIntoView(),!!h.docChanged&&(l?.(h),!0)}}isActive(t,r=Rd){if(r.strict)return!0;const{schema:i}=t,l=i.marks.link;return!!l&&Nu(t,l)}remove(t,r){return((s,t)=>{const{doc:r,selection:i,tr:l}=s,{$head:{pos:c},from:h,to:g}=i;if(h===g){const _=r.resolve(c),I=c-_.textOffset,P=I+_.parent.child(_.index()).nodeSize;l.removeMark(I,P)}else l.removeMark(h,g);return!!l.docChanged&&(t?.(l),!0)})(t,r)}canExecute(t){const r={href:""};return this.insert("Exec",r)(t)||this.update(r)(t)}},kd=class{insert(t,r){return(i,l)=>{const{schema:c,tr:h,selection:g}=i,_=c.nodes.image;if(!_)return!1;const I={width:null,src:t,...r};!I.width&&g instanceof It&&g.node.type===_&&(I.width=g.node.attrs.width),h.replaceSelectionWith(_.createAndFill(I));const P=h.doc.resolve(h.selection.anchor-h.selection.$anchor.nodeBefore.nodeSize);return h.setSelection(new It(P)).scrollIntoView(),!!h.docChanged&&(l?.(h),!0)}}isActive(t){const{selection:r}=t;return r instanceof It&&"image"===r.node.type.name}},ta=class{constructor(t,r="color"){this.name=t,this.attrName=r}apply(t){return(r,i)=>{const{schema:l,selection:c,doc:h}=r,g=l.marks[this.name];if(!g)return!1;const{from:_,to:I,empty:P}=c;if(!P&&_+1===I){const U=h.nodeAt(_);if(U?.isAtom&&!U.isText&&U.isLeaf)return!1}return Ru(g,t)(r,i)}}isActive(t){const{schema:r}=t,i=r.marks[this.name];return!!i&&Nu(t,i)}getActiveColors(t){if(!this.isActive(t))return[];const{schema:r}=t;return(s=>{let t=[];const{selection:r,storedMarks:i}=s,{from:l,to:c,empty:h,$from:g}=r;return h?t=i||g.marks():s.doc.nodesBetween(l,c,_=>{t=[...t,..._.marks]}),t})(t).filter(c=>c.type===r.marks[this.name]).map(c=>c.attrs[this.attrName]).filter(Boolean)}remove(){return(t,r)=>{const{schema:i}=t,l=i.marks[this.name];return!!l&&(s=l,(t,r)=>{const{tr:i,selection:l,storedMarks:c,doc:h}=t,{empty:g,ranges:_}=l;if(g&&l instanceof lt){const{$cursor:I}=l;if(!I||!hd(t.doc,_,s))return!1;if(s.isInSet(c||I.marks()))return i.removeStoredMark(s),r?.(i),!0}else{for(const I of _){const{$from:P,$to:U}=I;h.rangeHasMark(P.pos,U.pos,s)&&i.removeMark(P.pos,U.pos,s)}if(!i.docChanged)return!1;r?.(i.scrollIntoView())}return!1})(t,r);var s}}canExecute(t){return this.apply("text_color"===this.name?{color:""}:{backgroundColor:""})(t)}};const Xh=["link"],lm=new zi("strong"),um=new zi("em"),Va=new zi("code"),Dn=new zi("u"),Ba=new zi("s"),Ld=new class Qh{toggle(){return(t,r)=>{const{schema:i}=t,l=i.nodes.blockquote;return!!l&&(this.isActive(t)?((s,t)=>{let{$from:r,$to:i}=s.selection,l=r.blockRange(i),c=l&&Bt(l);return null!=c&&(t&&t(s.tr.lift(l,c).scrollIntoView()),!0)})(t,r):function Dl(s,t=null){return function(r,i){let{$from:l,$to:c}=r.selection,h=l.blockRange(c),g=h&&Zn(h,s,t);return!!g&&(i&&i(r.tr.wrap(h,g).scrollIntoView()),!0)}}(l)(t,r))}}isActive(t){const{schema:r}=t,i=r.nodes.blockquote;return!!i&&bl(t,i)}canExecute(t){return this.toggle()(t)}},Vd=new class ir{insert(){return(t,r)=>{const{schema:i,tr:l}=t,c=i.nodes.horizontal_rule;return!!c&&(r(l.replaceSelectionWith(c.create()).scrollIntoView()),!0)}}canExecute(t){return((s,t)=>{const{$from:r}=s.selection;for(let i=r.depth;i>=0;i-=1){const l=r.index(i);if(r.node(i).canReplaceWith(l,l,t))return!0}return!1})(t,t.schema.nodes.horizontal_rule)}},Bd=new class Fd{insert(){return(t,r)=>{const{tr:i}=t,{ranges:l,empty:c}=i.selection;return c||(Object.entries(t.schema.marks).forEach(([h,g])=>{Xh.includes(h)||l.forEach(_=>{i.removeMark(_.$from.pos,_.$to.pos,g)})}),r(i)),!0}}canExecute(){return!0}},Zu=new La(!0),ep=new La(!1),Hd=new ms(1),Ud=new ms(2),Yu=new ms(3),cm=new ms(4),Ju=new ms(5),tp=new ms(6),qu=new ys("left"),jd=new ys("center"),zd=new ys("right"),vs=new ys("justify"),np=new Ku,Qu=new kd,Pl=new ta("text_color","color"),rp=new ta("text_background_color","backgroundColor"),na={bold:lm,italic:um,code:Va,underline:Dn,strike:Ba,blockquote:Ld,bullet_list:Zu,ordered_list:ep,h1:Hd,h2:Ud,h3:Yu,h4:cm,h5:Ju,h6:tp,align_left:qu,align_center:jd,align_right:zd,align_justify:vs},Ha={horizontal_rule:Vd,format_clear:Bd},qo=np,Rl=Qu,Xu=Pl,op=rp,ec={bold:"Bold",italic:"Italic",code:"Code",underline:"Underline",strike:"Strike",blockquote:"Blockquote",bullet_list:"Bullet List",ordered_list:"Ordered List",heading:"Heading",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6",align_left:"Left Align",align_center:"Center Align",align_right:"Right Align",align_justify:"Justify",text_color:"Text Color",background_color:"Background Color",horizontal_rule:"Horizontal rule",format_clear:"Clear Formatting",insertLink:"Insert Link",removeLink:"Remove Link",insertImage:"Insert Image",url:"URL",text:"Text",openInNewTab:"Open in new tab",insert:"Insert",altText:"Alt Text",title:"Title",remove:"Remove"};class $d{constructor(t={}){this.locals=ec,this.get=r=>{const i=this.locals[r];return i?(0,K.b)(i)?i:(0,R.of)(i):(0,R.of)("")},this.locals={...ec,...t}}}const oa={bold:'\n  <path d="M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42zM10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3v-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5z" />\n',italic:'\n  <path d="M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4z" />\n',code:'\n<path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"/>\n',underline:'\n<path d="M12 17c3.31 0 6-2.69 6-6V3h-2.5v8c0 1.93-1.57 3.5-3.5 3.5S8.5 12.93 8.5 11V3H6v8c0 3.31 2.69 6 6 6zm-7 2v2h14v-2H5z"/>\n',strike:'\n<path d="M6.85,7.08C6.85,4.37,9.45,3,12.24,3c1.64,0,3,0.49,3.9,1.28c0.77,0.65,1.46,1.73,1.46,3.24h-3.01 c0-0.31-0.05-0.59-0.15-0.85c-0.29-0.86-1.2-1.28-2.25-1.28c-1.86,0-2.34,1.02-2.34,1.7c0,0.48,0.25,0.88,0.74,1.21 C10.97,8.55,11.36,8.78,12,9H7.39C7.18,8.66,6.85,8.11,6.85,7.08z M21,12v-2H3v2h9.62c1.15,0.45,1.96,0.75,1.96,1.97 c0,1-0.81,1.67-2.28,1.67c-1.54,0-2.93-0.54-2.93-2.51H6.4c0,0.55,0.08,1.13,0.24,1.58c0.81,2.29,3.29,3.3,5.67,3.3 c2.27,0,5.3-0.89,5.3-4.05c0-0.3-0.01-1.16-0.48-1.94H21V12z"/>\n',ordered_list:'\n<path d="M2 17h2v.5H3v1h1v.5H2v1h3v-4H2v1zm1-9h1V4H2v1h1v3zm-1 3h1.8L2 13.1v.9h3v-1H3.2L5 10.9V10H2v1zm5-6v2h14V5H7zm0 14h14v-2H7v2zm0-6h14v-2H7v2z"/>\n',bullet_list:'\n<path d="M4 10.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-6c-.83 0-1.5.67-1.5 1.5S3.17 7.5 4 7.5 5.5 6.83 5.5 6 4.83 4.5 4 4.5zm0 12c-.83 0-1.5.68-1.5 1.5s.68 1.5 1.5 1.5 1.5-.68 1.5-1.5-.67-1.5-1.5-1.5zM7 19h14v-2H7v2zm0-6h14v-2H7v2zm0-8v2h14V5H7z"/>\n',blockquote:'\n<path d="M0 0h24v24H0z" fill="none"/><path d="M6 17h3l2-4V7H5v6h3zm8 0h3l2-4V7h-6v6h3z"/>\n',link:'\n<path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>\n',unlink:'\n<path d="M17 7h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1 0 1.43-.98 2.63-2.31 2.98l1.46 1.46C20.88 15.61 22 13.95 22 12c0-2.76-2.24-5-5-5zm-1 4h-2.19l2 2H16zM2 4.27l3.11 3.11C3.29 8.12 2 9.91 2 12c0 2.76 2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1 0-1.59 1.21-2.9 2.76-3.07L8.73 11H8v2h2.73L13 15.27V17h1.73l4.01 4L20 19.74 3.27 3 2 4.27z"/>\n',image:'\n<path d="M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"/>\n',align_left:'\n<path d="M15 15H3v2h12v-2zm0-8H3v2h12V7zM3 13h18v-2H3v2zm0 8h18v-2H3v2zM3 3v2h18V3H3z"/>\n',align_center:'\n<path d="M7 15v2h10v-2H7zm-4 6h18v-2H3v2zm0-8h18v-2H3v2zm4-6v2h10V7H7zM3 3v2h18V3H3z"/>\n',align_right:'\n<path d="M3 21h18v-2H3v2zm6-4h12v-2H9v2zm-6-4h18v-2H3v2zm6-4h12V7H9v2zM3 3v2h18V3H3z"/>\n',align_justify:'\n<path d="M3 21h18v-2H3v2zm0-4h18v-2H3v2zm0-4h18v-2H3v2zm0-4h18V7H3v2zm0-6v2h18V3H3z"/>\n',text_color:'\n<path d="M2,20h20v4H2V20z M5.49,17h2.42l1.27-3.58h5.65L16.09,17h2.42L13.25,3h-2.5L5.49,17z M9.91,11.39l2.03-5.79h0.12l2.03,5.79 H9.91z"/>\n',color_fill:'\n<path d="M16.56,8.94L7.62,0L6.21,1.41l2.38,2.38L3.44,8.94c-0.59,0.59-0.59,1.54,0,2.12l5.5,5.5C9.23,16.85,9.62,17,10,17 s0.77-0.15,1.06-0.44l5.5-5.5C17.15,10.48,17.15,9.53,16.56,8.94z M5.21,10L10,5.21L14.79,10H5.21z M19,11.5c0,0-2,2.17-2,3.5 c0,1.1,0.9,2,2,2s2-0.9,2-2C21,13.67,19,11.5,19,11.5z M2,20h20v4H2V20z"/>\n',horizontal_rule:'\n  <g>\n    <rect fill="none" fill-rule="evenodd" height="24" width="24"/>\n    <rect fill-rule="evenodd" height="2" width="16" x="4" y="11"/>\n  </g>\n',format_clear:'\n<path d="M0 0h24v24H0z" fill="none"/><path d="M3.27 5L2 6.27l6.97 6.97L6.5 19h3l1.57-3.66L16.73 21 18 19.73 3.55 5.27 3.27 5zM6 5v.18L8.82 8h2.4l-.72 1.68 2.1 2.1L14.21 8H20V5H6z"/>\n',path:"<path></path>"};class Fl{static get(t,r="currentColor"){const i=oa[t];return i&&(i.includes("<path")||i.includes("<g"))?`\n        <svg\n          xmlns="http://www.w3.org/2000/svg"\n          viewBox="0 0 24 24"\n          fill=${r}\n          height=20\n          width=20\n        >\n          ${i}\n        </svg>\n      `:i}}let _s=(()=>{class s{constructor(){this.locals={},this.icons={}}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275prov=d.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),$i=(()=>{class s{constructor(r){this.config=r}get locals(){return new $d(this.config.locals)}getIcon(r){return this.config.icons[r]?this.config.icons[r]:Fl.get(r)}}return s.\u0275fac=function(r){return new(r||s)(d.LFG(_s,8))},s.\u0275prov=d.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Ll=s=>({locals:s.locals??{},icons:s.icons??{}});let xi=(()=>{class s{constructor(r){this.sanitizer=r}transform(r){return Wu(r)?r:this.sanitizer.bypassSecurityTrustHtml(r)}}return s.\u0275fac=function(r){return new(r||s)(d.Y36(wl.H7,16))},s.\u0275pipe=d.Yjl({name:"sanitizeHtml",type:s,pure:!0}),s})(),gm=(()=>{class s{get name(){return this.toolbarItem}constructor(r,i){this.ngxeService=r,this.menuService=i,this.isActive=!1,this.disabled=!1,this.update=l=>{const{state:c}=l,h=na[this.name];this.isActive=h.isActive(c),this.disabled=!h.canExecute(c)}}toggle(r){if(r.preventDefault(),0!==r.button)return;const{state:i,dispatch:l}=this.editorView;na[this.name].toggle()(i,l)}getTitle(r){return this.ngxeService.locals.get(r)}ngOnInit(){this.html=this.ngxeService.getIcon(this.name),this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe(r=>{this.update(r)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}}return s.\u0275fac=function(r){return new(r||s)(d.Y36($i),d.Y36(Si))},s.\u0275cmp=d.Xpm({type:s,selectors:[["ngx-toggle-command"]],inputs:{toolbarItem:"toolbarItem"},decls:3,vars:10,consts:[[1,"NgxEditor__MenuItem--IconContainer",3,"innerHTML","title","mousedown"]],template:function(r,i){1&r&&(d.TgZ(0,"div",0),d.NdJ("mousedown",function(c){return i.toggle(c)}),d.ALo(1,"sanitizeHtml"),d.ALo(2,"async"),d.qZA()),2&r&&(d.ekj("NgxEditor__MenuItem--Active",i.isActive)("NgxEditor--Disabled",i.disabled),d.Q6J("innerHTML",d.lcZ(1,6,i.html),d.oJD)("title",d.lcZ(2,8,i.getTitle(i.name))))},dependencies:[xn.Ov,xi]}),s})(),ac=(()=>{class s{get name(){return this.toolbarItem}constructor(r,i){this.ngxeService=r,this.menuService=i,this.disabled=!1,this.update=l=>{const{state:c}=l;this.disabled=!Ha[this.name].canExecute(c)}}insert(r){if(r.preventDefault(),0!==r.button)return;const{state:i,dispatch:l}=this.editorView;Ha[this.name].insert()(i,l)}getTitle(r){return this.ngxeService.locals.get(r)}ngOnInit(){this.html=this.ngxeService.getIcon(this.name),this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe(r=>{this.update(r)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}}return s.\u0275fac=function(r){return new(r||s)(d.Y36($i),d.Y36(Si))},s.\u0275cmp=d.Xpm({type:s,selectors:[["ngx-insert-command"]],inputs:{toolbarItem:"toolbarItem"},decls:3,vars:8,consts:[[1,"NgxEditor__MenuItem--IconContainer",3,"innerHTML","title","mousedown"]],template:function(r,i){1&r&&(d.TgZ(0,"div",0),d.NdJ("mousedown",function(c){return i.insert(c)}),d.ALo(1,"sanitizeHtml"),d.ALo(2,"async"),d.qZA()),2&r&&(d.ekj("NgxEditor--Disabled",i.disabled),d.Q6J("innerHTML",d.lcZ(1,4,i.html),d.oJD)("title",d.lcZ(2,6,i.getTitle(i.name))))},dependencies:[xn.Ov,xi]}),s})(),lc=(()=>{class s{constructor(r,i,l){this.el=r,this.ngxeService=i,this.menuService=l,this.showPopup=!1,this.isActive=!1,this.canExecute=!0,this.setText=()=>{const{state:{selection:c,doc:h}}=this.editorView,{empty:g,from:_,to:I}=c,P=g?"":h.textBetween(_,I);P&&(this.text.patchValue(P),this.text.disable())},this.update=c=>{const{state:h}=c;this.isActive=qo.isActive(h,{strict:!1}),this.canExecute=qo.canExecute(h)}}get icon(){return this.ngxeService.getIcon(this.isActive?"unlink":"link")}get title(){return this.ngxeService.locals.get(this.isActive?"removeLink":"insertLink")}get href(){return this.form.get("href")}get text(){return this.form.get("text")}onDocumentClick(r){!this.el.nativeElement.contains(r.target)&&this.showPopup&&this.hideForm()}getLabel(r){return this.ngxeService.locals.get(r)}hideForm(){this.showPopup=!1,this.form.reset({href:"",text:"",openInNewTab:!0}),this.text.enable()}onMouseDown(r){if(0!==r.button)return;const{state:i,dispatch:l}=this.editorView;this.isActive?qo.remove(i,l):(this.showPopup=!this.showPopup,this.showPopup&&this.setText())}insertLink(r){r.preventDefault();const{text:i,href:l,openInNewTab:c}=this.form.getRawValue(),{dispatch:h,state:g}=this.editorView,{selection:_}=g,I={title:l,href:l,target:c?"_blank":"_self"};_.empty?(qo.insert(i,I)(g,h),this.editorView.focus()):qo.update(I)(g,h),this.hideForm()}ngOnInit(){this.editorView=this.menuService.editor.view,this.form=new $.cw({href:new $.NI("",[$.kI.required,$.kI.pattern(this.menuService.editor.linkValidationPattern)]),text:new $.NI("",[$.kI.required]),openInNewTab:new $.NI(!0)}),this.updateSubscription=this.menuService.editor.update.subscribe(r=>{this.update(r)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}}return s.\u0275fac=function(r){return new(r||s)(d.Y36(d.SBq),d.Y36($i),d.Y36(Si))},s.\u0275cmp=d.Xpm({type:s,selectors:[["ngx-link"]],hostBindings:function(r,i){1&r&&d.NdJ("mousedown",function(c){return i.onDocumentClick(c)},!1,d.evT)},decls:4,vars:11,consts:[[1,"NgxEditor__MenuItem--IconContainer",3,"innerHTML","title","mousedown"],["class","NgxEditor__Popup",4,"ngIf"],[1,"NgxEditor__Popup"],[1,"NgxEditor__Popup--Form",3,"formGroup","ngSubmit"],[1,"NgxEditor__Popup--FormGroup"],[1,"NgxEditor__Popup--Col"],[1,"NgxEditor__Popup--Label"],["type","href","id","href","formControlName","href","autofocus","","autocomplete","off"],["class","NgxEditor__HelpText NgxEditor__HelpText--Error",4,"ngIf"],["type","text","formControlName","text","autocomplete","off"],["type","checkbox","formControlName","openInNewTab"],["type","submit",3,"disabled"],[1,"NgxEditor__HelpText","NgxEditor__HelpText--Error"]],template:function(r,i){1&r&&(d.TgZ(0,"div",0),d.NdJ("mousedown",function(c){return i.onMouseDown(c)}),d.ALo(1,"sanitizeHtml"),d.ALo(2,"async"),d.qZA(),d.YNc(3,Nh,25,16,"div",1)),2&r&&(d.ekj("NgxEditor__MenuItem--Active",i.isActive||i.showPopup)("NgxEditor--Disabled",!i.canExecute),d.Q6J("innerHTML",d.lcZ(1,7,i.icon),d.oJD)("title",d.lcZ(2,9,i.title)),d.xp6(3),d.Q6J("ngIf",i.showPopup))},dependencies:[xn.O5,$._Y,$.Fj,$.Wl,$.JJ,$.JL,$.sg,$.u,xn.Ov,xi]}),s})(),Kd=(()=>{class s{constructor(r,i,l){this.ngxeService=r,this.menuService=i,this.el=l,this.isDropdownOpen=!1,this.disabledItems=[],this.update=c=>{const{state:h}=c;this.disabledItems=[];const g=[];this.items.forEach(_=>{const I=na[_];I.isActive(h)&&g.push(_),I.canExecute(h)||this.disabledItems.push(_)}),1===g.length?[this.activeItem]=g:this.activeItem=null}}get isSelected(){return!(!this.activeItem&&!this.isDropdownOpen)}get isDropdownDisabled(){return this.disabledItems.length===this.items.length}onDocumentClick(r){!this.el.nativeElement.contains(r)&&this.isDropdownOpen&&(this.isDropdownOpen=!1)}getName(r){return this.ngxeService.locals.get(r)}toggleDropdown(r){r.preventDefault(),this.isDropdownOpen=!this.isDropdownOpen}trackByIndex(r){return r}onClick(r,i){if(r.preventDefault(),0!==r.button)return;const l=na[i],{state:c,dispatch:h}=this.editorView;l.toggle()(c,h),this.isDropdownOpen=!1}ngOnInit(){this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe(r=>{this.update(r)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}}return s.\u0275fac=function(r){return new(r||s)(d.Y36($i),d.Y36(Si),d.Y36(d.SBq))},s.\u0275cmp=d.Xpm({type:s,selectors:[["ngx-dropdown"]],hostBindings:function(r,i){1&r&&d.NdJ("mousedown",function(c){return i.onDocumentClick(c.target)},!1,d.evT)},inputs:{group:"group",items:"items"},decls:4,vars:8,consts:[[1,"NgxEditor__Dropdown--Text",3,"mousedown"],["class","NgxEditor__Dropdown--DropdownMenu",4,"ngIf"],[1,"NgxEditor__Dropdown--DropdownMenu"],["class","NgxEditor__Dropdown--Item",3,"ngClass","mousedown",4,"ngFor","ngForOf","ngForTrackBy"],[1,"NgxEditor__Dropdown--Item",3,"ngClass","mousedown"]],template:function(r,i){1&r&&(d.TgZ(0,"div",0),d.NdJ("mousedown",function(c){return i.toggleDropdown(c)}),d._uU(1),d.ALo(2,"async"),d.qZA(),d.YNc(3,Rh,2,2,"div",1)),2&r&&(d.ekj("NgxEditor__Dropdown--Selected",i.isSelected)("NgxEditor--Disabled",i.isDropdownDisabled),d.xp6(1),d.hij(" ",d.lcZ(2,6,i.getName(i.activeItem||i.group)),"\n"),d.xp6(2),d.Q6J("ngIf",i.isDropdownOpen))},dependencies:[xn.mk,xn.sg,xn.O5,xn.Ov]}),s})(),fp=(()=>{class s{constructor(r,i,l){this.el=r,this.ngxeService=i,this.menuService=l,this.showPopup=!1,this.isActive=!1,this.form=new $.cw({src:new $.NI("",[$.kI.required,$.kI.pattern("(https?://)?([\\da-z.-]+)\\.([a-z.]{2,6})[/\\w .-]*/??([^#\n\r]*)?#?([^\n\r]*)")]),alt:new $.NI(""),title:new $.NI("")}),this.update=c=>{const{state:h}=c;this.isActive=Rl.isActive(h)}}get icon(){return this.ngxeService.getIcon("image")}get src(){return this.form.get("src")}onDocumentClick(r){!this.el.nativeElement.contains(r.target)&&this.showPopup&&this.hideForm()}getLabel(r){return this.ngxeService.locals.get(r)}hideForm(){this.showPopup=!1,this.form.reset({src:"",alt:"",title:""})}onMouseDown(r){0===r.button&&(this.showPopup=!this.showPopup,this.showPopup&&this.fillForm())}fillForm(){const{state:r}=this.editorView,{selection:i}=r;if(i instanceof It&&this.isActive){const{src:l,alt:c="",title:h=""}=i.node.attrs;this.form.setValue({src:l,alt:c,title:h})}}insertLink(r){r.preventDefault();const{src:i,alt:l,title:c}=this.form.getRawValue(),{dispatch:h,state:g}=this.editorView;Rl.insert(i,{alt:l,title:c})(g,h),this.editorView.focus(),this.hideForm()}ngOnInit(){this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe(r=>{this.update(r)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}}return s.\u0275fac=function(r){return new(r||s)(d.Y36(d.SBq),d.Y36($i),d.Y36(Si))},s.\u0275cmp=d.Xpm({type:s,selectors:[["ngx-image"]],hostBindings:function(r,i){1&r&&d.NdJ("mousedown",function(c){return i.onDocumentClick(c)},!1,d.evT)},decls:4,vars:9,consts:[[1,"NgxEditor__MenuItem--IconContainer",3,"innerHTML","title","mousedown"],["class","NgxEditor__Popup",4,"ngIf"],[1,"NgxEditor__Popup"],[1,"NgxEditor__Popup--Form",3,"formGroup","ngSubmit"],[1,"NgxEditor__Popup--FormGroup"],[1,"NgxEditor__Popup--Col"],[1,"NgxEditor__Popup--Label"],["type","href","id","href","formControlName","src","autofocus","","autocomplete","off"],["class","NgxEditor__HelpText NgxEditor__HelpText--Error",4,"ngIf"],["type","text","formControlName","alt","autocomplete","off"],["type","text","formControlName","title","autocomplete","off"],["type","submit",3,"disabled"],[1,"NgxEditor__HelpText","NgxEditor__HelpText--Error"]],template:function(r,i){1&r&&(d.TgZ(0,"div",0),d.NdJ("mousedown",function(c){return i.onMouseDown(c)}),d.ALo(1,"sanitizeHtml"),d.ALo(2,"async"),d.qZA(),d.YNc(3,kh,24,15,"div",1)),2&r&&(d.ekj("NgxEditor__MenuItem--Active",i.isActive||i.showPopup),d.Q6J("innerHTML",d.lcZ(1,5,i.icon),d.oJD)("title",d.lcZ(2,7,i.getLabel("insertImage"))),d.xp6(3),d.Q6J("ngIf",i.showPopup))},dependencies:[xn.O5,$._Y,$.Fj,$.JJ,$.JL,$.sg,$.u,xn.Ov,xi]}),s})(),hp=(()=>{class s{constructor(r,i,l){this.el=r,this.menuService=i,this.ngxeService=l,this.showPopup=!1,this.isActive=!1,this.activeColors=[],this.canExecute=!0,this.update=c=>{const{state:h}=c;this.canExecute=this.command.canExecute(h),this.isActive=this.command.isActive(h),this.activeColors=[],this.isActive&&(this.activeColors=this.command.getActiveColors(h))}}get title(){return this.getLabel("text_color"===this.type?"text_color":"background_color")}get icon(){return this.ngxeService.getIcon("text_color"===this.type?"text_color":"color_fill")}get command(){return"text_color"===this.type?Xu:op}getContrastYIQ(r){const i=r.replace("#","");return(299*parseInt(i.substring(0,2),16)+587*parseInt(i.substring(2,4),16)+114*parseInt(i.substring(4,6),16))/1e3>=128?"black":"white"}onDocumentClick(r){!this.el.nativeElement.contains(r.target)&&this.showPopup&&this.hidePopup()}hidePopup(){this.showPopup=!1}togglePopup(r){r.preventDefault(),0===r.button&&(this.showPopup=!this.showPopup)}remove(r){r.preventDefault();const{state:i,dispatch:l}=this.editorView;this.command.remove()(i,l),this.hidePopup()}trackByIndex(r){return r}onColorSelect(r,i){if(r.preventDefault(),0!==r.button)return;const{state:l,dispatch:c}=this.editorView;"text_color"===this.type?this.command.apply({color:i})(l,c):this.command.apply({backgroundColor:i})(l,c),this.editorView.hasFocus()||this.editorView.focus(),this.hidePopup()}getLabel(r){return this.ngxeService.locals.get(r)}ngOnInit(){this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe(r=>{this.update(r)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}}return s.\u0275fac=function(r){return new(r||s)(d.Y36(d.SBq),d.Y36(Si),d.Y36($i))},s.\u0275cmp=d.Xpm({type:s,selectors:[["ngx-color-picker"]],hostBindings:function(r,i){1&r&&d.NdJ("mousedown",function(c){return i.onDocumentClick(c)},!1,d.evT)},inputs:{presets:"presets",type:"type"},decls:4,vars:11,consts:[[1,"NgxEditor__MenuItem--IconContainer",3,"innerHTML","title","mousedown"],["class","NgxEditor__Popup",4,"ngIf"],[1,"NgxEditor__Popup"],["class","NgxEditor__ColorContainer",4,"ngFor","ngForOf","ngForTrackBy"],[1,"NgxEditor__MenuItem--Button",3,"disabled","mousedown"],[1,"NgxEditor__ColorContainer"],["class","NgxEditor__Color",3,"ngStyle","title","ngClass","mousedown",4,"ngFor","ngForOf","ngForTrackBy"],[1,"NgxEditor__Color",3,"ngStyle","title","ngClass","mousedown"]],template:function(r,i){1&r&&(d.TgZ(0,"div",0),d.NdJ("mousedown",function(c){return i.togglePopup(c)}),d.ALo(1,"sanitizeHtml"),d.ALo(2,"async"),d.qZA(),d.YNc(3,Sd,5,6,"div",1)),2&r&&(d.ekj("NgxEditor__MenuItem--Active",i.isActive||i.showPopup)("NgxEditor--Disabled",!i.canExecute),d.Q6J("innerHTML",d.lcZ(1,7,i.icon),d.oJD)("title",d.lcZ(2,9,i.title)),d.xp6(3),d.Q6J("ngIf",i.showPopup))},dependencies:[xn.mk,xn.sg,xn.O5,xn.PC,xn.Ov,xi],styles:['@charset "UTF-8";.NgxEditor__Popup[_ngcontent-%COMP%]{width:230px}.NgxEditor__ColorContainer[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.NgxEditor__ColorContainer[_ngcontent-%COMP%] + .NgxEditor__ColorContainer[_ngcontent-%COMP%]{margin-top:5px}.NgxEditor__Color[_ngcontent-%COMP%]{border:none;outline:none;border-radius:6px;width:24px;height:24px;flex-shrink:0}.NgxEditor__Color--Active[_ngcontent-%COMP%]:after{content:"\\2714";font-size:90%}.NgxEditor__MenuItem--Button[_ngcontent-%COMP%]{margin-top:5px}']}),s})();const Zd=[["bold","italic"],[{heading:["h1","h2","h3","h4","h5","h6"]}],["link","image"],["text_color","background_color"]],gp=["#b60205","#d93f0b","#fbca04","#0e8a16","#006b75","#1d76db","#0052cc","#5319e7","#e99695","#f9d0c4","#fef2c0","#c2e0c6","#bfdadc","#c5def5","#bfd4f2","#d4c5f9"];let ym=(()=>{class s{constructor(r){this.menuService=r,this.toolbar=Zd,this.colorPresets=gp,this.disabled=!1,this.customMenuRef=null,this.dropdownPlacement="bottom",this.toggleCommands=["bold","italic","underline","strike","code","blockquote","ordered_list","bullet_list","align_left","align_center","align_right","align_justify"],this.insertCommands=["horizontal_rule","format_clear"],this.iconContainerClass=["NgxEditor__MenuItem","NgxEditor__MenuItem--Icon"],this.dropdownContainerClass=["NgxEditor__Dropdown"],this.seperatorClass=["NgxEditor__Seperator"]}get presets(){const i=[];return this.colorPresets.forEach((l,c)=>{const h=Math.floor(c/8);i[h]||i.push([]),i[h].push(l)}),i}trackByIndex(r){return r}isDropDown(r){return!!r?.heading}getDropdownItems(r){return r}ngOnInit(){if(!this.editor)throw new fe("Required editor instance to initialize menu component");this.menuService.editor=this.editor}}return s.\u0275fac=function(r){return new(r||s)(d.Y36(Si))},s.\u0275cmp=d.Xpm({type:s,selectors:[["ngx-editor-menu"]],inputs:{toolbar:"toolbar",colorPresets:"colorPresets",disabled:"disabled",editor:"editor",customMenuRef:"customMenuRef",dropdownPlacement:"dropdownPlacement"},features:[d._Bn([Si])],decls:3,vars:7,consts:[[1,"NgxEditor__MenuBar",3,"ngClass"],[4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],[3,"toolbarItem","class",4,"ngIf"],[3,"class",4,"ngIf"],["type","text_color",3,"class","presets",4,"ngIf"],["type","background_color",3,"class","presets",4,"ngIf"],[3,"toolbarItem"],[3,"class","group","items",4,"ngFor","ngForOf","ngForTrackBy"],[3,"group","items"],["type","text_color",3,"presets"],["type","background_color",3,"presets"],[3,"ngTemplateOutlet"]],template:function(r,i){1&r&&(d.TgZ(0,"div",0),d.YNc(1,jh,2,2,"ng-container",1),d.YNc(2,zh,2,1,"ng-container",2),d.qZA()),2&r&&(d.Q6J("ngClass",d.WLB(4,$h,i.disabled,"top"===i.dropdownPlacement)),d.xp6(1),d.Q6J("ngForOf",i.toolbar)("ngForTrackBy",i.trackByIndex),d.xp6(1),d.Q6J("ngIf",i.customMenuRef))},dependencies:[xn.mk,xn.sg,xn.O5,xn.tP,gm,ac,lc,Kd,fp,hp,xn.Nd]}),s})(),uc=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=d.oAB({type:s}),s.\u0275inj=d.cJS({providers:[xi],imports:[xn.ez,$.UX]}),s})();const Vl=new d.OlP("NgxEditorConfig"),cc={locals:ec,icons:oa};let dc=(()=>{class s{static forRoot(r=cc){return{ngModule:s,providers:[{provide:Vl,useValue:r},{provide:_s,useFactory:Ll,deps:[Vl]}]}}static forChild(r=cc){return{ngModule:s,providers:[{provide:Vl,useValue:r},{provide:_s,useFactory:Ll,deps:[Vl]},$i]}}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=d.oAB({type:s}),s.\u0275inj=d.cJS({imports:[xn.ez,uc]}),s})();const Do=(s,t=!1)=>(r,i)=>{const l=new zi(s);return t?l.toggle()(r,i):l.apply()(r,i)};class Dm{constructor(t){if(this.applyTrx=r=>{this.state=this.state.apply(r??this.tr),this.tr=this.state.tr,this.tr.setMeta("APPLIED_TRX",!0)},this.dispatch=r=>{this.applyTrx(r)},!t)throw new fe("Required view to initialize commands.");this.view=t,this.state=t.state,this.tr=this.view.state.tr}exec(){if(!this.tr.getMeta("APPLIED_TRX"))return!1;const t=!this.view.state.doc.eq(this.state.doc);this.view.updateState(this.state);const r=this.tr.setMeta("FORCE_EMIT",t);return this.view.dispatch(r),!0}focus(t="end"){const r="start"===t?Ht.atStart(this.state.doc):Ht.atEnd(this.state.doc);return this.tr.setSelection(r),this.applyTrx(),this.view.focus(),this}scrollIntoView(){return this.tr.scrollIntoView(),this.applyTrx(),this}insertText(t){return this.tr.insertText(t),this.applyTrx(),this}insertNewLine(){return ps(uh,dh,fh,$s)(this.state,this.dispatch),this}applyMark(t){return Do(t,!1)(this.state,this.dispatch),this}toggleMark(t){return Do(t,!0)(this.state,this.dispatch),this}bold(){return Do("strong")(this.state,this.dispatch),this}toggleBold(){return Do("strong",!0)(this.state,this.dispatch),this}italics(){return Do("em")(this.state,this.dispatch),this}toggleItalics(){return Do("em",!0)(this.state,this.dispatch),this}underline(){return Do("u")(this.state,this.dispatch),this}toggleUnderline(){return Do("u",!0)(this.state,this.dispatch),this}strike(){return Do("s")(this.state,this.dispatch),this}toggleStrike(){return Do("s",!0)(this.state,this.dispatch),this}code(){return Do("code")(this.state,this.dispatch),this}toggleCode(){return Do("code",!0)(this.state,this.dispatch),this}toggleOrderedList(){return new La(!1).toggle()(this.state,this.dispatch),this}toggleBulletList(){return new La(!0).toggle()(this.state,this.dispatch),this}toggleHeading(t){return new ms(t).toggle()(this.state,this.dispatch),this}insertLink(t,r){return(new Ku).insert(t,r)(this.state,this.dispatch),this}updateLink(t){return(new Ku).update(t)(this.state,this.dispatch),this}insertImage(t,r={}){return(new kd).insert(t,r)(this.state,this.dispatch),this}textColor(t){return new ta("text_color").apply({color:t})(this.state,this.dispatch),this}backgroundColor(t){return new ta("text_background_color").apply({backgroundColor:t})(this.state,this.dispatch),this}removeTextColor(){return new ta("text_color").remove()(this.state,this.dispatch),this}removeBackgroundColor(){return new ta("text_background_color").remove()(this.state,this.dispatch),this}align(t){return new ys(t).toggle()(this.state,this.dispatch),this}insertHTML(t){const{selection:r,schema:i,tr:l}=this.state,{from:c,to:h}=r,g=document.createElement("div");g.innerHTML=Yh(t)?t.trim():t;const _=kt.fromSchema(i).parseSlice(g),I=l.replaceRange(c,h,_);return this.applyTrx(I),this}}const mp=typeof navigator<"u"&&/Mac/.test(navigator.platform),Dp=s=>{const t=Ch.concat(ud,ld);return t.push((s=>pd(/(?:^|\s)(?:(?:\*\*|__)(?:(?:[^*_]+))(?:\*\*|__))$/,s))(s.marks.strong)),t.push((s=>pd(/(?:^|\s)(?:(?:\*|_)(?:(?:[^*_]+))(?:\*|_))$/,s))(s.marks.em)),t.push((s=>El(/^\s*>\s$/,s))(s.nodes.blockquote)),t.push((s=>El(/^(?:\d+)\.\s$/,s,t=>({order:Number(t[1])}),(t,r)=>r.childCount+r.attrs.order===Number(t[1])))(s.nodes.ordered_list)),t.push((s=>El(/^\s*(?:[-+*])\s$/,s))(s.nodes.bullet_list)),t.push((s=>fd(/^```$/,s))(s.nodes.code_block)),t.push(((s,t)=>fd(new RegExp("^(#{1,6})\\s$"),s,r=>({level:r[1].length})))(s.nodes.heading)),function Ou({rules:s}){let t=new Vn({state:{init:()=>null,apply(r,i){return r.getMeta(this)||(r.selectionSet||r.docChanged?null:i)}},props:{handleTextInput:(r,i,l,c)=>Sr(r,i,l,c,s,t),handleDOMEvents:{compositionend:r=>{setTimeout(()=>{let{$cursor:i}=r.state.selection;i&&Sr(r,i.pos,i.pos,"",s,t)})}}},isInputRules:!0});return t}({rules:t})},Xd=(s,t)=>{const r=[];return t.keyboardShortcuts&&r.push(...((s,t)=>{const r={};r["Mod-z"]=qs,mp?r["Shift-Mod-z"]=Uu:r["Mod-y"]=Uu;const i=[Na({"Mod-b":Gs(s.marks.strong),"Mod-i":Gs(s.marks.em),"Mod-u":Gs(s.marks.u),"Mod-`":Gs(s.marks.code)}),Na({Enter:Gg(s.nodes.list_item),"Shift-Enter":ps(ch,(l,c)=>{const{tr:h}=l;return c(h.replaceSelectionWith(s.nodes.hard_break.create()).scrollIntoView()),!0}),"Mod-[":Du(s.nodes.list_item),"Mod-]":Kc(s.nodes.list_item),Tab:Kc(s.nodes.list_item)}),Na(vh)];return t.history&&i.push(Na(r)),i})(s,{history:t.history})),t.history&&r.push(function Hu(s={}){return new Vn({key:_o,state:{init:()=>new Jo(jo.empty,jo.empty,null,0,-1),apply:(t,r,i)=>function Dd(s,t,r,i){let c,l=r.getMeta(_o);if(l)return l.historyState;r.getMeta(Bu)&&(s=new Jo(s.done,s.undone,null,0,-1));let h=r.getMeta("appendedTransaction");if(0==r.steps.length)return s;if(h&&h.getMeta(_o))return h.getMeta(_o).redo?new Jo(s.done.addTransform(r,void 0,i,Ra(t)),s.undone,Lu(r.mapping.maps[r.steps.length-1]),s.prevTime,s.prevComposition):new Jo(s.done,s.undone.addTransform(r,void 0,i,Ra(t)),null,s.prevTime,s.prevComposition);if(!1===r.getMeta("addToHistory")||h&&!1===h.getMeta("addToHistory"))return(c=r.getMeta("rebased"))?new Jo(s.done.rebased(r,c),s.undone.rebased(r,c),Pa(s.prevRanges,r.mapping),s.prevTime,s.prevComposition):new Jo(s.done.addMaps(r.mapping.maps),s.undone.addMaps(r.mapping.maps),Pa(s.prevRanges,r.mapping),s.prevTime,s.prevComposition);{let g=r.getMeta("composition"),_=0==s.prevTime||!h&&s.prevComposition!=g&&(s.prevTime<(r.time||0)-i.newGroupDelay||!function Cd(s,t){if(!t)return!1;if(!s.docChanged)return!0;let r=!1;return s.mapping.maps[0].forEach((i,l)=>{for(let c=0;c<t.length;c+=2)i<=t[c+1]&&l>=t[c]&&(r=!0)}),r}(r,s.prevRanges)),I=h?Pa(s.prevRanges,r.mapping):Lu(r.mapping.maps[r.steps.length-1]);return new Jo(s.done.addTransform(r,_?t.selection.getBookmark():void 0,i,Ra(t)),jo.empty,I,r.time,g??s.prevComposition)}}(r,i,t,s)},config:s={depth:s.depth||100,newGroupDelay:s.newGroupDelay||500},props:{handleDOMEvents:{beforeinput(t,r){let i=r.inputType,l="historyUndo"==i?qs:"historyRedo"==i?Uu:null;return!!l&&(r.preventDefault(),l(t.state,t.dispatch))}}}})}()),t.inputRules&&r.push(Dp(s)),r},ef={linkOnPaste:!0,resizeImage:!0},Ul={content:null,history:!0,keyboardShortcuts:!0,inputRules:!0,schema:wu,plugins:[],nodeViews:{},attributes:{},features:ef,handleScrollToSelection:null,linkValidationPattern:"(https?://)?([\\da-z.-]+)\\.([a-z.]{2,6})[/\\w .-]*/??([^#\n\r]*)?#?([^\n\r]*)|(mailto:.*[@].*)"};class za{constructor(t=Ul){this.valueChangesSubject=new re.x,this.updateSubject=new re.x,this.options={...Ul,...t},this.createEditor()}get valueChanges(){return this.valueChangesSubject.asObservable()}get update(){return this.updateSubject.asObservable()}get schema(){return this.options.schema||wu}get linkValidationPattern(){return this.options.linkValidationPattern}get commands(){return new Dm(this.view)}get features(){return{...ef,...this.options.features}}handleTransactions(t){const r=this.view.state.apply(t);if(this.view.updateState(r),this.updateSubject.next(this.view),!t.docChanged&&!t.getMeta("FORCE_EMIT"))return;const i=r.doc.toJSON();this.valueChangesSubject.next(i)}createEditor(){const{options:t,schema:r}=this,{content:i=null,nodeViews:l}=t,{history:c=!0,keyboardShortcuts:h=!0,inputRules:g=!0}=t,_=ea(i,r),I=t.plugins??[],P=t.attributes??{},U=Xd(r,{history:c,keyboardShortcuts:h,inputRules:g});this.view=new xa(null,{state:Oo.create({doc:_,schema:r,plugins:[...U,...I]}),nodeViews:l,dispatchTransaction:this.handleTransactions.bind(this),attributes:P,handleScrollToSelection:t.handleScrollToSelection})}setContent(t){if(typeof(s=t)>"u"||null===s)return;var s;const{state:r}=this.view,{tr:i,doc:l}=r,c=ea(t,this.schema);i.replaceWith(0,r.doc.content.size,c),!l.eq(i.doc)&&i.docChanged&&this.view.dispatch(i)}registerPlugin(t){const{state:r}=this.view,i=[...r.plugins,t],l=r.reconfigure({plugins:i});this.view.updateState(l)}destroy(){this.view.destroy()}}},1180:(rt,ye,A)=>{function d(R){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(le){return typeof le}:function(le){return le&&"function"==typeof Symbol&&le.constructor===Symbol&&le!==Symbol.prototype?"symbol":typeof le})(R)}function K(R,le,X){return(le=function re(R){var le=function $(R,le){if("object"!==d(R)||null===R)return R;var X=R[Symbol.toPrimitive];if(void 0!==X){var he=X.call(R,le||"default");if("object"!==d(he))return he;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===le?String:Number)(R)}(R,"string");return"symbol"===d(le)?le:String(le)}(le))in R?Object.defineProperty(R,le,{value:X,enumerable:!0,configurable:!0,writable:!0}):R[le]=X,R}A.d(ye,{Z:()=>K})},7582:(rt,ye,A)=>{function ue(Ce,we,J,oe){return new(J||(J=Promise))(function(z,_e){function xe(At){try{ft(oe.next(At))}catch(pt){_e(pt)}}function ot(At){try{ft(oe.throw(At))}catch(pt){_e(pt)}}function ft(At){At.done?z(At.value):function H(z){return z instanceof J?z:new J(function(_e){_e(z)})}(At.value).then(xe,ot)}ft((oe=oe.apply(Ce,we||[])).next())})}function ge(Ce){return this instanceof ge?(this.v=Ce,this):new ge(Ce)}function ie(Ce,we,J){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var H,oe=J.apply(Ce,we||[]),z=[];return H={},_e("next"),_e("throw"),_e("return"),H[Symbol.asyncIterator]=function(){return this},H;function _e(bt){oe[bt]&&(H[bt]=function(Me){return new Promise(function(at,$e){z.push([bt,Me,at,$e])>1||xe(bt,Me)})})}function xe(bt,Me){try{!function ot(bt){bt.value instanceof ge?Promise.resolve(bt.value.v).then(ft,At):pt(z[0][2],bt)}(oe[bt](Me))}catch(at){pt(z[0][3],at)}}function ft(bt){xe("next",bt)}function At(bt){xe("throw",bt)}function pt(bt,Me){bt(Me),z.shift(),z.length&&xe(z[0][0],z[0][1])}}function We(Ce){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var J,we=Ce[Symbol.asyncIterator];return we?we.call(Ce):(Ce=function ee(Ce){var we="function"==typeof Symbol&&Symbol.iterator,J=we&&Ce[we],oe=0;if(J)return J.call(Ce);if(Ce&&"number"==typeof Ce.length)return{next:function(){return Ce&&oe>=Ce.length&&(Ce=void 0),{value:Ce&&Ce[oe++],done:!Ce}}};throw new TypeError(we?"Object is not iterable.":"Symbol.iterator is not defined.")}(Ce),J={},oe("next"),oe("throw"),oe("return"),J[Symbol.asyncIterator]=function(){return this},J);function oe(z){J[z]=Ce[z]&&function(_e){return new Promise(function(xe,ot){!function H(z,_e,xe,ot){Promise.resolve(ot).then(function(ft){z({value:ft,done:xe})},_e)}(xe,ot,(_e=Ce[z](_e)).done,_e.value)})}}}A.d(ye,{FC:()=>ie,KL:()=>We,mG:()=>ue,qq:()=>ge}),"function"==typeof SuppressedError&&SuppressedError}},rt=>{rt(rt.s=7088)}]);