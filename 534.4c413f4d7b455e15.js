"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[534],{8534:(E,m,i)=>{i.r(m),i.d(m,{SetModule:()=>L});var p=i(6814),_=i(6208),a=i(3065),e=i(4946),d=i(8394),u=i(2864),g=i(8495);const h=function(t){return["/reviews",t,"create"]};function x(t,r){if(1&t&&(e.TgZ(0,"button",8),e._uU(1," Add Review "),e.qZA()),2&t){const n=e.oxw();e.Q6J("routerLink",e.VKq(1,h,null==n.legoSet?null:n.legoSet._id))}}const C=function(t){return["/reviews",t]};function v(t,r){if(1&t&&(e.TgZ(0,"button",8),e._uU(1," View Review "),e.qZA()),2&t){const n=e.oxw();e.Q6J("routerLink",e.VKq(1,C,null==n.legoSet?null:n.legoSet._id))}}const S=function(t){return{"review-div":t}};let b=(()=>{class t{constructor(n){this.setService=n,this.legoSet=void 0,this.setRemoved=new e.vpe}deleteSet(n){this.setService.deleteSet(n).subscribe({complete:()=>{this.setRemoved.emit(n)}})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(g.z))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-set"]],inputs:{legoSet:"legoSet"},outputs:{setRemoved:"setRemoved"},decls:15,vars:10,consts:[[1,"card"],[3,"src","alt"],[1,"card-content"],[1,"card-title",3,"ngClass"],[1,"card-details"],[1,"card-actions"],["class","card-button",3,"routerLink",4,"ngIf"],[1,"card-button-danger",3,"click"],[1,"card-button",3,"routerLink"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0),e._UZ(1,"img",1),e.TgZ(2,"div",2)(3,"div",3),e._uU(4),e.qZA(),e.TgZ(5,"div",4)(6,"span"),e._uU(7),e.qZA(),e.TgZ(8,"span"),e._uU(9),e.qZA()(),e.TgZ(10,"div",5),e.YNc(11,x,2,3,"button",6),e.YNc(12,v,2,3,"button",6),e.TgZ(13,"button",7),e.NdJ("click",function(){return o.deleteSet(o.legoSet._id)}),e._uU(14," Remove Set "),e.qZA()()()()),2&n&&(e.xp6(1),e.s9C("src",null==o.legoSet?null:o.legoSet.image,e.LSH),e.MGl("alt","set ",null==o.legoSet?null:o.legoSet.setNum,""),e.xp6(2),e.Q6J("ngClass",e.VKq(8,S,null==o.legoSet?null:o.legoSet.review)),e.xp6(1),e.hij(" ",null==o.legoSet?null:o.legoSet.name," "),e.xp6(3),e.hij("Year: ",null==o.legoSet?null:o.legoSet.year,""),e.xp6(2),e.hij("Parts: ",null==o.legoSet?null:o.legoSet.parts,""),e.xp6(2),e.Q6J("ngIf",!(null!=o.legoSet&&o.legoSet.review)),e.xp6(1),e.Q6J("ngIf",null==o.legoSet?null:o.legoSet.review))},dependencies:[p.mk,p.O5,a.rH],styles:[".card[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;box-shadow:0 2px 4px #0000001a;display:flex;flex-direction:column;overflow:hidden;max-width:300px;height:320px}.card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:auto;height:200px;object-fit:contain}.card-content[_ngcontent-%COMP%]{padding:10px;display:flex;flex-direction:column}.card-title[_ngcontent-%COMP%]{font-weight:700;align-self:center;margin-bottom:5px}.card-details[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:14px;color:#888;margin-top:10px}.card-button[_ngcontent-%COMP%], .card-button-warning[_ngcontent-%COMP%], .card-button-danger[_ngcontent-%COMP%]{color:#fff;border:none;border-radius:5px;padding:8px 16px;font-size:14px;margin-top:10px;cursor:pointer}.card-button[_ngcontent-%COMP%]:focus, .card-button-danger[_ngcontent-%COMP%]:focus, .card-button-warning[_ngcontent-%COMP%]:focus{outline:none}.card-button[_ngcontent-%COMP%]{background-color:#4caf50}.card-button[_ngcontent-%COMP%]:hover{background-color:#45a049}.card-button-warning[_ngcontent-%COMP%]{background-color:orange}.card-button-warning[_ngcontent-%COMP%]:hover{background-color:#d88d02}.card-button-danger[_ngcontent-%COMP%]{background-color:#bd1405}.card-button-danger[_ngcontent-%COMP%]:hover{background-color:#9e2203}.card-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.review-div[_ngcontent-%COMP%]{color:#d18904}@media (max-width: 600px){.card[_ngcontent-%COMP%]{max-width:100%;height:auto}}"]}),t})();function M(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"app-popup",2),e.NdJ("closed",function(){e.CHM(n);const s=e.oxw();return e.KtG(s.popup.hide())}),e.TgZ(1,"p"),e._uU(2,"You have no sets in your collection!"),e.qZA()()}}function O(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"app-set",4),e.NdJ("setRemoved",function(s){e.CHM(n);const l=e.oxw(2);return e.KtG(l.deleteSet(s))}),e.qZA()}2&t&&e.Q6J("legoSet",r.$implicit)}function w(t,r){if(1&t&&(e.TgZ(0,"ul"),e.YNc(1,O,1,1,"app-set",3),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("ngForOf",n.sets)}}let P=(()=>{class t{constructor(n,o){this.route=n,this.popup=o,this.sets=[]}ngOnInit(){this.route.data.subscribe(({sets:n})=>{this.sets=n,console.log(this.sets),this.sets.length<=0&&this.popup.show()})}deleteSet(n){const o=this.sets.findIndex(s=>s._id===n);-1!==o&&this.sets.splice(o,1)}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(a.gz),e.Y36(d.q))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-my-sets"]],decls:2,vars:2,consts:[["title","Nothing found here!",3,"closed",4,"ngIf"],[4,"ngIf"],["title","Nothing found here!",3,"closed"],[3,"legoSet","setRemoved",4,"ngFor","ngForOf"],[3,"legoSet","setRemoved"]],template:function(n,o){1&n&&(e.YNc(0,M,3,0,"app-popup",0),e.YNc(1,w,2,1,"ul",1)),2&n&&(e.Q6J("ngIf",o.popup.isActive),e.xp6(1),e.Q6J("ngIf",!o.popup.isActive))},dependencies:[p.sg,p.O5,u.R,b],styles:["ul[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,270px);gap:20px;justify-content:center;align-items:center;padding:0}@media screen and (min-device-width: 668px) and (max-device-width: 1124px){ul[_ngcontent-%COMP%]{grid-template-columns:repeat(2,300px)}}@media screen and (max-device-width: 480px) and (orientation: portrait){ul[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media screen and (max-device-width: 640px) and (orientation: landscape){ul[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media screen and (max-device-width: 640px){ul[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]}),t})();var f=i(4202),Z=i(3076),c=i(95),T=i(9246);function A(t,r){if(1&t&&(e.TgZ(0,"p"),e._uU(1),e.qZA()),2&t){const n=r.$implicit;e.xp6(1),e.Oqu(n)}}function U(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"app-popup",6),e.NdJ("closed",function(){e.CHM(n);const s=e.oxw();return e.KtG(s.popup.hide())}),e.YNc(1,A,2,1,"p",7),e.qZA()}if(2&t){const n=e.oxw();e.xp6(1),e.Q6J("ngForOf",n.errors)}}function F(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"app-popup",5),e.NdJ("closed",function(){e.CHM(n);const s=e.oxw();return e.KtG(s.popup.hide())}),e.TgZ(1,"p"),e._uU(2,"This user has no sets in his collection!"),e.qZA()()}}function I(t,r){if(1&t&&e._UZ(0,"img",6),2&t){const n=e.oxw();e.Q6J("src",null==n.user?null:n.user.image,e.LSH)}}const N=function(t){return["/reviews",t]};function Y(t,r){if(1&t&&(e.TgZ(0,"button",14),e._uU(1," View Review "),e.qZA()),2&t){const n=e.oxw().$implicit;e.Q6J("routerLink",e.VKq(1,N,n._id))}}const q=function(t){return{"review-div":t}};function k(t,r){if(1&t&&(e.TgZ(0,"div",8),e._UZ(1,"img",9),e.TgZ(2,"div",10)(3,"div",11),e._uU(4),e.qZA(),e.TgZ(5,"div",12)(6,"span"),e._uU(7),e.qZA(),e.TgZ(8,"span"),e._uU(9),e.qZA()(),e.YNc(10,Y,2,3,"button",13),e.qZA()()),2&t){const n=r.$implicit;e.xp6(1),e.s9C("src",n.image,e.LSH),e.MGl("alt","set ",n.setNum,""),e.xp6(2),e.Q6J("ngClass",e.VKq(7,q,n.review)),e.xp6(1),e.hij(" ",n.name," "),e.xp6(3),e.hij("Year: ",n.year,""),e.xp6(2),e.hij("Parts: ",n.parts,""),e.xp6(1),e.Q6J("ngIf",n.review)}}function j(t,r){if(1&t&&(e.TgZ(0,"ul"),e.YNc(1,k,11,9,"div",7),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("ngForOf",n.sets)}}const z=[{path:"my-sets",component:P,canActivate:[f._],resolve:{sets:t=>(0,e.f3M)(Z.K).user?.sets},title:"My Sets"},{path:"add-set",component:(()=>{class t{constructor(n,o,s,l){this.route=n,this.fb=o,this.popup=s,this.set=l,this.setForm=this.fb.group({setId:["",[c.kI.required]]}),this.errors=[]}onSubmit(n){if(n.disabled=!0,this.setForm.invalid)return this.errors=[],(0,T.j)(this.setForm).forEach(s=>{this.errors.push(`${s.control} ${s.message}`)}),this.popup.show(),void(n.disabled=!1);this.set.addSet(this.setForm.value.setId).subscribe({next:()=>{this.route.navigate(["sets/my-sets"])},error:o=>{this.errors=[],this.errors.push(o.error.message),this.popup.show(),n.disabled=!1}})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(a.F0),e.Y36(c.qu),e.Y36(d.q),e.Y36(g.z))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-add-set"]],decls:11,vars:2,consts:[["title","Error!",3,"closed",4,"ngIf"],[1,"set-form",3,"formGroup","ngSubmit"],[1,"form-group"],["for","setId"],["type","setId","id","setId","name","setId","placeholder","Enter set number","formControlName","setId"],["button",""],["title","Error!",3,"closed"],[4,"ngFor","ngForOf"]],template:function(n,o){if(1&n){const s=e.EpF();e.YNc(0,U,2,1,"app-popup",0),e.TgZ(1,"form",1),e.NdJ("ngSubmit",function(){e.CHM(s);const H=e.MAs(9);return e.KtG(o.onSubmit(H))}),e.TgZ(2,"h2"),e._uU(3,"Add Set to Collection"),e.qZA(),e.TgZ(4,"div",2)(5,"label",3),e._uU(6,"Set Number"),e.qZA(),e._UZ(7,"input",4),e.qZA(),e.TgZ(8,"button",null,5),e._uU(10,"Add Set"),e.qZA()()}2&n&&(e.Q6J("ngIf",o.popup.isActive),e.xp6(1),e.Q6J("formGroup",o.setForm))},dependencies:[p.sg,p.O5,u.R,c._Y,c.Fj,c.JJ,c.JL,c.sg,c.u],styles:["[_nghost-%COMP%]{margin:2rem}.set-form[_ngcontent-%COMP%]{max-width:400px;margin:0 auto;padding:20px;background-color:#f7f7f7;border:1px solid #ccc;border-radius:4px}.set-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}label[_ngcontent-%COMP%]{display:block;font-weight:700;margin-bottom:12px}input[_ngcontent-%COMP%]{width:95%;padding:10px;border:1px solid #ccc;border-radius:4px}button[_ngcontent-%COMP%]{display:block;width:100%;padding:10px;margin-top:20px;background-color:green;color:#fff;border:none;border-radius:4px;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:#015605}"]}),t})(),canActivate:[f._],title:"Add Sets"},{path:":username",component:(()=>{class t{constructor(n,o){this.route=n,this.popup=o,this.user=void 0,this.sets=[]}ngOnInit(){this.route.data.subscribe(({data:n})=>{this.sets=n.sets,this.user=n.user,this.sets.length<=0&&this.popup.show()})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(a.gz),e.Y36(d.q))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-user-sets"]],decls:9,vars:5,consts:[["title","Nothing found here!",3,"closed",4,"ngIf"],[1,"container"],[1,"profile"],["alt","Profile Picture",3,"src",4,"ngIf"],[4,"ngIf"],["title","Nothing found here!",3,"closed"],["alt","Profile Picture",3,"src"],["class","card",4,"ngFor","ngForOf"],[1,"card"],[3,"src","alt"],[1,"card-content"],[1,"card-title",3,"ngClass"],[1,"card-details"],["class","card-button",3,"routerLink",4,"ngIf"],[1,"card-button",3,"routerLink"]],template:function(n,o){1&n&&(e.YNc(0,F,3,0,"app-popup",0),e.TgZ(1,"div",1)(2,"div",2),e.YNc(3,I,1,1,"img",3),e.TgZ(4,"h2"),e._uU(5),e.qZA()(),e.TgZ(6,"h3"),e._uU(7),e.qZA()(),e.YNc(8,j,2,1,"ul",4)),2&n&&(e.Q6J("ngIf",o.popup.isActive),e.xp6(3),e.Q6J("ngIf",null==o.user?null:o.user.image),e.xp6(2),e.Oqu(null==o.user?null:o.user.username),e.xp6(2),e.hij("User has: ",o.sets.length," sets"),e.xp6(1),e.Q6J("ngIf",!o.popup.isActive))},dependencies:[p.mk,p.sg,p.O5,a.rH,u.R],styles:["ul[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,270px);gap:20px;justify-content:center;align-items:center;padding:0}@media screen and (min-device-width: 668px) and (max-device-width: 1124px){ul[_ngcontent-%COMP%]{grid-template-columns:repeat(2,300px)}}@media screen and (max-device-width: 480px) and (orientation: portrait){ul[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media screen and (max-device-width: 640px) and (orientation: landscape){ul[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media screen and (max-device-width: 640px){ul[_ngcontent-%COMP%]{grid-template-columns:1fr}}.card[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;box-shadow:0 2px 4px #0000001a;display:flex;flex-direction:column;overflow:hidden;max-width:300px;height:320px}.card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:auto;height:200px;object-fit:contain}.card-content[_ngcontent-%COMP%]{padding:10px;display:flex;flex-direction:column}.card-title[_ngcontent-%COMP%]{font-weight:700;align-self:center;margin-bottom:5px}.card-details[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:14px;color:#888;margin-top:10px}.card-button[_ngcontent-%COMP%]{color:#fff;border:none;border-radius:5px;padding:8px 16px;font-size:14px;margin-top:10px;cursor:pointer}.card-button[_ngcontent-%COMP%]:focus{outline:none}.card-button[_ngcontent-%COMP%]{background-color:#4caf50}.card-button[_ngcontent-%COMP%]:hover{background-color:#45a049}.review-div[_ngcontent-%COMP%]{color:#d18904}.container[_ngcontent-%COMP%]{max-width:400px;margin:50px auto;background-color:green;padding:20px;border-radius:5px;color:#fff;display:flex;flex-direction:column;align-items:center;justify-content:center}.profile[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:20px;margin-bottom:20px}.profile[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:50%;margin-right:10px}.profile[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0}@media (max-width: 600px){.card[_ngcontent-%COMP%]{max-width:100%;height:auto}}"]}),t})(),resolve:{data:(t,r)=>(0,e.f3M)(g.z).getUserSets(t.params.username)},title:"User Sets"}];let K=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[a.Bz.forChild(z),a.Bz]}),t})(),L=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[p.ez,K,_.m,c.UX]}),t})()}}]);