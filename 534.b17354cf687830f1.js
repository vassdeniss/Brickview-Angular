"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[534],{8534:($,g,i)=>{i.r(g),i.d(g,{SetModule:()=>z});var a=i(6814),x=i(6208),l=i(649),e=i(5879),m=i(8394),f=i(2864),u=i(8495),p=i(3911);const h=function(t){return["/reviews",t,"create"]};function C(t,r){if(1&t&&(e.TgZ(0,"button",8),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t){const n=e.oxw();e.Q6J("routerLink",e.VKq(4,h,null==n.legoSet?null:n.legoSet._id)),e.xp6(1),e.hij(" ",e.lcZ(2,2,"set.set.button-add")," ")}}const v=function(t){return["/reviews",t]};function b(t,r){if(1&t&&(e.TgZ(0,"button",8),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t){const n=e.oxw();e.Q6J("routerLink",e.VKq(4,v,null==n.legoSet?null:n.legoSet._id)),e.xp6(1),e.hij(" ",e.lcZ(2,2,"general.review.view")," ")}}const S=function(t){return{"review-div":t}};let M=(()=>{class t{constructor(n,o){this.setService=n,this.translate=o,this.legoSet=void 0,this.setRemoved=new e.vpe}deleteSet(n){let s;this.translate.get("set.set.alert"+(this.legoSet?.review?"1":"2")).subscribe(d=>s=d),confirm(s)&&this.setService.deleteSet(n).subscribe({complete:()=>{this.setRemoved.emit(n)}})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(u.z),e.Y36(p.sK))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-set"]],inputs:{legoSet:"legoSet"},outputs:{setRemoved:"setRemoved"},decls:18,vars:19,consts:[[1,"card"],[3,"src","alt"],[1,"card-content"],[1,"card-title",3,"ngClass"],[1,"card-details"],[1,"card-actions"],["class","card-button",3,"routerLink",4,"ngIf"],[1,"card-button-danger",3,"click"],[1,"card-button",3,"routerLink"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0),e._UZ(1,"img",1),e.TgZ(2,"div",2)(3,"div",3),e._uU(4),e.qZA(),e.TgZ(5,"div",4)(6,"span"),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"span"),e._uU(10),e.ALo(11,"translate"),e.qZA()(),e.TgZ(12,"div",5),e.YNc(13,C,3,6,"button",6),e.YNc(14,b,3,6,"button",6),e.TgZ(15,"button",7),e.NdJ("click",function(){return o.deleteSet(o.legoSet._id)}),e._uU(16),e.ALo(17,"translate"),e.qZA()()()()),2&n&&(e.xp6(1),e.s9C("src",null==o.legoSet?null:o.legoSet.image,e.LSH),e.MGl("alt","set ",null==o.legoSet?null:o.legoSet.setNum,""),e.xp6(2),e.Q6J("ngClass",e.VKq(17,S,null==o.legoSet?null:o.legoSet.review)),e.xp6(1),e.hij(" ",null==o.legoSet?null:o.legoSet.name," "),e.xp6(3),e.AsE("",e.lcZ(8,11,"general.review.year"),": ",null==o.legoSet?null:o.legoSet.year,""),e.xp6(3),e.AsE("",e.lcZ(11,13,"general.review.parts"),": ",null==o.legoSet?null:o.legoSet.parts,""),e.xp6(3),e.Q6J("ngIf",!(null!=o.legoSet&&o.legoSet.review)),e.xp6(1),e.Q6J("ngIf",null==o.legoSet?null:o.legoSet.review),e.xp6(2),e.hij(" ",e.lcZ(17,15,"set.set.button-delete")," "))},dependencies:[a.mk,a.O5,l.rH,p.X$],styles:[".card[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;box-shadow:0 2px 4px #0000001a;display:flex;flex-direction:column;overflow:hidden;max-width:300px;height:320px}.card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:auto;height:200px;object-fit:contain}.card-content[_ngcontent-%COMP%]{padding:10px;display:flex;flex-direction:column}.card-title[_ngcontent-%COMP%]{font-weight:700;align-self:center;margin-bottom:5px}.card-details[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:14px;color:#888;margin-top:10px}.card-button[_ngcontent-%COMP%], .card-button-warning[_ngcontent-%COMP%], .card-button-danger[_ngcontent-%COMP%]{color:#fff;border:none;border-radius:5px;padding:8px 16px;font-size:14px;margin-top:10px;cursor:pointer}.card-button[_ngcontent-%COMP%]:focus, .card-button-danger[_ngcontent-%COMP%]:focus, .card-button-warning[_ngcontent-%COMP%]:focus{outline:none}.card-button[_ngcontent-%COMP%]{background-color:#4caf50}.card-button[_ngcontent-%COMP%]:hover{background-color:#45a049}.card-button-warning[_ngcontent-%COMP%]{background-color:orange}.card-button-warning[_ngcontent-%COMP%]:hover{background-color:#d88d02}.card-button-danger[_ngcontent-%COMP%]{background-color:#bd1405}.card-button-danger[_ngcontent-%COMP%]:hover{background-color:#9e2203}.card-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.review-div[_ngcontent-%COMP%]{color:#d18904}@media (max-width: 600px){.card[_ngcontent-%COMP%]{max-width:100%;height:auto}}"]}),t})();function O(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"app-popup",2),e.NdJ("closed",function(){e.CHM(n);const s=e.oxw();return e.KtG(s.popup.hide())}),e.ALo(1,"translate"),e.TgZ(2,"p"),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&t&&(e.s9C("title",e.lcZ(1,2,"set.my-sets.title")),e.xp6(3),e.Oqu(e.lcZ(4,4,"set.my-sets.paragraph")))}function w(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"app-set",4),e.NdJ("setRemoved",function(s){e.CHM(n);const d=e.oxw(2);return e.KtG(d.deleteSet(s))}),e.qZA()}2&t&&e.Q6J("legoSet",r.$implicit)}function Z(t,r){if(1&t&&(e.TgZ(0,"ul"),e.YNc(1,w,1,1,"app-set",3),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("ngForOf",n.sets)}}let P=(()=>{class t{constructor(n,o){this.route=n,this.popup=o,this.sets=[]}ngOnInit(){this.route.data.subscribe(({sets:n})=>{this.sets=n,this.sets.length<=0&&this.popup.show()})}deleteSet(n){const o=this.sets.findIndex(s=>s._id===n);-1!==o&&this.sets.splice(o,1)}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(l.gz),e.Y36(m.q))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-my-sets"]],decls:2,vars:2,consts:[[3,"title","closed",4,"ngIf"],[4,"ngIf"],[3,"title","closed"],[3,"legoSet","setRemoved",4,"ngFor","ngForOf"],[3,"legoSet","setRemoved"]],template:function(n,o){1&n&&(e.YNc(0,O,5,6,"app-popup",0),e.YNc(1,Z,2,1,"ul",1)),2&n&&(e.Q6J("ngIf",o.popup.isActive),e.xp6(1),e.Q6J("ngIf",!o.popup.isActive))},dependencies:[a.sg,a.O5,f.R,M,p.X$],styles:["ul[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,270px);gap:20px;justify-content:center;align-items:center;padding:0}@media screen and (min-device-width: 668px) and (max-device-width: 1124px) and (orientation: portrait){ul[_ngcontent-%COMP%]{grid-template-columns:repeat(2,300px)}}@media screen and (min-device-width: 668px) and (max-device-width: 1124px) and (orientation: landscape){ul[_ngcontent-%COMP%]{grid-template-columns:repeat(3,300px)}}@media screen and (max-device-width: 480px) and (orientation: portrait){ul[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media screen and (max-device-width: 640px) and (orientation: landscape){ul[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media screen and (max-device-width: 640px){ul[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]}),t})();var _=i(4202),y=i(3076),c=i(6223),T=i(9246);function U(t,r){if(1&t&&(e.TgZ(0,"p"),e._uU(1),e.qZA()),2&t){const n=r.$implicit;e.xp6(1),e.Oqu(n)}}function J(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"app-popup",6),e.NdJ("closed",function(){e.CHM(n);const s=e.oxw();return e.KtG(s.popup.hide())}),e.ALo(1,"translate"),e.YNc(2,U,2,1,"p",7),e.qZA()}if(2&t){const n=e.oxw();e.s9C("title",e.lcZ(1,2,"general.error")),e.xp6(2),e.Q6J("ngForOf",n.errors)}}function q(t,r){if(1&t&&e._UZ(0,"img",4),2&t){const n=e.oxw();e.Q6J("src",null==n.user?null:n.user.image,e.LSH)}}const F=function(t){return["/reviews",t]};function I(t,r){if(1&t&&(e.TgZ(0,"button",11),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t){const n=e.oxw().$implicit;e.Q6J("routerLink",e.VKq(4,F,n._id)),e.xp6(1),e.hij(" ",e.lcZ(2,2,"general.review.view")," ")}}const N=function(t){return{"review-div":t}};function k(t,r){if(1&t&&(e.TgZ(0,"div",5),e._UZ(1,"img",6),e.TgZ(2,"div",7)(3,"div",8),e._uU(4),e.qZA(),e.TgZ(5,"div",9)(6,"span"),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"span"),e._uU(10),e.ALo(11,"translate"),e.qZA()(),e.YNc(12,I,3,6,"button",10),e.qZA()()),2&t){const n=r.$implicit;e.xp6(1),e.s9C("src",n.image,e.LSH),e.MGl("alt","set ",n.setNum,""),e.xp6(2),e.Q6J("ngClass",e.VKq(13,N,n.review)),e.xp6(1),e.hij(" ",n.name," "),e.xp6(3),e.AsE("",e.lcZ(8,9,"general.review.year"),": ",n.year,""),e.xp6(3),e.AsE("",e.lcZ(11,11,"general.review.parts"),": ",n.parts,""),e.xp6(2),e.Q6J("ngIf",n.review)}}const Q=[{path:"my-sets",component:P,canActivate:[_._],resolve:{sets:t=>(0,e.f3M)(y.K).user?.sets},title:"My Sets"},{path:"add-set",component:(()=>{class t{constructor(n,o,s,d){this.route=n,this.fb=o,this.popup=s,this.set=d,this.setForm=this.fb.group({setId:["",[c.kI.required]]}),this.errors=[]}onSubmit(n){if(n.disabled=!0,this.setForm.invalid)return this.errors=[],(0,T.j)(this.setForm).forEach(s=>{this.errors.push(`${s.control} ${s.message}`)}),this.popup.show(),void(n.disabled=!1);this.set.addSet(this.setForm.value.setId).subscribe({next:()=>{this.route.navigate(["sets/my-sets"])},error:o=>{this.errors=[],this.errors.push(o.error.message),this.popup.show(),n.disabled=!1}})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(l.F0),e.Y36(c.qu),e.Y36(m.q),e.Y36(u.z))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-add-set"]],decls:15,vars:14,consts:[[3,"title","closed",4,"ngIf"],[1,"set-form",3,"formGroup","ngSubmit"],[1,"form-group"],["for","setId"],["type","setId","id","setId","name","setId","formControlName","setId",3,"placeholder"],["button",""],[3,"title","closed"],[4,"ngFor","ngForOf"]],template:function(n,o){if(1&n){const s=e.EpF();e.YNc(0,J,3,4,"app-popup",0),e.TgZ(1,"form",1),e.NdJ("ngSubmit",function(){e.CHM(s);const K=e.MAs(12);return e.KtG(o.onSubmit(K))}),e.TgZ(2,"h2"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"div",2)(6,"label",3),e._uU(7),e.ALo(8,"translate"),e.qZA(),e._UZ(9,"input",4),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"button",null,5),e._uU(13),e.ALo(14,"translate"),e.qZA()()}2&n&&(e.Q6J("ngIf",o.popup.isActive),e.xp6(1),e.Q6J("formGroup",o.setForm),e.xp6(2),e.Oqu(e.lcZ(4,6,"set.add-set.header")),e.xp6(4),e.Oqu(e.lcZ(8,8,"set.add-set.number")),e.xp6(2),e.s9C("placeholder",e.lcZ(10,10,"set.add-set.placeholder")),e.xp6(4),e.Oqu(e.lcZ(14,12,"set.add-set.button")))},dependencies:[a.sg,a.O5,f.R,c._Y,c.Fj,c.JJ,c.JL,c.sg,c.u,p.X$],styles:["[_nghost-%COMP%]{margin:2rem}.set-form[_ngcontent-%COMP%]{max-width:400px;margin:0 auto;padding:20px;background-color:#f7f7f7;border:1px solid #ccc;border-radius:4px}.set-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}label[_ngcontent-%COMP%]{display:block;font-weight:700;margin-bottom:12px}input[_ngcontent-%COMP%]{width:95%;padding:10px;border:1px solid #ccc;border-radius:4px}button[_ngcontent-%COMP%]{display:block;width:100%;padding:10px;margin-top:20px;background-color:green;color:#fff;border:none;border-radius:4px;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:#015605}"]}),t})(),canActivate:[_._],title:"Add Sets"},{path:":username",component:(()=>{class t{constructor(n){this.route=n,this.user=void 0,this.sets=[]}ngOnInit(){this.route.data.subscribe(({data:n})=>{this.sets=n.sets.sort((o,s)=>s.year-o.year!=0?s.year-o.year:Number(o.setNum)-Number(s.setNum)),this.user=n.user})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(l.gz))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-user-sets"]],decls:11,vars:10,consts:[[1,"container"],[1,"profile"],["alt","Profile Picture",3,"src",4,"ngIf"],["class","card",4,"ngFor","ngForOf"],["alt","Profile Picture",3,"src"],[1,"card"],[3,"src","alt"],[1,"card-content"],[1,"card-title",3,"ngClass"],[1,"card-details"],["class","card-button",3,"routerLink",4,"ngIf"],[1,"card-button",3,"routerLink"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,q,1,1,"img",2),e.TgZ(3,"h2"),e._uU(4),e.qZA()(),e.TgZ(5,"h3"),e._uU(6),e.ALo(7,"translate"),e.ALo(8,"translate"),e.qZA()(),e.TgZ(9,"ul"),e.YNc(10,k,13,15,"div",3),e.qZA()),2&n&&(e.xp6(2),e.Q6J("ngIf",null==o.user?null:o.user.image),e.xp6(2),e.Oqu(null==o.user?null:o.user.username),e.xp6(2),e.lnq(" ",e.lcZ(7,6,"set.user-sets.title"),": ",o.sets.length," ",e.lcZ(8,8,"set.user-sets.sets")," "),e.xp6(4),e.Q6J("ngForOf",o.sets))},dependencies:[a.mk,a.sg,a.O5,l.rH,p.X$],styles:["ul[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,270px);gap:20px;justify-content:center;align-items:center;padding:0}@media screen and (min-device-width: 668px) and (max-device-width: 1124px) and (orientation: portrait){ul[_ngcontent-%COMP%]{grid-template-columns:repeat(2,300px)}}@media screen and (min-device-width: 668px) and (max-device-width: 1124px) and (orientation: landscape){ul[_ngcontent-%COMP%]{grid-template-columns:repeat(3,300px)}}@media screen and (max-device-width: 480px) and (orientation: portrait){ul[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media screen and (max-device-width: 640px) and (orientation: landscape){ul[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media screen and (max-device-width: 640px){ul[_ngcontent-%COMP%]{grid-template-columns:1fr}}.card[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;box-shadow:0 2px 4px #0000001a;display:flex;flex-direction:column;overflow:hidden;max-width:300px;height:320px}.card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:auto;height:200px;object-fit:contain}.card-content[_ngcontent-%COMP%]{padding:10px;display:flex;flex-direction:column}.card-title[_ngcontent-%COMP%]{font-weight:700;align-self:center;margin-bottom:5px}.card-details[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:14px;color:#888;margin-top:10px}.card-button[_ngcontent-%COMP%]{color:#fff;border:none;border-radius:5px;padding:8px 16px;font-size:14px;margin-top:10px;cursor:pointer}.card-button[_ngcontent-%COMP%]:focus{outline:none}.card-button[_ngcontent-%COMP%]{background-color:#4caf50}.card-button[_ngcontent-%COMP%]:hover{background-color:#45a049}.review-div[_ngcontent-%COMP%]{color:#d18904}.container[_ngcontent-%COMP%]{max-width:400px;margin:50px auto;background-color:green;padding:20px;border-radius:5px;color:#fff;display:flex;flex-direction:column;align-items:center;justify-content:center}.profile[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:20px;margin-bottom:20px}.profile[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:50%;margin-right:10px}.profile[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0}@media (max-width: 600px){.card[_ngcontent-%COMP%]{max-width:100%;height:auto}}"]}),t})(),resolve:{data:(t,r)=>(0,e.f3M)(u.z).getUserSets(t.params.username)},title:"User Sets"}];let R=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[l.Bz.forChild(Q),l.Bz]}),t})(),z=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[a.ez,R,x.m,c.UX,p.aw,p.aw]}),t})()}}]);